
OGC 05-118 

 

Open Geospatial Consortium Inc.  
Date:   2005-10-24 

Reference number of this OGC® document:    OGC 05-118 

Version: 0.0.3 

Category: OpenGIS® Discussion Paper 

Editor:   Clemens Portele 

OGC Web Services (OWS) 3 UGAS Tool 

 

 

Copyright notice 

Copyright © 2006 Open Geospatial Consortium, Inc. All Rights Reserved. 
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

 

Warning 

This document is not an OGC Standard. It is distributed for review and comment. It 
is subject to change without notice and may not be referred to as an OGC Standard. 

Recipients of this document are invited to submit, with their comments, notification 
of any relevant patent rights of which they are aware and to provide supporting 
documentation. 

Document type:     OpenGIS® Discussion Paper 
Document subtype:    if applicable 
Document stage:    Draft 
Document language:  English 

 
 

http://www.opengeospatial.org/legal/


OGC 05-118 

ii 
 

Contents 

1 Scope........................................................................................................................1 

2 Conformance ..........................................................................................................1 

3 Normative references.............................................................................................1 

4 Terms and definitions ............................................................................................1 

5 Conventions ............................................................................................................1 
5.1 Symbols (and abbreviated terms).........................................................................1 

6 The ShapeChange tool...........................................................................................2 

7 Changes to support the OWS-3 requirements ....................................................2 
 



OGC 05-118 

 iii
 

i. Submitting organizations 

The following organizations submitted this document to the Open Geospatial Consortium 
Inc.:  

- interactive instruments GmbH 

ii. Document Contributor Contact Points 

All questions regarding this submission should be directed to the editor or the submitters: 

CONTACT COMPANY EMAIL 

Clemens Portele interactive 
instruments 
GmbH 

portele@interactive
-instruments.de 

Rafael Renkert interactive 
instruments 
GmbH 

renkert@interactiv
e-instruments.de 

iii. Revision history 

Date Release Author Paragraph modified Description 

2005-09-25 0.0.1 CP  Draft 

2005-10-24 0.0.2 CP  Final Draft 

2006-04-25 0.0.3 C. Reed Various Copyright, general edits. 

iv. Changes to the OpenGIS® Abstract Specification 

The OpenGIS® Abstract Specification does not require changes to accommodate the 
technical contents of this document.  



OGC 05-118 

iv 
 

Foreword 

Attention is drawn to the possibility that some of the elements of this part of OGC 05-118 
may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be 
held responsible for identifying any or all such patent rights. 

 



OGC 05-118 

 v
 

Introduction 

This document contains a description of the UGAS (UML Application Schema to GML 
ApplicationSchema conversion) tool development in the decision support services thread 
(GeoDSS) during the OWS-3 initiative. 

 

 





OGC Discussion Paper OGC 05-118

 

 1
 

Geo Decision Support Services (GeoDSS) — UGAS Tool 

1 Scope 

This OpenGIS® document describes the UGAS (UML Application Schema to GML 
ApplicationSchema conversion) Tool used in the GeoDSS thread of the OWS-3 initiative 
to derive GML Application Schemas from ISO 19109 Application Schemas in UML. 

The tool used in the process is the ShapeChange tool and this document specifies the tool 
as used in the initiative. 

2 Conformance 

Not required for an IP IPR, DIPR, or Discussion Paper. 

3 Normative references 

The following normative documents contain provisions that, through reference in this 
text, constitute provisions of this document. For dated references, subsequent 
amendments to, or revisions of, any of these publications do not apply. However, parties 
to agreements based on this document are encouraged to investigate the possibility of 
applying the most recent editions of the normative documents indicated below. For 
undated references, the latest edition of the normative document referred to applies. 

OWS-3 Schema Maintenance and Tailoring IPR  

4 Terms and definitions 

Not applicable 

5 Conventions 

5.1 Symbols (and abbreviated terms) 

ISO International Organization for Standardization 

OGC Open Geospatial Consortium 



OGC 05-118 

2 
 

GML Geography Markup Language 

UML Unified Modeling Language 

XML eXtended Markup Language 

NGA National Geospatial Intelligence Agency 

6 The ShapeChange tool 

The ShapeChange tool is described by two documents (attached to this document): 

- ShapeChange.pdf: ShapeChange installation, architecture and user guide 

- UGAS-Guidelines-and-Encoding-Rules.pdf: Rules for the use of UML and a 
description of the XML Schema encoding rules 

7 Changes to support the OWS-3 requirements 

The changes to address OWS-3 requirements include: 

- Support for schema metadata encoding 

- Rewrite of the web interface including a WRS client 

- Support for new NGA schema requirements (including DFDD) 

- Bugfixes 

At the same time, a number of additional, non OWS-3 related enhancements are part of 
the change from version 0.2 to 0.3 including experimental support for the UML tool 
Enterprise Architect. 



 

 

 

 

 

 

 

 

Mapping UML to GML Application Schemas  

ShapeChange - Architecture and Description 
 
 

Version: 0.3 

Date: 24.10.2005 

Status: Draft 

Filename: ShapeChange.doc 

Path: http://www.interactive-
instruments.de/ugas/ShapeChange.pdf 

Author: C. Portele 

interactive instruments GmbH 

 

 

 

 

 

 

 

 

 

 

 

 

 



 

 

 

Version Date Changes Editor 

0.1-a 11.01.2003 First Draft C. Portele 

0.1-b 08.05.2003 Document updated C. Portele 

0.1.1 04.07.2003 Configuration of servlet changed C. Portele 

0.1.2 04.10.2003 Bug fixes C. Portele 

0.2 28.10.2004 Document updated for new version C. Portele 

0.3 24.10.2005 Draft update, includes CS-W client C. Portele 

R. Renkert 

 

 

Table of Contents 

1 Basic Information about ShapeChange ..........................................................................4 
1.1 Scope ..................................................................................................................... 4 
1.2 Status ..................................................................................................................... 5 

2 Installatio n and Configuration ........................................................................................6 
2.1 Contents of the ShapeChange distribution ..................................................................... 6 
2.2 Configuration file ......................................................................................................... 7 

2.2.1 Overview ....................................................................................................... 7 
2.2.2 Stereotype aliases .......................................................................................... 7 
2.2.3 Namespace identifiers..................................................................................... 8 
2.2.4 Map entries.................................................................................................... 8 

2.3 Configuration of the web interface .............................................................................. 18 
2.4 Configuration of the repository and registry for the web interface................................. 20 
2.5 Required software ..................................................................................................... 21 

3 Running the UGAS Tool..................................................................................................22 
3.1 Command Line Interface ............................................................................................ 22 
3.2 Web Interface ........................................................................................................... 23 

3.2.1 Home page .................................................................................................. 24 
3.2.2 Search Schema Registry ............................................................................... 24 
3.2.3 Search results .............................................................................................. 27 
3.2.4 Enter URL .................................................................................................... 29 
3.2.5 Conversion result ......................................................................................... 30 

4 Diagnostic messages......................................................................................................32 
4.1 Fatal Errors ............................................................................................................... 32 
4.2 Errors ................................................................................................................... 32 
4.3 Warnings .................................................................................................................. 33 
4.4 Informational Messages ............................................................................................. 33 
4.5 Other Messages......................................................................................................... 33 

 

© 2002-2005, interactive instruments GmbH, Bonn, Germany 

 



 

The source code of ShapeChange is available under the GNU Public License (GPL). 

 

interactive instruments also provides commercial licenses for users who want to use ShapeChange in 
commercial products. For more information send email to ShapeChange@interactive-instruments.de. 

 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  4 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

1 Basic Information about ShapeChange 

1.1 Scope 

The following technical requirements are supported by ShapeChange, an UML to GML Application 
Schema tool (UGAS): 

- ShapeChange is a software capability that can generate a valid GML Application Schema when 
provided an UML model that follows a well-defined set of guidelines. These guidelines are 
described in a separate document, “Guidelines and Encoding Rules”. 

- ShapeChange accepts UML models as input in XMI 1.0 format. Details are given in the 
document “Guidelines and Encoding Rules”, too. 

- ShapeChange recognizes and generates diagnostic error messages for incorrectly constructed 
UML models and XMI files. See chapter 4. 

- ShapeChange generates valid GML 2.1.2, 3.0.1 or GML 3.1.1 application schemas, given 
correctly constructed input. Again, details of the mapping are part of the document “Guidelines 
and Encoding Rules”. 

- ShapeChange can be run from the command line or via a web interface. 

- ShaeChange can queries Web Registry Services for existing XMI documents provided that the 
schema metadata conforms to the ShapeChange requirements.   

- Shape Change is a partial encoding service in the sense of ISO 19118:2005 chapter 9 and 
implements the “generateXMLSchema” operation. 

 

 

ShapeChange
Configuration

(XML)

GML
Application

Schema
(XML Schema)

ShapeChange
(Java, Servlet)

UML
Application

Schema
(XMI)

ShapeChange
Configuration

(XML)

GML
Application

Schema
(XML Schema)

ShapeChange
(Java, Servlet)

UML
Application

Schema
(XMI)



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  5 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

1.2 Status 

The current version of the tool is 0.3.  

It is based on the following documents of ISO/TC 211 (http://www.isotc211.org/) and the Open 
Geospatial Consortium Inc (http://www.opengeospatial.org/): 

- GML 3.0, GML 3.1 (ISO/CD 19136), GML 3.2 (ISO/DIS 19136) 

- ISO 19118:2005 

- ISO/TS 19103:2005 

- ISO 19109:2005.  

Knowledge of these documents is required to understand this document. 

 
 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  6 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

2 Installation and Configuration 

2.1 Contents of the ShapeChange distribution 

The tool is distributed in a ZIP archive (filename “ShapeChange-v0.3.zip”) and contains the 
following files: 

 

ShapeChangeConfiguration.xml Configuration file for the maps of pre-
defined types, see section 2.2 

ShapeChangeConfiguration.xsd Schema description of the configuration 
file 

ShapeChangeSystemConfiguration.xml Configuration file for the repositories and 
registry services, see section 2.4 

ShapeChangeResult.xsd Schema description of the log file created 
during the execution of  

index.html Web page redirecting to the web 
interface 

run.bat Example batch file for a command line 
execution of ShapeChange 

documentation Directory for documentation related to 
ShapeChange  

----- UGAS-Guidelines-and-Encoding-Rules.pdf White paper on the guidelines and 
encoding rules supported by 
ShapeChange 

----- ShapeChange.pdf This document 

Images Directory for images used by 
ShapeChange web pages 

----- (gifs)  

HTML Directory for help web pages 

----- (htmls)  

Out Directory used by the web interface to 
store the XSDs and logfiles; for every 
execution a new directory is created 

----- index.html Auxiliary web page redirecting to the 
main page 

WEB-INF Directory containing the files required to 
run the servlet 

----- web.xml    Description of the servlet (web 
application) 

----- classes  

----- ----- ShapeChange.jar    JAR file of the ShapeChange classes 

----- ----- make.bat      Batch file that can be used to compile the 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  7 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

source code and update the JAR file 

----- ----- de  

----- ----- ----- interactive_instruments  

----- ----- ----- ----- ShapeChange  

----- ----- ----- ----- ----- (class files)  

----- ----- ----- ----- ----- Converter.java Core module of ShapeChange 

----- ----- ----- ----- ----- ConverterServlet.java Servlet / web interface  

----- ----- ----- ----- ----- COPYING.txt Text of the GNU Public License 

----- ----- ----- ----- ----- Main.java Command line interface 

----- ----- ----- ----- ----- MainClass.txt  

Xmi Directory that can be used for XMI input 
files 

----- UML13.dtd    DTD all XMI files (UML models) must 
validate against 

----- UML13X.dtd    Alterative DTD used by some UML tools 

XSLT Directory for XSL templates for XML-to-
HTML translation in ShapeChange 

----- (xsl stylesheets)  

 

2.2 Configuration file 

2.2.1 Overview 

The configuration file contains the following information: 

- Aliases for well-known stereotypes 

- Namespaces 

- Map entries for well-known classes to XML Schema elements and types 

2.2.2 Stereotype aliases 

A StereotypeAlias element specifies a stereotype that is an alias (XML attribute "alias") to a well-
known stereotype (XML attribute "wellknown"). 

Example: 
 
  <StereotypeAlias wellknown="FeatureType" alias ="Feature"/> 
 

The well-known stereotypes are: 

- (no stereotype) 

- Abstract 

- DataType 

- FeatureType 

- Enumeration 

- CodeList 

- Union 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  8 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

- BasicType 

- Interface 

- Type 

- Union 

- Application Schema 

- Leaf 

- import 

- disjoint 

2.2.3 Namespace identifiers 

A Namespace element specifies namespaces (XML Attribute "ns"), their abbreviations (XML 
Attribute "nsabr") , the corresponding GML version (XML Attribute "gmlVersion"), and the location 
of the corresponding XML Schema document (XML Attribute "location"). 

Examples: 
 
  <Namespace nsabr="xlink" ns ="http://www.w3.org/1999/xlink" gmlVersion="3.1" 
location="http://schemas.opengis.net/gml/3.1.1/xlink/xlinks.xsd"/> 
 
  <Namespace nsabr="gml" ns="http://www.opengis.net/gml " gmlVersion="3.1" 
location="http://schemas.opengis.net/gml/3.1.1/base/gml.xsd"/> 
 

2.2.4 Map entries 

The configuration file contains map entries for three maps: 

§ The type map maps types of UML attributes and UML association roles to types of the 
corresponding GML property elements. For simple types this is the (pre-defined) type itself, for 
complex types this is in general a property type following the association pattern as described 
in the GML model and syntax (GML 3.00, section 7.2). The <TypeMapEntry> element has the 
following attributes: 

o “type” specifies the UML class name of the type. 
o “gmlVersion” restricts the entry to a specific version of GML. “*” is a wildcard for all 

versions, otherwise “2.1.2”, “3.0” or “3.1” can be used. 

o “rule” can be either “direct” (in this case the type specified in “mapTo” is used directly) 
or “propertyType” (in which case an anonymous property type encapsulating or 
referencing the type specified in “mapTo”  is used). 

o “mapTo” specifies the type name of the XML Schema simple or complex type to be 
used in the property element. 

o  “ns” has to be set, if the type in “mapTo” is not in the XML Schema namespace. Use 
“gml” for GML types and “smXML”/“scXML” for ISO 19139 types. 

§ The element map maps UML types to global XML elements (usually GML objects). The 
<ElementMapEntry> element has the following attributes: 

o “type” specifies the UML class name of the type. 
o “gmlVersion” restricts the entry to a specific version of GML. “*” is a wildcard for all 

versions, otherwise “2.1.2”, “3.0” or “3.1” can be used. 

o “rule” must be “direct”. 
o “mapTo” specifies the element name of object. 
o  “ns” has to be set, if the element in “mapTo” is not in the XML Schema namespace. 

Use “gml” for GML elements and “smXML”/“scXML” for ISO 19139 elements. 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  9 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

§ The base map maps UML types to named XML complex types, this is used to map inheritance 
relationships from the UML to the GML application schema. The <BaseMapEntry> element has 
the following attributes: 

o “type” specifies the UML class name of the type. 
o “gmlVersion” restricts the entry to a specific version of GML. “*” is a wildcard for all 

versions, otherwise “2.1.2”, “3.0” or “3.1” can be used. 

o “rule” must be “direct”. 
o “mapTo” specifies the type name of complex type. 
o  “ns” has to be set, if the type in “mapTo” is not in the XML Schema namespace. Use 

“gml” for GML types and “smXML”/“scXML” for ISO 19139 types. 

 

The current configuration file is listed below1. This file can be customized to support additional pre-
defined conceptual UML classes, existing XML grammars and UML stereotypes. 

 
<?x ml version="1.0" encoding="UTF-8"?> 
<ShapeChangeConfiguration xmlnsabr="http://www.interactive-instruments.de/ShapeChange" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.interactive-
instruments.de/ShapeChange ShapeChangeConfiguration.xsd"> 
 <stereotypeAliases > 
  <StereotypeAlias wellknown="DataType" alias="Request"/> 
  <StereotypeAlias wellknown="DataType" alias="Response"/> 
  <StereotypeAlias wellknown="FeatureType" alias ="Feature"/> 
 </stereotypeAliases> 
 <namespaces > 
  <Namespace nsabr="sc" ns="http://www.interactive-instruments.de/ShapeChange" gmlVersion="*" 
location="http://www.interactive-instruments.de/ShapeChange/ShapeChangeAppinfo.xsd"/> 
  <Namespace nsabr="xlink" ns ="http://www.w3.org/1999/xlink" gmlVersion="2.1" 
location="http://schemas.opengis.net/gml/2.1.2/xlinks.xsd"/> 
  <Namespace nsabr="gml" ns="http://www.opengis.net/gml " gmlVersion="2.1" 
location="http://schemas.opengis.net/gml/2.1.2/feature.xsd"/> 
  <Namespace nsabr="xlink" ns ="http://www.w3.org/1999/xlink" gmlVersion="3.0" 
location="http://schemas.opengis.net/gml/3.0.1/xlink/xlinks.xsd"/> 
  <Namespace nsabr="gml" ns="http://www.opengis.net/gml " gmlVersion="3.0" 
location="http://schemas.opengis.net/gml/3.0.1/base/gml.xsd"/> 
  <Namespace nsabr="xlink" ns ="http://www.w3.org/1999/xlink" gmlVersion="3.1" 
location="http://schemas.opengis.net/gml/3.1.1/xlink/xlinks.xsd"/> 
  <Namespace nsabr="gml" ns="http://www.opengis.net/gml " gmlVersion="3.1" 
location="http://schemas.opengis.net/gml/3.1.1/base/gml.xsd"/> 
  <Namespace nsabr="scXML" ns ="http://www.isotc211.org/scXML" gmlVersion="3.1" 
location="http://www.isotc211.org/scXML/scXMLbase.xsd"/> 
  <Namespace nsabr="smXML" ns="http://www.isotc211.org/smXML" gmlVersion="3.1" 
location="http://www.isotc211.org/smXML/metadataEntity.xsd"/> 
 </namespaces > 
 <mapEntries > 
  <!-- ISO/TS 19103 --> 
  <BaseMapEntry type="Record" gmlVersion="*" rule="direct" mapTo="Record_Type" nsabr="scXML"/> 
  <BaseMapEntry type="RecordType" gmlVersion="*" rule="direct" mapTo="RecordType_Type" 
nsabr="scXML"/> 
  <ElementMapEntry type="Record" gmlVersion="*" rule="direct" mapTo ="Record" nsabr="scXML"/> 
  <ElementMapEntry type="RecordType" gmlVersion="*" rule="direct" mapTo="RecordType" 
nsabr="scXML"/> 
  <TypeMapEntry type="Angle" gmlVersion="3.0" rule="direct" mapTo="AngleType" nsabr="gml"/> 
  <TypeMapEntry type="Angle" gmlVersion="3.1" rule="direct" mapTo="AngleType" nsabr="gml"/> 
  <TypeMapEntry type="Area" gmlVersion="3.0" rule="direct" mapTo="AreaType" nsabr="gml"/> 
  <TypeMapEntry type="Area" gmlVersion="3.1" rule="direct" mapTo="AreaType" nsabr="gml"/> 
  <TypeMapEntry type="Boolean" gmlVersion="*" rule="direct" mapTo ="boolean"/> 

                                                 
1  GML 3.2.0 = ISO/DIS 19136 and ISO/DTS 19139 will be supported as soon as the documents 
have been submitted to ISO Central Secretariat.   



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  10 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <TypeMapEntry type="CharacterString" gmlVersion="*" rule="direct" mapTo="string"/> 
  <TypeMapEntry type="Date" gmlVersion="*" rule="direct" mapTo ="date"/> 
  <TypeMapEntry type="DateTime" gmlVersion="*" rule="direct" mapTo="dateTime"/> 
  <TypeMapEntry type="Decimal" gmlVersion="*" rule="direct" mapTo ="double"/> 
  <TypeMapEntry type="Distance" gmlVersion="3.0" rule="direct" mapTo ="LengthType" nsabr="gml"/> 
  <TypeMapEntry type="Distance" gmlVersion="3.1" rule="direct" mapTo ="LengthType" nsabr="gml"/> 
  <TypeMapEntry type="GenericName" gmlVersion="2.1.2" rule="direct" mapTo ="string"/> 
  <TypeMapEntry type="GenericName" gmlVersion="3.0" rule="direct" mapTo="CodeType" nsabr="gml"/> 
  <TypeMapEntry type="GenericName" gmlVersion="3.1" rule="direct" mapTo="CodeType" nsabr="gml"/> 
  <TypeMapEntry type=" Integer" gmlVersion="*" rule="direct" mapTo=" integer"/> 
  <TypeMapEntry type="Length" gmlVersion="3.0" rule="direct" mapTo ="LengthType" nsabr="gml "/> 
  <TypeMapEntry type="Length" gmlVersion="3.1" rule="direct" mapTo ="LengthType" nsabr="gml "/> 
  <TypeMapEntry type="LocalName" gmlVersion="2.1.2" rule="direct" mapTo="string"/> 
  <TypeMapEntry type="LocalName" gmlVersion="3.0" rule="direct" mapTo ="CodeType" nsabr="gml"/> 
  <TypeMapEntry type="LocalName" gmlVersion="3.1" rule="direct" mapTo ="CodeType" nsabr="gml"/> 
  <TypeMapEntry type="Measure" gmlVersion="3.0" rule="direct" mapTo ="MeasureType" nsabr="gml"/> 
  <TypeMapEntry type="Measure" gmlVersion="3.1" rule="direct" mapTo ="MeasureType" nsabr="gml"/> 
  <TypeMapEntry type="Number" gmlVersion="*" rule="direct" mapTo="double"/> 
  <TypeMapEntry type="Real" gmlVersion="*" rule="direct" mapTo="double"/> 
  <TypeMapEntry type="Record" gmlVersion="*" rule="propertyType" mapTo ="Record" nsabr="scXML"/> 
  <TypeMapEntry type="RecordType" gmlVersion="*" rule="propertyType" mapTo ="RecordType" 
nsabr="scXML"/> 
  <TypeMapEntry type="Scale" gmlVersion="3.0" rule="direct" mapTo ="ScaleType" nsabr="gml"/> 
  <TypeMapEntry type="Scale" gmlVersion="3.1" rule="direct" mapTo ="ScaleType" nsabr="gml"/> 
  <TypeMapEntry type="ScopedName" gmlVersion="3.0" rule="direct" mapTo="CodeType" nsabr="gml"/> 
  <TypeMapEntry type="ScopedName" gmlVersion="3.1" rule="direct" mapTo="CodeType" nsabr="gml"/> 
  <TypeMapEntry type="Time" gmlVersion="*" rule="direct" mapTo="time"/> 
  <TypeMapEntry type="UnitOfMeasure" gmlVersion="3.0" rule="direct" mapTo ="UnitOfMeasureType" 
nsabr="gml"/> 
  <TypeMapEntry type="UnitOfMeasure" gmlVersion="3.1" rule="direct" mapTo ="UnitOfMeasureType" 
nsabr="gml"/> 
  <TypeMapEntry type="Vector" gmlVersion="2.1.2" rule="direct" mapTo ="CoordinatesType" nsabr="gml "/> 
  <TypeMapEntry type="Vector" gmlVersion="3.0" rule="direct" mapTo="VectorType" nsabr="gml"/> 
  <TypeMapEntry type="Vector" gmlVersion="3.1" rule="direct" mapTo="VectorType" nsabr="gml"/> 
  <TypeMapEntry type="Velocity" gmlVersion="3.0" rule="direct" mapTo="VelocityType" nsabr="gml"/> 
  <TypeMapEntry type="Velocity" gmlVersion="3.1" rule="direct" mapTo="SpeedType" nsabr="gml"/> 
  <TypeMapEntry type="Volume" gmlVersion="3.0" rule="direct" mapTo ="VolumeType" nsabr="gml"/> 
  <TypeMapEntry type="Volume" gmlVersion="3.1" rule="direct" mapTo ="VolumeType" nsabr="gml"/> 
  <TypeMapEntry type="Year" gmlVersion="*" rule="direct" mapTo ="gYear"/> 
  <!-- ISO 19107 Geometry --> 
  <BaseMapEntry type="GM_Aggregate" gmlVersion="2.1.2" rule="direct" mapTo="MultiGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Aggregate" gmlVersion="3.0" rule="direct" mapTo ="MultiGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Aggregate" gmlVersion="3.1" rule="direct" mapTo ="MultiGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Complex" gmlVersion="3.0" rule="direct" mapTo="GeometricComplexType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Complex" gmlVersion="3.1" rule="direct" mapTo="GeometricComplexType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositeCurve" gmlVersion="3.0" rule="direct" mapTo ="CompositeCurve" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositeCurve" gmlVersion="3.1" rule="direct" mapTo ="CompositeCurve" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositePoint" gmlVersion="3.0" rule="direct" mapTo ="PointType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositePoint" gmlVersion="3.1" rule="direct" mapTo ="PointType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositeSolid" gmlVersion="3.0" rule="direct" mapTo ="CompositeSolid" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositeSolid" gmlVersion="3.1" rule="direct" mapTo ="CompositeSolid" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositeSurface" gmlVersion="3.0" rule="direct" mapTo ="CompositeSurface" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_CompositeSurface" gmlVersion="3.1" rule="direct" mapTo ="CompositeSurface" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Curve" gmlVersion="2.1.2" rule="direct" mapTo="LineStringType" nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  11 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <BaseMapEntry type="GM_Curve" gmlVersion="3.0" rule="direct" mapTo ="AbstractCurveType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Curve" gmlVersion="3.1" rule="direct" mapTo="AbstractCurveType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Envelope" gmlVersion="3.0" rule="direct" mapTo ="Envelope" nsabr="gml"/> 
  <BaseMapEntry type="GM_Envelope" gmlVersion="3.1" rule="direct" mapTo ="Envelope" nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiCurve" gmlVersion="2.1.2" rule="direct" mapTo="MultiLineStringType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiCurve" gmlVersion="3.0" rule="direct" mapTo ="MultiCurveType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiCurve" gmlVersion="3.1" rule="direct" mapTo ="MultiCurveType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiPoint" gmlVersion="2.1.2" rule="direct" mapTo ="MultiPointType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiPoint" gmlVersion="3.0" rule="direct" mapTo="MultiPointType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiPoint" gmlVersion="3.1" rule="direct" mapTo="MultiPointType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiPrimitive" gmlVersion="2.1.2" rule="direct" mapTo="MultiGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiPrimitive" gmlVersion="3.0" rule="direct" mapTo ="MultiGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiPrimitive" gmlVersion="3.1" rule="direct" mapTo ="MultiGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiSolid" gmlVersion="3.0" rule="direct" mapTo ="MultiSolidType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiSolid" gmlVersion="3.1" rule="direct" mapTo ="MultiSolidType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiSurface" gmlVersion="2.1.2" rule="direct" mapTo ="MultiPolygonType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiSurface" gmlVersion="3.0" rule="direct" mapTo ="MultiSurfaceType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_MultiSurface" gmlVersion="3.1" rule="direct" mapTo ="MultiSurfaceType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Object" gmlVersion="2.1.2" rule="direct" mapTo ="AbstractGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Object" gmlVersion="3.0" rule="direct" mapTo="AbstractGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Object" gmlVersion="3.1" rule="direct" mapTo="AbstractGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_OrientableCurve" gmlVersion="3.0" rule="direct" mapTo="AbstractCurveType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_OrientableCurve" gmlVersion="3.1" rule="direct" mapTo="AbstractCurveType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_OrientableSurface" gmlVersion="3.0" rule="direct" 
mapTo ="AbstractSurfaceType" nsabr="gml"/> 
  <BaseMapEntry type="GM_OrientableSurface" gmlVersion="3.1" rule="direct" 
mapTo ="AbstractSurfaceType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Point" gmlVersion="2.1.2" rule="direct" mapTo ="PointType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Point" gmlVersion="3.0" rule="direct" mapTo="PointType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Point" gmlVersion="3.1" rule="direct" mapTo="PointType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Primitive" gmlVersion="2.1.2" rule="direct" mapTo ="AbstractGeometryType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Primitive" gmlVersion="3.0" rule="direct" 
mapTo ="AbstractGeometricPrimitiveType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Primitive" gmlVersion="3.1" rule="direct" 
mapTo ="AbstractGeometricPrimitiveType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Solid" gmlVersion="3.0" rule="direct" mapTo ="SolidType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Solid" gmlVersion="3.1" rule="direct" mapTo ="SolidType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Surface" gmlVersion="2.1.2" rule="direct" mapTo="PolygonType" nsabr="gml"/> 
  <BaseMapEntry type="GM_Surface" gmlVersion="3.0" rule="direct" mapTo ="AbstractSurfaceType" 
nsabr="gml"/> 
  <BaseMapEntry type="GM_Surface" gmlVersion="3.1" rule="direct" mapTo ="AbstractSurfaceType" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Aggregate" gmlVersion="2.1.2" rule="direct" mapTo="MultiGeometry" 
nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  12 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <ElementMapEntry type="GM_Aggregate" gmlVersion="3.0" rule="direct" mapTo ="MultiGeometry" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Aggregate" gmlVersion="3.1" rule="direct" mapTo ="MultiGeometry" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Complex" gmlVersion="3.0" rule="direct" mapTo="GeometricComplex" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Complex" gmlVersion="3.1" rule="direct" mapTo="GeometricComplex" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositeCurve" gmlVersion="3.0" rule="direct" mapTo ="CompositeCurve" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositeCurve" gmlVersion="3.1" rule="direct" mapTo ="CompositeCurve" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositePoint" gmlVersion="3.0" rule="direct" mapTo="Point" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositePoint" gmlVersion="3.1" rule="direct" mapTo="Point" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositeSolid" gmlVersion="3.0" rule="direct" mapTo ="CompositeSolid" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositeSolid" gmlVersion="3.1" rule="direct" mapTo ="CompositeSolid" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositeSurface" gmlVersion="3.0" rule="direct" 
mapTo ="CompositeSurface" nsabr="gml"/> 
  <ElementMapEntry type="GM_CompositeSurface" gmlVersion="3.1" rule="direct" 
mapTo ="CompositeSurface" nsabr="gml"/> 
  <ElementMapEntry type="GM_Curve" gmlVersion="2.1.2" rule="direct" mapTo ="LineString" nsabr="gml"/> 
  <ElementMapEntry type="GM_Curve" gmlVersion="3.0" rule="direct" mapTo ="_Curve" nsabr="gml"/> 
  <ElementMapEntry type="GM_Curve" gmlVersion="3.1" rule="direct" mapTo ="_Curve" nsabr="gml"/> 
  <ElementMapEntry type="GM_Envelope" gmlVersion="3.0" rule="direct" mapTo ="Envelope" nsabr="gml"/> 
  <ElementMapEntry type="GM_Envelope" gmlVersion="3.1" rule="direct" mapTo ="Envelope" nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiCurve" gmlVersion="2.1.2" rule="direct" mapTo ="MultiLineString" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiCurve" gmlVersion="3.0" rule="direct" mapTo ="MultiCurve" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiCurve" gmlVersion="3.1" rule="direct" mapTo ="MultiCurve" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiPoint"  gmlVersion="2.1.2" rule="direct" mapTo ="MultiPoint"  
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiPoint"  gmlVersion="3.0" rule="direct" mapTo="MultiPoint" nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiPoint"  gmlVersion="3.1" rule="direct" mapTo="MultiPoint" nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiPrimitive" gmlVersion="2.1.2" rule="direct" mapTo="MultiGeometry" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiPrimitive" gmlVersion="3.0" rule="direct" mapTo ="MultiGeometry" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiPrimitive" gmlVersion="3.1" rule="direct" mapTo ="MultiGeometry" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiSolid" gmlVersion="3.0" rule="direct" mapTo ="MultiSolid" nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiSolid" gmlVersion="3.1" rule="direct" mapTo ="MultiSolid" nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiSurface" gmlVersion="2.1.2" rule="direct" mapTo ="MultiPolygon" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiSurface" gmlVersion="3.0" rule="direct" mapTo="MultiSurface" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_MultiSurface" gmlVersion="3.1" rule="direct" mapTo="MultiSurface" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Object" gmlVersion="2.1.2" rule="direct" mapTo ="_Geometry" nsabr="gml"/> 
  <ElementMapEntry type="GM_Object" gmlVersion="3.0" rule="direct" mapTo="_Geometry" nsabr="gml"/> 
  <ElementMapEntry type="GM_Object" gmlVersion="3.1" rule="direct" mapTo="_Geometry" nsabr="gml"/> 
  <ElementMapEntry type="GM_OrientableCurve" gmlVersion="3.0" rule="direct" mapTo ="_Curve" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_OrientableCurve" gmlVersion="3.1" rule="direct" mapTo ="_Curve" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_OrientableSurface" gmlVersion="3.0" rule="direct" mapTo ="_Surface" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_OrientableSurface" gmlVersion="3.1" rule="direct" mapTo ="_Surface" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Point"  gmlVersion="2.1.2" rule="direct" mapTo ="Point" nsabr="gml"/> 
  <ElementMapEntry type="GM_Point"  gmlVersion="3.0" rule="direct" mapTo="Point" nsabr="gml"/> 
  <ElementMapEntry type="GM_Point"  gmlVersion="3.1" rule="direct" mapTo="Point" nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  13 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <ElementMapEntry type="GM_Primitive" gmlVersion="2.1.2" rule="direct" mapTo="_Geometry" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Primitive" gmlVersion="3.0" rule="direct" mapTo ="_GeometricPrimitive" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Primitive" gmlVersion="3.1" rule="direct" mapTo ="_GeometricPrimitive" 
nsabr="gml"/> 
  <ElementMapEntry type="GM_Solid" gmlVersion="3.0" rule="direct" mapTo ="Solid" nsabr="gml"/> 
  <ElementMapEntry type="GM_Solid" gmlVersion="3.1" rule="direct" mapTo ="Solid" nsabr="gml"/> 
  <ElementMapEntry type="GM_Surface" gmlVersion="2.1.2" rule="direct" mapTo ="Polygon" nsabr="gml"/> 
  <ElementMapEntry type="GM_Surface" gmlVersion="3.0" rule="direct" mapTo="_Surface" nsabr="gml"/> 
  <ElementMapEntry type="GM_Surface" gmlVersion="3.1" rule="direct" mapTo="_Surface" nsabr="gml"/> 
  <TypeMapEntry type="GM_Aggregate" gmlVersion="2.1.2" rule="direct" 
mapTo ="MultiGeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Aggregate" gmlVersion="3.0" rule="direct" 
mapTo ="MultiGeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Aggregate" gmlVersion="3.1" rule="direct" 
mapTo ="MultiGeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Complex" gmlVersion="3.0" rule="direct" 
mapTo ="GeometricComplexPropertyType" nsabr="gml "/> 
  <TypeMapEntry type="GM_Complex" gmlVersion="3.1" rule="direct" 
mapTo ="GeometricComplexPropertyType" nsabr="gml "/> 
  <TypeMapEntry type="GM_CompositeCurve" gmlVersion="3.0" rule="propertyType" 
mapTo ="CompositeCurve" nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositeCurve" gmlVersion="3.1" rule="propertyType" 
mapTo ="CompositeCurve" nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositePoint" gmlVersion="3.0" rule="direct" mapTo ="PointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositePoint" gmlVersion="3.1" rule="direct" mapTo ="PointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositeSolid" gmlVersion="3.0" rule="propertyType" 
mapTo ="CompositeSolid" nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositeSolid" gmlVersion="3.1" rule="propertyType" 
mapTo ="CompositeSolid" nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositeSurface" gmlVersion="3.0" rule="propertyType" 
mapTo ="CompositeSurface" nsabr="gml"/> 
  <TypeMapEntry type="GM_CompositeSurface" gmlVersion="3.1" rule="propertyType" 
mapTo ="CompositeSurface" nsabr="gml"/> 
  <TypeMapEntry type="GM_Curve" gmlVersion="2.1.2" rule="direct" mapTo ="LineStringPr opertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Curve" gmlVersion="3.0" rule="direct" mapTo="CurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Curve" gmlVersion="3.1" rule="direct" mapTo="CurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Envelope" gmlVersion="3.0" rule="propertyType" mapTo="Envelope" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Envelope" gmlVersion="3.1" rule="propertyType" mapTo="Envelope" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiCurve" gmlVersion="2.1.2" rule="direct" 
mapTo="MultiLineStringPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiCurve" gmlVersion="3.0" rule="direct" mapTo="MultiCurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiCurve" gmlVersion="3.1" rule="direct" mapTo="MultiCurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiPoint" gmlVersion="2.1.2" rule="direct" mapTo="MultiPointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiPoint" gmlVersion="3.0" rule="direct" mapTo ="MultiPointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiPoint" gmlVersion="3.1" rule="direct" mapTo ="MultiPointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiPrimitive" gmlVersion="2.1.2" rule="direct" 
mapTo ="MultiGeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiPrimitive" gmlVersion="3.0" rule="direct" 
mapTo ="MultiGeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiPrimitive" gmlVersion="3.1" rule="direct" 
mapTo ="MultiGeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiSolid" gmlVersion="3.0" rule="direct" mapTo="MultiSolidPropertyType" 
nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  14 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <TypeMapEntry type="GM_MultiSolid" gmlVersion="3.1" rule="direct" mapTo="MultiSolidPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiSurface" gmlVersion="2.1.2" rule="direct" 
mapTo ="MultiPolygonPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiSurface" gmlVersion="3.0" rule="direct" 
mapTo ="MultiSurfacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_MultiSurface" gmlVersion="3.1" rule="direct" 
mapTo ="MultiSurfacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Object" gmlVersion="2.1.2" rule="direct" mapTo="GeometryPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Object" gmlVersion="3.0" rule="direct" mapTo ="GeometryPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Object" gmlVersion="3.1" rule="direct" mapTo ="GeometryPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_OrientableCurve" gmlVersion="3.0" rule="direct" mapTo ="CurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_OrientableCurve" gmlVersion="3.1" rule="direct" mapTo ="CurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_OrientableSurface" gmlVersion="3.0" rule="direct" 
mapTo ="SurfacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_OrientableSurface" gmlVersion="3.1" rule="direct" 
mapTo ="SurfacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Point" gmlVersion="2.1.2" rule="direct" mapTo="PointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Point" gmlVersion="3.0" rule="direct" mapTo ="PointPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Point" gmlVersion="3.1" rule="direct" mapTo ="PointPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Primitive" gmlVersion="2.1.2" rule="direct" mapTo ="GeometryPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Primitive" gmlVersion="3.0" rule="direct" 
mapTo ="GeometricPrimitivePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Primitive" gmlVersion="3.1" rule="direct" 
mapTo ="GeometricPrimitivePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Solid" gmlVersion="3.0" rule="direct" mapTo="SolidPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Solid" gmlVersion="3.1" rule="direct" mapTo="SolidPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="GM_Surface" gmlVersion="2.1.2" rule="direct" mapTo ="PolygonPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Surface" gmlVersion="3.0" rule="direct" mapTo ="SurfacePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="GM_Surface" gmlVersion="3.1" rule="direct" mapTo ="SurfacePropertyType" 
nsabr="gml"/> 
  <!-- ISO 19107 Topology --> 
  <BaseMapEntry type="TP_Object" gmlVersion="3.0" rule="direct" mapTo ="AbstractTopologyType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_Object" gmlVersion="3.1" rule="direct" mapTo ="AbstractTopologyType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_Complex" gmlVersion="3.0" rule="direct" mapTo ="TopoComplexType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_Complex" gmlVersion="3.1" rule="direct" mapTo ="TopoComplexType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedEdge" gmlVersion="3.0" rule="direct" mapTo ="DirectedEdgeType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedEdge" gmlVersion="3.1" rule="direct" mapTo ="DirectedEdgeType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedFace" gmlVersion="3.0" rule="direct" mapTo="DirectedFaceType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedFace" gmlVersion="3.1" rule="direct" mapTo="DirectedFaceType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedNode" gmlVersion="3.0" rule="direct" mapTo="DirectedNodeType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedNode" gmlVersion="3.1" rule="direct" mapTo="DirectedNodeType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedSolid" gmlVersion="3.0" rule="direct" mapTo="DirectedTopoSolidType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_DirectedSolid" gmlVersion="3.1" rule="direct" mapTo="DirectedTopoSolidType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_Edge" gmlVersion="3.0" rule="direct" mapTo="DirectedEdgeType" nsabr="gml"/> 
  <BaseMapEntry type="TP_Edge" gmlVersion="3.1" rule="direct" mapTo="DirectedEdgeType" nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  15 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <BaseMapEntry type="TP_Face" gmlVersion="3.0" rule="direct" mapTo ="DirectedFaceType" nsabr="gml"/> 
  <BaseMapEntry type="TP_Face" gmlVersion="3.1" rule="direct" mapTo ="DirectedFaceType" nsabr="gml"/> 
  <BaseMapEntry type="TP_Node" gmlVersion="3.0" rule="direct" mapTo ="DirectedNodeType" nsabr="gml"/> 
  <BaseMapEntry type="TP_Node" gmlVersion="3.1" rule="direct" mapTo ="DirectedNodeType" nsabr="gml"/> 
  <BaseMapEntry type="TP_Solid" gmlVersion="3.0" rule="direct" mapTo ="DirectedTopoSolidType" 
nsabr="gml"/> 
  <BaseMapEntry type="TP_Solid" gmlVersion="3.1" rule="direct" mapTo ="DirectedTopoSolidType" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_Object" gmlVersion="3.0" rule="direct" mapTo="_Topology" nsabr="gml"/> 
  <ElementMapEntry type="TP_Object" gmlVersion="3.1" rule="direct" mapTo="_Topology" nsabr="gml"/> 
  <ElementMapEntry type="TP_Complex" gmlVersion="3.0" rule="direct" mapTo="TopoComplex" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_Complex" gmlVersion="3.1" rule="direct" mapTo="TopoComplex" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedEdge" gmlVersion="3.0" rule="direct" mapTo="DirectedEdge" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedEdge" gmlVersion="3.1" rule="direct" mapTo="DirectedEdge" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedFace" gmlVersion="3.0" rule="direct" mapTo ="DirectedFace" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedFace" gmlVersion="3.1" rule="direct" mapTo ="DirectedFace" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedNode" gmlVersion="3.0" rule="direct" mapTo ="DirectedNode" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_Dir ectedNode" gmlVersion="3.1" rule="direct" mapTo ="DirectedNode" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedSolid" gmlVersion="3.0" rule="direct" mapTo ="DirectedTopoSolid" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_DirectedSolid" gmlVersion="3.1" rule="direct" mapTo ="DirectedTopoSolid" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_Edge" gmlVersion="3.0" rule="direct" mapTo ="DirectedEdge" nsabr="gml"/> 
  <ElementMapEntry type="TP_Edge" gmlVersion="3.1" rule="direct" mapTo ="DirectedEdge" nsabr="gml"/> 
  <ElementMapEntry type="TP_Face" gmlVersion="3.0" rule="direct" mapTo ="DirectedFace" nsabr="gml"/> 
  <ElementMapEntry type="TP_Face" gmlVersion="3.1" rule="direct" mapTo ="DirectedFace" nsabr="gml"/> 
  <ElementMapEntry type="TP_Node" gmlVersion="3.0" rule="direct" mapTo ="DirectedNode" nsabr="gml"/> 
  <ElementMapEntry type="TP_Node" gmlVersion="3.1" rule="direct" mapTo ="DirectedNode" nsabr="gml"/> 
  <ElementMapEntry type="TP_Solid" gmlVersion="3.0" rule="direct" mapTo ="DirectedTopoSolid" 
nsabr="gml"/> 
  <ElementMapEntry type="TP_Solid" gmlVersion="3.1" rule="direct" mapTo ="DirectedTopoSolid" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Object" gmlVersion="3.0" rule="propertyType" mapTo ="_Topology" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Object" gmlVersion="3.1" rule="propertyType" mapTo ="_Topology" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Complex" gmlVersion="3.0" rule="direct" mapTo ="TopoComplexMemberType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Complex" gmlVersion="3.1" rule="direct" mapTo ="TopoComplexMemberType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedEdge" gmlVersion="3.0" rule="direct" 
mapTo ="DirectedEdgePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedEdge" gmlVersion="3.1" rule="direct" 
mapTo ="DirectedEdgePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedFace" gmlVersion="3.0" rule="direct" 
mapTo ="DirectedFacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedFace" gmlVersion="3.1" rule="direct" 
mapTo ="DirectedFacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedNode" gmlVersion="3.0" rule="direct" 
mapTo ="DirectedNodePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedNode" gmlVersion="3.1" rule="direct" 
mapTo ="DirectedNodePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedSolid" gmlVersion="3.0" rule="direct" 
mapTo ="DirectedTopoSolidPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_DirectedSolid" gmlVersion="3.1" rule="direct" 
mapTo ="DirectedTopoSolidPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="TP_Edge" gmlVersion="3.0" rule="direct" mapTo ="DirectedEdgePropertyType" 
nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  16 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <TypeMapEntry type="TP_Edge" gmlVersion="3.1" rule="direct" mapTo ="DirectedEdgePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Face" gmlVersion="3.0" rule="direct" mapTo="DirectedFacePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Face" gmlVersion="3.1" rule="direct" mapTo="DirectedFacePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Node" gmlVersion="3.0" rule="direct" mapTo="DirectedNodePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Node" gmlVersion="3.1" rule="direct" mapTo="DirectedNodePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Solid" gmlVersion="3.0" rule="direct" mapTo="DirectedTopoSolidPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TP_Solid" gmlVersion="3.1" rule="direct" mapTo="DirectedTopoSolidPropertyType" 
nsabr="gml"/> 
  <!-- ISO 19108 --> 
  <BaseMapEntry type="TM_Instant" gmlVersion="3.0" rule="direct" mapTo ="TimeInstantType" nsabr="gml"/> 
  <BaseMapEntry type="TM_Instant" gmlVersion="3.1" rule="direct" mapTo ="TimeInstantType" nsabr="gml"/> 
  <BaseMapEntry type="TM_Period" gmlVersion="3.0" rule="direct" mapTo ="TimePeriodType" nsabr="gml"/> 
  <BaseMapEntry type="TM_Period" gmlVersion="3.1" rule="direct" mapTo ="TimePeriodType" nsabr="gml"/> 
  <ElementMapEntry type="TM_Instant" gmlVersion="3.0" rule="direct" mapTo ="TimeInstant" nsabr="gml"/> 
  <ElementMapEntry type="TM_Instant" gmlVersion="3.1" rule="direct" mapTo ="TimeInstant" nsabr="gml"/> 
  <ElementMapEntry type="TM_Period" gmlVersion="3.0" rule="direct" mapTo="TimePeriod" nsabr="gml"/> 
  <ElementMapEntry type="TM_Period" gmlVersion="3.1" rule="direct" mapTo="TimePeriod" nsabr="gml"/> 
  <TypeMapEntry type="TM_Instant" gmlVersion="3.0" rule="direct" mapTo="TimeInstantPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TM_Instant" gmlVersion="3.1" rule="direct" mapTo="TimeInstantPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TM_Period" gmlVersion="3.0" rule="direct" mapTo ="TimePeriodPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TM_Period" gmlVersion="3.1" rule="direct" mapTo ="TimePeriodPropertyType" 
nsabr="gml"/> 
  <!-- ISO 19123 --> 
  <BaseMapEntry type="CV_ContinuousQuadrilateralGridCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="GridCoverageType" nsabr="gml"/> 
  <BaseMapEntry type="CV_Coverage" gmlVersion="3.1" rule="direct" mapTo="AbstractCoverageType" 
nsabr="gml"/> 
  <BaseMapEntry type="CV_DiscreteCurveCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="MultiCurveCoverageType" nsabr="gml"/> 
  <BaseMapEntry type="CV_DiscreteGridPointCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="RectifiedGridCoverageType" nsabr="gml"/> 
  <BaseMapEntry type="CV_DiscretePointCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="MultiPointCoverageType" nsabr="gml"/> 
  <BaseMapEntry type="CV_DiscreteSurfaceCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="MultiSurfaceCoverageType" nsabr="gml"/> 
  <ElementMapEntry type="CV_ContinuousQuadrilateralGridCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="GridCoverage" nsabr="gml"/> 
  <ElementMapEntry type="CV_Coverage" gmlVersion="3.1" rule="direct" mapTo ="Coverage" nsabr="gml"/> 
  <ElementMapEntry type="CV_DiscreteCurveCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="MultiCurveCoverage" nsabr="gml"/> 
  <ElementMapEntry type="CV_DiscreteGridPointCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="RectifiedGridCoverage" nsabr="gml"/> 
  <ElementMapEntry type="CV_DiscretePointCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="MultiPointCoverage" nsabr="gml"/> 
  <ElementMapEntry type="CV_DiscreteSurfaceCoverage" gmlVersion="3.1" rule="direct" 
mapTo ="MultiSurfaceCoverage" nsabr="gml"/> 
  <TypeMapEntry type="CV_ContinuousQuadrilateralGridCoverage" gmlVersion="3.1" rule="propertyType" 
mapTo ="GridCoverage" nsabr="gml"/> 
  <TypeMapEntry type="CV_Coverage" gmlVersion="3.1" rule="propertyType" mapTo ="Coverage" 
nsabr="gml"/> 
  <TypeMapEntry type="CV_DiscreteCurveCoverage" gmlVersion="3.1" rule="propertyType" 
mapTo ="MultiCurveCoverage" nsabr="gml"/> 
  <TypeMapEntry type="CV_DiscreteGridPointCoverage" gmlVersion="3.1" rule="propertyType" 
mapTo ="RectifiedGridCoverage" nsabr="gml"/> 
  <TypeMapEntry type="CV_DiscretePointCoverage" gmlVersion="3.1" rule="propertyType" 
mapTo ="MultiPointCoverage" nsabr="gml"/> 
  <TypeMapEntry type="CV_DiscreteSurfaceCoverage" gmlVersion="3.1" rule="propertyType" 
mapTo ="MultiSurfaceCoverage" nsabr="gml"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  17 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <!-- ISO 19115 + ISO/TS 19139 --> 
  <BaseMapEntry type="CI_Address" gmlVersion="*" rule="direct" mapTo ="CI_Address_Type" 
nsabr="smXML"/> 
  <BaseMapEntry type="CI_Citation" gmlVersion="*" rule="direct" mapTo ="CI_Citation_Type" 
nsabr="smXML"/> 
  <BaseMapEntry type="CI_Contact" gmlVersion="*" rule="direct" mapTo="CI_Contact_Type" 
nsabr="smXML"/> 
  <BaseMapEntry type="CI_ResponsibleParty" gmlVersion="*" rule="direct" 
mapTo ="CI_ResponsibleParty_Type" nsabr="smXML"/> 
  <BaseMapEntry type="CI_Telephone" gmlVersion="*" rule="direct" mapTo ="CI_Telephone_Type" 
nsabr="smXML"/> 
  <BaseMapEntry type="EX_Extent" gmlVersion="*" rule="direct" mapTo="EX_Extent_Type" 
nsabr="smXML"/> 
  <BaseMapEntry type="MD_Metadata" gmlVersion="*" rule="direct" mapTo ="MD_Metadata_Type" 
nsabr="smXML"/> 
  <BaseMapEntry type="RS_Identifier" gmlVersion="*" rule="direct" mapTo="RS_Identifier_Type" 
nsabr="smXML"/> 
  <ElementMapEntry type="CI_Address" gmlVersion="*" rule="direct" mapTo ="CI_Address" nsabr="smXML"/> 
  <ElementMapEntry type="CI_Citation" gmlVersion="*" rule="direct" mapTo ="CI_Citation" nsabr="smXML"/> 
  <ElementMapEntry type="CI_Contact" gmlVersion="*" rule="direct" mapTo="CI_Contact" nsabr="smXML"/> 
  <ElementMapEntry type="CI_ResponsibleParty" gmlVersion="*" rule="direct" mapTo ="CI_ResponsibleParty" 
nsabr="smXML"/> 
  <ElementMapEntry type="CI_Series" gmlVersion="*" rule="direct" mapTo="CI_Series" nsabr="smXML"/> 
  <ElementMapEntry type="CI_Telephone" gmlVersion="*" rule="direct" mapTo ="CI_Telephone" 
nsabr="smXML"/> 
  <ElementMapEntry type="DQ_DataQuality" gmlVersion="*" rule="direct" mapTo ="DQ_DataQuality" 
nsabr="smXML"/> 
  <ElementMapEntry type="DQ_PositionalAccuracy" gmlVersion="*" rule="direct" 
mapTo ="_DQ_PositionalAccuracy" nsabr="smXML"/> 
  <ElementMapEntry type="DQ_QuantitativeResult" gmlVersion="*" rule="direct" 
mapTo ="DQ_QuantitativeResult" nsabr="smXML"/> 
  <ElementMapEntry type="EX_Extent" gmlVersion="*" rule="direct" mapTo ="EX_Extent" nsabr="smXML"/> 
  <ElementMapEntry type="MD_BrowseGraphic" gmlVersion="*" rule="direct" mapTo ="MD_BrowseGraphic" 
nsabr="smXML"/> 
  <ElementMapEntry type="MD_ClassificationCode" gmlVersion="*" rule="direct" 
mapTo ="MD_ClassificationCode" nsabr="smXML"/> 
  <ElementMapEntry type="MD_Format" gmlVersion="*" rule="direct" mapTo="MD_Format" 
nsabr="smXML"/> 
  <ElementMapEntry type="MD_Identifier" gmlVersion="*" rule="direct" mapTo ="MD_Identifier" 
nsabr="smXML"/> 
  <ElementMapEntry type="MD_ImagingConditionCode" gmlVersion="*" rule="direct" 
mapTo ="MD_ImagingConditionCode" nsabr="smXML"/> 
  <ElementMapEntry type="MD_MediumNameCode" gmlVersion="*" rule="direct" 
mapTo ="MD_MediumNameCode" nsabr="smXML"/> 
  <ElementMapEntry type="MD_Metadata" gmlVersion="*" rule="direct" mapTo ="MD_Metadata" 
nsabr="smXML"/> 
  <ElementMapEntry type="RS_Identifier" gmlVersion="*" rule="direct" mapTo ="RS_Identifier" 
nsabr="smXML"/> 
  <TypeMapEntry type="CI_Address" gmlVersion="*" rule="propertyType" mapTo="CI_Address" 
nsabr="smXML"/> 
  <TypeMapEntry type="CI_Citation" gmlVersion="*" rule="propertyType" mapTo="CI_Citation" 
nsabr="smXML"/> 
  <TypeMapEntry type="CI_Contact" gmlVersion="*" rule="propertyType" mapTo ="CI_Contact" 
nsabr="smXML"/> 
  <TypeMapEntry type="CI_ResponsibleParty" gmlVersion="*" rule="propertyType" 
mapTo ="CI_ResponsibleParty" nsabr="smXML"/> 
  <TypeMapEntry type="CI_Series" gmlVersion="*" rule="propertyType" mapTo ="CI_Series" 
nsabr="smXML"/> 
  <TypeMapEntry type="CI_Telephone" gmlVersion="*" rule="propertyType" mapTo="CI_Telephone" 
nsabr="smXML"/> 
  <TypeMapEntry type="DQ_DataQuality" gmlVersion="*" rule="propertyType" mapTo ="DQ_DataQuality" 
nsabr="smXML"/> 
  <TypeMapEntry type="DQ_PositionalAccuracy" gmlVersion="*" rule="propertyType" 
mapTo ="_DQ_PositionalAccuracy" nsabr="smXML"/> 
  <TypeMapEntry type="DQ_QuantitativeResult" gmlVersion="*" rule="propertyType" 
mapTo ="DQ_QuantitativeResult" nsabr="smXML"/> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  18 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

  <TypeMapEntry type="EX_Extent" gmlVersion="*" rule="propertyType" mapTo ="EX_Extent"  
nsabr="smXML"/> 
  <TypeMapEntry type="MD_BrowseGraphic" gmlVersion="*" rule="propertyType" 
mapTo ="MD_BrowseGraphic" nsabr="smXML"/> 
  <TypeMapEntry type="MD_ClassificationCode" gmlVersion="*" rule="propertyType" 
mapTo ="MD_ClassificationCode" nsabr="smXML"/> 
  <TypeMapEntry type="MD_Format" gmlVersion="*" rule="propertyType" mapTo ="MD_Format" 
nsabr="smXML"/> 
  <TypeMapEntry type="MD_Identifier" gmlVersion="*" rule="propertyType" mapTo ="MD_Identifier" 
nsabr="smXML"/> 
  <TypeMapEntry type="MD_ImagingConditionCode" gmlVersion="*" rule="propertyType" 
mapTo ="MD_ImagingConditionCode" nsabr="smXML"/> 
  <TypeMapEntry type="MD_MediumNameCode" gmlVersion="*" rule="propertyType" 
mapTo ="MD_MediumNameCode" nsabr="smXML"/> 
  <TypeMapEntry type="MD_Metadata" gmlVersion="*" rule="propertyType" mapTo="MD_Metadata" 
nsabr="smXML"/> 
  <TypeMapEntry type="RS_Identifier" gmlVersion="*" rule="propertyType" mapTo ="RS_Identif ier" 
nsabr="smXML"/> 
  <!-- Others --> 
  <ElementMapEntry type="TopoCurve" gmlVersion="3.1" rule="direct" mapTo ="TopoCurve" nsabr="gml "/> 
  <ElementMapEntry type="TopoPoint" gmlVersion="3.1" rule="direct" mapTo ="TopoPoint" nsabr="gml"/> 
  <ElementMapEntry type="TopoSurface" gmlVersion="3.1" rule="direct" mapTo ="TopoSurface" 
nsabr="gml"/> 
  <TypeMapEntry type="TopoCurve" gmlVersion="3.1" rule="direct" mapTo ="TopoCurvePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TopoPoint" gmlVersion="3.1" rule="direct" mapTo ="TopoPointPropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="TopoSurface" gmlVersion="3.1" rule="direct" mapTo="TopoSurfacePropertyType" 
nsabr="gml"/> 
  <TypeMapEntry type="Set&lt;TP_DirectedEdge&gt;" gmlVersion="3.1" rule="direct" 
mapTo ="TopoCurvePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="Set&lt;TP_DirectedNode&gt;" gmlVersion="3.1" rule="direct" 
mapTo ="TopoPointPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="Set&lt;TP_DirectedFace&gt;"  gmlVersion="3.1" rule="direct" 
mapTo ="TopoSurfacePropertyType" nsabr="gml"/> 
  <TypeMapEntry type="Set&lt;GM_Object&gt;" gmlVersion="3.1" rule="direct" 
mapTo ="GeometryPropertyType" nsabr="gml"/> 
  <TypeMapEntry type="URI" gmlVersion="*" rule="direct" mapTo ="anyURI"/> 
  <TypeMapEntry type="URL" gmlVersion="*" ru le="direct" mapTo ="anyURI"/> 
 </mapEntries > 
</ShapeChangeConfiguration> 
 

2.3 Configuration of the web interface 

The following assumes an existing and running Tomcat installation including the Tomcat Web 
Application Manager (ShapeChange has been tested with Tomcat version 5.5.9). In case of large 
XMI files, the memory allocations of Tomcat may need to be increased, e.g. by using the ‘Java 
Options’ "-Xms128m -Xmx1024m" or by configuring the ‘memory pool’ in the Tomcat Monitor. 
Furthermore, Xerces-J must have been installed (the installation of Xerces in a tomcat environment 
is not covered in this document, this installation is explained in several resources on the web). 

• Unpack the ShapeChange zip archive. The root directory of the files in the archive is called 
ShapeChange with a trailing version number, e.g. “ShapeChange-v0.3”. Remove the version 
number from the name, i.e. rename it to  “ShapeChange”. 

• Move (or copy) this directory directly under the "webapps" diretory of Tomcat. 

• Update the two init-params in the "web.xml" file. 

§ configFile: Pointer to the configuration file, e.g. 

 "http://services.interactive-instruments.de/ShapeChange/ShapeChangeConfiguration.xml" 

§ systemConfigFile: Pointer to the system configuration file, e.g. 

 "http://services.interactive-
instruments.de/ShapeChange/ShapeChangeSystemConfiguration.xml" 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  19 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

 

• There are other parameters used in ShapeChange that can be configured in the "web.xml" file. 

§ reportLevel: The level for the output of diagnostic messages, e.g. "WARNING" 

 further levels are " INFO", "ERROR", "FATAL ERROR" (see also chapter 4) 

§ maxSizeOfRequest: maximum in bytes for data being processed to deny DoS attack, e.g. 

 "20000" 

§ session-timeout: time in minutes a session will be valid, e.g. 

"180" 

 

Then the web.xml file may look like the following: 

 
<?xml version="1.0" encoding="ISO-8859-1"?> 
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" 
    "http://java.sun.com/dtd/web-app_2_3.dtd"> 
<web-app> 
 <display-name>ShapeChange</display-name> 
 <description>UML Application Schema to GML Application Schema Converter</description> 
 <servlet> 
  <servlet-name>ConverterServlet</servlet-name> 
  <servlet-class>de.interactive_instruments.ShapeChange.ConverterServlet</servlet-class> 
  <init-param> 
   <param-name>configFile</param-name> 
   <param-value> 
    http://services.interactive-instruments.de/ShapeChange/ShapeChangeConfiguration.xml 
   </param-value> 
  </init-param> 
  <init-param> 
   <param-name>systemConfigFile</param-name> 
   <param-value> 
    http://services.interactive-instruments.de/ShapeChange/ShapeChangeSystemConfiguration.xml 
   </param-value> 
  </init-param> 
  <init-param> 
   <param-name>reportLevel</param-name> 
   <param-value>WARNING</param-value> 
  </init-param> 
  <init-param> 
   <param-name>maxSizeOfRequest</param-name> 
   <param-value>20000</param-value> 
  </init-param> 
 </servlet> 
 <servlet-mapping> 
  <servlet-name>ConverterServlet</servlet-name> 
  <url-pattern>/servlet/*</url-pattern> 
 </servlet-mapping> 
 <session-config> 
  <session-timeout>180</session-timeout> 
 </session-config> 
 <mime-mapping> 
  <extension>java</extension> 
  <mime-type>text/plain</mime-type> 
 </mime-mapping> 
 <mime-mapping> 
  <extension>class</extension> 
  <mime-type>application/java</mime-type> 
 </mime-mapping> 
</web-app> 

 

• Restart Tomcat (you may also use the Tomcat Web Application Manager to control the web 
application). 

 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  20 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

2.4 Configuration of the repository and registry for the web interface 

In order to use repositories and registries with ShapeChange, these services have to be listed in 
the system configuration file "ShapeChangeSystemConfiguration.xml" (its path is specified in the 
"web.xml" file). 

• Update the parameters for the repository. A respository must be write-accesible via ftp and 
read accessible via http.  

§ name: label that is used in the web interface, e.g. 

"interactive instruments" 

§ urlFtp: access path of the FTP (to store the results in), e.g. 

"ftp.interactive-instruments.de" 

§ urlHttp: URL for the HTTP access of the FTP server, e.g. 

"http://www.interactive-instruments.de/ows3/repository/out/" 

§ userName: name of a user that has write-access to the FTP server 

§ password: password belonging to userName to access the FTP server 

Notes: The userName and password are kept in clear text and are not encrypted in ShapeChange 
at this time. 

 

• Update the parameters for the registry. 

§ name: label that is used in the web interface, e.g. 

"CubeWerx" 

§ urlPost: Post URL of the WRS to post the request, e.g. 

"http://demo.cubewerx.com/ows3/catalog/cwwrs.cgi" 

§ urlGet: Get URL of the WRS, e.g. 

"http://demo.cubewerx.com/ows3/catalog/cwwrs.cgi?" 

 

After configuration the "ShapeChangeSystemConfiguration.xml" file may look like the 
following: 

 
<?xml version="1.0" encoding="ISO-8859-1"?> 

<ShapeChangeSystemConfig> 
<!-- for further ftp or wrs entries please use/copy the templates  --> 
<!-- set the correct serial id ... --> 
    <ftpConfig> 

        <ftp id="ftp1"> 
            <name>interactive instruments</name> 
            <urlFtp>ftp.interactive-instruments.de</urlFtp> 
            <urlHttp>http://www.interactive-instruments.de/ows3/repository/out/</urlHttp> 

            <userName>theUserName</userName> 
            <password>thePassword</password> 
        </ftp> 
        <ftp id="ftp2"> 

            <name>secondEntry</name> 
            <urlFtp>ftp.secondEntry.com</urlFtp> 
            <urlHttp>http://www.secondEntry.com/repository/</urlHttp> 

            <userName>myUserName</userName> 
            <password>myPassword</password> 
        </ftp> 
    </ftpConfig> 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  21 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

    <wrsConfig> 

        <wrs id="wrs1"> 
            <name>CubeWerx</name> 
            <urlPost>http://demo.cubewerx.com/ows3/catalog/cwwrs.cgi</urlPost> 
            <urlGet>http://demo.cubewerx.com/ows3/catalog/cwwrs.cgi?</urlGet> 

        </wrs> 
        <wrs id="wrs2"> 
            <name>secondEntry</name> 
            <urlPost>http://secondEntry.com/catalog/cwwrs.cgi</urlPost> 

            <urlGet>http://secondEntry.com/catalog/cwwrs.cgi?</urlGet> 
        </wrs> 
    </wrsConfig> 

</ShapeChangeSystemConfig> 
 

For additional repositories or registry services, copy the according element set (<ftp 
id="ftp1"> ... </ftp> or <wrs id="wrs1"> ... </wrs>) and add it under the last 
specified entry in the list. Update the elements ID with the next sequential/serial number and 
insert the new parameter values. 

 

• Restart Tomcat (you may also use the Tomcat Web Application Manager to control the web 
application). 

 

2.5 Required software 

In order to run ShapeChange from the command line, the following components must be installed 

§ Java (tested with version 1.5 [http://java.sun.com/j2se/1.5/index.jsp]) 

§ Xerces2-J (tested with version 2.6.2 and 2.7.1 [http://xml.apache.org/xerces2-j/]) 

§ Xalan-J (tested with version 2.6.0 and 2.7.0 [http://xml.apache.org/xalan-j/]) 

 

The Web Interface has been tested with Apache Tomcat (version 5.5.9). It also requires he 
following component: 

§ Jakarta Commons Net API (tested with version 1.4.0 [http://jakarta.apache.org/site/ 
downloads/downloads_commons-net.cgi], JAR installed in the Java Runtime Environment) 

 

Notes: 

§ The Xerces and Xalan JAR files must be installed in the "endorsed" directory of the Java 
Runtime Environment (e.g. in C:\Programs\Java\jdk-1.5.0\lib\endorsed), otherwise they will 
not be used by the Java VM even if they are in the Java CLASSPATH.  

§ If you want to recompile all the java classes you also need the servlet.jar archive in your 
classpath. In this case you also may want to put the directory that contains the java, javac and 
jar executables in your predefined path where the operating system searches for executables. 

 

 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  22 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

3 Running the UGAS Tool 

3.1 Command Line Interface 

The UGAS Tool is a Java Application. The application accepts a number of parameters that 
influence the encoding rules from the UML metamodel to the GML Application Schema documents. 
These parameters are: 

 

-p (default), -P “-p” is appropriate for application schemas that will be used for data 
encodings that are shared across application boundaries: i.e., only elements 
with public visibility will be mapped. Otherwise (“-P”) visibility is assumed to 
be irrelevant for the mapping process and even private elements will be 
represented in the GML Application Schema. 

-m name Name of the application schema package that shall be converted. If the 
option is missing, all application schemas in the model will be converted. If 
no package has a stereotype <<Application Schema>>, ShapeChange will 
abort. 

-u (default), -U “-u” includes documentation in annotation elements in the XML Schema 
files, “-U” surpresses this. 

-h Information about these options. 

-t, -T (default) “-t” maps <<Type>> classes to GML objects, “-T” to GML features. 

-g (default), -G -g maps a <<Union>> class to a complexType, -G to a group. 

-x (default), -X -x maps a property to a local elements, -X to a global group (required for 
restrictions). Using -X is not recommended. 

-c (default), -C -c adds property types for all complexTypes, -C surpresses the property 
types.  

-d (default), -D -d adds property-by-value types for all complexTypes, -D surpresses them.  

-e (default), -E  -e maps an <<Enumeration>> class to a named simpleType, -E to 
anonymous simpleTypes. 

-l (default), -L -l maps an <<CodeList>> class to an extendable enumeration, -L to a GML 
Dictionary. 

-N -N disables the use of the abstract GML base types which are used by 
default. (Experimental) 

-R -R activates support for the restriction (redefinition) of properties. Use with 
caution. (Experimental) 

-V tvalues Comma seperated list of tagged values to include in the GML Application 
Schema. The default is ''. 

-s, -S (default) -s adds support for paramterized types Set<T> and Sequence<T>. -S 
disables the support. 

-f (default), -F -f maps only those packages to an XML Schema that carry a tagged value 
'xsdDocument'. -F maps all packages to a document. 

-M style Metadata encoding style. Currently one of NONE or OWS3 (Experimental). 
Default is NONE. OWS3 creates schema metadata following the DDMS 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  23 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

schema as specified during the OWS-3 initiative. 

-r level Verbosity of the log file, one of DEBUG, INFO, WARNING, ERROR. Default is 
WARNING. 

-v version Determines the target version of GML, i.e. 2.1.2, 3.0 or 3.1. Default is 3.1. 

-o outputdir The local directory where the output files are created (the xsd files and the 
log file). Default is the working directory.  

Xmifile The URI of the XMI document containing the UML model.  

  

The result of the mapping process is documented in a file ShapeChangeResult.xml in the output 
directory. This includes a sequence of Messages (fatal errors, errors, warnings, informational 
messages; see also chapter 4) and a list of XML Schema files that were created by the tool. 

Note that all elements must be entered into the UML case tool in a way so that the XMI export 
function of the tool maps every element to the appropriate construct in terms of the UML 1.3 
metamodel (and in turn during the XMI export process to the XMI 1.0 constructs). 

In case of large XMI files, the memory allocations may need to be increased, e.g. by using the 
options "-Xms128m -Xmx1024m". 

Example of a ShapeChange invocation: 

java -Xms128m -Xmx1024m -jar "WEB-INF\classes\ShapeChange.jar" -D -o "out" 
"xmi\myBigAS.xml" 

3.2 Web Interface 

A web interface to the tool is part of the distribution (a Java Servlet tested under Tomcat), so that 
it can be accessed over the internet/intranet without installation of the software at the user’s side.  

JavaScript must be enabled in the web browser. ShapeChange uses pop-up windows, so pop-up 
blockers must be configured to allow pop-ups for ShapeChange. 

Compared with the command line interface (see 3.1), the web interface provides several further 
features for the user: 

• Search Web Registry Services (WRS) for appropriate schemas 

• Select a UML model found in the WRS for conversion 

• Choose the conversion settings 

• Store the conversion result files in a repository 

• Download the result files from the repository 

• Register the conversion result in one or more WRS for publication 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  24 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

3.2.1 Home page 

 
 

The upper part of the home page enables the user to select a UML Application Schema 
(respectively the URL to a Schema) for the conversion process. On the one hand a known URL to a 
Schema can be provided directly in the ‘Enter URL’ dialogue, on the other hand it can be searched 
in a Web Registry Service (WRS), choosing the ‘Search in Schema Registry’ dialogue. 

The web interface provides a selection of the conversion parameters available at the command 
line. There are components to choose whether only public or all elements to be mapped, to include 
the UML models documentation in the result schema and to select the target GML version. The 
parameters are set to reasonable default values. For more information about the conversion 
parameters see section 3.1. 

An additional parameter for the web interface is the ‘GML Application Schema Repository’. The 
selected repository will be the target for the result files generated by the conversion process. 
Default is a FTP-server at interactive instruments.  

Once the source URL is chosen and the parameters are set as required, the conversion process can 
be started by clicking on ‘Convert UML application schema to GML’. This process may last some 
time, dependent on the servers capacity and the model size. Instead of the home page, a new 
page will appear to show the result and provide further options. See 3.2.5 Conversion results for 
details. 

3.2.2 Search Schema Registry 

WRS have the ability to publish and search descriptive information (metadata) of data, services 
and related information objects that can be stored in its catalogue. 

In order to find an appropriate schema, a convenient way is to search for one using a 
catalogue/registry. ShapeChange can connect to an external WRS to search for schemas provided 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  25 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

that the schema metadata follows basic rules described below. ShapeChange can search, show 
information and directly import the URL of a suitable schemas found. 

The metadata for application schemas is defined in the paper ‘OWS-3 Schema Tailoring and 
Maintenance’ as part of the OGC Web Services Phase 3 initiative. As this paper is currently not 
publicly available, an example metadata set shall illustrate a brief response of information returned 
from a WRS.  

The WRS will return the metadata encoded as Dublin Core metadata elements, for example: 
<dc:alternative>Version 0.4_2005-04-01</dc:alternative> 
<dct:created>2005-07-27</dct:created> 

<dc:creator>interactive instruments GmbH+49-228-91410-70ShapeChange@interactive-
instruments.de</dc:creator>  

<dc:description>MSD Level 3 application schema. Automatically created from the NGA Access 
Databases (FACC/DFDD, NGA Feature Catalogue and Mission Specific 
Data).</dc:description>  

<dc:format>digital</dc:format>  
<dc:format>text/xml; subtype="xmi/1.0/iso 19109"</dc:format>  
<dc:identifier>c03321f1-8129-404f-9d2c-e1ebc2cc34bc</dc:identifier>  

<dc:language>en</dc:language>  
<dc:publisher>NGA</dc:publisher>  
<dc:relation>dependsOn urn:uuid:75cbe865-0453-4989-8aa0-91504fa4116d</dc:relation>  
<dc:relation>resource http://interactive-

instruments.de/ows3/repository/xmi/msd3.xml</dc:relation>  
<dc:rights>true</dc:rights>  
<dc:title>MSD Level 3</dc:title>  

<dc:type>Schema</dc:type>  

 

Metadata properties used by ShapeChange: 

• alternative, description and title are vital information for the user that are provides e.g. in 
the ‘basic information’ and search result table 

• identifier for registry requests of known record datasets as, e.g., for ‘More Information’ 

• relation for information of relationships between the datasets (e.g. 
‘partOfApplicationSchema’ for selection of a FeatureTypes parent schema) 

• relation with the ‘resource’ information that provides the URL to the resource 

• type for identification of the records type 

 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  26 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

 
 

To get best record matches the search can be limited to certain metadata properties that can be 
selected from a list. The properties are grouped to search more than one property at once. For 
more information please see the online help on the ‘Search Schema Registry’ page. 

 

 
 

The keywords text field is the central element of the search. It is allowed to use several keywords 
in one search request. To improve the search request special characters are used as wildcards. For 
more information and examples on this, please see the online help. To limit the output of search 
results, the maximum number of records to show can be selected from a list. 

The page can be left undone by clicking the ‘Cancel’ button. It will return to the home page of 
ShapeChange. 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  27 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

3.2.3 Search results 

 
 

For a successful search ShapeChange provides a page with basic information of the metadata 
record sets in a table. More details can be fetched via the ‘More Info’ button. The full metadata for 
the record set will be displayed in a pop-up window. 

If one result set seems to be adequate for the actual purpose, the schema can be accepted via 
‘Select’ button. The URL will be posted to the home page, which will show basic information and 
provide the URL for the conversion. 

Is the result set a FeatureType and, therefore, only part of a schema, the button ‘Show parent 
Schema’ appears. Execution will show information about the parent schema the FeatureType is 
part of in a separate page (‘Show parent Schema’). From this page the schema can be selected to 
post it to the home page, where basic information will be shown. The URL will be shown on the 
home page, too. 

In case of no match the ‘Search results’ page will not display any table. The top of the page will 
inform about the fact that no match was found; as it will display the number of matches for every 
successful search. Another inherent part of the pages is the button set ‘New Search’ and ‘Cancel’ 
that will restart the ‘Search Schema Registry’ page respectively go back to the home page. 

 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  28 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

More information pop-up window 

 
 

Show parent Schema 

 
 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  29 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

Extract of home page with selected URL and basic information 

 
 

A selected URL is shown at the top of the home page. For schemas that were selected from the 
search result, basic information about the schema is displayed. By clicking the ‘Remove schema’ 
button, the URL and associated information are removed; the home page is in its initial state 
again. 

Note that the referenced resource must be accessible to ShapeChange. 

3.2.4 Enter URL 

 
 

To manually enter a source URL identifiying a UML model, this page provides a text field. It is also 
possible to select just one single application schema out of the model. The default is to select all 
application schemas in the UML model; otherwise it is necessary to provide the name of the 
application schema in the second text field. The ‘Select’ button passes the entered information to 
the home page, where they are displayed again. ‘Cancel’ leaves to the home page without 
selection. 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  30 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

3.2.5 Conversion result  

 
 

After the conversion, the ShapeChange web interface shows the result. It informs about success or 
failure of the conversion. In a pop-up window that is loaded automatically, the file 
‘ShapeChangeResult.xml’ displays detailed message information concerning the conversion 
process. Clicking the button ‘Show messages’ provides some of these information in a pop-up 
window in an easier to read text format. 

The resulting XML Schema files are automatically stored in the repository selected in the home 
page. From this repository they are available for download through links in the result page2. 

 

Another feature of ShapeChange is the registration of the newly created schemas in a WRS. It is 
only available for schemas that were converted with the option ‘OWS-3 schema metadata (DDMS)’. 
The result files can be inserted into (‘harvested by’) a WRS directly from the repository where they 
were saved in, by using the button ‘Register’. Feedback from the selected WRS will be reported in 
a new pop-up window for information purpose. A successful registration makes the result available 
to users of the WRS. 

This feature requires the WRS to support the Schema Metadata as created by ShapeChange. For 
more information see the internal OGC document 05-054 (ebRIM-OWS Catalog Profile), created as 
part of OGC Web Services Initiative, Phase 3. 

 

The result pages button ‘Done’ will finally call the initial state of the home page. 

 

                                                 
2  Downloading the result file(s) via right mouse click and “Save as...” in Microsoft Internet Explorer 
may change the file extension. The correct file extension is *.xsd. 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  31 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

Registration result 

 
 

 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  32 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

4 Diagnostic messages 
This chapter lists the diagnostic messages produced by the tool. Text in square brackets are 
placeholders. 

4.1 Fatal Errors 

§ XML parser was unable to be configured for the creation of an XML Schema file. 

§ XML Parser was unable to be configured. 

§ Invalid configuration file. 

§ System error. Stereotype of class [name] is not an allowed value: [stereotype]. 

§ Unable to get a document builder factory. 

§ XMI version must be 1.0, found: [version]. 

§ Exactly only element <XMI> expected. 

§ Metamodel must be UML, found: [model]. 

§ The UML version must be 1.3, found: [version]. 

§ Exactly one element <XMI.metamodel> expected. 

§ No application schema found in the UML model. 

§ Application schema [appSchemaName] not found in the UML model. 

§ Unable to get a document builder factory. 

§ Invalid XMI file. 

4.2 Errors 

§ The package with ID [id] has no name. The ID is used instead. 

§ The class with ID [id] has no name. The ID is used instead. 

§ The attribute with ID [id] has no name. The ID is used instead. 

§ The association with name [name] and ID [id] does not have 2 connections: [n] connections. 
All Roles will be ignored. 

§ The type [name] is neither part of the UML application schema nor does a mapping to a 
predefined type exist. 

§ The type of a property with the name [name] with ID [id] was not found. 

§ The type [name] is not a valid base type. Only feature and data types are supported. 

§ The type [name] is neither part of the UML application schema nor does a mapping to a 
predefined type exist. 

§ The type with ID [id] was not found. 

§ The element [name] is not valid as a head of a substitution group. Only feature and data types 
are supported. 

§ The element [name] is not undefined. Only feature and data types are supported. 

§ The type [name] is neither part of the UML application schema nor does a mapping to a 
predefined type exist. 

§ The supertypes of class [name] are of different categories. This is not supported, the class is 
ignored. 

§ The restriction of UML attribute [name] in class [name] is not legal. The lower multiplicity limit 
is smaller than in the supertype [name]. The minOccurs value has been adjusted. 



 
Mapping UML to GML Application Schemas 

ShapeChange - Architecture and Description 
Page:  33 of 33 

Version:  0.3 

 

Status: Draft < ShapeChange.doc 

 

§ The restriction of the predefined GML property 'name' in class [name] is not legal. Its type is 
not a specialization of the type in AbstractFeatureType. 

§ The restriction of UML attribute [name] in class [name] is not legal. The upper multiplicity limit 
is higher than in the supertype [name]. The maxOccurs value has been adjusted. 

§ The restriction of UML attribute [name] in class [name] is not legal. Its type is not a 
specialization of the type in the supertype [name]. The type has been adjusted. 

§ The restriction of the predefined GML property [name] in class [name] is not legal. The upper 
multiplicity limit is higher than in the supertype [name]. The maxOccurs value has been 
adjusted. 

§ The restriction of the predefined GML property 'description' in class [name] is not legal. Its 
type is not a specialization of the type in AbstractFeatureType. 

§ The class [name] is modeled as an interface, but has supertypes that are instantiable. The 
supertype relationships are ignored. 

§ The class [name] is modeled as a feature or data type, but has at least one supertype of a 
different category. The class is ignored. 

§ The class [name] is modeled as a feature or data type, but has more than one supertype of 
the same kind. All but one (arbitrary) supertypes are ignored. 

§ The class [name] is an enumeration. Generalization relationships are not supported for these 
classes. All such relationships are ignored. 

§ The class [name] is a code list. Generalization relationships are not supported for these 
classes. All such relationships are ignored. 

4.3 Warnings 

§ Stereotype <<[stereotype]>> not supported for UML model elements of type [name]. The 
[name] will be ignored. 

§ The discriminator for the UML generalization with ID [id] is not blank. This generalization is 
ignored. 

§ The restriction of the predefined GML property [name] in class [name] is currently not 
supported. The attribute will be defined in the local namespace. 

4.4 Informational Messages 

§ Restriction of property [name] in class [name] from supertype [name]. 

§ Restriction of property [name] in class [name] from gml:AbstractFeatureType. 

4.5 Other Messages 

In addition, Xerces and Java Runtime error messages may be reported by the tool, for example if 
the XMI file does not validate against the UML13.dtd. 

 



 

 

 

 

 

 

 

 

Mapping UML to GML Application Schemas 

Guidelines and Encoding Rules 
 
 

Version: 0.3 

Date: 10/24/2005 

Status: Draft 

Filename: UGAS-Guidelines-and-Encoding-
Rules.doc 

Path: N/a 

Author: C. Portele 

interactive instruments GmbH 

 

 

 

 

 

 

 

 

 

 

 

 

 



 

 

 

Version Date Changes Editor 

0.1-a 01/11/03 First Draft C. Portele 

0.1-b 05/08/03 Document updated C. Portele 

0.3 10/24/05 Document updated C. Portele 

 

 

Table of Contents 

1 Introduction .....................................................................................................................3 

2 Guidelines for UML Application Schemas .......................................................................4 
2.1 Guidelines with respect to the use of UML ..................................................................... 4 
2.2 Guidelines with respect to XMI ..................................................................................... 4 

3 Encoding Rules .................................................................................................................5 
3.1 General Remarks ......................................................................................................... 5 
3.2 Encoding Rules............................................................................................................ 5 

3.2.1 General encoding requirements ....................................................................... 5 
3.2.2 Input data structure ....................................................................................... 5 
3.2.3 Output data structure ..................................................................................... 5 
3.2.4 Conversion rules............................................................................................. 5 

 

 



 
Mapping UML to GML Application Schemas 

Guidelines and Encoding Rules 
Page:  3 of 6 

Version:  0.3 

 

Status: Draft < UGAS-Guidelines-and-Encoding-Rules.doc 

 

1 Introduction 
This document describes a mapping from an UML Application Schema into a GML Application 
Schema via an XMI representation of the UML Application Schema. The UML Application Schema 
must be conformant to ISO 19109:2005 and follow some additional modeling guidelines described 
in this document. 

This document describes work in progress and the rules have been so far tested in several 
projects. It is based on the definitions of GML 3.1, ISO 19118:2005, ISO/TS 19103, ISO 
19109:2005 as well as drafts documents of ISO 19136 and ISO/TS 19139. Knowledge of these 
documents is required to understand this document. 

 

 



 
Mapping UML to GML Application Schemas 

Guidelines and Encoding Rules 
Page:  4 of 6 

Version:  0.3 

 

Status: Draft < UGAS-Guidelines-and-Encoding-Rules.doc 

 

2 Guidelines for UML Application Schemas 

2.1 Guidelines with respect to the use of UML  

To be a valid input into the mapping the UML Application Schema should conform to GML 3.1 
(ISO/CD 19136) Annex E. In some cases, experimental modelling elements are supported, too, but 
must be activated using non-standard switches.   

NOTE Since GML 3.2 (ISO/DIS 19136) has recently been published for review, support for this 
version will be added in the near future, too.  

2.2 Guidelines with respect to XMI 

To be valid input into the mapping process, the XMI representation of the UML Application Schema 
must conform to the following: 

§ The UML model containing the application schema and all other required model elements shall 
be stored in a single XMI document. 

§ The XMI document shall be well-formed. 

§ The XMI document shall conform with XMI version 1.0. 

§ The XMI document shall be valid, i.e. contain a DOCTYPE declaration and the document must 
validate against this document type definition. This DTD must be the normative DTD that is 
part of UML 1.3. 

§ Only the contents of the <XMI.header> and the <XMI.content> elements are be used by the 
UGAS Tool. All other elements will be ignored. 

 

 

Figure 1 – Export options with the Unisys XMI export tool for Rational Rose 



 
Mapping UML to GML Application Schemas 

Guidelines and Encoding Rules 
Page:  5 of 6 

Version:  0.3 

 

Status: Draft < UGAS-Guidelines-and-Encoding-Rules.doc 

 

3 Encoding Rules 

3.1 General Remarks 

The mapping from an ISO 19109 conformant UML Application Schema to the corresponding GML 
Application Schema is based on a set of encoding rules. These encoding rules are identical with 
those specified in GML 3.1 (ISO/CD 19136) Annex E plus experimental extensions. Only the 
deviations from GML 3.1 and experimental extensions are specified in this document. 

The schema encoding rules are based on the general idea that the class definitions in the 
application schema are mapped to type and element declarations in XML Schema, so that the 
objects in the instance model can be mapped to corresponding element structures in the XML 
document. 

The target version of GML is by default 3.1.1. 

3.2 Encoding Rules 

3.2.1 General encoding requirements 

3.2.1.1 Application schema  

The input Application Schema shall be defined in XMI 1.0 (UML 1.3 DTD) according to the 
guidelines specified in the previous chapter.  

3.2.1.2 Character repertoire and languages 

“UTF-8” will be used as the character encoding of the XML Schema files (with the associated 
character repertoire) in accordance with the XML specification. 

3.2.1.3 Exchange metadata 

n/a 

3.2.1.4 Dataset and object identification 

n/a 

3.2.1.5 Update mechanism  

n/a 

3.2.2 Input data structure 

n/a 

3.2.3 Output data structure 

n/a 

3.2.4 Conversion rules 

The schema conversion rules define how to produce XML Schema documents (XSDs) according to 
an ISO 19109 application schema expressed in UML.  

In addition to the rules specified in GML 3.1 (ISO/CD 19136) the following rules exist: 

- All tagged values that are implicitly or explicitly associated with ShapeChange are mapped to 
appinfo elements of the corresponding model element.  

Example: 
 <complexType name="PAA010Type"> 
  <annotation> 
   <documentation>Mine: An excavation made in the earth for the purpose 
of extracting natural deposits.</documentation> 
   <appinfo> 



 
Mapping UML to GML Application Schemas 

Guidelines and Encoding Rules 
Page:  6 of 6 

Version:  0.3 

 

Status: Draft < UGAS-Guidelines-and-Encoding-Rules.doc 

 

    <sc:taggedValue tag="name">Mine</sc:taggedValue> 
    <sc:taggedValue tag="code">PAA010</sc:taggedValue> 
   </appinfo> 
  </annotation> 
  … 
 </complexType> 

 

In addition, the following, often experimental, options exist: 

- It can be selected whether documentation elements are included in annotation elements in the 
XML Schema files. 

- <<Type>> classes may be mapped to GML objects or features. 

- <<Union>> classes may be mapped to a complexType with a choice or to a group containing 
a choice. 

- Properties may be mapped to local elements or global groups (to support restrictions across 
namespaces - not recommended). 

- Property types for all complexTypes may be added or not.  

- Property-by-value types for all complexTypes may be added or not.  

- <<Enumeration>> classes may be mapped to a named simpleType or to an anonymous 
simpleType. 

- <<CodeList>> classes may be mapped to an extendable enumeration or to a GML Dictionary 

- Restrictions redefining properties may be allowed or prohibited (recommended). 

- Paramterized types Set<T> and Sequence<T> may be supported. 

- Either only packages carrying a tagged value 'xsdDocument' are mapped to an XML Schema 
document or all packages are mapped to an XML Schema document. 

- Schema metadata may be added in an appinfo element of the <xs:schema> element. 
Currently only the experimental schema metadata of the OWS-3 inititative is supported (using 
the DDMS schema). 

 

 

 


	1 Scope
	2 Conformance
	3 Normative references
	4 Terms and definitions
	5 Conventions
	5.1 Symbols (and abbreviated terms)

	6 The ShapeChange tool
	7 Changes to support the OWS-3 requirements

