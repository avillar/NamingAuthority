
 

Open Geospatial Consortium Inc. 
Date: 2006-11-24 

Reference number of this document: OGC® 06-080r1 

Version: 0.1.4 

Category: OpenGIS® Discussion Paper 

Editor: Jerome Gasperi 

 

GML 3.1.1 Application schema for Earth Observation 
products  

 

Copyright © 2006 Open Geospatial Consortium, Inc. All Rights Reserved. 
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

 

Warning 

This proposed document is not yet an OGC Standard. This is an OGC Discussion 
Paper and is therefore not an official position of the OGC membership. It is 
distributed for review and comment. It is subject to change without notice and may 
not be referred to as an OGC Standard.  

Document type : OGC Discussion Paper 
Document subtype : GML Application Schema 
Document stage: Proposed  
Document language: English 

 
 

http://www.opengeospatial.org/legal/


OGC Discussion Paper 

ii 
 

Contents Page 

1 Scope........................................................................................................................1 

2 Compliance ..............................................................................................................1 

3 Normative references ...............................................................................................1 

4 Terms and definitions ..............................................................................................2 

5 Conventions .............................................................................................................3 
5.1 Abbreviated terms ...............................................................................................3 
5.2 Namespace prefix conventions............................................................................4 

6 Overview..................................................................................................................4 
6.1 General concepts .................................................................................................4 
6.2 GML Observation................................................................................................6 

6.2.1 Earth Observation mapping on gml:Observation ...........................................6 
6.3 General rules........................................................................................................7 

6.3.1 Language rules ................................................................................................7 
6.3.2 Extensions rules ..............................................................................................8 

6.3.2.1 Thematic extended namespace............................................................................8 
6.3.2.2 Mission specific extended namespace.................................................................9 

6.3.3 Use of Schematron........................................................................................10 
6.3.3.1 Schematron basics .............................................................................................10 
6.3.3.2 Schematron rules for hma..................................................................................11 

6.3.4 CodeList........................................................................................................12 
6.3.5 Units of measure ...........................................................................................13 
6.3.6 Use of xlink...................................................................................................13 
6.3.7 GML restrictive use ......................................................................................14 

7 EO Products application schemas..........................................................................14 
7.1 General EO product data schema ......................................................................14 

7.1.1 EarthObservationMetadata ...........................................................................17 
7.1.2 EarthObservationEquipment.........................................................................20 
7.1.3 Footprint........................................................................................................23 
7.1.4 EarthObservationResult ................................................................................24 

7.2 Thematic EO product data schema....................................................................27 
7.2.1 Optical EO Product data schema ..................................................................27 
7.2.2 Radar EO Product data schema.....................................................................28 
7.2.3 Atmospheric EO Product data schema .........................................................30 
7.2.4 Mission specific schema : example for Pleiades HR data schema ...............31 

7.3 Issues .................................................................................................................31 
7.4 XML schema documents...................................................................................31 

 



GML Application Schema for EO Products 

 iii
 

Figures Page 
Figure 1 : A layered view of GML EO Products data................................................................ 5 
Figure 2 : A generic GML viewer understand the “gml” vocabulary and thus displays the 

product footprint (gml:extentOf property). With no semantic knowledge on the EO 
product schema, the reader is able to displays the related attributes in an  xpath/value 
fashion ..................................................................................................................................... 6 

Figure 3 : schematron processing for Earth Observation products ....................................... 11 
Figure 4: <hma:EarthObservationType> diagram .............................................................. 15 
Figure 5 : <hma:EarthObservationMetadata> diagram..................................................... 17 
Figure 6 : <hma:EarthObservationEquipment> diagram.................................................. 21 
Figure 7 : <hma:Footprint> diagram ...................................................................................... 23 
Figure 8 : <hma:EarthObservationResult> diagram .......................................................... 24 

Tables Page 
Table 1 : namespace mappings..................................................................................................... 4 
Table 2 : gml:Observation properties mapping within Eart Observation context............Error! 

Bookmark not defined. 
Table 3 : <hma:EarthObservation> fields description ............................................................ 16 
Table 4: <hma:EarthObservationMetadata> fields description................................................ 20 
Table 5: <hma:EarthObservationEquipment> fields descriptionError! Bookmark not defined. 
Table 6: <hma:Footprint> fields description ............................................................................ 24

Table 7: <hma:EarthObservationResult> fields description.............................................. 27
Table 8: <ohr:Acquisition> extension of <hma:Acquisition> ..................................................... 28 

Table 9: <ohr:EarthObservationResult> extension of <hma:EarthObservationResult>.............. 28 

Table 10: <sar:Acquisition> extension of <hma:Acquisition>.................................................... 30 

Table 11: <atm:EarthObservationResult> extension of <hma:EarthObservationResult> ........... 31 

 

 



OGC Discussion Paper 

iv 
 

i. Preface 

This document defines an application schema of the Geography Markup Language 
(GML) version 3.1.1 for describing Earth Observation products (EO products) within the 
HMA (Heterogeneous EO Missions Accessibility) Application Profile for the OGCTM 
Catalogue Services Specification v2.0.0 (with Corrigendum) [OGC 04-021r3] 

Suggested additions, changes, and comments on this draft report are welcome and 
encouraged. Such suggestions may be submitted by email message or by making 
suggested changes in an edited copy of this document. 

ii. Document terms and definitions 

This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008]. In 
particular, the word “shall” (not “must”) is the verb form used to indicate a requirement 
to be strictly followed to conform to this specification. 

iii. Submitting organizations 

This application schema is being submitted to the OGC by the following organizations: 

• ESA – European Space Agency 

• CNES – French Space Agency 

• EUSC 

• Spacebel s.a. 

• Spot Image 
The editors would like to acknowledge that this work is the result of collaboration and 
review of many organizations and would like to thank for the comments and 
contributions from : 

• ASI 

• Conterra 

• DLR 



GML Application Schema for EO Products 

 v
 

• Eumetsat 

• MDA  
 
Note : this does not imply a complete endorsement from these organizations). 

iv. Document contributor contact points 

All questions regarding this submission should be directed to the editor or the submitters: 

Jerome Gasperi (Editor) 
CNES 
jerome.gasperi@cnes.fr 

Contributors: 

Name Organization 
Christophe Dabin CNES 
Patrick Floissac MAGELLIUM (CNES Sub contractor) 
Jolyon Martin ESA 
  

v. Revision history 

Date Release Editor Primary clauses 
modified 

Description 

11 May 2006 0.1.0 Jerome Gasperi N/A Initial document 
29 May 2006 0.1.1 Jerome Gasperi N/A Updated after telecom meeting 
21 August 2006 0.1.2 Jerome Gasperi N/A Update document after Ron 

Lake comments. 
Update document regarding 
version 0.91 of the XML 
schemas 

19 September 2006 0.1.3 Jerome Gasperi N/A Update document regarding 
version 0.92 of the XML 
schema 

24 November 2006 0.1.4 Jerome Gasperi N/A Use of gml:Observation for 
schema description. 
Update document regarding 
version 0.94 of the XML 
schema 

8 December 2006 0.1.4 
06-
080r1 

Jolyon Martin N/A Updated draft re-numbered as 
06-080r1 
Minor update of introduction 

mailto:jerome.gasperi@cnes.fr


OGC Discussion Paper 

vi 
 

vi. Changes to OGC Specifications 

The previously approved OGC® Specifications do not need changes to accommodate the 
technical contents of this document.  

vii. Future work 

At this stage, this document is a working document that will be filled with the 
ongoing work on schemas definition. 

 



GML Application Schema for EO Products 

 vii
 

Foreword 

 

This document specifies an application schema of the existing OGC Implementation 
Specification for the Geographic Markup Language (GML) version 3.1.1 [OGC 03-105r1 
and 04-092r4]. It is a GML application schema as specified in Subclause 23 of [OGC 03-
105r1]. 

Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The OGC shall not be held responsible for identifying any or 
all such patent rights. 



OGC Discussion Paper 

viii 
 

Introduction 

The Geography Markup Language is an XML grammar written in XML Schema for the 
modelling, transport, and storage of geographic information. 
From the GML specification, “GML provides a variety of kinds of objects for describing 
geography including features, coordinate reference systems, geometry, topology, time, 
units of measure and generalized values. A geographic feature is an abstraction of a real 
world phenomenon; it is a geographic feature if it is associated with a location relative to 
the Earth”.  

EO data product collections are usually structured to contain data items derived from a 
sensor onboard a satellite or series of sensors.  The key characteristics differentiating 
these products are date of acquisition, location and in some cases, such as the optical 
imagery, the possible presence of cloud, haze, smokes or other atmospheric or on ground 
phenomena obscuring the image. These are the key characteristics; there are however 
other metadata that are required to identify products of interest.  

From a user point of view, an EO data product can be naturally described with a spatial 
extension (e.g. the geographic footprint of a satellite acquisition) and several attributes 
describing the metadata (e.g. date of acquisition, etc.). Indeed this point of view is 
consistent with a GML representation of the data. 

The intent of this document is to describe a core interface for EO data product described 
as a GML version 3.1.1 application schema that can be supported by many data providers 
(satellite operators, data distributors …).  The metadata described is that which is 
commonly provided through catalogue interfaces, it does not necessarily include all of 
the metadata that is present in the actual EO data product (e.g. calibration coefficients 
etc.). 
 
In addition, this document describes the mechanism used to extend the general core 
interface to thematic EO product such as optical, radar and atmospheric missions and to 
very specific mission such as the French Pleiades mission.



OpenGIS® Discussion Paper GML Application 
Schema for EO Products

 

 1
 

GML 3.1.1 application schema for EO Products 

1 Scope 

This application schema document describes the encodings required to describe Earth 
Observation (EO) products from general to mission specific characteristics. 
 
This document specifies three compliance levels : 

- The general level, or “hma” level, describes the general EO Products schema; 

- The thematic level extends the “hma” level to describes thematic EO Products 
such as optical, radar or atmospheric products (respectively “ohr”, “sar”, “atm” 
levels); 

- The mission specific level extends one of the “thematic” level to describes 
mission specific EO Products. For instance the French Pleiades mission uses the 
“phr” level which extends the “ohr” thematic level. 

2 Compliance 

EO Products data encoded using this application schema shall produce XML documents 
that are fully compliant with normative XML Schema Documents associated with this 
specification (i.e. hma.xsd for general EO Products, ohr.xsd, sar.xsd and atm.xsd for 
optical, radar and atmospheric products respectively).   

More specifically, compliance with this specification shall be checked using all the 
relevant tests specified in Annex A (normative). 

3 Normative references 

The following normative documents contain provisions that, through reference in this 
text, constitute provisions of this document. For dated references, subsequent 
amendments to, or revisions of, any of these publications do not apply. For undated 
references, the latest edition of the normative document referred to applies. 

OGC 03-105r1, OpenGIS Geography Markup Language (GML) Implementation 
Specification, Version 3.1.0, 

OGC 04-092r4, GML 3.1.1 schemas 



OGC Discussion Paper 

2 
 

OGC 05-008, OGC Web Services Common Specification, Version 1.0.0 

OGC 05-010, URNs of definitions in ogc namespace (Recommendation Paper), Version 
1.0.0 

W3C, Extensible Markup Language (XML) 1.0 (Second Edition), W3C 
Recommendation, 6 October 2000, http://www.w3.org/TR/REC-xml

W3C, XML Schema Part 1: Structures, http://www.w3.org/TR/xmlschema-1

W3C, XML Schema Part 2: Datatypes, http://www.w3.org/TR/xmlschema-2

W3C, Namespaces in XML, http://www.w3.org/TR/1999/REC-xml-names-19990114 

In addition to this document, this specification includes several normative XML Schema 
files. Following approval of this document, these schemas will be posted online at the 
URL: TBD. These XML Schema files are also bundled with the present document. In the 
event of a discrepancy between the bundled and online versions of the XML Schema 
files, the online files shall be considered authoritative. 

4 Terms and definitions 

For the purposes of this specification, the definitions specified in Clause 4 of the OWS 
Common Implementation Specification [OGC 05-008] shall apply. In addition, the 
following terms and definitions apply. 

4.1  
client 
software component that can invoke an operation from a server  

4.2  
datastrip 
A satellite acquisition 

4.3  
geographic information 
information concerning phenomena implicitly or explicitly associated with a location 
relative to the Earth [ISO 19128 draft] 

4.4  
identifier 
a character string that may be composed of numbers and characters that is exchanged 
between the client and the server with respect to a specific identity of a resource 

 
4.5  
qualified name 
name that is prefixed with its naming context 

http://www.w3.org/TR/REC-xml
http://www.w3.org/TR/xmlschema-1
http://www.w3.org/TR/xmlschema-2


GML Application Schema for EO Products 

 3
 

EXAMPLE The qualified name for the road no attribute in class Road defined in the Roadmap schema is 
RoadMap.Road.road_no. [ISO 19118]. 

 
4.6  
request 
invocation of an operation by a client 

4.7  
response 
result of an operation, returned from a server to a client 

4.8  
scene 
The cutting of a datastrip into part. For PHR mission, a scene is a 20x20 km^2 square 
part. 

4.9  
schema 
formal description of a model [ISO 19101, ISO 19103, ISO 19109, ISO 19118] 

 

5 Conventions 

5.1 Abbreviated terms 

The abbreviated terms used in this document include: 

ATM Atmospheric 

EO  Earth Observation 

GML Geography Markup Language 

HMA Heterogeneous Mission Accessibility 

OGC Open Geospatial Consortium 

PHR Pleiades High Resolution 

OHR Optical High Resolution 

SAR Synthetic Aperture Radar 

XML eXtensible Markup Language 



OGC Discussion Paper 

4 
 

5.2 Namespace prefix conventions 

The namespace prefixes used in this document are not normative and are merely chosen for 
convenience; they may appear in examples without being formally declared, and have no 
semantic significance. The namespaces to which the prefixes correspond are normative, 
however. 
 

Prefix Namespace URI Description 

hma http://earth.esa.int/hma General EO product schema namespace 

ohr http://earth.esa.int/ohr Optical High Resolution EO product schema 
namespace 

sar http://earth.esa.int/sar Radar EO product schema namespace 

atm http://earth.esa.int/atm Atmospheric EO product schema 
namespace 

phr http://hma.cnes.fr/phr Pleiades High Resolution product schema 
namespace 

Table 1 : namespace mappings 

 

6 Overview 

This section focuses on the purpose of the document. In particular, it describes the 
context of use of the EO Product application schema. 

6.1 General concepts 

Our approach consists in modelling  EO data product through a GML application schema, 
using ISO definitions for attributes where available, although not using the full ISO 
schema for the structural definitions, which would lead to a less efficient overall 
structure. 

The general mechanism is to create a schema with a dedicated namespace for each level 
of specificity from a general description which is common to each EO Product to a 
restricted description for specific mission EO Product. Each level of specificity is an 
extension of the previous one.  

The General EO product schema is the main application schema for EO Product data. It is 
associated with the “hma” namespace. 

Each Thematic EO product schemas extends the “hma” schema : 

- The Optical EO Product schema is used to describe optical products. It is 
associated with the “ohr” namespace; 



GML Application Schema for EO Products 

 5
 

- The SAR EO Product schema is used to describe radar products. It is associated 
with the “sar” namespace; 

- The Atmospheric EO Product schema is used to describe atmospheric products. It 
is associated with the “atm” namespace; 

The idea behind this set of layered levels approach, is  

1) to create an efficient schema set that describes EO Product metadata 
concentrating on the core metadata that key characteristics differentiate a products 
within a collection. 

2) to profit by the widespread use of GML so that our products can be displayed by a 
large variety of  GML viewer from generic one, which will see EO Products as 
features with footprint and “unknown” metadata, to EO Product specific one, 
which will understand the semantic of these metadata (cf. Figure 1) 

 GML 

OHR 

HMA 

SAR ATM 

PHR 

Generic GML Viewer 

General EO Products Viewer 

Thematic EO Products Viewer 

Mission Specific EO Products Viewer 

Generic, widespread community 

Specific, tight community Other Thematic EO 
Products description 

… 

… 

Other Specific Mission 
EO Products description 

 

Figure 1 : A layered view of GML EO Products data.. 

 

More precisely, a generic GML viewer will only understand the “gml” vocabulary of the 
GML document; a “Generic EO Products viewer” will understand the “gml” and “hma” 
vocabulary of the GML document; an “Optical EO Products viewer” will understand the 
“gml”, “hma” and “ohr” vocabulary of the GML document. The “phr” vocabulary will 
only be understood by a “Specific PHR  Viewer” that extends the “Optical EO Products 
Viewer”. 



OGC Discussion Paper 

6 
 

 

Figure 2 : A generic GML viewer understand the “gml” vocabulary and thus displays the product 
footprint (gml:extentOf property). With no semantic knowledge on the EO product schema, the 

reader is able to displays the related attributes in an  xpath/value fashion   

6.2 GML Observation 

An Observation in GML models the act of observing or measuring some quantity. The 
quantity to be measured can be simple (a single temperature), or it may be a complex 
quantity like a Coverage. Remotely sensed images in the sense of their acquisition can be 
viewed as observations in which the result of the observation (value of the resultOf 
property) is a remotely-sensed image product. 

The structure of a GML observation is as follows : 

- metadataProperty – general metadata describing the observation ; 

- validTime - when the observing took place ; 

- using - the mechanism (procedure, instrument etc.) used in the observing ; 

- target - the entity that is the subject or target of the observation ; 

- resultOf - what resulted from the observing. 

6.2.1 Earth Observation mapping on gml:Observation 

We modelled the Earth Observation to fit exactly the gml:Observation structure and 
always have the same first level structure (i.e. gml:using, gml:target, etc.).  



GML Application Schema for EO Products 

 7
 

Thus, the hma namespace contains : 

- hma "words" (i.e. technically speaking global element declaration) : identifier, 
status, dowlinkedTo, etc. This words are referenced inside higher level structure 
(or "blocks", see Table 2) 

- an hma:EarthObservation element that inherits from gml:Observation. This 
inheritance is an XML schema extension (to avoid restriction problems) with no 
element added (because all elements fit inside one of the gml:Observation 
property metadaProperty, validTime, using, target or resultOf)    

The content of gml:Observation properties is  as follows : 

Property Description within Earth 
Observation context 

Awaited Content 

metadaProperty Describe general properties such as the 
data identifier, the downlink and archiving 
information 

hma:EarthObservationMetadata 

validTime Describe the acquisition duration, i.e. the 
start and end date of acquisition 

gml:TimePeriod/gml:beginPosition
gml:TimePeriod/gml:endPosition

using Describe the Platform/Instrument/Sensor 
used for the acquisition and the 
acquisition parameters (i.e. pointing 
angles, etc.) 

hma:EarthObservationEquipment 

target Describe the observed area on ground 
i.e. the footprint of acquisition 

hma:Footprint 

resultOf Describe the Earth Observation result 
composed of the browse, mask and 
product description  

hma:EarthObservationResult 

Table 2: gml:Observation properties mapping within Eart Observation context 

 

The elements hma:EarthObservationMetadata, hma:EarthObservationInstrument, 
hma:Footprint and hma:EarthObservationResult are described in §7. 

6.3 General rules  

We defined the following rules for creating the application schemas. 
 
6.3.1 Language rules 

Natural language used as far as possible for property names. For instance, complete 
names for properties are preferred to abreviations. 
 



OGC Discussion Paper 

8 
 

Property name “composedOf” is used  to define structural links to extended metadata. For 
instance a “phr:Datastrip” is logically splitted into one or more ”phr:Scene”. Thus, each 
Scene in the “phr:Datastrip” schema is referenced with the “hma:composedOf” property. 
 
Property name “subsetOf” is used  to define structural links to “father” metadata. For 
instance in the previous example, the “phr:Datastrip” is referenced within the 
“phr:Scene” by the “hma:subsetOf” property name. 
 
6.3.2  Extensions rules 

As see in §6.2.1, we want each Earth Observation product to fit exactly the structure of a 
gml:Observation element. 
 
Thus, in the inheritance mechanism for thematic or mission specific namespaces, we need 
to extends existing properties defined in hma or create new property that fit inside the 
model. 
 
6.3.2.1 Thematic extended namespace 

Thematic extended namespace (ohr for example) contains : 

- ohr "words"; 

- an ohr:EarthObservation element that inherits from hma:EarthObservation. This 
inheritance is an XML schema extension (to avoid restriction problems) with no 
element added (because all elements fit inside one of the Observation property 
metadaProperty, validTime, using, target or resultOf);  

- one or more extension of existing hma properties (see example below). 

For example, “ohr” thematic EO Products metadata include the solar azimuth angle, 
named  “illuminationAzimuthAngle”. This property is described within ohr:Acquisition 
element which extends and acts as a substitution for hma:Acquisition : 

 
<ohr:EarthObservation> 
  […] 
  <gml:using> 
   <hma:EarthObservationEquipment> 
    […] 
    <hma:acquisitionParameters> 
     <ohr:Acquisition> 
           […] 
           <hma:orbitDirection>ASCENDING</hma:orbitDirection> 
           […] 
           <ohr:illumationAzimuthAngle>56,67</ohr:illumationAzimuthAngle> 
      </ohr:Acquisition> 

               </hma:acquisitionParameters> 
     […] 

   </hma:EarthObservationEquipment> 
  </gml:using> 

   […] 
            </ohr: EarthObservation> 
 



GML Application Schema for EO Products 

 9
 

6.3.2.2 Mission specific extended namespace 

Mission specific extended namespace (phr for example) contains : 

- phr "words"; 

- a phr:EarthObservation element that inherits from ohr:EarthObservation. This 
inheritance is an XML schema extension (to avoid restriction problems) with no 
element added (because all elements fit inside one of the Observation property 
metadaProperty, validTime, using, target or resultOf); 

- one or more extension of existing ohr properties (e.g. in phr, an extension of 
ohr:EarthObservationResult to add cloudCoverPercentageConfidenceIndex). 

 
These rules are closed to those described in the thematic extended namespace. However, 
the property extension approach leads to a drawback in the mission specific case. 
 
Indeed, from a client point of view, an “hma” enabled reader must encounter well-known 
structures under a “hma” properties. This may not be a problem for “hma” and thematics 
schemas since they are completely described in this document (i.e. structure can be “hard 
coded”). 
 
However, a mission specific schema shall follow the rules described in this document but 
the content of this schema is not in the scope of this document. Thus a generic “hma” 
enabled reader shall be able to process complex schema inheritance mechanisms to 
“understand” mission specific data.  
    
To avoid this drawback, we introduce an attribute "hma:type" at the hma level. This 
attribute is required for properties that extends one of hma or thematic property. This 
attribute is expected to contain the name of the property it extends directly. This 
mechanism is comparable to the ISO19139 gco:isoType. 
 
For example for a phr:DataStrip that extends ohr:EarthObservation : 
  

      <phr:DataStrip hma:type="ohr:EarthObservation"> 
           [...] 
           <gml:resultOf> 
                <phr:EarthObservationResult hma:type="ohr:EarthObservationResult"> 
                      <hma:browse> 
                      <hma:product> 
                      <hma:mask> 
                      <ohr:cloudCoverPercentage uom='%'>30</ohr:cloudCoverPercentage> 
                      <phr:cloudCoverAssessmentConfidence uom='%'>10</phr:cloudCoverAssessmentConfidence>   
                 </phr:EarthObservationResult> 
           </gml:resultOf> 
           [...] 
      </phr:DataStrip>  

  
 



OGC Discussion Paper 

10 
 

6.3.3 Use of Schematron 

The gml:Observation properties have a very generic defintion that do not offer sufficient 
content constraints within XML Schema, e.g. : 

- using : any gml Feature; 

- target : any gml Feature or Geometry; 

- resultOf : any gml Object. 

This leads to an Earth Observation model with properties that cannot be tightly validated 
with the XML schema mechanism. 

To clarify, let's take an example. The hma:EarthObservationEquipement feature shall be 
used under the "gml:using" property. Nevertheless, the following documents would 
perfectly validate: 

- a gml:Observation with any other feature that a EarthObservationEquipement 
under the "using" property; 

- a gml:Observation with a "EarthObservationEquipement" under the "resultOf" 
property (since a gml feature inherits from gml object). 

A proposed solution to have tightly validated Earth Observation products is to 
complement XML schema with the use of Schematron. 

6.3.3.1 Schematron basics 

Schematron is a rule-based language that uses XPath to express assertions about the 
content in an XML instance document. This can be done by transforming the Schematron 
schema with a base stylesheet, which turns the schema into an XSLT stylesheet. The 
stylesheet checks the assertions defined by running the XML instance document through 
an XSLT processor. The result of the transformation is a report, in XML format, that 
contains details on which assertions failed along with the comments provided with that 
particular rule in the schema. 

Applied to the Earth Observation products case, this can be summarized in Figure 3. 



GML Application Schema for EO Products 

 11
 

 

Figure 3 : schematron processing for Earth Observation products 

 

The "Part 1 : pre-processing" step is needed to get the validating stylesheet for HMA. It is 
processed from : 

- the schematron basic stylesheet (aka "skeleton stylesheet") from 
http://www.schematron.com slightly modified for hma (i.e. add hma namespaces 
into the skeleton : schematron_skeleton_for_hma.xsl; 

- the schematron schema rules for hma : schematron_rules_for_hma.sch;  

- an XSLT processor. 

We used XMLSpy 2004 as the XSLT processor to generate the validating stylesheet  
schematron_result_for_hma.xsl 

This processing is done only one time. This stylesheet will then be used each time we 
need to validate an HMA XML instance : first an HMA XML instance is validated 
syntaxically and semantically by the HMA XML schema; second it is validated against 
the validating sylesheet. The schematron report indicates if error where found. 

 

6.3.3.2 Schematron rules for hma 

  

http://www.schematron.com/


OGC Discussion Paper 

12 
 

The following rules were defined at the hma level : 

- gml:metadataProperty must contains an hma:EarthObservationMetadata; 

- gml:validTime must contains a gml:TimePeriod/gml:beginPosition and 
gml:TimePeriod/gml:endPosition ; 

- gml:using must contains an hma:EarthObservationEquipement ; 

- gml:target must contains an hma:Footprint ; 

- gml:extentOf must contains a 
gml:Polygon/gml:exterior/gml:LinearRing/gml:posList ; 

- gml:resultOf must contains an hma:EarthObservationResult. 

More generally, the schematron rules for extension in the general case can be 
summarized as follow: 

- if root element is hma:EarthObservation then the whole property are in the hma 
namespace ; 

- if root element is ohr:EarthObservation then the whole property are in the hma 
namespace or in the ohr namespace ; 

- if root element is sar:EarthObservation then the whole property are in the hma 
namespace or in the sar namespace ; 

- if root element is atm:EarthObservation then the whole property are in the hma 
namespace or in the atm namespace ; 

- if root element is xxx:EarthObservation, where xxx is a specific mission 
namespace, then the whole property are in the hma namespace or in the thematic 
namespace extended by xxx (i.e. ohr, sar or atm) or must be defined with a 
hma:type attribute containing explicitely the property it extends directly 

 

6.3.4 CodeList 

Property that shall be described within a given codeSpace shall use the 
<hma:CodeWithAuthorityType>.  Note that this type will be replaced by the incoming 
<gml:CodeWithAuthorityType> (shall be available in GML 3.2). 

 <xs:complexType name="CodeWithAuthorityType"> 
  <xs:annotation> 
   <xs:documentation>From GML 3.2 draft</xs:documentation> 
  </xs:annotation> 
  <xs:simpleContent> 
   <xs:extension base="xs:string"> 
    <xs:attribute name="codeSpace" type="xs:anyURI" use="required"/> 



GML Application Schema for EO Products 

 13
 

   </xs:extension> 
  </xs:simpleContent> 
 </xs:complexType> 
 

Example : to guarantee the uniqueness of the EarthObservationProduct identifier within 
HMA, the  <hma:identifier> includes the ground segment namespace through the codeSpace 
attribute. 

<hma:identifier 
codeSpace="urn:HMA:PHR:catalog:TLS:id">DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_012
34</hma:identifier> 
6.3.5 Units of measure 

Each non-angle property concerned by a unit of measure shall use the existing GML type 
<gml:MeasureType>. 
 
Example : image resolution 
 
 <xs:element name="resolution" type="gml:MeasureType"> 
  <xs:annotation> 
   <xs:documentation>Image resolution</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 
 
Each angle property shall use the existing GML type <gml:AngleType>. 
 
Example : Across Track incidence angle 
 
 <xs:element name="acrossTrackPointingAngle" type="gml:AngleType" minOccurs="0"> 
   <xs:annotation> 
    <xs:documentation>Across Track Incidence angle given in degrees.</xs:documentation> 
   </xs:annotation> 
 </xs:element> 
 
 
 
 
6.3.6 Use of xlink 

Properties that shall only describe an urn shall use the <hma :HrefPropertyType>. This 
complex type is a restriction of <gml:FeaturePropertyType> that only includes the “xlink” 
attribute. 
 
 <xs:complexType name="HrefPropertyType"> 
  <xs:complexContent> 
   <xs:restriction base="gml:FeaturePropertyType"> 
    <xs:sequence/> 
    <xs:attribute ref="xlink:href" use="required"/> 
   </xs:restriction> 
  </xs:complexContent> 
 </xs:complexType> 
 
Properties that shall describe either an urn or the content of that urn shall use an extension 
of  <gml:AbstractFeatureType>. 



OGC Discussion Paper 

14 
 

 
Example : “composedOf” property reference either the urn (xlink attribute) or the GML 
content of an EarthObservationProduct. 
Thus in <hma:EarthObservation> the element “composedOf” is defined as an 
<hma:EarthObservation> which extend <gml:AbstractFeatureType>. 
 
 <xs:element name="composedOf" type="hma:EarthObservationPropertyType"/> 
 <xs:complexType name="EarthObservationPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservation" minOccurs="0"/> 
  </xs:sequence> 
  <xs:attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </xs:complexType> 
 
 
6.3.7 GML restrictive use 

We restricted the use of GML types to those relevant to the EO Products metadata 
description, i.e. : 

- gml:Observation ; 

- gml:Feature ; 

- gml:AngleType ; 

- gml:CodeListType ;  

- gml:MeasureType ; 

- gml:centerOf (expected structure : gml:Point/gml:pos)  ; 

- gml:extentOf (expected structure : gml:Polygon/gml:exterior/gml:LinearRing/gml:posList) 

See chapter 7.3 for discussion about this restrictive use of GML. 

 

7 EO Products application schemas 

7.1 General EO product data schema 

The “hma” schema provides the description of metadata common to all EO Products 
derived from satellite based remote sensing.  
 
The root element of the “hma” schema, named <hma:EarthObservation> extends the 
<gml:ObservationType> type as follows : 

  <xs:element name="EarthObservation" type="hma:EarthObservationType" 
       substitutionGroup="gml:Observation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 



GML Application Schema for EO Products 

 15
 

    <xs:extension base="gml:ObservationType"/> 
   </xs:complexContent> 
  </xs:complexType> 
 

 

Figure 4: <hma:EarthObservationType> diagram 

The “hma” metadata are referenced inside higher level structure (see Table 2) :  

- hma:EarthObservationMetadata; 

- hma:EarthObservationEquipment; 

- hma:Footprint; 

- hma:EarthObservationResult; 

 

Complete description of an EarthObservation element is given in Table 3. 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality

gml:validTime/ 
gml:TimePeriod/ 
gml:beginPosition 
 

Acquisition start date 
time 
dateTime in ISO 8601 
format (CCYY-MM-
DDThh:mm[:ss[.cc]]Z)

MI_AcquisitionInformation/
MI_MissionIdentification/ 
startDate 

no 1 

gml:validTime/ 
gml:TimePeriod/ 

Acquisition end date 
time 
dateTime in ISO 8601 

MI_AcquisitionInformation/
MI_MissionIdentification/ 

no 1 



OGC Discussion Paper 

16 
 

gml:endPosition format (CCYY-MM-
DDThh:mm[:ss[.cc]]Z)

completionDate 

gml:using/ 
hma:EarthObservationEquipment 

Platform/Instrument/S
ensor used for the 
acquisition and the 
acquisition 
parameters (i.e. 
pointing angles, etc.) 

 no 0..1 

gml:target/ 
hma:Footprint 

Observed area on 
ground i.e. the 
footprint of acquisition

 no 0..1 

gml:resultOf/ 
hma:EarthObservationResult 

Earth Observation 
result composed of 
the browse, mask and 
product description 

 no 0..1 

Table 3 : <hma:EarthObservation> fields description



GML Application Schema for EO Products 

 17
 

 

7.1.1 EarthObservationMetadata 

The hma:EarthObservationMetadata block contains all the metadata relative to an 
hma:EarthObservation that do not fit inside one of the other blocks, i.e. metadata that 
don’t describe the time, the mechanism, the location or the result of the observation 
(Figure 5). 

 

Figure 5 : <hma:EarthObservationMetadata> diagram 

 

These metadata are mainly the EarthObservation identifier, the acquisition type and 
information relative to the downlink and archiving centers. Complete description of the 
EarthObservationMetadata is given in Table 4. 



OGC Discussion Paper 

18 
 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality

identifier Identifier for metadata 
item, includes ground 
segment namespace to 
guarantee uniqueness 
within HMA 

 no 1 

doi Digital Object Identifier 
identifying the product 
(see http://www.doi.org) 

 no 0..1 

parentIdentifier Collection Identifier  no 0..1 

acquisitionType Used to distinguish at a 
high level the 
appropriateness of the 
acquisition for "general" 
use, whether the product 
is a nominal acquisition, 
special calibration 
product or other. 

Values: 
      - NOMINAL 
      - CALIBRATION 
      - OTHER 

 no 1 

acquisitionSubType The broad value is 
however too restrictive, 
so mission specific type 
definition should refer to 
mission/ground segment 
dedicated codeSpace 

 no 0..1 

productType Describes product type 
in case that mixed types 
are available within a 
single collection, this is 
ground segment specific 
definition 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_CoverageContentType 

no 1 

status Refers to product status. 

Values : 
      - ARCHIVED 
      - ACQUIRED 
      - PLANNED 
      - POTENTIAL 

MD_Identification/ 
MD_ProgressCode 

no 1 

downlinkedTo/ 
DownlinkInformation/ 
acquisitionStation 

Acquisition / receiving 
station code. Possible 
values are mission 
specific and should be 
retrieved using 

 no 1 

(with 
AcquisitionInf



GML Application Schema for EO Products 

 19
 

codespace. ormation 0..n)

downlinkedTo/ 
DownlinkInformation/ 
acquisitionDate 

Acquisition date time.  no 0..1 

archivedIn/ 
ArchivingInformation/ 
archivingCentre 

Archiving centre code. 
Possible values are 
mission specific 
and should be retrieved 
using codeSpace. 

 no 1 

(with 
ArchivingInfor
mation 0..n) 

archivedIn/ 
ArchivingInformation/ 
archivingDate 

Archiving date time.  no 1 

archivedIn/ 
ArchivingInformation/ 
archivingIdentifier 

Local archiving id as 
created by the mission 
ground segment that 
may required to allow 
subsequent order 
processing 

 no 0..1 

imageQualityCode Quality notation 
percentage (i.e. 
uom=’%’) 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
imageQualityCode 

yes 

(assuming 
ISO code is 

a 
percentage) 

0..1 

histograms/ 
Histogram/ 
bandId 

Histrogram specific : 
identifier of the spectral 
band used to compute 
histogram values 

 no 0.. 1 

(with Histogram 
1..n) 

histograms/ 
Histogram/ 
min 

Histogram specific : 
minimum value 

 no 1 

histograms/ 
Histogram/ 
max 

Histogram specific : 
maximum value 

 no 1 

histograms/ 
Histogram/ 
mean 

Histogram specific : 
mean value 

 no 1 

histograms/ 
Histogram/ 
stdDeviation 

Histogram specific : 
standard deviation value 

 no 1 

processing/ 
ProcessingInformation/ 
compositeType 

Composite type of 
product, if available 

 no 0..n 



OGC Discussion Paper 

20 
 

processing/ 
ProcessingInformation/ 
method 

Method used to compute 
datalayer. (e.g. Kalman 
filtering, ROSE) 

 no 0..n 

processing/ 
ProcessingInformation/ 
methodVersion 

Method version (e.g. 1.0)  no 0..n 

processing/ 
ProcessingInformation/ 
processorName 

Processor sofware name 
(e.g. FastROSE) 

 no 0..n 

processing/ 
ProcessingInformation/ 
processorVersion 

Processor software 
version (e.g. 1.0) 

 no 0..n 

processing/ 
ProcessingInformation/ 
processingLevel 

Processing level applied 
to the product 

 no 0..n 

processing/ 
ProcessingInformation/ 
nativeProductFormat 

Native product format  no 0..n 

vendorSpecific/ 
SpecificInformation/ 
localAttribute 

Container for ad-hoc 
metadata that does not 
merit a mission specific 
schema or extension, the 
localAttribute describes 
the name of the attribute 

 no 1 
 

(with 
SpecificInfor
mation 0..n) 

vendorSpecific/ 
SpecificInformation/ 
localValue 

Container for ad-hoc 
metadata that does not 
merit a mission specific 
schema or extension, the 
localAttribute describes 
the value of the attribute 

 no 1 
 

(with 
SpecificInfor
mation 0..n) 

Table 4 : <hma:EarthObservationMetadata> fields description 

 

7.1.2 EarthObservationEquipment 

The hma:EarthObservationEquipment block contains metadata relative to the mechanism 
used during the EarthObservation (Figure 6). 



GML Application Schema for EO Products 

 21
 

 

Figure 6 : <hma:EarthObservationEquipment> diagram 

 

These metadata describe on one hand the platform, instrument and sensor used for the 
Earthobservation, and, on the other hand, the acquisition parameters of this observation. 
Complete description of the EarthObservationEquipment is given in Table 4. 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality

platform/ 
Platform/ 
shortName 

Platform short name 
(e.g. PHR) 

MD_DataIdentification/ 
MI_DataIdentification/ 
MI_AcquisitionInformation/M
I_PlatformIdentifictation/ 
shortName 

yes 1 

platform/ 
Platform/ 
serialIdentifier 

Platform serial 
identifier (e.g. for PHR 
: 1A) 

MD_DataIdentification/ 
MI_DataIdentification/ 
MI_AcquisitionInformation/M
I_PlatformIdentifictation/ 
serialIdentifier 

yes 0..1 

platform/ 
Platform/ 
orbiteType 

High level 
characterisation of 
main mission types 
(GEO/LEO) 

 no 0..1 

instrument/ 
Instrument/ 
shortName 

Instrument (Sensor) 
name 

MD_DataIdentification/ 
MI_DataIdentification/ 
MI_AcquisitionInformation/ 
MI_PlatformIdentifictation/ 
MI_InstrumentIdentification/
shortName 

yes 1 

sensor/ 
Sensor/ 
sensorType 

Sensor type. This field 
should contain an 
enumeration : 
       - OPTICAL 

MD_CoverageDescription/ 
MI_CoverageDescription/ 
MI_Sensor/ 

yes 0..1 



OGC Discussion Paper 

22 
 

       - RADAR 
       - ALTIMETRIC 
       - ATMOSPHERIC

sensorType 

 

sensor/ 
Sensor/ 
operationalMode 

Sensor mode. 
Possible values are 
mission specific and 
should 
be retrieved using 
codeSpace. (e.g. 
PHR : PA, XS or PX). 

MD_CoverageDescription/ 
MI_CoverageDescription/ 
MI_Sensor/ 
operationalMode 

yes 0..1 

sensor/ 
Sensor/ 
resolution 

Sensor resolution.  no 0..1 

acquisitionParameters/ 
Acquisition/ 
orbitNumber 

Acquisition orbit 
number 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
lastOrbitNumber 

Acquisition last orbit 
number 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
orbitDirection 

Acquisition orbit 
direction (Ascending 
or descending) 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
platformDescending 

no 

( keep text 
rather than 
boolean, 

prefer 
alignment 
with other 
acquisition 

parameters) 

0..1 

acquisitionParameters/ 
Acquisition/ 
ascendingNodeDate 

UTC date and time at 
ascending node of 
orbit 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
ascendingNodeLongitude 

Longitude at 
ascending node of 
orbit 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
orbitDuration 

Actual orbit duration 
in milliseconds 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
accrossTrackPointingAngle 

Acquisition across the 
track incidence angle 
given in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
relativeAzimuth 

no 0..1 

acquisitionParameters/ 
Acquisition/ 
alongTrackPointingAngle 

Acquisition along the 
track incidence angle 
given in degrees (i.e. 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 

no 

(consistency 
in HMA 

0..1 



GML Application Schema for EO Products 

 23
 

uom='deg') TBD between two 
angle 

definitions) 

acquisitionParameters/ 
Acquisition/ 
pointingAngle 

Acquisition global 
incidence angle given 
in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
TBD 

no 

(consistency 
in HMA 

between two 
angle 

definitions) 

0..1 

acquisitionParameters/ 
Acquisition/ 
pitch 

Satellite pitch angle 
given in degrees (i.e. 
uom='deg') 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
roll 

Satellite roll angle 
given in degrees (i.e. 
uom='deg') 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
yaw 

Satellite yaw angle 
given in degrees (i.e. 
uom='deg') 

 no 0..1 

Table 5 : <hma:EarthObservationEquipment> fields description 

 

7.1.3 Footprint 

The hma:Footprint block contains description of  the target location observed during the 
EarthObservation (Figure 7). 

 

 

Figure 7 : <hma:Footprint> diagram 

 

Complete description of  hma:Footprint is given in Table 6. 



OGC Discussion Paper 

24 
 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

extentOf Acquisition footprint 
coordinates, described by 
a closed polygon (last 
point=first point), using 
CRS:WGS84, 
Latitude,Longitude pairs 
(per-WGS84 definition of 
point ordering, not 
necessarily per all WFS 
implementations) 

 no 1 

centerOf Acquisition centre 
coordinates 

MD_CoverageDescription/ 
MI_CoverageDescription/ 
MD_ImageDescription/ 
MI_ImageDescription/ 
nadir 

no 0..1 

Table 6 : <hma:Footprint> fields description 

 

7.1.4 EarthObservationResult 

The hma:EarthObservationResult block contains description of  the result of the 
EarthObservation (Figure 8). 

 

Figure 8 : <hma:EarthObservationResult> diagram 

 

Complete description of  hma:Footprint is given in Table 7. 

 



GML Application Schema for EO Products 

 25
 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

browse/ 
BrowseInformation/ 
type 

Browse type. 

Possible values are : 
    - THUMBNAIL 
    - QUICKLOOK 
    - ALBUM.  

MD_Identification/ 
MD_BrowseGraphic 

? 

no 1 

(with browse 
1..n) 

browse/ 
BrowseInformation/ 
subType 

Browse subType. Value is 
mission specific. Value list 
can be retrieved with 
codeSpace (e.g. For 
MODIS : OPTICAL, 
THERMAL) 

MD_Identification/ 
MD_BrowseGraphic 

? 

no 0..1 

browse/ 
BrowseInformation/ 
referenceSystemIde
ntifier 

Indicates if browse is geo-
referenced, and thus can 
be assumed to be 
displayed directly on a 
map (in which case should 
point to a code space for 
the CRS), when not 
supplied it is assumed that 
the browse is provided in 
"raw" satellite frame of 
reference 

MD_Identification/ 
MD_BrowseGraphic 

? 

no 1 

browse/ 
BrowseInformation/ 
fileName 

Path to the browse image 
(could be any kind of URL 
:  
direct link to the image or 
WMS/WCS interface), it is 
assumed that if a client is 
prepared to "manage" a 
browse delivered by e.g. 
WMS they would parse the 
URL to identify that it 
contains the OGC 
standard SERVICE=WMS 

MD_Identification/ 
MD_BrowseGraphic/ 
fileName 

yes 1 

product/ 
ProductInformation/ 
fileName 

Path to the actual product 
data if available online 
(could be any kind of URL 
:  
direct link to the image or 
WMS/WCS interface), it is 
assumed that if a client is 
prepared to "manage" a 
product delivered by e.g. 
WCS they would parse the 
URL to identify that it 
contains the OGC 
standard SERVICE=WCS 

MD_ServiceIdentification no 

(use 
filename 
definition 

as per 
browse) 

0..1 



OGC Discussion Paper 

26 
 

product/ 
ProductInformation/ 
referenceSystemIde
ntifier 

Indicates if product is geo-
referenced, (in which case 
should point to a code 
space for the CRS), when 
not supplied it is assumed 
that the browse is provided 
in "raw" satellite frame of 
reference 

MD_DataIdentification/ 
MD_SpatialRepresentationT
ypeCode 

(propose adding a code for 
un-georeferenced) (The 
CRS is part the geometry.  
Including it here will create 
maintenance difficulties) 

no 0..1 

product/ 
ProductInformation/ 
version 

Product version MD_DataIdentification 
supplementalInformation 

no 0..1 

product/ 
ProductInformation/ 
size 

Product size (bytes) 
allowing the user to realise 
how long a download is 
likely to take 

MD_DataIdentification 
supplementalInformation 

no 0..1 

mask/ 
MaskInformation/ 
type 

Mask type. Possible 
values are : SNOW, 
CLOUD and QUALITY 

 no 1 

(with 
MaskInformati

on 0..n) 

mask/ 
MaskInformation/ 
format 

Mask format. Possible 
values are : RASTER or 
VECTOR 

 no 1 

(with 
MaskInformati

on 0..n) 

mask/ 
MaskInformation/ 
referenceSystemIde
ntifier 

Indicates if maske is geo-
referenced, and thus can 
be assumed to be 
displayed directly on a 
map (in which case should 
point to a code space for 
the CRS), when not 
supplied it is assumed that 
the mask is provided in 
"raw" satellite frame of 
reference 

 no 0..1 

mask/ 
MaskInformation/ 
fileName 

Path to the mask (could be 
any kind of URL : �direct 
link to the image or 
WMS/WCS interface in 
case of RASTER mask; 
direct link to the file or 
WFS interface in case of 
VECTOR file), it is 
assumed that if a client is 
prepared to "manage" a 
mask delivered by e.g. 
WMS they would parse the 
URL to identify that it 

 no 1 

(with 
MaskInformati

on 0..n) 



GML Application Schema for EO Products 

 27
 

contains the OGC 
standard SERVICE=WMS 

Table 7 : <hma:EarthObservationResult> fields description 

 

7.2 Thematic EO product data schema 

The Thematic EO Product schemas provide the description of  metadata common to 
thematic category of General EO Products derived. Thematic EO Products schemas 
extend the “hma” schema. 
 
7.2.1 Optical EO Product data schema 

The “ohr” schema provide the description of metadata common to all EO Products 
derived from optical satellite based remote sensing. It describes the same fields as the 
“hma” schema plus optical specific fields. 
 
 
As described in §6.3.2.1, the root element of the “ohr” schema, named 
<ohr:EarthObservation> simply extends the <hma:EarthObservationType> type (with no element 
added) : 

  <xs:element name="EarthObservation" type="ohr:EarthObservationType" 
        substitutionGroup="hma:EarthObservation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="hma:EarthObservationType"> 
     <xs:sequence/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 

Two properties are extended from the hma schema : 

- ohr:EarthObservationResults extends hma:EarthObservationResults (Table 8); 

- ohr:Acquisition extends hma:Acquisition (Table 9). 

 

 

 

 

 



OGC Discussion Paper 

28 
 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
ohr:Acquisition/ 
ohr:illuminationAzimuthAngle 

Azimuth angle given 
in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/
MD_ImageDescription/ 
illuminationAzimuth 

yes 0..1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
ohr:Acquisition/ 
ohr:illuminationElevationAngle 

Elevation angle 
given in degrees 
(i.e. uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/
MD_ImageDescription/ 
illuminationElevation 

yes 0..1 

Table 8 : <ohr:Acquisition> extension of <hma:Acquisition> 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

ohr:EarthObservationResult/ 
ohr:cloudCoveragePercentage 

 

Snow cover 
percentage (i.e. 
uom=’%’) 

MD_ContentInformation/ 
MD_CoverageDescription/
MD_ImageDescription/ 
cloudCoveragePercentage 

yes 0..1 

ohr:EarthObservationResult/ 
ohr:cloudCoveragePercentage 

 

Cloud cover 
percentage (i.e. 
uom=’%’) 

 no 0..1 

Table 9 : <ohr:EarthObservationResult> extension of <hma:EarthObservationResult> 

 

7.2.2 Radar EO Product data schema 

The “sar” schema provide the description of metadata common to all EO Products 
derived from radar satellite based remote sensing. It describes the same fields as the 
“hma” schema plus radar specific fields. 
 
As described in §6.3.2.1, the root element of the “sar” schema, named 
<sar:EarthObservation> simply extends the <hma:EarthObservationType> type (with no element 
added) : 

  <xs:element name="EarthObservation" type="sar:EarthObservationType" 
        substitutionGroup="hma:EarthObservation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="hma:EarthObservationType"> 
     <xs:sequence/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 



GML Application Schema for EO Products 

 29
 

 

One property is extended from the hma schema : 

- sar:Acquisition extends hma:Acquisition (Table 10). 

 
Field name Field description ISO 19115-2 definition ISO 

mapping 
Cardinality 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:polarisationMode 

single S, dual D, 
twin T, quad Q, 
UNDEFINED 
Valids : D, Q, S, T, 
UNDEFINED 

MD_CoverageDescription/
MD_RangeDimension/ 
MD_Band/ 
MI_Band/ 
MI_PolarizationCharacteris
tics 

no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:polarisationChannels 

 

polarisation channel 
transmit/receive 
configuration: 
horizontal, vertical. 
Valids:  
- HH  
- HV 
- VH 
- VV 
- HH, VV 
- HH, VH 
- HH, HV 
- VH, VV 
- VH, HV 
- VV, HV 
- HH, VV, HV, VH 
- UNDEFINED 

MD_CoverageDescription/
MD_RangeDimension/ 
MD_Band/ 
MI_Band/ 
MI_PolarizationCharacteris
tics 

no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:antennaLookDirection 

LEFT or RIGHT  no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:minimumIncidenceAngle 

minimum incidence 
angle 

 no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:maximumIncidenceAngle 

maximum incidence 
angle 

 no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:dopplerFrequency 

Doppler Frequency 
of acquisition 

 no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 

TBD  no 0..1 



OGC Discussion Paper 

30 
 

sar:Acquisition/ 
sar:swathId 

Table 10 : <sar:Acquisition> extension of <hma:Acquisition> 

 

7.2.3 Atmospheric EO Product data schema 

The “atm” schema provide the description of metadata common to all EO Products 
derived from atmospheric based remote sensing. It describes the same fields as the “hma” 
schema plus atmospheric specific fields. 
 
As described in §6.3.2.1, the root element of the “atm” schema, named 
<atm:EarthObservation> simply extends the <hma:EarthObservationType> type (with no element 
added) : 

  <xs:element name="EarthObservation" type="atm:EarthObservationType" 
        substitutionGroup="hma:EarthObservation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="hma:EarthObservationType"> 
     <xs:sequence/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 

One property is extended from the hma schema : 

- atm:EarthObservationResult extends hma:EarthObservationResult (Table 11). 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:specy 

Specy contained in 
dataLayer 

 no 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:unit 

Unit of specy in 
dataLayer 

 no 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:highestLocation  

Top height of 
datalayer (in meters)

EX_VerticalExtent/ 
EE_VerticalExtentLocations/
highestLocation 

yes 1 



GML Application Schema for EO Products 

 31
 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:lowestLocation  

Bottom height of 
datalayer (in meters)

EX_VerticalExtent/ 
EE_VerticalExtentLocations/
lowestLocation 

yes 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:algorithmName 

Name of algorithm 
used to compute 
datalayer 

 no 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:algorithmVersion 

Algorithm version 
used to compute 
datalayer 

 no 1 

Table 11 : <atm:EarthObservationResult> extension of <hma:EarthObservationResult> 

 

7.2.4 Mission specific schema : example for Pleiades HR data schema 

The “phr” schema provide the description of Pleiades HR public metadata. It derived 
from optical EO product. 
 
As described in §6.3.2.2, the root element of the “phr” schema, named <phr:DataStrip> 
simply extends the <hma:EarthObservationType> type (with no element added) with the 
addition of the hma:type attribute : 

  <xs:element name="DataStrip" type="phr:DataStripType" 
        substitutionGroup="ohr:EarthObservation"/> 
   
  <xs:complexType name="DataStripType"> 
   <xs:complexContent> 
    <xs:extension base="ohr:EarthObservationType"> 
     <xs:sequence/> 
     <xs:attribute ref="hma:type" use="required"/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 
PHR taxonomy, and mission specific taxonomy in general, is out of the scope of this 
document and is not described in this document. 

7.3 Issues 

Due to the scope of our needs, i.e. Earth Observation, it should be discussed wether or not 
this Application schema should reference a GML subset instead of the complete GML 
definition.   

7.4 XML schema documents 

The different GML application schema are specified in the normative XML Schema 
Documents included in the zip file with this text document, which are named: 



OGC Discussion Paper 

32 
 

a) hma.xsd 
b) atm.xsd 

c) ohr.xsd 

d) sar.xsd 

e) phr_datastrip.xsd 

f) phr_scene.xsd 

All these XML Schema Documents contain documentation of the meaning of each 
element and attribute, and this documentation shall be considered normative as specified 
in Subclause 11.6.3 of [OGC 05-008]. 

These XML Schema Documents are bundled in a zip file with this document. After OGC 
acceptance of a Version 1.0.0 of this specification, these XML Schema Documents will 
also be posted online at the URL TBD. In the event of a discrepancy between the bundled 
and online versions of the XML Schema Documents, the online files shall be considered 
authoritative. 



GML Application Schema for EO Products 

 33
 

Annex A 
(normative) 

 
Abstract test suite 

An abstract test suite is not provided in this version of this Implementation Specification, 
but will be provided in version 1.0.0. 



OGC Discussion Paper 

34 
 

Annex B 
(normative) 

  
Examples using “hma” application schema 

B.1 Introduction 

This annex contains several example XML documents encoded using the “hma” 
application schema. 

B.2 Example of “hma” EO Product 

<?xml version="1.0" encoding="utf-8"?> 
<?xml-stylesheet type="text/xsl" href="schematron_result_for_hma_gml_observation.xsl"?> 
<ohr:EarthObservation gml:id="DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01234" 
xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" 
xmlns:ohr="http://earth.esa.int/ohr" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://earth.esa.int/ohr 
../../hma/0.94/ohr.xsd"> 
 <gml:metaDataProperty> 
  <hma:EarthObservationMetaData> 
  
 <hma:identifier>DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01234</hma:identifier> 
   <hma:acquisitionType>NOMINAL</hma:acquisitionType> 
   <hma:productType>TBD</hma:productType> 
   <hma:status>ACQUIRED</hma:status> 
   <hma:downlinkedTo> 
    <hma:DownlinkInformation> 
     <hma:acquisitionStation 
codeSpace="urn:HMA:PHR:stationCode">TLS</hma:acquisitionStation> 
    </hma:DownlinkInformation> 
   </hma:downlinkedTo> 
   <hma:archivedIn> 
    <hma:ArchivingInformation> 
     <hma:archivingCenter 
codeSpace="urn:HMA:PHR:stationCode">TLS</hma:archivingCenter> 
     <hma:archivingDate>2001-08-22T11:02:47.999</hma:archivingDate> 
    </hma:ArchivingInformation> 
   </hma:archivedIn> 
   <hma:imageQualityCode uom="%">0</hma:imageQualityCode> 
   <hma:processing> 
    <hma:ProcessingInformation/> 
   </hma:processing> 
  </hma:EarthObservationMetaData> 
 </gml:metaDataProperty> 
 <gml:validTime> 
  <gml:TimePeriod> 
   <gml:beginPosition>2001-08-22T11:02:47.000</gml:beginPosition> 
   <gml:endPosition>2001-08-22T11:02:47.999</gml:endPosition> 
  </gml:TimePeriod> 
 </gml:validTime> 
 <gml:using> 
  <hma:EarthObservationEquipment> 
   <hma:platform> 



GML Application Schema for EO Products 

 35
 

    <hma:Platform> 
     <hma:shortName>PHR</hma:shortName> 
     <hma:serialIdentifier>1A</hma:serialIdentifier> 
    </hma:Platform> 
   </hma:platform> 
   <hma:instrument> 
    <hma:Instrument> 
     <hma:shortName>PHR</hma:shortName> 
    </hma:Instrument> 
   </hma:instrument> 
   <hma:sensor> 
    <hma:Sensor> 
     <hma:sensorType>OPTICAL</hma:sensorType> 
     <hma:operationalMode 
codeSpace="urn:HMA:PHR:sensorMode">PX</hma:operationalMode> 
     <hma:resolution uom="m">0.7</hma:resolution> 
    </hma:Sensor> 
   </hma:sensor> 
   <hma:acquisitionParameters> 
    <ohr:Acquisition> 
     <hma:orbitNumber>12</hma:orbitNumber> 
     <hma:lastOrbitNumber>12</hma:lastOrbitNumber> 
     <hma:orbitDirection>ASCENDING</hma:orbitDirection> 
     <hma:acrossTrackPointingAngle uom="deg">-14.0</hma:acrossTrackPointingAngle> 
     <hma:alongTrackPointingAngle uom="deg">-13.9</hma:alongTrackPointingAngle> 
     <hma:pitch uom="deg">0</hma:pitch> 
     <hma:roll uom="deg">0</hma:roll> 
     <hma:yaw uom="deg">0</hma:yaw> 
     <ohr:illuminationAzimuthAngle uom="deg">10</ohr:illuminationAzimuthAngle> 
    </ohr:Acquisition> 
   </hma:acquisitionParameters> 
  </hma:EarthObservationEquipment> 
 </gml:using> 
 <gml:target> 
  <hma:Footprint> 
   <gml:extentOf> 
    <gml:Polygon srsName="EPSG:4326"> 
     <gml:exterior> 
      <gml:LinearRing> 
       <gml:posList>2.1025 43.516667 2.861667 43.381667 2.65 42.862778 1.896944 
42.996389 2.1025 43.516667</gml:posList> 
      </gml:LinearRing> 
     </gml:exterior> 
    </gml:Polygon> 
   </gml:extentOf> 
   <gml:centerOf> 
    <gml:Point srsName="EPSG:4326"> 
     <gml:pos>2.374167 43.190833</gml:pos> 
    </gml:Point> 
   </gml:centerOf> 
  </hma:Footprint> 
 </gml:target> 
 <gml:resultOf> 
  <ohr:EarthObservationResult> 
   <hma:browse> 
    <hma:BrowseInformation> 
     <hma:type>QUICKLOOK</hma:type> 
     <hma:referenceSystemIdentifier 
codeSpace="EPSG">epsg:4326</hma:referenceSystemIdentifier> 
    
 <hma:fileName>http://hma.cnes.fr/catalog/DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01
234.jpg</hma:fileName> 
    </hma:BrowseInformation> 



OGC Discussion Paper 

36 
 

   </hma:browse> 
   <hma:mask> 
    <hma:MaskInformation> 
     <hma:type>CLOUD</hma:type> 
     <hma:format>VECTOR</hma:format> 
    
 <hma:fileName>http://hma.cnes.fr/catalog/DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01
234.gml</hma:fileName> 
    </hma:MaskInformation> 
   </hma:mask> 
   <ohr:cloudCoverPercentage uom="%">30</ohr:cloudCoverPercentage> 
  </ohr:EarthObservationResult> 
 </gml:resultOf> 
</ohr:EarthObservation> 
 

B.3 Example of a “phr” EO Product 

TBD 



GML Application Schema for EO Products 

 37
 

Annex C 
(normative) 

 
Reference schemas for EO Products GML application schemas 

D.1 Application schema for General EO Products 

The following schema document, called hma.xsd, contains elements to describe General 
EO Products using GML 3.1.1 

 
<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema targetNamespace="http://earth.esa.int/hma" xmlns:hma="http://earth.esa.int/hma" 
xmlns:gml="http://www.opengis.net/gml" xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:om="http://www.opengis.net/om" 
elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.94"> 
 <xs:import namespace="http://www.opengis.net/gml" 
schemaLocation="../../gml/3.1.1/base/observation.xsd"/> 
 <xs:import namespace="http://www.opengis.net/gml" 
schemaLocation="../../gml/3.1.1/base/coverage.xsd"/> 
 <xs:import namespace="http://www.opengis.net/gml" 
schemaLocation="../../gml/3.1.1/base/feature.xsd"/> 
 <xs:import namespace="http://www.opengis.net/gml" 
schemaLocation="../../gml/3.1.1/base/measures.xsd"/> 
 <xs:import namespace="http://www.w3.org/1999/xlink" schemaLocation="../../xlink/1.0.0/xlinks.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   EarthObservation : --> 
 <!--     + Inherits from gml:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="hma:EarthObservationType" 
substitutionGroup="gml:Observation"> 
  <xs:annotation> 
   <xs:documentation>HMA root element for generic Earth Observation Product 
description</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:annotation> 
   <xs:documentation>Earth Obervation Product description</xs:documentation> 
  </xs:annotation> 
  <xs:complexContent> 
   <xs:extension base="gml:ObservationType"/> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:complexType name="EarthObservationPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservation" minOccurs="0"/> 
  </xs:sequence> 
  <xs:attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   EarthObservationEquipment : --> 
 <!--     + made of Platform / Instrument / Sensor / Acquisition  --> 
 <!--     + should be found within EarthObservation "using" property --> 
 <!-- ===================================================================== --> 



OGC Discussion Paper 

38 
 

 <xs:element name="EarthObservationEquipment" type="hma:EarthObservationEquipmentType" 
substitutionGroup="gml:_Feature"/> 
 <xs:complexType name="EarthObservationEquipmentType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element name="platform" type="hma:PlatformPropertyType" minOccurs="0"/> 
     <xs:element name="instrument" type="hma:InstrumentPropertyType" minOccurs="0"/> 
     <xs:element name="sensor" type="hma:SensorPropertyType" minOccurs="0"/> 
     <xs:element name="acquisitionParameters" type="hma:AcquisitionPropertyType" 
minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:complexType name="EarthObservationEquipmentPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservationEquipment"/> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  hma:type :  --> 
 <!--    + should be used in extended schema within extended element  --> 
 <!--                e.g. : phr:EarthObservation inherits from ohr:EarthObservation. --> 
 <!--                         the client processing the data should understand that phr:Acquisition extends 
ohr:Acquisition. --> 
 <!--                         using the attribute hma:type : --> 
 <!--                         <phr:Acquisition hma:type="ohr:Acquisition"/>...</phr:Acquisition> --> 
 <!-- ===================================================================== --> 
 <xs:attribute name="type" type="xs:QName"/> 
 <!-- ===================================================================== --> 
 <!--  Archiving Information :  --> 
 <!--    + referenced within the hma:EarthObservationMetadata "archivedIn" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="ArchivingInformation" type="hma:ArchivingInformationType"/> 
 <xs:complexType name="ArchivingInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:ArchivingInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="ArchivingInformationType"> 
  <xs:sequence> 
   <xs:element name="archivingCenter" type="gml:CodeListType"> 
    <xs:annotation> 
     <xs:documentation>Archiving centre code. Possible values are mission specific 
and should be retrieved using codespace. 
  
PHR : value is a valid station code 
HMA/EOLI : N/A</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="archivingDate" type="xs:dateTime"> 
    <xs:annotation> 
     <xs:documentation>Archiving date time</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="archivingIdentifier" type="hma:CodeWithAuthorityType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Local archiving id as created by the mission ground segment that 
may required to allow subsequent order processing</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 



GML Application Schema for EO Products 

 39
 

 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Downlink Information : --> 
 <!--    + referenced within the hma:EarthObservationMetadata "downlinkedTo" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="DownlinkInformation" type="hma:DownlinkInformationType"/> 
 <xs:complexType name="DownlinkInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:DownlinkInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="DownlinkInformationType"> 
  <xs:sequence> 
   <xs:element name="acquisitionStation" type="gml:CodeListType"> 
    <xs:annotation> 
     <xs:documentation>Acquisition / receiving station code. Possible values are mission 
specific and should be retrieved using codespace.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="acquisitionDate" type="xs:dateTime" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Acquisition date time</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   EarthObservationMetaData : --> 
 <!--   + contains properties that do not fit directly inside the observation structure --> 
 <!--     + should be under EarthObservation "gml:metadaProperty" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationMetaData" type="hma:EarthObservationMetaDataType" 
substitutionGroup="gml:_MetaData"/> 
 <xs:complexType name="EarthObservationMetaDataType" mixed="true"> 
  <xs:complexContent mixed="true"> 
   <xs:extension base="gml:AbstractMetaDataType"> 
    <xs:sequence> 
     <xs:element ref="hma:identifier"/> 
     <xs:element ref="hma:doi" minOccurs="0"/> 
     <xs:element ref="hma:parentIdentifier" minOccurs="0"/> 
     <xs:element ref="hma:acquisitionType"/> 
     <xs:element ref="hma:acquisitionSubType" minOccurs="0"/> 
     <xs:element ref="hma:productType"/> 
     <xs:element ref="hma:status"/> 
     <xs:element name="downlinkedTo" type="hma:DownlinkInformationArrayPropertyType" 
minOccurs="0"/> 
     <xs:element name="archivedIn" type="hma:ArchivingInformationArrayPropertyType" 
minOccurs="0"/> 
     <xs:element ref="hma:imageQualityCode" minOccurs="0"/> 
     <xs:element ref="hma:histograms" minOccurs="0"/> 
     <xs:element name="processing" type="hma:ProcessingInformationPropertyType" 
minOccurs="0"/> 
     <xs:element name="vendorSpecific" type="hma:SpecificInformationArrayPropertyType" 
minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Acquisition : --> 
 <!--     + referenced within the EarthObservationEquipment --> 
 <!-- ===================================================================== --> 
 <xs:element name="Acquisition" type="hma:AcquisitionType"/> 



OGC Discussion Paper 

40 
 

 <xs:complexType name="AcquisitionPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Acquisition"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="AcquisitionType"> 
  <xs:sequence> 
   <xs:element name="orbitNumber" type="xs:int" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>EOLI : orbit (F B b s)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="lastOrbitNumber" type="xs:int" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>EOLI : lastOrbit (F)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="orbitDirection" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>EOLI : orbitDir (F B b s)</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="ASCENDING"/> 
      <xs:enumeration value="DESCENDING"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="ascendingNodeDate" type="xs:dateTime" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>UTC date and time at ascending node of orbit</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="ascendingNodeLongitude" type="xs:double" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Longitude at ascending node of orbit</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="orbitDuration" type="xs:double" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Actual orbit duration in milliseconds</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="acrossTrackPointingAngle" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Across Track Incidence angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="alongTrackPointingAngle" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Along Track Incidence angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="pointingAngle" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Global Incidence angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="pitch" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Pitch angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 



GML Application Schema for EO Products 

 41
 

   <xs:element name="roll" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Roll angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="yaw" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Yaw angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Platform / Instrument / Sensor / Acquisition : --> 
 <!--     + should be found within EarthObservation : --> 
 <!--       - "procedure" property (O&M Observation mapping) --> 
 <!--       - "using" property (GML Observation mapping) --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="PlatformPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Platform"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="InstrumentPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Instrument"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="SensorPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Sensor"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Platform" type="hma:PlatformType"/> 
 <xs:complexType name="PlatformType"> 
  <xs:sequence> 
   <xs:element name="shortName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Platform short name (eg. PHR) </xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="serialIdentifier" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Platform serial identifier (eg. for PHR : 1A)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="orbitType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>High level characterisation of main mission types 
(GEO/LEO)</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="GEO"/> 
      <xs:enumeration value="LEO"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Instrument" type="hma:InstrumentType"/> 
 <xs:complexType name="InstrumentType"> 
  <xs:sequence> 



OGC Discussion Paper 

42 
 

   <xs:element name="shortName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Instrument short name 
 
EOLI : instShNm</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Sensor" type="hma:SensorType"/> 
 <xs:complexType name="SensorType"> 
  <xs:sequence> 
   <xs:element name="sensorType" type="hma:SensorTypePropertyType" minOccurs="0"/> 
   <xs:element name="operationalMode" type="gml:CodeListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Sensor mode. Possible values are mission specific and should 
be retrieved using codespace. (eg. PHR : PA, XS or PX).</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="resolution" type="gml:MeasureType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Image resolution</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:simpleType name="SensorTypePropertyType"> 
  <xs:restriction base="xs:string"> 
   <xs:enumeration value="ALTIMETRIC"/> 
   <xs:enumeration value="ATMOSPHERIC"/> 
   <xs:enumeration value="OPTICAL"/> 
   <xs:enumeration value="RADAR"/> 
  </xs:restriction> 
 </xs:simpleType> 
 <!-- ===================================================================== --> 
 <!--  EarthObservationResult Feature : --> 
 <!--    + this feature defines the observation result, i.e. the Earth Observation Product --> 
 <!--    + should be found within EarthObservation "result" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationResult" type="hma:EarthObservationResultType" 
substitutionGroup="gml:_Feature"> 
  <xs:annotation> 
   <xs:documentation>Defines the observation result, i.e. the Earth Observation 
Product</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationResultType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element name="browse" type="hma:BrowseInformationArrayPropertyType" 
minOccurs="0"/> 
     <xs:element name="product" type="hma:ProductInformationArrayPropertyType" 
minOccurs="0"/> 
     <xs:element name="mask" type="hma:MaskInformationArrayPropertyType" 
minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:complexType name="EarthObservationResultPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservationResult"/> 



GML Application Schema for EO Products 

 43
 

  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Footprint  Feature : --> 
 <!--    + this feature defines the acquisition footprint i.e. what is observed by the Instrument --> 
 <!--    + should be found within EarthObservation "featureOfInterest" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="Footprint" type="hma:FootprintType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 
   <xs:documentation>Defines the acquisition footprint, i.e. the region observed by the 
Instrument</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="FootprintType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element ref="gml:extentOf"> 
      <xs:annotation> 
       <xs:documentation>Acquisition footprint coordinates, described by a closed 
polygon (last point=first point), using CRS:WGS84, Latitude,Longitude pairs (per-WGS84 definition of point 
ordering, not necessarily per all WFS implementations). Expected structure is 
gml:Polygon/gml:exterior/gml:LinearRing/gml:posList. 
 
HMA/EOLI : polygon/coordinates (F B b s) 
       </xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element ref="gml:centerOf" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Acquisition center coordinates.  Expected structure is 
gml:Point/gml:pos. 
 
HMA/EOLI : scCenter/coordinates (F B b s)</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   BrowseInformation  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="BrowseInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:BrowseInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="BrowseInformation" type="hma:BrowseInformationType"/> 
 <xs:complexType name="BrowseInformationType"> 
  <xs:sequence> 
   <xs:element name="type"> 
    <xs:annotation> 
     <xs:documentation>Browse type. Possible values are : THUMBNAIL, QUICKLOOK and 
ALBUM. </xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="THUMBNAIL"/> 
      <xs:enumeration value="QUICKLOOK"/> 
      <xs:enumeration value="ALBUM"/> 
     </xs:restriction> 
    </xs:simpleType> 



OGC Discussion Paper 

44 
 

   </xs:element> 
   <xs:element name="subType" type="gml:CodeListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Value is mission specific. Value list can be retrieved with codeSpace. 
Not used by PHR. For MODIS : OPTICAL, THERMAL</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="referenceSystemIdentifier" type="hma:CodeWithAuthorityType"> 
    <xs:annotation> 
     <xs:documentation>Indicates if browse is geo-referenced, and thus can be assumed to 
be displayed directly on a map (in which case should point to a code space for the CRS), when not supplied 
it is assumed that the browse is provided in "raw" satellite frame of reference</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="fileName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Path to the browse image (could be any kind of URL :  
direct link to the image or WMS/WCS interface), it is assumed that if a client is prepared to "manage" a 
browse delivered by e.g. WMS they would parse the URL to identify that it contains the OGC standard 
SERVICE=WMS</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   ProductInformation  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="ProductInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:ProductInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="ProductInformation" type="hma:ProductInformationType"/> 
 <xs:complexType name="ProductInformationType"> 
  <xs:sequence> 
   <xs:element name="referenceSystemIdentifier" type="hma:CodeWithAuthorityType" 
minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Indicates if product is geo-referenced, (in which case should point to 
a code space for the CRS), when not supplied it is assumed that the browse is provided in "raw" satellite 
frame of reference</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="fileName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Path to the actual product data if available online (could be any kind 
of URL :  
direct link to the image or WMS/WCS interface), it is assumed that if a client is prepared to "manage" a 
product delivered by e.g. WCS they would parse the URL to identify that it contains the OGC standard 
SERVICE=WCS</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="version" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Product version</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="size" type="gml:MeasureListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Product size (bytes) allowing the user to realise how long a download 
is likely to take</xs:documentation> 
    </xs:annotation> 
   </xs:element> 



GML Application Schema for EO Products 

 45
 

  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Processing Information  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="ProcessingInformationPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:ProcessingInformation"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="ProcessingInformation" type="hma:ProcessingInformationType"/> 
 <xs:complexType name="ProcessingInformationType"> 
  <xs:sequence> 
   <xs:element name="compositeType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Composite type of product, if available</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="DAILY"/> 
      <xs:enumeration value="WEEKLY"/> 
      <xs:enumeration value="MONTHLY"/> 
      <xs:enumeration value=""/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="method" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Method used to compute datalayer. (e.g. Kalman filtering, 
ROSE)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="methodVersion" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Method version (e.g. 1.0)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="processorName" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Processor sofware name (e.g. FastROSE)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="processorVersion" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Processor software version (e.g. 1.0)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="processingLevel" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Processing level applied to the product</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="1A"/> 
      <xs:enumeration value="1B"/> 
      <xs:enumeration value="2"/> 
      <xs:enumeration value="3"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="nativeProductFormat" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Native product format</xs:documentation> 



OGC Discussion Paper 

46 
 

    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Histograms  --> 
 <!-- ===================================================================== --> 
 <xs:element name="histograms" type="hma:HistogramArrayPropertyType"/> 
 <xs:element name="Histogram" type="hma:HistogramType" substitutionGroup="gml:_Object"/> 
 <xs:complexType name="HistogramArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Histogram" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="HistogramType"> 
  <xs:sequence> 
   <xs:element name="bandId" type="xs:string" minOccurs="0"/> 
   <xs:element name="min" type="xs:int"/> 
   <xs:element name="max" type="xs:int"/> 
   <xs:element name="mean" type="xs:double"/> 
   <xs:element name="stdDeviation" type="xs:double"/> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Masks information  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="MaskInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:MaskInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="MaskInformation" type="hma:MaskInformationType"/> 
 <xs:complexType name="MaskInformationType"> 
  <xs:sequence> 
   <xs:element name="type"> 
    <xs:annotation> 
     <xs:documentation>Mask type. Possible values are : SNOW, CLOUD and 
QUALITY</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="SNOW"/> 
      <xs:enumeration value="CLOUD"/> 
      <xs:enumeration value="QUALITY"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="format"> 
    <xs:annotation> 
     <xs:documentation>Mask format. Possible values are : RASTER or 
VECTOR</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="RASTER"/> 
      <xs:enumeration value="VECTOR"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="referenceSystemIdentifier" type="hma:CodeWithAuthorityType" 
minOccurs="0"> 
    <xs:annotation> 



GML Application Schema for EO Products 

 47
 

     <xs:documentation>Indicates if mask is geo-referenced, and thus can be assumed to be 
displayed directly on a map (in which case should point to a code space for the CRS), when not supplied it is 
assumed that the mask is provided in "raw" satellite frame of reference</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="fileName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Path to the mask (could be any kind of URL :  
direct link to the image or WMS/WCS interface in case of RASTER mask; direct link to the file or WFS 
interface in case of VECTOR file), it is assumed that if a client is prepared to "manage" a mask delivered by 
e.g. WMS they would parse the URL to identify that it contains the OGC standard 
SERVICE=WMS</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- --> 
 <!-- --> 
 <!-- ===================================================================== --> 
 <!--   Mask  Feature  --> 
 <!-- ===================================================================== --> 
 <xs:element name="Mask" type="hma:MaskType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 
   <xs:documentation>Mask defined as a feature collection (in the GML 3.2 sense : a feature 
collection is a feature having a property derived by extension from gml:AbstractFeatureMemberType). 
Mandates the following optional gml properties inherited from gml:_Feature : 
- gml:id attribute 
- gml:name 
- gml:boundedBy 
 
Note : the upcoming gml:identifier will replace hma:identifier in GML 3.2</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="MaskType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element ref="hma:maskMembers"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:element name="maskMembers" type="hma:MaskMembersPropertyType"/> 
 <xs:complexType name="MaskMembersPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:MaskFeature" minOccurs="0" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="MaskFeature" type="hma:MaskFeatureType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 
   <xs:documentation>Mask member : . Mandates the following optional gml properties inherited 
from gml:_Feature : 
- gml:id attribute 
- gml:name 
- gml:boundedBy 
 
Note : the upcoming gml:identifier will replace hma:identifier in GML 3.2</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="MaskFeatureType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 



OGC Discussion Paper 

48 
 

     <xs:element name="maskType" type="hma:CodeWithAuthorityType"> 
      <xs:annotation> 
       <xs:documentation>Mask type. Value list can be retrieved with 
codeSpace</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element ref="gml:extentOf"> 
      <xs:annotation> 
       <xs:documentation>Mask member extent. Expected structure is 
gml:Polygon/gml:exterior/gml:LinearRing/gml:posList with 0 to n 
gml:Polygon/gml:interior/gml:LinearRing/gml:posList elements representing the holes.</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Specific information object :  --> 
 <!--      + should be used to add specific information to a generic EarthObservation --> 
 <!--          description. --> 
 <!--      + inheritance mechanism (thematic/specific) is prefered to the use of this object --> 
 <!-- ===================================================================== --> 
 <xs:element name="SpecificInformation" type="hma:SpecificInformationType"/> 
 <xs:complexType name="SpecificInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:SpecificInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="SpecificInformationType"> 
  <xs:sequence> 
   <xs:element name="localAttribute" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Container for ad-hoc metadata that does not merit a mission specific 
schema or extension, the localAttribute describes the name of the attribute</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="localValue" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Container for ad-hoc metadata that does not merit a mission specific 
schema or extension, the localAttribute describes the value of the attribute</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous properties  --> 
 <!-- ===================================================================== --> 
 <xs:element name="identifier"> 
  <xs:annotation> 
   <xs:documentation>Identifier for metadata item, includes ground segment codespace to 
guarantee uniqueness within HMA :  
urn:HMA:GS:CollectionId:ProductId</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"/> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="doi"> 
  <xs:annotation> 
   <xs:documentation>Digital Object Identifier identifying the product</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 



GML Application Schema for EO Products 

 49
 

   <xs:restriction base="xs:string"/> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="parentIdentifier"> 
  <xs:annotation> 
   <xs:documentation>Collection identifier</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"/> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="status"> 
  <xs:annotation> 
   <xs:documentation>Refers to product status. PHR : always "ACQUIRED"</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:enumeration value="ACQUIRED"/> 
    <xs:enumeration value="ARCHIVED"/> 
    <xs:enumeration value="PLANNED"/> 
    <xs:enumeration value="POTENTIAL"/> 
   </xs:restriction> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="acquisitionType"> 
  <xs:annotation> 
   <xs:documentation>Used to distinguish at a high level the appropriateness of the acquisition for 
"general" use, whether the product is a nominal acquisition, special calibration product or other. Values: 
      - NOMINAL 
      - CALIBRATION 
      - OTHER 
       
More specific information (i.e. platform and sensor specific values) are expressed within the imageSubType 
tag.</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:enumeration value="NOMINAL"/> 
    <xs:enumeration value="CALIBRATION"/> 
    <xs:enumeration value="OTHER"/> 
   </xs:restriction> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="acquisitionSubType" type="gml:CodeListType"> 
  <xs:annotation> 
   <xs:documentation>The mission specific type definition should refer to mission/ground segment 
dedicated codeSpace.    
PHR values are :  
"CALIBRATION - UNNORMALIZED" 
"CALIBRATION - DARKNESS SEQUENCE" 
"CALIBRATION - ASTRAL" 
"CALIBRATION - AMETHIST" 
"CALIBRATION - REFOCUSING SEQUENCE" 
"MTSR MODE" 
"DAS FILE" 
"SPECIFIC-1" 
"SPECIFIC-2" 
"SPECIFIC-3" 
"SPECIFIC-4"               
      </xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="productType" type="xs:string"> 



OGC Discussion Paper 

50 
 

  <xs:annotation> 
   <xs:documentation>Describes product type in case that mixed types are available within a single 
collection. This is ground segment specific definition</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="imageQualityCode" type="gml:MeasureType"> 
  <xs:annotation> 
   <xs:documentation>Must be expressed in percents. EOLI N/A (attTypes/attName 
?)</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="composedOf" type="hma:EarthObservationPropertyType"/> 
 <xs:element name="subsetOf" type="hma:EarthObservationPropertyType"/> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous types  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="CodeWithAuthorityType"> 
  <xs:annotation> 
   <xs:documentation>From GML 3.2 draft</xs:documentation> 
  </xs:annotation> 
  <xs:simpleContent> 
   <xs:extension base="xs:string"> 
    <xs:attribute name="codeSpace" type="xs:anyURI" use="required"/> 
   </xs:extension> 
  </xs:simpleContent> 
 </xs:complexType> 
</xs:schema> 
 
 

 



GML Application Schema for EO Products 

 51
 

D.2 Application schema for Thematic Optical EO Products 

The following schema document, called ohr.xsd, contains elements to describe Thematic 
Optical EO Products using GML 3.1.1 

<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema targetNamespace="http://earth.esa.int/ohr" xmlns:ohr="http://earth.esa.int/ohr" 
xmlns:hma="http://earth.esa.int/hma" xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xs="http://www.w3.org/2001/XMLSchema" 
elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.94"> 
 <xs:import namespace="http://earth.esa.int/hma" schemaLocation="./hma.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   Optical EarthObservation :  --> 
 <!--     + Inherits from hma:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="ohr:EarthObservationType" 
substitutionGroup="hma:EarthObservation"> 
  <xs:annotation> 
   <xs:documentation>HMA root element for Optical Earth Observation Product 
description</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationType"> 
    <xs:sequence/> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  EarthObservationResult Feature : --> 
 <!--    + this feature extends hma:EarthObservationResult --> 
 <!--    + should be found within EarthObservation "result" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationResult" type="ohr:EarthObservationResultType" 
substitutionGroup="hma:EarthObservationResult"/> 
 <xs:complexType name="EarthObservationResultType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationResultType"> 
    <xs:sequence> 
     <xs:element name="cloudCoverPercentage" type="gml:MeasureType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Must be expressed in percents</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element name="snowCoverPercentage" type="gml:MeasureType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Must be expressed in percents</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Acquisition  : --> 
 <!--    + this feature extends hma:Acquisition --> 
 <!-- ===================================================================== --> 
 <xs:element name="Acquisition" type="ohr:AcquisitionType" substitutionGroup="hma:Acquisition"/> 
 <xs:complexType name="AcquisitionType"> 
  <xs:complexContent> 



OGC Discussion Paper 

52 
 

   <xs:extension base="hma:AcquisitionType"> 
    <xs:sequence> 
     <xs:element name="illuminationAzimuthAngle" type="gml:AngleType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Solar Azimuth angle given in degrees. EOLI : illAziAng 
(F)</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element name="illuminationElevationAngle" type="gml:AngleType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Solar Elevation angle given in degrees. EOLI : illElevAng 
(F)</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
</xs:schema> 
 
 
 
 
 
 



GML Application Schema for EO Products 

 53
 

D.3 Application schema for Thematic Radar EO Products 

The following schema document, called sar.xsd, contains elements to describe Thematic 
Radar EO Products using GML 3.1.1 

<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema targetNamespace="http://earth.esa.int/sar" xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" 
xmlns:hma="http://earth.esa.int/hma" xmlns:sar="http://earth.esa.int/sar" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="0.94"> 
 <xs:import namespace="http://earth.esa.int/hma" schemaLocation="./hma.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   SAR EarthObservation :  --> 
 <!--     + Inherits from hma:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="sar:EarthObservationType" 
substitutionGroup="hma:EarthObservation"> 
  <xs:annotation> 
   <xs:documentation>HMA root element for SAR Earth Observation Product 
description.Namespace for SAR products EarthObservationProduct. This is a first minimum set suggested 
by DLR. The configuration of EOWEB User Services for TerraSAR-X is ongoing as well as the definition of 
Feature applicable to catalogue services. Sources: DLR TerraSAR-X PGS SAR L1B Archive Product 
Specification, SAR Raw Exchange Product Specification</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationType"> 
    <xs:sequence/> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Acquisition  : --> 
 <!--    + this feature extends hma:Acquisition --> 
 <!-- ===================================================================== --> 
 <xs:element name="Acquisition" type="sar:AcquisitionType" substitutionGroup="hma:Acquisition"/> 
 <xs:complexType name="AcquisitionType"> 
  <xs:complexContent> 
   <xs:extension base="hma:AcquisitionType"> 
    <xs:sequence> 
     <xs:element ref="sar:polarisationMode" minOccurs="0"/> 
     <xs:element ref="sar:polarisationChannels" minOccurs="0"/> 
     <xs:element ref="sar:antennaLookDirection" minOccurs="0"/> 
     <xs:element ref="sar:minimumIncidenceAngle" minOccurs="0"/> 
     <xs:element ref="sar:maximumIncidenceAngle" minOccurs="0"/> 
     <xs:element ref="sar:dopplerFrequency" minOccurs="0"/> 
     <xs:element ref="sar:beam" minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous properties  --> 
 <!-- ===================================================================== --> 
 <xs:element name="polarisationMode" type="sar:PolarisationModePropertyType"> 
  <xs:annotation> 
   <xs:documentation>single S, dual D, twin T, quad Q, UNDEFINED</xs:documentation> 
  </xs:annotation> 
 </xs:element> 



OGC Discussion Paper 

54 
 

 <xs:element name="polarisationChannels" type="sar:PolarisationChannelsPropertyType"> 
  <xs:annotation> 
   <xs:documentation>Polarisation channel transmit/receive configuration: horizontal, 
vertical.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="antennaLookDirection"> 
  <xs:annotation> 
   <xs:documentation>Polarisation channel transmit/receive configuration: horizontal, 
vertical.</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:enumeration value="LEFT"/> 
    <xs:enumeration value="RIGHT"/> 
   </xs:restriction> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="minimumIncidenceAngle" type="gml:AngleType"> 
  <xs:annotation> 
   <xs:documentation>Minimum Incidence angle.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="maximumIncidenceAngle" type="gml:AngleType"> 
  <xs:annotation> 
   <xs:documentation>Maximum Incidence angle.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="dopplerFrequency" type="gml:MeasureType"> 
  <xs:annotation> 
   <xs:documentation>Doppler Frequency of acquisition.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="beam" type="xs:string"/> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous types  --> 
 <!-- ===================================================================== --> 
 <xs:simpleType name="PolarisationChannelsPropertyType"> 
  <xs:restriction base="xs:string"> 
   <xs:enumeration value="HH"/> 
   <xs:enumeration value="VH"/> 
   <xs:enumeration value="VV"/> 
   <xs:enumeration value="HH, VV"/> 
   <xs:enumeration value="HH, VH"/> 
   <xs:enumeration value="HH, HV"/> 
   <xs:enumeration value="HV, VV"/> 
   <xs:enumeration value="VH, VV"/> 
   <xs:enumeration value="VH, HV"/> 
   <xs:enumeration value="VH, HV"/> 
   <xs:enumeration value="HH, VV, HV, VH"/> 
   <xs:enumeration value="UNDEFINED"/> 
  </xs:restriction> 
 </xs:simpleType> 
 <xs:simpleType name="PolarisationModePropertyType"> 
  <xs:restriction base="xs:string"> 
   <xs:enumeration value="D"/> 
   <xs:enumeration value="Q"/> 
   <xs:enumeration value="S"/> 
   <xs:enumeration value="T"/> 
   <xs:enumeration value="UNDEFINED"/> 
  </xs:restriction> 
 </xs:simpleType> 
 <xs:element name="acquiredBy" type="sar:SensorPropertyType"/> 



GML Application Schema for EO Products 

 55
 

 <xs:complexType name="SensorPropertyType"> 
  <xs:sequence> 
   <xs:element ref="sar:Sensor"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Sensor" type="sar:SensorType"/> 
 <xs:complexType name="SensorType"> 
  <xs:sequence> 
   <xs:element name="swathIdentifier" type="gml:CodeListType"> 
    <xs:annotation> 
     <xs:documentation>Swath identifier (e.g. Envisat ASAR has 7 distinct swaths 
(I1,I2,I3...I7) that correspond to precise incidence angles for the sensor). Value list can be retrieved with 
codeSpace.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
</xs:schema> 
 
 
 
 
 
 
 
 



OGC Discussion Paper 

56 
 

D.4 Application schema for Specific Pleiades EO Products 

The following schema document, called atm.xsd, contains elements to describe Thematic 
Atmospheric EO Products using GML 3.1.1 

<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema targetNamespace="http://earth.esa.int/atm" xmlns:xs="http://www.w3.org/2001/XMLSchema" 
xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" 
xmlns:hma="http://earth.esa.int/hma" xmlns:atm="http://earth.esa.int/atm" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="0.94"> 
 <xs:import namespace="http://earth.esa.int/hma" schemaLocation="./hma.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   Atmospheric EarthObservation :  --> 
 <!--     + Inherits from hma:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="atm:EarthObservationType" 
substitutionGroup="hma:EarthObservation"> 
  <xs:annotation> 
   <xs:documentation>Namespace for Atmospheric products 
EarthObservationProduct.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationType"> 
    <xs:sequence/> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  EarthObservationResult Feature : --> 
 <!--    + this feature extends hma:EarthObservationResult --> 
 <!--    + should be found within EarthObservation "result" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationResult" type="atm:EarthObservationResultType" 
substitutionGroup="hma:EarthObservationResult"/> 
 <xs:complexType name="EarthObservationResultType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationResultType"> 
    <xs:sequence> 
     <xs:element ref="atm:dataLayers" minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Datalayers  --> 
 <!-- ===================================================================== --> 
 <xs:element name="dataLayers" type="atm:DataLayerPropertyType"/> 
 <xs:complexType name="DataLayerPropertyType"> 
  <xs:sequence> 
   <xs:element ref="atm:DataLayer" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="DataLayer" type="atm:DataLayerType"/> 
 <xs:complexType name="DataLayerType"> 
  <xs:sequence> 
   <xs:element name="specy" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Specy contained in data layer</xs:documentation> 



GML Application Schema for EO Products 

 57
 

    </xs:annotation> 
   </xs:element> 
   <xs:element name="unit" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Unit of specy in data layer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="highestLocation" type="gml:MeasureType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Top height of datalayer. Should be expressed in 
meters.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="lowestLocation" type="gml:MeasureType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Bottom height of datalayer. Should be expressed in 
meters.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="algorithmName" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Name of algorithm used to compute datalayer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="algorithmVersion" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Version of algorithm used to compute datalayer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
</xs:schema> 
 



OGC Discussion Paper 

58 
 

D.5 Application schema for Specific Pleiades EO Products 

The following schema document, called phr.xsd, contains elements to describe Specific 
Pleiades HR EO Products using GML 3.1.1 

TBD 



GML Application Schema for EO Products 

 59
 



OGC Discussion Paper 

60 
 

Annex D 
(normative) 

 
Reference schematron rules for EO Products GML application schemas 

D.1 Schematron rules for hma 

<?xml version="1.0" encoding="UTF-8"?> 
<?xml-stylesheet type="text/xsl" href="schematron_skeleton_for_hma.xsl"?> 
<schema xmlns="http://www.ascc.net/xml/schematron" xmlns:phr="http://hma.cnes.fr/phr" 
xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" 
xmlns:ohr="http://earth.esa.int/ohr"> 
 <title>Technical document schema</title> 
 <key name="author-e-mails" match="author" use="@e-mail"/> 
  
 <!-- ============================================================== --> 
 <!--  gml:metaDataProperty :  --> 
 <!--   + expected contents is hma:EarthObservationMetadata  --> 
 <!-- ============================================================== --> 
 <!-- 
   ! if root is 'hma:EarthObservation' , content is always as expected in the hma level (i.e no extension is 
possible) 
   ! Since  'ohr:EarthObservation' does not extend metadataProperty, expected content is the same as 
with hma 
   ! Note : should be the same for other thematic schemas (To be discussed) 
   !--> 
 <pattern id="metaDataProperty_strict" name="metaDataProperty_strict"> 
  <rule 
context="(hma:EarthObservation/gml:metaDataProperty)|(ohr:EarthObservation/gml:metaDataProperty)"> 
   <assert test="hma:EarthObservationMetaData">gml:metaDataProperty : expected content is 
hma:EarthObservationMetadata for a hma:EarthObservation or a ohr:EarthObservation</assert> 
  </rule> 
 </pattern> 
 <!-- 
   ! if root explicitaly refers to  'hma:EarthObservation' or 'ohr:EarthObservation', content can be as in the 
preceding rule or can be an 
   ! extension of hma:EarthObservationMetadata 
   !--> 
 <pattern id="metaDataProperty_extended" name="metaDataProperty_extended"> 
  <rule context="*[@hma:type = 'hma:EarthObservation' or @hma:type = 
'ohr:EarthObservation']/gml:metaDataProperty"> 
   <assert test="hma:EarthObservationMetaData|*[@hma:type= 
'hma:EarthObservationMetaData']">gml:metaDataProperty : expected content is 
hma:EarthObservationMetadata or an extension (with appropriate attribute hma:type)</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  gml:using :  --> 
 <!--   + expected contents is hma:EarthObservationEquipment. --> 
 <!--      INCOMPLETE  --> 
 <!-- ============================================================== --> 
 <pattern id="using" name="using"> 
  <rule context="gml:using"> 
   <assert test="hma:EarthObservationEquipment">gml:using : expected contents is 
hma:EarthObservationEquipment</assert> 
  </rule> 
 </pattern> 



GML Application Schema for EO Products 

 61
 

 <!-- ============================================================== --> 
 <!--  gml:resultOf :  --> 
 <!--   + expected contents is hma:EarthObservationResult. --> 
 <!-- ============================================================== --> 
 <!-- 
   !  
   !--> 
 <pattern id="resultOf_strict" name="resultOf_strict"> 
  <rule context="hma:EarthObservation/gml:resultOf"> 
   <assert test="hma:EarthObservationResult">gml:resultOf : expected content is 
hma:EarthObservationResult for a hma:EarthObservation</assert> 
  </rule> 
 </pattern> 
 <pattern id="resultOf_strict" name="resultOf_strict"> 
  <rule context="ohr:EarthObservation/gml:resultOf"> 
   <assert test="ohr:EarthObservationResult">gml:resultOf : expected content is 
ohr:EarthObservationResult for a ohr:EarthObservation</assert> 
  </rule> 
 </pattern> 
 <!-- 
   !  
   !--> 
 <pattern id="resultOf_extended" name="resultOf_extended"> 
  <rule context="*[@hma:type = 'hma:EarthObservation']/gml:resultOf"> 
   <assert test="hma:EarthObservationResult|*[@hma:type= 
'hma:EarthObservationResult']">gml:resultOf : expected content is hma:EarthObservationResult or an 
extension (with appropriate attribute hma:type)</assert> 
  </rule> 
 </pattern> 
 <pattern id="resultOf_extended" name="resultOf_extended"> 
  <rule context="*[@hma:type = 'ohr:EarthObservation']/gml:resultOf"> 
   <assert test="ohr:EarthObservationResult|*[@hma:type= 
'ohr:EarthObservationResult']">gml:resultOf : expected content is ohr:EarthObservationResult or an 
extension (with appropriate attribute hma:type)</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  gml:target :  --> 
 <!--   + expected contents is hma:Footprint. --> 
 <!-- ============================================================== --> 
 <pattern id="target" name="target"> 
  <rule context="gml:target"> 
   <assert test="hma:Footprint">gml:target : expected contents is hma:Footprint</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  gml:validTime :  --> 
 <!--   + expected contents is gml:TimePeriod/gml:beginPosition.   --> 
 <!--                                         gml:TimePeriod/gml:endPosition.   --> 
 <!-- ============================================================== --> 
 <pattern id="validTime_beginPosition" name="validTime_beginPosition"> 
  <rule context="gml:validTime"> 
   <assert test="gml:TimePeriod/gml:beginPosition">gml:validTime : expected contents is 
gml:TimePeriod/gml:beginPostition</assert> 
  </rule> 
 </pattern> 
 <pattern id="validTime_endPosition" name="validTime_endPosition"> 
  <rule context="gml:validTime"> 
   <assert test="gml:TimePeriod/gml:endPosition">gml:validTime : expected contents is 
gml:TimePeriod/gml:endPostition</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 



OGC Discussion Paper 

62 
 

 <!--  Footprint gml:extentOf :  --> 
 <!--   + expected contents is gml:Polygon/gml:exterior/gml:LinearRing/gml:posList. --> 
 <!-- ============================================================== --> 
 <pattern id="footprint_extentOf" name="footprint_extentOf"> 
  <rule context="gml:extentOf"> 
   <assert test="gml:Polygon/gml:exterior/gml:LinearRing/gml:posList">gml:extentOf : expected 
contents is gml:Polygon/gml:exterior/gml:LinearRing/gml:posList</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  Footprint gml:centerOf :  --> 
 <!--   + expected contents is gml:Point/gml:pos. --> 
 <!-- ============================================================== --> 
 <pattern id="footprint_centerOf" name="footprint_centerOf"> 
  <rule context="gml:centerOf"> 
   <assert test="gml:Point/gml:pos">gml:centerOf : expected contents is 
gml:Point/gml:pos</assert> 
  </rule> 
 </pattern> 
</schema> 
 
 


	1 Scope 
	2 Compliance 
	3 Normative references 
	4 Terms and definitions 
	5 Conventions 
	5.1 Abbreviated terms 
	5.2 Namespace prefix conventions 
	6 Overview 
	6.2.1 Earth Observation mapping on gml:Observation 
	6.3.1 Language rules 
	6.3.2  Extensions rules 
	6.3.2.1 Thematic extended namespace 
	6.3.2.2 Mission specific extended namespace 

	6.3.3 Use of Schematron 
	6.3.3.1 Schematron basics 
	6.3.3.2 Schematron rules for hma 

	6.3.4 CodeList 
	6.3.5 Units of measure 
	6.3.6 Use of xlink 
	6.3.7 GML restrictive use 


	7 EO Products application schemas 
	7.1 General EO product data schema 
	7.1.1 EarthObservationMetadata 
	7.1.2 EarthObservationEquipment 
	7.1.3 Footprint 
	7.1.4 EarthObservationResult 
	7.2.1 Optical EO Product data schema 

	 
	7.2.2 Radar EO Product data schema 
	7.2.3 Atmospheric EO Product data schema 
	7.2.4 Mission specific schema : example for Pleiades HR data schema 

	7.3 Issues 
	7.4 XML schema documents 



