
 Web Services Architecture for CAD GIS and BIM 

 1  

Open Geospatial Consortium Inc. 

 Date: February 11, 2007 

Reference number of this OpenGIS® Project Document: OGC 07-023r2 

Version: 0.9 

Category: OGC Discussion Paper 

Editor: Paul Cote 

OGC Web Services Architecture for  
CAD GIS and BIM 

Copyright notice 

Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

To obtain additional rights of use, visit http://www.opengeospatial.org/legal 

Warning 

This document is not an OGC Standard. This document is an OGC Discussion 
Paper and is therefore not an official position of the OGC membership. It is 
distributed for review and comment. It is subject to change without notice and may 
not be referred to as an OGC Standard. Further, an OGC Discussion Paper should 
not be referenced as required or mandatory technology in procurements. 

 

Document type:   OpenGIS® Discussion Paper 

Document stage:   Requirements Interoperability Program Report 
Document language:  English 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

2 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

Contents     

I. PREFACE.................................................................................................................. 4 

II. SUBMITTING ORGANIZATIONS ................................................................... 4 

III. DOCUMENT CONTRIBUTOR CONTACT POINTS..................................... 5 

IV. REVISION HISTORY ......................................................................................... 5 

V. FUTURE WORK...................................................................................................... 6 

FOREWORD..................................................................................................................... 7 

INTRODUCTION............................................................................................................. 8 

1 RELATIONSHIP TO OTHER ACTIVITIES ..................................................... 11 

2 USAGE SCENARIOS ............................................................................................ 12 

2.1 INTEGRATION OF GEOSPATIAL INFORMATION FOR BUILDING SITE PLANNING AND 
DESIGN .......................................................................................................................... 12 
2.2 INTEGRATION OF BUILDING INFORMATION MODELS SPANNING MULTIPLE SITES
 12 

2.2.1 Integration of Building Information with location based services ........... 13 
2.2.2 Integration of Building Information with Broader Geospatial Query and 
Analysis 13 

3 DESIGN PRINCIPLES.......................................................................................... 13 

3.1 GENERAL ........................................................................................................... 13 

4 DESIRABLE COMPONENTS/CAPABILITIES FOR CGB 
INTEROPERABILITY.................................................................................................. 14 

4.1 CITYGML INWFS ............................................................................................. 14 
4.2 WFS FOR BIM................................................................................................... 16 
4.3 CAD / BIM EDITORS AND ANALYTICAL TOOLS................................................ 18 
4.4 CITYGML AND BIM ANALYSIS CLIENT............................................................ 19 



 Web Services Architecture for CAD GIS and BIM 

 3  

4.5 PROCEDURES/TOOLS FOR GENERATION OF CITYGML FROM IFC BIM............. 20 
4.6 ARCHITECTURES FOR PORTRAYAL OF URBAN LANDSCAPES.............................. 22 

5 SUMMARY AND FUTURE COLLABORATIONS........................................... 22 

5.1 DEVELOPMENT OF WEB FEATURE SERVICES FOR BIM:..................................... 22 
5.2 COLLABORATION WITH IAI COMMUNITIES:....................................................... 23 
5.3 IFC / CITYGML BRIDGE: .................................................................................. 23 
5.4 THE BLIS / SABLE PROJECT:........................................................................... 23 
5.5 GEO-REFERENCING IFC: .................................................................................... 24 
5.6 PORTRAYAL AND INTEGRATION OF OTHER OGC SERVICES IN THREE 
DIMENSIONS: ................................................................................................................. 24 
5.7 ENCAPSULATION OF 3D GEOMETRY:.................................................................. 24 
5.8 COLLABORATION WITH CATALOG WG: ............................................................. 24 

ANNEX A: USE CASES (INFORMATIVE) ............................................................... 26 

A.2 USE CASE 1: TRANSACTIONAL ACCESS TO WFS-T FOR BIM................................. 26 
A.3 USE CASE 2: BIM AUTHORING WITH CONTEXT DATA FROM OPEN WEB 
SERVICES ....................................................................................................................... 28 
A.4  USE CASE 3: ANALYSIS OF BUILDING INFORMATION OVER BROAD GEOGRAPHIC 
AREA 30 

ANNEX B.  LANDXPLORER CITYGML VIEWER................................................. 33 

B.1 INTRODUCTION........................................................................................................ 33 
B.2 SCENARIO WORKFLOW ........................................................................................... 33 
B. 3 VIEWER CLIENT FUNCTIONALITY........................................................................... 35 

B.3.1 Service discovery ............................................................................................. 35 
B.3.2 Data Loading................................................................................................... 36 
B.3.3 Building Room Report and Building Assessment ............................................ 38 

B.4 LESSONS LEARNED.................................................................................................. 39 
B.5 FUTURE WORK......................................................................................................... 40 

BIBLIOGRAPHY........................................................................................................... 41 

 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

4 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

i. Preface 

This document lists the design principles and requirements for future versions of a 
potential architecture for integrating workflows and information models from Computer 
Aided Design and Building Information Modelling with the principles of the OGC Web 
Services Architecture. Refer to the latest version of the OGS Web Services CAD GIS and 
BIM (CGB) Interoperability Program Report (IPR) document for additional details. 

This section describes the status of this document at the time of its publication. Other 
documents may supersede this document. The latest status of this document series is 
maintained on the OGC website. 

This is an OGC IPR for review by OGC members and other interested parties. It is a 
working draft document and may be updated, replaced by other documents at any time. It 
is inappropriate to use OGC Draft IPRs as reference material or to cite them as other than 
“work in progress.” This is work in progress and does not imply endorsement by the 
OGC membership. 

Initial research and development of this document was performed as part of  the CAD 
GIS BIM thread of the OGC Interoperability Program OGC Web Services Phase 4 
(OWS-4) initiative. The authors of this document are also OGC 3D Information 
Management (3DIM) Working Group members. 

ii. Submitting organizations 

This Interoperability Program Report is being submitted to the OGC Interoperability 
Program by the following organizations: 

Harvard University Graduate School of Design 

Bentley Systems, Inc. 

Onuma Inc. 

Hasso-Plattner Institute 



 Web Services Architecture for CAD GIS and BIM 

 5  

AEC3  

Technical University of Berlin 

Snowflake Software 

Lat/Lon 

iii. Document contributor contact points 

All questions regarding this document should be directed to the editor or the contributors: 

CONTACT COMPANY EMAIL 
Paul Cote Harvard University pbcote@gsd.harvard.edu 

Eddie Curtis Snowflake Software eddie.curtis@snowflakesoftware.co.uk 

Thomas Dalbert Onuma Inc dalbert@onuma.com 

Jens Fitzke Lat/Lon Jens Fitzke <fitzke@lat-lon.de> 

Benjamin Hagedorn Hasso-Platner Institute Benjamin.Hagedorn@student.hpi.uni-
potsdam.de 

Thomas Kolbe Technical University of Berlin kolbe@igg.tu-berlin.de 

Alain Lapierre Bentley Systems, Inc. Alain.Lapierre@bentley.com 

Thomas Liebich AEC3 tl@aec3.de 

Mike McSween Bentley Systems, Inc. Mike.McSween@bentley.com 

Kimon Onuma Onuma Inc ko@onuma.com 

Ian Painter Snowflake Software Ian.Painter@snowflakesoftware.co.uk 

Jeff Wix AEC3 jeffrey.wix@aec3.com 

iv. Revision history 

Date Release Author Paragraph modified Description 
January 17 
2007 

0.1 Cote  Full Draft Circulated for amendment/revision

January 30, 
2007 

0.2 Hagedorn Annex B Added 

February 8 
2007 

0.2 Cote, et al many Many comments and amendments merged 

February 11, 
2007 

1 Cote, et al all More comments integrated 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

6 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

April 15, 2007 R1 Cote Figures 1, Figure 4 Diagrams added 

4/30/07 0.9 Carl Reed Numerous Get document ready for posting as DP 

v. Future Work 

This document reflects the current thinking of the CGB testbed participants regarding 
integration of CAD, GIS and BIM information models and workflows with OGC Web 
Services Architecture.  As the consensus of this group changes, this document will be 
revised. 



 Web Services Architecture for CAD GIS and BIM 

 7  

Foreword 

This document discusses the design principles and requirements for future versions of a 
potential web services architecture integrating the workflows and information resources 
of Computer Aided Design and Building Information Models  with Geospatial 
Information Systems.  

This report is informative, and is not a normative draft OpenGIS Implementation 
Specification. This report thus does not include any compliance clauses or other 
specification-specific information.  

 

This document is structured according to the IPR Template for OWS-4.  To post 
revisions in Microsoft Word, or compatible software, Accept Changes, and turn on 
“Track Changes.” 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

8 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

Introduction   

This document discusses design principles and requirements for OGC Web Services that 
integrate information resources and workflows from the world of Architecture 
Engineering and Construction (AEC) with the world of Open Geospatial Web Services.  
While the Geospatial world has typically concerned itself with information about the out-
of doors, and largely two or two-and-a-half dimensional information as would be found 
in maps, images and terrain models, there are many assets and activities that occur in the 
three dimensional context of buildings.  Integration of the information resources of the 
AEC world with Open Geospatial Web Services will provide very important information 
resources for decision makers in urban environments.  Integration of OGC Service 
Architectures with AEC workflows will provide advantages of contextual information 
throughout the lifecycle of building design, construction and management. 

The information workflows in the AEC world are associated with the tools of Computer 
Aided Design (CAD) and Building Information Modelling (BIM).  The intention of this 
document is to present some elements of a roadmap for integration of these workflows 
with the information models and workflows of the geospatial world (GIS).  The ideas 
presented here are the outcome of an OGC Interoperability Program Testbed, Open Web 
Services, Phase 4 (OWS-4) carried out between June and December 2006.  Participants in 
the CAD-GIS-BIM (CGB) sub-thread of OWS-4 included leaders from industry, 
government and academia.  In weekly discussions and a large amount of work in 
developing and demonstrating components many opportunities and issues related to CGB 
architecture were revealed.  This Interoperability Program Report documents these ideas.  
This report has been subject to review and amendment by participants in the thread (listed 
in Section iii, above). 

Workflows and information models in the AEC world are largely idiosyncratic with 
regard to a particular firm or project.  Coordinate systems, for example, are almost 
always relative within a given document or building context.  However, actors in the 
AEC world are converging on standards for structuring and exchanging highly detailed 
information about buildings and building project lifecycle.  The development of a BIM 
standard is being coordinated by the International Alliance for Interoperability (IAI) 



 Web Services Architecture for CAD GIS and BIM 

 9  

through their development of the exchange specification, Industry Foundation Classes 
(IFC) .  This general standard is being used as a platform for developing Domain specific 
views by government agencies and consortia in the AEC industry, Such as the National 
Institute for Building Standards (NIBS) National Building Information Model Standard 
(NBIMS); The United States General Services Administration (GSA) BIM Guide; 
INSPIRE in Europe and Byggsok in Norway.  In response to all of this interest, Most 
developers of tools for modelling buildings are supporting IFC as an option for open 
exchange of building information.  

At the same time, GML profiles are being developed for encoding information about 
buildings and their context at a broad scale.  This activity, is largely the work of the 
Special Interest Group 3D of the Geodata Infrastructure in the German state of  North 
Rhineland Westphalia   Their specification, CityGML is now an OGC discussion paper, 
and will soon be promoted as a Best Practices Document by the 3D Information 
Management Working Group.  CityGML is part of a growing trend for OGC services to 
include the third dimension; offering new challenges for feature services, exchanges for 
different sorts of portrayal and styling as well as integration of information from BIM.  A 
few exemplary use-cases are briefly described in Section 2, below, and in more detail in 
the appendix.  

Distributed Data
Diverse Data Models

Geospatial WebGeospatial Web
ServicesServices

CatalogCatalog
ServicesServices

M
et

ad
at

a

Pu
bl

is
h

Find

Bind

Clients:Clients:
ViewerViewer

AnalysisAnalysis
AuthoringAuthoring

Distributed Data
Diverse Data Models

Geospatial WebGeospatial Web
ServicesServices

CatalogCatalog
ServicesServices

M
et

ad
at

a

Pu
bl

is
h

Pu
bl

is
h

FindFind

BindBind

Clients:Clients:
ViewerViewer

AnalysisAnalysis
AuthoringAuthoring

 

Figure 1: OGC Web Service Architecture, Publish Find Bind Pattern 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

10 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

 

Bridging the worlds of AEC Workflows with the Open Geospatial Web Services 
Architecture will allow the varied data models and information flows concerned with 
Architectural Development and Building Operation together with administrative 
information infrastructure that is broader in scope.  The fundamental pattern of the 
OGC’s Architecture is the Publish-Find-Bind Pattern that permits diverse information 
sources in a multitude of formats, distributed around the internet, to be discovered and 
accessed by multi-purpose clients.  This integration of information will have benefits to 
actors in both areas and will enable applications in other areas as well. 

 

 

Figure 2: Overview of CGB Architecture and Components 

 

The activities of the CGB thread resulted in the development of several new types of 
components that demonstrate the integration of BIM with Open Geospatial Service 
Architecture:   A new type of Transactional Web Feature Service (WFS-T for BIM) that 
serves features from BIM in both IFC and CityGML;  New client capabilities for three-



 Web Services Architecture for CAD GIS and BIM 

 11  

dimensional thematic viewing and analysis of building information in CityGML;  New 
capabilities in BIM authoring clients that consume CityGML from WFS and images from 
Web Map services to allow the development of BIM in geographic context.  The testbed 
also involved several interoperability experiments that stretched the capabilities of 
existing OGC services to support the new problems of serving CityGML through web 
feature services.  This testbed also resulted in fruitful discussions between the primary 
custodians of IFC and CityGML concerning the useful overlap of these two means of 
representing places.  

1 Relationship to Other Activities 

The following is a partial list of OGC and Non-OGC initiatives and specifications that are 
relevant to this project. 

• National Building Information Modelling Standard:  
http://www.facilityinformationcouncil.org/bim/index.php 

• 3D Information Management Working Group: 
http://portal.opengeospatial.org/?m=projects&a=view&project_id=164 

• Web Feature Service: http://www.opengeospatial.org/standards/wfs 

• International Alliance for Interoperability, Industry Foundation Classes : IAI / 
IFC - http://www.iai-international.org/ 

• CityGML - http://portal.opengeospatial.org/files/?artifact_id=16675 

• Catalog Service - http://www.opengeospatial.org/standards/cat 

• Web3D Service - http://www.web3d.org 

• Web Terrain Service : http://portal.opengeospatial.org/files/?artifact_id=9083 

• Web Map Context: 
http://portal.opengeospatial.org/files/index.php?artifact_id=5397&version=1 

• Styled Layer Descriptors: 
http://portal.opengeospatial.org/index.php?m=projects&a=view&project_id=10



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

12 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

&tab=0 

• KML/KMZ - http://earth.google.com/kml/ 

• BLIS / SABLE - http://www.blis-project.org/~sable/ 

2 Usage Scenarios 

This section highlights a few characteristic use cases highlighting the value of 
exchanging information from CAD and BIM with Open Geospatial Web Services.  

2.1 Integration of Geospatial Information for Building Site Planning and Design  

In the initial site planning stages of the AEC design process, it is useful to consider 
contextual information such as aerial photography, terrain and features in the near 
context, such as other buildings and roadways (existing and proposed), utilities, 
environmental hazards or concerns, etc.  These information resources ought to be 
discoverable and accessed through OGC Web Services.  The design process will be much 
better informed when CAD and BIM editor clients are able to access such resources.  We 
see this integration with geospatial context as an incentive for dealing with geo-
referencing of CAD and BIM models, which will in turn, allow the possibility that the 
authoritative information in distributed building models will be discoverable and 
accessible through geospatial web services such as Web Catalog Services and Web 
Feature Services. 

 

2.2 Integration of Building Information Models Spanning Multiple Sites 

Building design and building operations often involve question of the precise relationship 
of one building with another.  Such situations might include the design of inter-building 
tunnels or skywalks or connection of other infrastructure.   Inclusion of geospatial 
referencing systems in BIM, and the possibility of publishing the availability of specific 
BIM profiles through web service architecture will facilitate the integration of multiple 
BIM models for precise design.  Naturally, such web availability presupposes some form 
of Digital Rights Management in order to restrict access to sensitive building 
information.   



 Web Services Architecture for CAD GIS and BIM 

 13  

2.2.1 Integration of Building Information with location based services 

In many situations, the availability of such building information will be required 
dynamically and almost instantly based on the location of the user. For example, an 
emergency operation team might want to navigate quickly to the target building using 
street navigation tools (GPS, voice navigation, street light control, etc.) but, once on site, 
they will want architectural and engineering details such as detailed plans of the building 
interior, electric and water supply in order to make effective decision.  

2.2.2 Integration of Building Information with Broader Geospatial Query and 
Analysis 

There are many imaginable use cases where information from multiple building 
information models will be of use in broad scale geospatial analysis.  We expect that the 
most up-to-date information about spaces (rooms) in buildings – their capacity, their use, 
and their occupancy status will originate and be maintained in individual Building 
Information Models.  It will be very useful for planning or emergency management to be 
able to assemble these information resources for broad-scale visualization, query and 
analysis.  This capability will be a benefit of integrating distributed BIM with the 
publish-find-bind pattern inherent in the OGC Web Services Architecture. 

3 Design Principles 

The following design principles should be considered: 

3.1 General 

General design principles pertaining to OGC CGB Architecture include the following: 

1.  CAD and BIM authoring applications should support geo-referencing. 

2. OGC CGB Interoperability should be targeted as a standard feature of CAD and 
BIM authoring applications.  This should include the ability to retrieve contextual 
information from OGC Services into CAD Design documents, and the ability to 
export and post GML and IFC data to OGC WFS-T and WFS-T for BIM. 
Although transactions of sub-BIM features are a problem that was not addressed 
in OWS-4, transactions of complete feature collections has been demonstrated. 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

14 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

3. OGC CGB Interoperability should become an expectation in the management and 
sharing of information from BIM through the life-cycle of a building.  In this 
sense it will be useful to describe particular views of BIM that may be of interest 
to specific user communities – such as Visualization, Space Management, 
Aeronautical Hazards, etc.    

4. OCG CGB Interoperability should form the service architecture and exchange 
specifications for popular applications for sharing information about buildings.  
Tools like Google 3D Warehouse have exposed a great interest in the public for 
sharing information about buildings.  As the desire goes deeper into building 
details such as rooms or other themes, OGC exchange specifications will provide 
the deeper semantic models, catalogue capabilities and service architectures that 
will be necessary. 

5. OGC CGB Interoperability, when developed in potential specifications, must be 
accompanied by a comprehensive, completed test suite.  An essential requirement 
in the OGC Interoperability Program process is the demonstration that all 
elements in a potential specification can be implemented. Therefore, 
implementation testing in the form of technology integration experiments must 
play a large part in any potential OGC-CGB Interoperability specification design. 

4 Desirable Components/Capabilities for CGB Interoperability 

An architecture for web services interoperability between AEC and Geospatial workflows 
will include developing capabilities of Servers, Clients and for Data Conversion. This 
section profiles several ideal components of a CGB architecture.  Actual workflows that 
were enabled by the prototypes actually developed for OWS-4 are discussed in Annex A.  

4.1 CityGML inWFS 

CityGML is an application schema of GML, and yet it is somewhat challenging to load 
and manage and serve in an OGC WFS and especially from the perspective of 
transactions.  The following is a list of issues and solutions in this regard that emerged in 
OWS-4.  Note that some of these points are contradictory and emerged as discussions 
among our WFS implementers that may continue to be explored in future testbed activity.  
The OWS-4 demo had successful integration of CityGML city models of multiple levels 



 Web Services Architecture for CAD GIS and BIM 

 15  

of detail, including level 4 buildings with GSA Space Planning Attributes, served by the 
Snowflake Go-Publisher server.  

1) Complicated Schema:  While the typical OGC architectural studies shy away 
from technology viewpoint that lies at the database schema on servers, we found 
that the way information is translated from XML to a relational or object-oriented 
database makes a difference in terms of how or whether complex schemas such as 
CityGML or IFC can be loaded and probably also the versatility with which it can 
be queried.   

2) Very Large Message Payloads:  We found that even for a relatively modest demo 
dataset, that the transfer of raw CityGML as text was very slow.  Snowflake 
developed a request that delivered a zipped CityGML stream which cut download 
times by as much as 90 percent. 

3) Metadata for CityModels:  We had some success with having WFS feature 
collections consisting of CityModel harvested by catalog servers, but this 
provides only very basic technical summaries of the content of the collection.  
There is a lot of work to do to consider the different sorts of metadata that would 
be desirable for cataloging and discovering information in CityModels.  Some of 
these metadata may be imbedded in the GML schema itself, some of it may be 
attached in other ways.  

4) Optional Elements:  Within CityGML almost all elements are optional. Sample 
datasets could not be loaded into all WFS instances – e.g. Transactions failed on 
lat/lon's deegree WFS for a variety of reasons, especially geometry structure and 
missing CRS (srsName). 
To lower the implementation barrier for WFS vendors, a CityGML profile for 
WFS is desirable, which could e.g. integrate a mandatory 2D geometry for fast 
lookup of CityGML objects in a WFS datastore or a mandatory 3D geometry. 
(For more details, please refer to the lat/lon document as of 2006-12-11) 

5) Adding a 2D geometry for indexing, may increase an implementation effort rather 
than decrease it.  

6) If we jump to creating profiles too soon we risk creating overly restrictive 
profiles. Profiles should be built around use cases rather than implementation 
difficulties. If a particular use case only requires parts of CityGML this is a reason 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

16 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

to specify a profile for that use case. Having the profile then means that 
implementations don’t waste effort on implementing features of the full spec that 
are not going to be used. If the profile is built around implementation issues it 
could exclude part of the spec because it is difficult to implement despite the fact 
that people need to use it. The result of this would be non-adoption of the 
standards since they do not fit the requirement. Profiling IFC to handle only 
spaces and space usage is a good example of a profile – those elements of IFC 
were the ones relevant to the use case.  We need a body of serious use cases and 
experience to draw on to get the profile right – this is something for the long term. 

7) Transactions on CityGML. This topic was addressed in OWS-4 only in terms of 
the exchange of complete feature collections in IFC. The notion of maintaining 
topological and semantic integrity in a transactional server is much more 
challenging.  Perhaps specific views and profiles of BIM and CityGML could 
support insertions and deletions of content that could be considered self-integral. 
Simple changes of attributes would be a start. Transactions hold many challenges 
for the future.  Workflow protocols such as service chaining and Business Process 
Execution Language BPEL may also hold out hope for handling long transactions 
and integrity checking necessary for dealing with feature-level editing 
transactions. 

 
4.2 WFS for BIM 

There are not many implementations of transactional BIM servers in the world, and 
through their participation in OWS-4 Onuma Inc. proved that a couple of tweaks to the 
classic WFS-T interface can provide BIM feature access to the geospatial community.  A 
diagram and outline of the WFS-T for BIM workflow demonstrated by Onuma is given in 
the appendix to this document. 

1) Focused Application Schema: It should be noted here that one of the reasons that 
this implementation was possible to do in the short time frame of OWS-4 is that 
the Onuma view on BIM is defined very specifically to serve the needs of space 
planners i.e. space geometries associated with large amounts of adjustable data is 
defined very specifically to serve the needs of space planners.  As such is it avoids 
a great deal of the complexity that is possible to represent in IFC.  The space 
planning view is well suited for translation to CityGML.  Finally it should be 



 Web Services Architecture for CAD GIS and BIM 

 17  

noted that however simple the geometric data requirements for space planning, 
compared with the potential complexity of BIM, this is perhaps the most valuable 
application from the perspective of broad-scale analysis.  This is an important 
lesson for future extensions of this BIM server functionality:  It is very useful to 
focus on a very specific and limited application view as opposed to trying to 
conquer the entire problem of transactional BIM services. 

2) Metadata / Catalog Concerns: As mentioned in the WFS discussion, above, there 
will be a lot of value on exploring the sorts of identifiers that may be imbedded in 
IFC or otherwise attached to BIM feature collections that will facilitate their 
registry and discovery through catalog interfaces.  One issue related to this would 
be the means of publishing specific feature types or profiles that are available on a 
server.  Since these data don’t exist as GML until they are requested, somehow 
their definition will have to be imbedded in or independent of the BIM feature 
store.  

3) On-The-Fly BIM-GML Conversion:  Our prototype focused exchanging 
information about rooms (IFC Spaces).  The Onuma BIM Server stores these 
objects in an internal BIM format that incorporates the space attributer 
characteristics of the US General Serviced BIM Guide for Space Assessment.  
The BIM server is capable of retrieving space objects with these attributes either 
in CityGML or IFC format. 

 

4) Transactions on BIM:  These issues are similar to those discussed in the previous 
discussion on transactions on CityGML.  It is perhaps more difficult because BIM 
and IFC and their transactions are potentially much more complicated than 
CityGML.  Nevertheless, there is a large need to solve this problem.  The OGC 
work on Digital Rights Management protocols will undoubtedly be very helpful 
in the development of transactional services that allow editing of selected BIM 
objects. 

 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

18 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

 

Figure 3: Web Feature Service for BIM 

 
4.3 CAD / BIM Editors and Analytical Tools 

This section discusses desired capabilities of CAD/BIM authoring tools that relate to 
Open Web Service Architecture for CGB.  Subsets of these capabilities were prototyped 
and demonstrated in this testbed by Bentley Systems, Inc. and Onuma Inc.  An outline 
and diagram of the Bentley and Onuma workflows are provided in the Annexes of this 
document. 

1.) Able to Assimilate Georeferenced Data:  As has been noted in Section 2, the 



 Web Services Architecture for CAD GIS and BIM 

 19  

ability to easily consider contextual circumstances in design is very useful.  For 
this purpose, CAD and BIM editors should be able to assimilate information 
resources that may exist in different coordinate systems, and to register 
georeferenced architectural detail.  Information should be able to be assimilated 
directly from Web Map Services (Imagery and thematic maps,) WCS (terrain and 
quantitative surface data, and WFS) for vector features and CityGML.  It will be 
very helpful if CAD/BIM editors were able to visualize and query the semantic 
information in CityGML.  

2.) Catalog Discovery Context Capabilities:  Part of the problem (and advantage) of 
assimilating information from OGC Web Services should be the access to the 
search and discovery capabilities of catalog servers.  This calls to mind a need for 
Catalog client functions to be built into ACAD/BIM Authoring Clients.  Further, 
the references to assimilated OGC layers should be able to be saved and 
exchanged via OGC Context documents. 

3.) Able to Export well known Exchange Formats:  It is increasingly common for 
CAD/BIM editors to be able to import and export IFC as a fully capable BIM 
exchange format.  KML is also a common export format for lightweight portrayal.  
We are also seeing the utility of encapsulated 3D document formats such as 3D 
PDF and DWF which perform as end-product documents from the design process.  
It will be useful for CAD/BIM editor clients to be able to exchange information as 
CityGML, such as might be needed to post space planning details to a WFS-T. 

4.) Able to distribute efficiently enormous amount of data: Buildings can potentially 
have numerous details, and IFC has been designed for supporting this level of 
detail. Therefore, a single multi-storey building can require 10s if not 100s of 
megabytes. Transferring all this data on the Web will require different techniques 
(Compression, levels of detail, streaming,) in order to provide quickly an overall 
view (like the shell of the building) and gradually providing details if required. 
The structure of IFC Express is not as suitable for this kind of incremental 
delivery as the IFCxml.  This is a topic for more investigation in OWS-5. 

4.4 CityGML and BIM Analysis Client 

A large part of the value of integrating AEC workflows and exchanges with the OGC 
web services architecture comes in the ability to integrate BIM information related to 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

20 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

multiple sites over broad areas.  This was demonstrated in OWS-4 through modifications 
to the LandXplorer viewer by the Hasso-Plattner Institute.  A more thorough explanation 
of the implementation of this viewer is provided in Annex B of this document. 

1.) Able to Assimilate data from OGC Services such as WFS, WMS and WCS.   

2.) Able to create thematic views based on the attributes of CityGML objects:  In our 
case it was important to be able to deal with attributes that were associated to GML 
objects via property sets representing the space properties used by the general 
services administration.  To the extent that metadata explains the character of these 
properties e.g. their attribute names, it is important that these be displayed in an 
informative way. 

3.) Catalog/Discovery/Context Capabilities.  See notes listed above in CAD/BIM 
Editor Clients. 

4.) Domain-specific analytical tasks.  A chief advantage of the GML/BIM analysis 
client, which takes its input as CityGML, as opposed to more visualization-oriented 
clients that may use more streamlined exchange formats such as X3D or KML, is that 
the semantic and topological information capabilities of the CityGML information 
model may be used with local programming logic that may be applied to study 
aspects the aggregation of built assets in over a broad area.  Such questions may be 
related to space planning, as we demonstrated in OWS-4, but might also involve such 
questions as Location-Based Services, the impact of hazards or nuisances on urban 
areas, or analyzing the loads on urban infrastructure under different scenarios. 

 

4.5 Procedures/Tools for Generation of CityGML from IFC BIM 

IFC is established as a generic information exchange model for BIM.  It serves as an 
exchange format that has been adopted by many purveyors of CAD/BIM clients and 
servers.   There is a good deal of attention being given to the development of specific 
application views of IFC for particular domains of BIM, Notably the NBIMS, GSA BIM 
standards initiatives in the U.S.; and INSPIRE in Europe, and BLIS/SABLE and Byggsok 
in Norway.  Therefore we see that in the AEC world, IFC is a relatively stable 
information model structure.  Yet, IFC and BIM leave much to be desired in the 



 Web Services Architecture for CAD GIS and BIM 

 21  

representation of building context.  CityGML, on the other hand is establishing itself as a 
very semantically rich and versatile information model for structuring information about 
contextual features and cities as a whole.  While it is decidedly less detailed in 
comparison with IFC, CityGML is well-adapted for representing those features that are 
apparent to such devices as airborne, ground-level, or interior.  CityGML also provides 
an appropriate level of semantic capacity that may be applied to the geometric aspects 
and their relationships with one another.   

OWS-4 participants, including the principal developers and custodians of IFC and 
CityGML are in consensus that these two information models are complementary.  While 
each model has its distinct strengths within its area of focus, they also have areas of 
overlap.  Therefore we believe that it is likely that some details of building context that 
end up in an IFC model may have originated in a broader–scale CityGML model.  
Likewise, some building details that may be desired in a CityGML CityModel, such as 
the gross building detail and up-to-date information concerning space use and occupancy, 
may originate in a BIM, exchanged as IFC.  

AEC World Geospatial World

IFC CityGML

IFC Application View
For Geospatial

(OWS-5)

CityGML
Buildings /  Rooms

AEC World Geospatial World

IFC CityGML

IFC Application View
For Geospatial

(OWS-5)

CityGML
Buildings /  Rooms

 

Figure 4: IFC and CityGML Bridging Strategy 

With this in mind, there is a great deal of value in the specification of specific content and 
methods for translating some subset of IFC to CityGML and vice-versa.  There is a start 
on this work already in the literature (Liebich, 2004) and at the Forschungszentrum 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

22 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

Karlsruhe Institute for Applied Computer Science (Haefele, 2006) 

4.6 Architectures for Portrayal of Urban Landscapes 

While IFC and CityGML are very rich geometric and semantic models, highly suited for 
structuring and exchanging relatively comprehensive information about buildings and 
their settings, these are not the sort of streamlined formats for exchanging information for 
the portrayal of appearance for real-time 3D applications.   

1.) Exchange Specifications for Appearance Modeling: In this area, we look toward 
specifications such as X3D and KML.  

2.) Service Models for Portrayal: We can see the tremendous traction established by 
Google Earth in its very powerful means of assembling and delivering real-time 
views of cities.  As KML moves closer to being the subject of consideration as a 
specification of the OGC community, we should look more closely at how the 
Google-Earth-like architecture may work as a means of returning visualizations of 
urban scenes.  This activity will be in concert with ongoing activities in various OGC 
working groups investigating such architectures for 3D portrayal, as the Web 3D 
service and Web Terrain Service. 

3.) Server Based Analytical Query and Visualization: A strong architecture for 
portrayal of urban landscapes may lead us to think differently about the ways that 
functions we have associated with the 3D GML Viewer and BIM Query tool might 
be shared more with the remote server.  Using such technology as Styled Layer 
Descriptors (SLD) and ad-hoc query interfaces, the problem of translating a rich 
semantic model into a visualization to answer a specific question might be 
accomplished by sending a query to a server that sends back a thematic 3D portrayal 
to a very light-weight viewer.  In this case, the attributes of specific features might be 
queried from the server by following an Xlink from a clicked object.  

5 Summary and Future Collaborations  

5.1 Development of Web Feature Services for BIM:  

The design of the WFS-T for BIM is intended as an extension to the standard WFS 
and WFS-T.  This will enable implementers to minimize the work in design and 



 Web Services Architecture for CAD GIS and BIM 

 23  

specification of interfaces.  It will also mandate active participation with the OGC 
activities related to development of these services, especially in the area of complex 
transactions with integrity constraints. 

5.2 Collaboration with IAI Communities:  

We recognize that IFC is the industry standard for structuring and exchanging 
information in BIM.  This establishes a need for close collaboration with IAI in 
understanding this specification and where it is headed – particularly with regard to 
geo-referencing and the development of specific user-community efforts to develop 
specific Model View Definitions and Exchange requirements. 

5.3 IFC / CityGML Bridge:  

While IFC is a compellingly rich information model for buildings, it specifies very 
little concerning the circumstances of buildings, such as roads, terrain, walkways, 
vegetation, etcetera.  In this regard, CityGML is a much more capable data model.  
We anticipate that the future of OGC CGB interoperability involves the development 
of an understanding of how IFC and CityGML will overlap and complement each 
other.   Some BIM information may be portrayed in CityGML, and information, for 
example, originating from automated geometry capture techniques, may be translated 
from CityGML to rough IFC models for modelling in CAD or BIM authoring tools.  
This development of views, profiles and tools for bridging between IFC and 
CityGML will certainly be a concern in future testbeds. 

5.4 The BLIS / SABLE Project:  

The BLIS / Sable service oriented architecture for BIM represents a well-thought-out 
service architecture for BIM.  Much work has been invested in the back-end data 
models (characterized by the Technology Viewpoint of OM-RDP) other significant 
work has been accomplished in the specification of Domain-Specific views of BIM, 
such as Architectural and Heating and Ventilation.  We expect that OGC web 
Services Architecture for BIM to be complementary with this work, providing request 
specifications and such auxiliary services and workflows such as Catalogue and 
DRM. 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

24 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

5.5 Geo-referencing IFC:  

Though our OWS-4 prototype implementations did achieve the exchange and proper 
registration of georeferenced BIM, we did not implement the Geo-referencing model 
of the proposed draft standard IFC2x3g.  Yet we understand that this geo-referencing 
model instantiates the full Geo-referencing specification of the European Petroleum 
Survey Group (EPSG) and we presume, ISO19111.  We believe that this indicates a 
fairly complete specification of the sorts of coordinate referencing systems expected 
in the world of AEC and portends a high level of interoperability with other 
geospatial service architectures; this should be the subject of further study in OWS-5.   

5.6 Portrayal and integration of other OGC services in Three Dimensions:   

There are other OGC specifications and working papers dealing with the exchange 
terrain and land cover information: Web Coverage Services and Web Map Services; 
and for portrayal: Styled Layer Descriptors; Web3d service and Web Terrain service.  
We expect that the opportunities and challenges surrounding mutual integration of 
these types of services with building information will make collaboration among the 
CGB project and these others propitious. 

5.7 Encapsulation of 3d Geometry:  

Outside of the OGC, there are architectures and exchange formats that should be of 
interest in the area of high-efficiency portrayal.  An interesting approach to this is the 
encapsulation of 3d geometry with textures and other information in such forms as 
PDF, Multipatch, and DWF and KMZ.  This means of packaging 3d renditions for 
visualization may be worth looking at as models for consensus based industry 
standards. 

5.8 Collaboration with Catalog WG:   

Building Information Models and CityGML CityModels represent fairly specific 
profiles of the generic idea of Feature Collection.  In OWS-4 we had some success in 
publishing generic WFS capabilities and feature collection information to be 
harvested by catalogues.  There is much more work to be done in understanding the 
sorts of discovery workflows that are of particular interest with regard to CityModels 
and Building models and to understand how the existing attribution in IFC and 
CityGML may be used in this regard or how these specifications should be extended 



 Web Services Architecture for CAD GIS and BIM 

 25  

in order to develop more useful catalogues.  



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

26 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

Annex A: Use Cases (informative) 

A.1 Introduction 

This annex provides more information about the functional behavior of OGC 
Architecture for CAD GIS and BIM  

A.2 Use Case 1: Transactional Access to WFS-T for BIM  

The Web Feature Service for BIM with some transactional functions and the capabilities 
listed in this use-case were developed in the OWS-4 testbed by Onuma Inc. 

Use Case Description 

Name Transactional Access to WFS-T for BIM 

Priority Undefined.   

Description A space planner requests information about a building’s spaces from a WFS.  
This information is returned as IFC.  The planner uses an editor client to 
create a new space scheme for this building.  The new scheme is returned to 
the server.  The service metadata including this new scheme is harvested by 
an OGC Catalogue Service. 

Precondition A Web Feature Service for BIM exists that includes information about the 
spaces in a building. 

Flow of Events – Basic Path 

1.  The space planner searches a catalogue for services that include features of 
type IFCSpace for building information models within a specific bounding 
box 

2.  The catalogue service returns the URL for a WFS for BIM and a query string 
that will retrieve the appropriate space features 



 Web Services Architecture for CAD GIS and BIM 

 27  

Use Case Description 

3.  The space-planner enters the query string into his BIM authoring client and 
sends a GetFeatureIFC request to the WFS for BIM. 

4.  The WFS for BIM retrieves the appropriate features and prepares an IFC 
exchange and sends it to the client, compressing this data using zip or gzip if 
requested. 

5.  The BIM Authoring Client receives the IFC exchange (uncompressing it if 
necessary) and renders it for editing. 

6.  The space planner alters the representation of the geometry and attributes of 
various spaces to create a new space scheme for the building. 

7.  The space planner initiates an upload of the new scheme to the WFS-T for 
BIM.  

8.  The BIM Authoring Client packages the new building space scheme as an 
IFC file (compressing it if needed) and issues a PostIFC request to the WFS-
T for BIM 

9.  The WFS-T for BIM accepts the IFCPost and creates a new feature 
collection containing the new scheme. 

10. The WFS-T for BIM updates its GetCapabilities statement 

11. The feature service metadata is harvested by OGC catalogue services. 

12. The new building space scheme is reflected in the catalogue 

Post- 
Condition 

Spaces from the new scheme are now available for request in either IFC or 
CityGML format. 

 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

28 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

 

Figure 3: Transactional BIM Authoring Workflow 

 

A.3 Use Case 2: BIM Authoring with Context Data from Open Web Services 

The capabilities of a BIM authoring client listed below were implemented in OWS-4 by 
Bentley Systems, Inc. 

Use Case Description 

Name BIM Authoring with Context Data from Open Web Services 

Priority Undefined.   

Description A building project is initiated.  The designer obtains contextual information 
from OGC services to inform the design of new building elements.  

Precondition Web Feature Services exist with CityGML data in building context area, 
Web Map services exist with aerial photography for the area. 

Flow of Events – Basic Path 



 Web Services Architecture for CAD GIS and BIM 

 29  

Use Case Description 

1. The designer queries an OGC catalogue service for photography and 
CityGML CityModel feature collections and IFC space information 
overlapping with the bounding box of his area of interest. 

2. The catalogue service returns the URL for a WFS and WMS and query 
strings that will retrieve the appropriate contextual and building information 

3. The BIM authoring client retrieves CityGML, WMS and IFC information 

4. This contextual information is integrated with detailed building model 
information stored locally, or retrieved from the WFS for BIM.  (In OWS-4 
the CAD models were local) 

5.  The designer uses this information to plan his building intervention. 

6.  All of this information is integrated into design documents and building 
information models that are passed to builders, architects and others 
involved in the AEC process. 

 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

30 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

 

Figure 4: BIM Authoring in Geospatial Context Workflow 

A.4  Use Case 3: Analysis of Building Information over Broad Geographic Area 

Use Case Description 

Name Analysis of Building Information over Broad Geographic Area 

Priority Undefined.   

Description A planner needs information on the building space attributes for all of the 
buildings in a broad area of interest.  Through a query to an OGC Catalogue 
Service he discovers services with useful information and retrieves building 
space information for several buildings from WFS for BIM and other city 
features and terrain from a WFS containing CityGML CityModels.  In 
addition he retrieves aerial photography from a WMS.  All of this 
information is combined, and several thematic displays and analytical 
reports are generated that help the planner make a decision.   

Precondition Web Feature Services exist with CityGML data in building context area, 
Web Map services exist with aerial photography for the area.  Web Feature 
Service for BIM has building space information for buildings in the area. 



 Web Services Architecture for CAD GIS and BIM 

 31  

Use Case Description 

Flow of Events – Basic Path 

1. An area of interest is chosen for analysis 

2. Web Catalogue Services are consulted regarding information about buildings 
and other city features, rooms, terrain and aerial photography existing for the 
area of interest 

3. Resources are discovered in Web Feature Services (CityGML CityModels,) 
Web Map Services (Aerial Photography) and BIM features in CityGML 
format (from Web Feature Service for BIM. 

4. A three dimensional scene is generated from this information in a viewer 
that permits real time flythrough. 

5.  Features are thematically displayed based on their attributes.  In our case, 
our CityGML building room features are tagged with IFCSpace attributes as 
specified by the General Services Administration BIM Guide for Space 
Assessment. 

6.  Selected building elements can be queried with regard to their topological or 
semantic relationships with other features in the model. 

7.  A space analysis is performed and a report is generated listing specific 
rooms and room complexes satisfying a particular need. 

 

 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

32 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

 

Figure 5: Analysis of Building Information over Broad Geographic Scope Workflow 

 

 

 

 



 Web Services Architecture for CAD GIS and BIM 

 33  

Annex B.  LandXplorer CityGML Viewer 

B.1 Introduction 

The contributed LandXplorer CityGML Viewer bases on the LandXplorer framework for 
the construction, editing, analyzing, and visualizing of geospatial information in 3D 
geovirtual environments (GeoVE) which is developed in cooperation of the computer 
graphics research group at the Hasso-Plattner-Institut at the University Potsdam1 and 
3DGeo2. The LandXplorer CityGML Viewer is a tool for the construction of GeoVE 
from terrain information, terrain textures, large and complex building models or arbitrary 
3D geometry, which is typically loaded from file. 

For OWS-4, the viewer was extended for enabling access to distributed geoinformation 
via OGC web services (WMS, WFS). Thereby, the LandXplorer CityGML Viewer serves 
for the integration of various building information that are exchanged in the CityGML 
format, but also for the integration of common 2D geoinformation as map layers.  

The correlation of detailed semantics and detailed geometry in CityGML data is 
preserved along the visualization process and is accessible in the final geovisualization: 
E.g., thematic information can be displayed and edited for selected objects.  

In OWS-4, the capabilities of CityGML are used for bridging the gap between CAD and 
BIM on the one hand and GIS on the other hand, supported by a transformation of BIM 
data into CityGML. For demonstrating this functional interoperability, the LandXplorer 
3D CityGML Viewer was further extended with a building room report utilizing the 
building information implanted into CityGML. 

B.2 Scenario Workflow 

The sequence diagram in Figure B.1 visualizes the activities performed by the 
LandXplorer CityGML Viewer in the context of the OWS-4 testbed scenario. The viewer 
client is capable of loading context information (representing the Common Operational 

                                                 

1 http://www.hpi.uni-potsdam.de/3d 
2 http://www.3dgeo.de 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

34 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

Picture provided by the PEC) for WMS and WFS. These contexts provide the sources to 
request. Additionally, object catalogues by Onuma and Snowflake are used for finding 
servers and information to access. The Snowflake WFS is accessed for retrieving terrain 
information, context buildings, and a LOD4 representation of the hangar building. The 
Onuma BIM-WFS provides room models which derived from the IFC spaces of a 
complex BIM. The LizardTech WMS is accessed for retrieving aerial images for the 
scene. In addition to data integration, there is the task of building assessment which is 
supported by colored visualizations and textual display of room attributes. The output of 
the work with the viewer client is a reference which identifies the building and room to 
be used as a temporary field hospital and is virtually passed to the scenario's next step 
(hospital space planning).  

 

LandXplorer CityGML Viewer

Load context information

Snowflake WFS

GetMap

GetFeature

CityGML TIN relief (compr.)

Aerial images for context and focus area

LizardTech WMS Onuma BIM-WFS

CityGML rooms representing BIM spaces for hangar building (compr.)

GetFeature

Context buildings and detailed hangar as CityGML (compr.)

Perform building assessment

GetGMLObject

 

Figure B.1: Workflow sequence for LandXplorer CityGML Viewer. 



 Web Services Architecture for CAD GIS and BIM 

 35  

 

B. 3 Viewer Client Functionality 

For the web service-based creation of the GeoVE, we have accessed a variety of 
OpenGIS data services and portrayal services. The following subchapters address 
important implementation issues for the interoperable OGC web service-based viewer 
client.  

B.3.1 Service discovery 

The operations of an OGC web service are defined by the various service-specific 
implementation specifications. Additionally, binding information is necessary about 
server address and port number. On a more fine-grained level, information about the 
special geoinformation (features, map layers) is needed for retrieving the appropriate 
information for the special use case.  

For the thread's workflow, different approaches for finding sources of relevant 
geoinformation were used. 

B.3.1.1 Catalogue Service 

Onuma set up a so-called object catalogue, which provides URLs for requests to the 
BIM-WFS. This object catalogue itself was registered at the CubeWerx Web Registry 
Serviane which is an OGC catalogue implementation3 and allows a search for 
information sources by geographic bounding box and keywords. Another object 
catalogue was provided by Snowflake.  These catalogues contain full HTTP request lines 
for accessing different configurations of building models in the CityGML format.  

B.3.1.2 Context document 

The interface to the previous scenario steps is the common operational picture which 
should be stored and transferred as an OWS context document. This has been done for 
testing. Until now, the LandXplorer CityGML Viewer is not capable of reading OWS 
context documents but is able to load Web Map Context information (WMC). This 
includes a bounding box and a set of layers (servers, layer names, etc.) which can be used 

                                                 

3 http://demo.cubewerx.com/ows4/cwwrs/cwwrs.cgi 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

36 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

for reconstructing a scene by accessing the information sources. Leaning against this 
WMC specification an arbitrary text-based context description has been defined for WFS 
layers. 

It should be investigated in detail, to which extend the OWS Context is applicable to the 
definition of 3D geovirtual environments.  

B.3.2 Data Loading 

B.3.2.1 Supported access methods and formats 

The viewer client allows the user to load information from a context file (arbitrary text-
format leaned against OGC Web Map Context) or to define a request URL as it is 
provided by the Onuma and Snowflake object catalogues. The viewer client supports 
only HTTP GET request at the moment. This leads to restrictions for the length of the 
request string and so reduces the complexity of service requests. Even so, there was no 
such problem for the testbed demonstration. Even filter encoding was possible within the 
request string.  

Currently, the viewer clients WFS adapter only supports the reading of (compressed) 
CityGML data. Pure GML data reading is not activated.  

B.3.2.2 Geo-referencing CAD data 

In CAD tools, geometry is defined relative to a reference point in a local coordinate 
system. For GIS application geo-referencing is elementary. For supporting this, the 
provided CityGML data contains extra information which is read out by the viewer and is 
used for calculating an offset vector for translating the building geometries. This method 
worked well for the testbed but is not a general solution: The geo-referencing attributes 
do not have a well-defined format and there is no specification about how to apply them 
to the retrieved geometries. Furthermore, this approach is a logical break between service 
request and service response, as the geospatial position of retrieved geometry does not 
match to the requested bounding box. For supporting better interoperability, geo-
referencing should be performed by the service itself.  

 B.3.2.3 Different Coordinate Systems 

Because different geoinformation sources (WMS, WFS) might support different 
coordinate reference systems (e.g., for request's bounding box or responded geometry), it 



 Web Services Architecture for CAD GIS and BIM 

 37  

is necessary to transform imported coordinates. As WSG84 was defined as the one and 
only spatial reference system for this testbed, a first implementation of coordinate 
adjustment for data loaded by context definition was not followed up.  

B.3.2.4 CityGML Compression 

CityGML data can be very large but can be compressed to a much smaller data amount, 
easily. This compression must be supported by WFS server and client. Compression can 
be handled at transport layer (HTTP compression) or at application layer. The latter is 
chosen for this testbed: The WFS provides separate service endpoints which responses 
(gz or zip) compressed data which is detected and uncompressed by the CityGML 
Viewer. For general, the usage of HTTP compression should be favored as it increases 
the decoupling of client and server.  

B.3.2.5 Preserving the semantic structure 

The geometric, topologic, and semantical structure of a building model and the 
correlation between this information is contained in CityGML and so can be transferred. 
The LandXplorer CityGML Viewer preserves these structures and correlations along the 
visualization process. The CityGML Browser allows the user to access all the objects of 
an urban model, to display attributes and their values, or to edit them. Furthermore, the 
user is able to select objects in the visualization which results in the display of the 
corresponding entry in the CityGML Browser. 

B.3.2.6 Visualizing different model representations and states 

A new item is inserted into the LandXplorer project for each loaded information entity 
(map layer, city model). These items are arranged in a tree view and can be deselected 
from the visualization which is very useful for the simultaneous integration of different 
representations of a building (e.g., detailed building models on the one hand and room 
models generated from IFC on the other hand). This also can be used to integrate 
different planning states of a single building and to identify the changes by switching 
between their visualizations. 

B.3.2.7 External References in CityGML 

CityGML data can carry external references. In our scenario, the external reference 
represents a link to the IFC data which were the basis for the CityGML creation. For the 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

38 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

finally selected building and room this link can be accessed via CityGML browser and 
can be forwarded to space planning. Again, CityGML supports the functional 
interoperability between different applications and application domains.  

B.3.2.8 Groupings in CityGML 

CityGML supports the grouping of different city objects in a so-called CityObjectGroup 
by referencing to various CityObjects. The CityGML specification suggests using this 
CityObjectGroup for establishing building complexes, storeys, etc. As a CityObjectGroup 
is not attached explicitly to a specific building object, the correlation between building 
groups and contained groupings is given only implicitly.  

B.3.3 Building Room Report and Building Assessment 

The implemented building room report is an application for the utilization of building 
information in the geospatial context. It uses the room information which is integrated in 
the CityGML description that was provided by the BIM WFS.  

This information is stored as StringAttributes in the CityGML rooms. Each of them 
consists of an attribute name and value – examples are area size or space category. The 
building room report shows this information in report or table style. Additionally, this 
building information is utilized for a visual building assessment. The rooms' attribute 
values are color-coded which allows the user to see the properties of the rooms together 
with the geospatial relationship of the building in one view. (Figure B.2) 

a)   b)  



 Web Services Architecture for CAD GIS and BIM 

 39  

Figure B.2: Textual building room report (a) and visual building assessment color-
coding security zone attribute (b). 

 

In addition to CityGML rooms (these are IFC spaces) further building entities could be 
used for such a building assessment. The introduction and application of attribute profiles 
(e.g., as application domain extensions as currently proposed for CityGML) would be 
great for allowing some predefined color-codings which result in better visualizations.  

In the normal view the buildings' rooms are rendered transparent, for as they are often 
additional information in CityGML files. For the assessment view, rooms are displayed 
semi-transparent for enabling a look through and so to investigate the whole building at 
once – building parts which are not rooms are removed from the visualization.  

B.4 Lessons Learned 

For decision support, it can be useful to integrate building models –which are available in 
CAD format only– into a geovirtual environment via CityGML. In the concrete testbed 
scenario, this enables the user to evaluate buildings and different planning states in 
interrelation to other features and geospatial information. The geovirtual environment 
serves as a platform for the seamless integration of geoinformation which are different in 
source, format, and semantics. 

Context document are essential for an easy description of a GeoVE and for its 
construction from distributed information sources. 

The integration of building information into CityGML is currently done by simple 
StringAttributes. This should be done in a more formal manner with defined structures 
and content. The planned application domain extension (ADEs) for CityGML should be a 
suitable solution for this problem. In the context of BIM, information from different BIM 
models according to different BIM standards could be included.  

As described above, geo-referencing of CAD data should be done at server side for that 
the internal spatial referencing of CAD tools must not be supported by the client for 
reaching interoperability.  

Compression of CityGML data is very important for service-based access. On a technical 



Web Services Architecture for CAD GIS and BIM  OGC 07-023r2 

40 Copyright © 2007 Open Geospatial Consortium. All Rights Reserved 

level it reduces the data size and so the network load and transfer time. On the application 
level it supports shorter response times and so increases the usability of a service-
consuming client.  

B.5 Future work 

On a technical level, the current viewer client implementation should be improved 
according to efficiency in data access and processing. This includes issues as 
asynchronous service access, data caching and preloading. Additionally, there should be 
functional extensions as a more dynamic data binding (via GetCapabilities request) or the 
possibility to store the created GeoVE in a context description for service-based re-
construction or as a CityGML file for easy transfer and for increasing the interoperability 
between different systems, applications, and processes.  

 

 



 Web Services Architecture for CAD GIS and BIM 

 41  

Bibliography  

Thomas Liebich AEC3 Ltd. Comparison between GML and  IFC Geometry; Munich, 
Thatcham 27 May 2004 
http://www.iai.no/ifg/Content/Comparison%20between%20gml%20and%20IFC%20
geometry.pdf 

Kolbe, et al, minutes of meeting on IFC-CityGML Crosswalk: 
https://portal.opengeospatial.org/wiki/twiki/bin/view/OWS4/CGB_IFC_Crosswalk 

 

 


