
 

Open Geospatial Consortium Inc. 
Date: 2007-06-18 

Reference number of this OGC® document: OGC 06-080r2 

Version: 0.9.0 

Category: OpenGIS® Best Practices 

Editor: Jerome Gasperi 

 

GML 3.1.1 Application schema for Earth Observation 
products  

 

 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

 

Warning 

This is an OGC Best Practices document. It is not an OGC Standard and may not be 
referred to as an OGC Standard. It is subject to change without notice. However, 
this document is an official position of the OGC membership on this particular 
technology topic. 

Document type : OGC Best Practices 
Document subtype : GML Application Schema 
Document stage: Proposed  
Document language: English 

 
 

http://www.opengeospatial.org/legal/


OGC 06-080r2 

Contents Page 

1 Scope........................................................................................................................1 

2 Compliance ..............................................................................................................1 

3 Normative references ...............................................................................................1 

4 Terms and definitions ..............................................................................................2 

5 Conventions .............................................................................................................3 
5.1 Abbreviated terms ...............................................................................................3 
5.2 Namespace prefix conventions............................................................................4 

6 Overview..................................................................................................................4 
6.1 General concepts .................................................................................................4 
6.2 GML Observation................................................................................................6 

6.2.1 Earth Observation mapping on gml:Observation ...........................................7 
6.3 General rules........................................................................................................7 

6.3.1 Language rules ................................................................................................8 
6.3.2 Extensions rules ..............................................................................................8 

6.3.2.1 Thematic extended namespace............................................................................8 
6.3.2.2 Mission specific extended namespace.................................................................9 

6.3.3 Use of Schematron........................................................................................10 
6.3.3.1 Schematron basics .............................................................................................10 
6.3.3.2 Schematron rules for hma..................................................................................11 

6.3.4 CodeList........................................................................................................12 
6.3.5 Units of measure ...........................................................................................13 
6.3.6 Use of xlink...................................................................................................13 
6.3.7 GML restrictive use ......................................................................................14 

7 EO Products application schemas..........................................................................14 
7.1 General EO product data schema ......................................................................14 

7.1.1 EarthObservationMetadata ...........................................................................17 
7.1.2 EarthObservationEquipment.........................................................................21 
7.1.3 Footprint........................................................................................................24 
7.1.4 EarthObservationResult ................................................................................25 

7.2 Thematic EO product data schema....................................................................27 
7.2.1 Optical EO Product data schema ..................................................................27 
7.2.2 Radar EO Product data schema.....................................................................29 
7.2.3 Atmospheric EO Product data schema .........................................................31 
7.2.4 Mission specific schema : example for Pleiades HR data schema ...............32 

7.3 Issues .................................................................................................................33 
7.4 XML schema documents...................................................................................33 

 

ii Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

Figures Page 
Figure 1 : A layered view of GML EO Products data................................................................ 5 
Figure 2 : A generic GML viewer understand the “gml” vocabulary and thus displays the 

product footprint (gml:extentOf property). With no semantic knowledge on the EO 
product schema, the reader is able to displays the related attributes in an  xpath/value 
fashion ..................................................................................................................................... 6 

Figure 3 : schematron processing for Earth Observation products ....................................... 11 
Figure 4: <hma:EarthObservationType> diagram .............................................................. 15 
Figure 5 : <hma:EarthObservationMetadata> diagram..................................................... 17 
Figure 6 : <hma:EarthObservationEquipment> diagram.................................................. 21 
Figure 7 : <hma:Footprint> diagram ...................................................................................... 24 
Figure 8 : <hma:EarthObservationResult> diagram .......................................................... 25 

Tables Page 
Table 1 : namespace mappings..................................................................................................... 4 
Table 2 : gml:Observation properties mapping within Eart Observation context............Error! 

Bookmark not defined. 
Table 3 : <hma:EarthObservation> fields description ............................................................ 16 
Table 4: <hma:EarthObservationMetadata> fields description................................................ 20 
Table 5: <hma:EarthObservationEquipment> fields descriptionError! Bookmark not defined. 
Table 6: <hma:Footprint> fields description ............................................................................ 24 

Table 7: <hma:EarthObservationResult> fields description.............................................. 27 
Table 8: <ohr:Acquisition> extension of <hma:Acquisition> ..................................................... 28 

Table 9: <ohr:EarthObservationResult> extension of <hma:EarthObservationResult>.............. 28 

Table 10: <sar:Acquisition> extension of <hma:Acquisition>.................................................... 30 

Table 11: <atm:EarthObservationResult> extension of <hma:EarthObservationResult> ........... 31 

 

 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  iii
 



OGC 06-080r2 

i. Preface 

This document defines an application schema of the Geography Markup Language 
(GML) version 3.1.1 for describing Earth Observation products (EO products) within the 
HMA (Heterogeneous EO Missions Accessibility) Application Profile for the OGC® 
Catalogue Services Specification v2.0.0 (with Corrigendum) [OGC 04-021r3] 

Suggested additions, changes, and comments on this draft report are welcome and 
encouraged. Such suggestions may be submitted by email message or by making 
suggested changes in an edited copy of this document. 

ii. Document terms and definitions 

This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008]. In 
particular, the word “shall” (not “must”) is the verb form used to indicate a requirement 
to be strictly followed to conform to this specification. 

iii. Submitting organizations 

This application schema is being submitted to the OGC by the following organizations: 

• ESA – European Space Agency 

• CNES – French Space Agency 

• EUSC 

• Spacebel s.a. 

• Spot Image 
The editors would like to acknowledge that this work is the result of collaboration and 
review of many organizations and would like to thank for the comments and 
contributions from : 

• ASI 

• Conterra 

• DLR 

iv Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

• Eumetsat 

• MDA  
 
Note : this does not imply a complete endorsement from these organizations). 

iv. Document contributor contact points 

All questions regarding this submission should be directed to the editor or the submitters: 

Jerome Gasperi (Editor) 
CNES 
jerome.gasperi@cnes.fr 

Contributors: 

Name Organization 
Christophe Dabin CNES 
Patrick Floissac MAGELLIUM (CNES Sub contractor) 
Jolyon Martin ESA 
  

v. Revision history 

Date Release Editor Primary clauses 
modified 

Description 

11 May 2006 0.1.0 Jerome Gasperi N/A Initial document 
29 May 2006 0.1.1 Jerome Gasperi N/A Updated after telecom meeting 
21 August 2006 0.1.2 Jerome Gasperi N/A Update document after Ron 

Lake comments. 
Update document regarding 
version 0.91 of the XML 
schemas 

19 September 2006 0.1.3 Jerome Gasperi N/A Update document regarding 
version 0.92 of the XML 
schema 

24 November 2006 0.1.4 Jerome Gasperi N/A Use of gml:Observation for 
schema description. 
Update document regarding 
version 0.94 of the XML 
schema 

8 December 2006 0.1.4 
06-
080r1 

Jolyon Martin N/A Updated draft re-numbered as 
06-080r1 
Minor update of introduction 

7 February 2007 0.1.4 
06-
080 2

Jerome Gasperi N/A Updated draft re-numbered as 
06-080r2 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  v
 

mailto:jerome.gasperi@cnes.fr


OGC 06-080r2 

080r2 Conformance with hma RIDS 
(CDR#34, CDR#35, CDR#49, 
CDR#58, CDR#71). 
Update document regarding 
version 0.95 of the XML 
schema 
Schemas import a gml subset 
(gmlSubset.xsd given in annex) 
 
 

21 May 2007 0.1.5 
06-
080r2 

Jerome Gasperi N/A Updated draft re-numbered as 
06-080r3 
Change pointingAngles to 
incidenceAngles. 
Add hma:composedOf, 
hma:subsetOf and 
hma:linkedWith within 
EarthObservationMetadata 
Update document regarding 
version 1.0beta of the XML 
schema 
 

18 june 2007 1.0 06-
080r2 

Jerome Gasperi N/A Updated draft re-numbered as 
06-080r4 
Change gml:extentOf to 
gml:multiExtentOf to allow 
multi-polygons in footprint 
Update document regarding 
version 1.0 of the XML schema 
 

vi. Changes to OGC Specifications 

The previously approved OGC® Specifications do not need changes to accommodate the 
technical contents of this document.  

vii. Future work 

At this stage, this document is a working document that will be filled with the 
ongoing work on schemas definition. 

 

vi Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

Foreword 

 

This document specifies an application schema of the existing OGC Implementation 
Specification for the Geographic Markup Language (GML) version 3.1.1 [OGC 03-105r1 
and 04-092r4]. It is a GML application schema as specified in Subclause 23 of [OGC 03-
105r1]. 

Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held 
responsible for identifying any or all such patent rights. 

Recipients of this document are requested to submit, with their comments, notification of 
any relevant patent claims or other intellectual property rights of which they may be 
aware that might be infringed by any implementation of the specification set forth in this 
document, and to provide supporting documentation. 

 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  vii
 



OGC 06-080r2 

Introduction 

The Geography Markup Language is an XML grammar written in XML Schema for the 
modelling, transport, and storage of geographic information. 
From the GML specification, “GML provides a variety of kinds of objects for describing 
geography including features, coordinate reference systems, geometry, topology, time, 
units of measure and generalized values. A geographic feature is an abstraction of a real 
world phenomenon; it is a geographic feature if it is associated with a location relative to 
the Earth”.  

EO data product collections are usually structured to contain data items derived from a 
sensor onboard a satellite or series of sensors.  The key characteristics differentiating 
these products are date of acquisition, location and in some cases, such as the optical 
imagery, the possible presence of cloud, haze, smokes or other atmospheric or on ground 
phenomena obscuring the image. These are the key characteristics; there are however 
other metadata that are required to identify products of interest.  

From a user point of view, an EO data product can be naturally described with a spatial 
extension (e.g. the geographic footprint of a satellite acquisition) and several attributes 
describing the metadata (e.g. date of acquisition, etc.). Indeed this point of view is 
consistent with a GML representation of the data. 

The intent of this document is to describe a core interface for EO data product described 
as a GML version 3.1.1 application schema that can be supported by many data providers 
(satellite operators, data distributors …).  The metadata described is that which is 
commonly provided through catalogue interfaces, it does not necessarily include all of 
the metadata that is present in the actual EO data product (e.g. calibration coefficients 
etc.). 
 
In addition, this document describes the mechanism used to extend the general core 
interface to thematic EO product such as optical, radar and atmospheric missions and to 
very specific mission such as the French Pleiades mission.

viii Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OpenGIS® Best Practices OGC 06-080r2

 

GML 3.1.1 application schema for EO Products 

1 Scope 

This application schema document describes the encodings required to describe Earth 
Observation (EO) products from general to mission specific characteristics. 
 
This document specifies three compliance levels : 

- The general level, or “hma” level, describes the general EO Products schema; 

- The thematic level extends the “hma” level to describes thematic EO Products 
such as optical, radar or atmospheric products (respectively “ohr”, “sar”, “atm” 
levels); 

- The mission specific level extends one of the “thematic” level to describes 
mission specific EO Products. For instance the French Pleiades mission uses the 
“phr” level which extends the “ohr” thematic level. 

2 Compliance 

EO Products data encoded using this application schema shall produce XML documents 
that are fully compliant with normative XML Schema Documents associated with this 
specification (i.e. hma.xsd for general EO Products, ohr.xsd, sar.xsd and atm.xsd for 
optical, radar and atmospheric products respectively).   

More specifically, compliance with this specification shall be checked using all the 
relevant tests specified in Annex A (normative). 

3 Normative references 

The following normative documents contain provisions that, through reference in this 
text, constitute provisions of this document. For dated references, subsequent 
amendments to, or revisions of, any of these publications do not apply. For undated 
references, the latest edition of the normative document referred to applies. 

OGC 03-105r1, OpenGIS Geography Markup Language (GML) Implementation 
Specification, Version 3.1.0, 

OGC 04-092r4, GML 3.1.1 schemas 

OGC 05-008, OGC Web Services Common Specification, Version 1.0.0 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  1
 



OGC 06-080r2 

OGC 05-010, URNs of definitions in ogc namespace (Recommendation Paper), Version 
1.0.0 

W3C, Extensible Markup Language (XML) 1.0 (Second Edition), W3C 
Recommendation, 6 October 2000, http://www.w3.org/TR/REC-xml 

W3C, XML Schema Part 1: Structures, http://www.w3.org/TR/xmlschema-1 

W3C, XML Schema Part 2: Datatypes, http://www.w3.org/TR/xmlschema-2 

W3C, Namespaces in XML, http://www.w3.org/TR/1999/REC-xml-names-19990114 

In addition to this document, this specification includes several normative XML Schema 
files. Following approval of this document, these schemas will be posted online at the 
URL: http://bp.schemas.opengis.net/06-080r2/. These XML Schema files are also 
bundled with the present document. In the event of a discrepancy between the bundled 
and online versions of the XML Schema files, the online files shall be considered 
authoritative. 

4 Terms and definitions 

For the purposes of this specification, the definitions specified in Clause 4 of the OWS 
Common Implementation Specification [OGC 05-008] shall apply. In addition, the 
following terms and definitions apply. 

4.1  
client 
software component that can invoke an operation from a server  

4.2  
datastrip 
A satellite acquisition 

4.3  
geographic information 
information concerning phenomena implicitly or explicitly associated with a location 
relative to the Earth [ISO 19128 draft] 

4.4  
identifier 
a character string that may be composed of numbers and characters that is exchanged 
between the client and the server with respect to a specific identity of a resource 

 
4.5  
qualified name 
name that is prefixed with its naming context 

2 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

http://www.w3.org/TR/REC-xml
http://www.w3.org/TR/xmlschema-1
http://www.w3.org/TR/xmlschema-2


OGC 06-080r2 

EXAMPLE The qualified name for the road no attribute in class Road defined in the Roadmap schema is 
RoadMap.Road.road_no. [ISO 19118]. 

 
4.6  
request 
invocation of an operation by a client 

4.7  
response 
result of an operation, returned from a server to a client 

4.8  
scene 
The cutting of a datastrip into part. For PHR mission, a scene is a 20x20 km^2 square 
part. 

4.9  
schema 
formal description of a model [ISO 19101, ISO 19103, ISO 19109, ISO 19118] 

 

5 Conventions 

5.1 Abbreviated terms 

The abbreviated terms used in this document include: 

ATM Atmospheric 

EO  Earth Observation 

GML Geography Markup Language 

HMA Heterogeneous Mission Accessibility 

OGC Open Geospatial Consortium 

PHR Pleiades High Resolution 

OHR Optical High Resolution 

SAR Synthetic Aperture Radar 

XML eXtensible Markup Language 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  3
 



OGC 06-080r2 

5.2 Namespace prefix conventions 

The namespace prefixes used in this document are not normative and are merely chosen for 
convenience; they may appear in examples without being formally declared, and have no 
semantic significance. The namespaces to which the prefixes correspond are normative, 
however. 
 

Prefix Namespace URI Description 

hma http://earth.esa.int/hma General EO product schema namespace 

ohr http://earth.esa.int/ohr Optical High Resolution EO product schema 
namespace 

sar http://earth.esa.int/sar Radar EO product schema namespace 

atm http://earth.esa.int/atm Atmospheric EO product schema 
namespace 

phr http://hma.cnes.fr/phr Pleiades High Resolution product schema 
namespace 

Table 1 : namespace mappings 

 

6 Overview 

This section focuses on the purpose of the document. In particular, it describes the 
context of use of the EO Product application schema. 

6.1 General concepts 

Our approach consists in modelling  EO data product through a GML application schema, 
using ISO definitions for attributes where available, although not using the full ISO 
schema for the structural definitions, which would lead to a less efficient overall 
structure. 

The general mechanism is to create a schema with a dedicated namespace for each level 
of specificity from a general description which is common to each EO Product to a 
restricted description for specific mission EO Product. Each level of specificity is an 
extension of the previous one.  

The General EO product schema is the main application schema for EO Product data. It is 
associated with the “hma” namespace. 

Each Thematic EO product schemas extends the “hma” schema : 

- The Optical EO Product schema is used to describe optical products. It is 
associated with the “ohr” namespace; 

4 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

- The SAR EO Product schema is used to describe radar products. It is associated 
with the “sar” namespace; 

- The Atmospheric EO Product schema is used to describe atmospheric products. It 
is associated with the “atm” namespace; 

The idea behind this set of layered levels approach, is  

1) to create an efficient schema set that describes EO Product metadata 
concentrating on the core metadata that key characteristics differentiate a products 
within a collection. 

2) to profit by the widespread use of GML so that our products can be displayed by a 
large variety of  GML viewer from generic one, which will see EO Products as 
features with footprint and “unknown” metadata, to EO Product specific one, 
which will understand the semantic of these metadata (cf. Figure 1) 

Other Specific Mission 
EO Products description

 

Specific, tight community Other Thematic EO 
Products description 

… PHR Mission Specific EO Products Viewer

OHR … SAR ATM Thematic EO Products Viewer 

HMAGeneral EO Products Viewer 

 GMLGeneric GML Viewer 

Generic, widespread community 

Figure 1 : A layered view of GML EO Products data.. 

 

More precisely, a generic GML viewer will only understand the “gml” vocabulary of the 
GML document; a “Generic EO Products viewer” will understand the “gml” and “hma” 
vocabulary of the GML document; an “Optical EO Products viewer” will understand the 
“gml”, “hma” and “ohr” vocabulary of the GML document. The “phr” vocabulary will 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  5
 



OGC 06-080r2 

only be understood by a “Specific PHR  Viewer” that extends the “Optical EO Products 
Viewer”. 

 

Figure 2 : A generic GML viewer understand the “gml” vocabulary and thus displays the product 
footprint (gml:multiExtentOf property). With no semantic knowledge on the EO product schema, 

the reader is able to displays the related attributes in an  xpath/value fashion   

6.2 GML Observation 

An Observation in GML models the act of observing or measuring some quantity. The 
quantity to be measured can be simple (a single temperature), or it may be a complex 
quantity like a Coverage. Remotely sensed images in the sense of their acquisition can be 
viewed as observations in which the result of the observation (value of the resultOf 
property) is a remotely-sensed image product. 

The structure of a GML observation is as follows : 

- metadataProperty – general metadata describing the observation ; 

- validTime - when the observing took place ; 

- using - the mechanism (procedure, instrument etc.) used in the observing ; 

- target - the entity that is the subject or target of the observation ; 

- resultOf - what resulted from the observing. 

6 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

6.2.1 Earth Observation mapping on gml:Observation 

We modelled the Earth Observation to fit exactly the gml:Observation structure and 
always have the same first level structure (i.e. gml:using, gml:target, etc.).  

Thus, the hma namespace contains : 

- hma "words" (i.e. technically speaking global element declaration) : identifier, 
status, dowlinkedTo, etc. This words are referenced inside higher level structure 
(or "blocks", see Table 2) 

- an hma:EarthObservation element that inherits from gml:Observation. This 
inheritance is an XML schema extension (to avoid restriction problems) with no 
element added (because all elements fit inside one of the gml:Observation 
property metadaProperty, validTime, using, target or resultOf)    

The content of gml:Observation properties is  as follows : 

Property Description within Earth 
Observation context 

Awaited Content 

metadaProperty Describe general properties such as the 
data identifier, the downlink and archiving 
information 

hma:EarthObservationMetadata 

validTime Describe the acquisition duration, i.e. the 
start and end date of acquisition 

gml:TimePeriod/gml:beginPosition
gml:TimePeriod/gml:endPosition 

using Describe the Platform/Instrument/Sensor 
used for the acquisition and the 
acquisition parameters (i.e. pointing 
angles, etc.) 

hma:EarthObservationEquipment 

target Describe the observed area on ground 
i.e. the footprint of acquisition 

hma:Footprint 

resultOf Describe the Earth Observation result 
composed of the browse, mask and 
product description  

hma:EarthObservationResult 

Table 2: gml:Observation properties mapping within Eart Observation context 

 

The elements hma:EarthObservationMetadata, hma:EarthObservationInstrument, 
hma:Footprint and hma:EarthObservationResult are described in §7. 

6.3 General rules  

We defined the following rules for creating the application schemas. 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  7
 



OGC 06-080r2 

6.3.1 Language rules 

Natural language used as far as possible for property names. For instance, complete 
names for properties are preferred to abreviations. 
 
Property name “composedOf” is used  to define structural links to extended metadata. For 
instance a “phr:Datastrip” is logically splitted into one or more ”phr:Scene”. Thus, each 
Scene in the “phr:Datastrip” schema is referenced with the “hma:composedOf” property. 
 
Property name “subsetOf” is used  to define structural links to “father” metadata. For 
instance in the previous example, the “phr:Datastrip” is referenced within the 
“phr:Scene” by the “hma:subsetOf” property name. 
 
6.3.2  Extensions rules 

As see in §6.2.1, we want each Earth Observation product to fit exactly the structure of a 
gml:Observation element. 
 
Thus, in the inheritance mechanism for thematic or mission specific namespaces, we need 
to extends existing properties defined in hma or create new property that fit inside the 
model. 
 
6.3.2.1 Thematic extended namespace 

Thematic extended namespace (ohr for example) contains : 

- ohr "words"; 

- an ohr:EarthObservation element that inherits from hma:EarthObservation. This 
inheritance is an XML schema extension (to avoid restriction problems) with no 
element added (because all elements fit inside one of the Observation property 
metadaProperty, validTime, using, target or resultOf);  

- one or more extension of existing hma properties (see example below). 

For example, “ohr” thematic EO Products metadata include the solar azimuth angle, 
named  “illuminationAzimuthAngle”. This property is described within ohr:Acquisition 
element which extends and acts as a substitution for hma:Acquisition : 

 
<ohr:EarthObservation> 
  […] 
  <gml:using> 
   <hma:EarthObservationEquipment> 
    […] 
    <hma:acquisitionParameters> 
     <ohr:Acquisition> 
           […] 
           <hma:orbitDirection>ASCENDING</hma:orbitDirection> 
           […] 
           <ohr:illumationAzimuthAngle>56,67</ohr:illumationAzimuthAngle> 
      </ohr:Acquisition> 

               </hma:acquisitionParameters> 

8 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

     […] 
   </hma:EarthObservationEquipment> 
  </gml:using> 

   […] 
            </ohr: EarthObservation> 
 
6.3.2.2 Mission specific extended namespace 

Mission specific extended namespace (phr for example) contains : 

- phr "words"; 

- a phr:EarthObservation element that inherits from ohr:EarthObservation. This 
inheritance is an XML schema extension (to avoid restriction problems) with no 
element added (because all elements fit inside one of the Observation property 
metadaProperty, validTime, using, target or resultOf); 

- one or more extension of existing ohr properties (e.g. in phr, an extension of 
ohr:EarthObservationResult to add cloudCoverPercentageConfidenceIndex). 

 
These rules are closed to those described in the thematic extended namespace. However, 
the property extension approach leads to a drawback in the mission specific case. 
 
Indeed, from a client point of view, an “hma” enabled reader must encounter well-known 
structures under a “hma” properties. This may not be a problem for “hma” and thematics 
schemas since they are completely described in this document (i.e. structure can be “hard 
coded”). 
 
However, a mission specific schema shall follow the rules described in this document but 
the content of this schema is not in the scope of this document. Thus a generic “hma” 
enabled reader shall be able to process complex schema inheritance mechanisms to 
“understand” mission specific data.  
    
To avoid this drawback, we introduce an attribute "hma:type" at the hma level. This 
attribute is required for properties that extends one of hma or thematic property. This 
attribute is expected to contain the name of the property it extends directly. This 
mechanism is comparable to the ISO19139 gco:isoType. 
 
For example for a phr:DataStrip that extends ohr:EarthObservation : 
  

      <phr:DataStrip hma:type="ohr:EarthObservation"> 
           [...] 
           <gml:resultOf> 
                <phr:EarthObservationResult hma:type="ohr:EarthObservationResult"> 
                      <hma:browse> 
                      <hma:product> 
                      <hma:mask> 
                      <ohr:cloudCoverPercentage uom='%'>30</ohr:cloudCoverPercentage> 
                      <phr:cloudCoverAssessmentConfidence uom='%'>10</phr:cloudCoverAssessmentConfidence>   
                 </phr:EarthObservationResult> 
           </gml:resultOf> 
           [...] 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  9
 



OGC 06-080r2 

      </phr:DataStrip>  
  

 
6.3.3 Use of Schematron 

The gml:Observation properties have a very generic defintion that do not offer sufficient 
content constraints within XML Schema, e.g. : 

- using : any gml Feature; 

- target : any gml Feature or Geometry; 

- resultOf : any gml Object. 

This leads to an Earth Observation model with properties that cannot be tightly validated 
with the XML schema mechanism. 

To clarify, let's take an example. The hma:EarthObservationEquipement feature shall be 
used under the "gml:using" property. Nevertheless, the following documents would 
perfectly validate: 

- a gml:Observation with any other feature that a EarthObservationEquipement 
under the "using" property; 

- a gml:Observation with a "EarthObservationEquipement" under the "resultOf" 
property (since a gml feature inherits from gml object). 

A proposed solution to have tightly validated Earth Observation products is to 
complement XML schema with the use of Schematron. 

6.3.3.1 Schematron basics 

Schematron is a rule-based language that uses XPath to express assertions about the 
content in an XML instance document. This can be done by transforming the Schematron 
schema with a base stylesheet, which turns the schema into an XSLT stylesheet. The 
stylesheet checks the assertions defined by running the XML instance document through 
an XSLT processor. The result of the transformation is a report, in XML format, that 
contains details on which assertions failed along with the comments provided with that 
particular rule in the schema. 

Applied to the Earth Observation products case, this can be summarized in Figure 3. 

10 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 

Figure 3 : schematron processing for Earth Observation products 

 

The "Part 1 : pre-processing" step is needed to get the validating stylesheet for HMA. It is 
processed from : 

- the schematron basic stylesheet (aka "skeleton stylesheet") from 
http://www.schematron.com slightly modified for hma (i.e. add hma namespaces 
into the skeleton : schematron_skeleton_for_hma.xsl; 

- the schematron schema rules for hma : schematron_rules_for_hma.sch;  

- an XSLT processor. 

We used XMLSpy 2004 as the XSLT processor to generate the validating stylesheet  
schematron_result_for_hma.xsl 

This processing is done only one time. This stylesheet will then be used each time we 
need to validate an HMA XML instance : first an HMA XML instance is validated 
syntaxically and semantically by the HMA XML schema; second it is validated against 
the validating sylesheet. The schematron report indicates if error where found. 

 

6.3.3.2 Schematron rules for hma 

  

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  11
 

http://www.schematron.com/


OGC 06-080r2 

The following rules were defined at the hma level : 

- gml:metadataProperty must contains an hma:EarthObservationMetadata; 

- gml:validTime must contains a gml:TimePeriod/gml:beginPosition and 
gml:TimePeriod/gml:endPosition ; 

- gml:using must contains an hma:EarthObservationEquipement ; 

- gml:target must contains an hma:Footprint ; 

- gml:multiExtentOf must contains a 
gml:MultiSurface/gml:surfaceMembers/gml:Polygon/gml:exterior/gml:LinearRin
g/gml:posList ; 

- gml:resultOf must contains an hma:EarthObservationResult. 

More generally, the schematron rules for extension in the general case can be 
summarized as follow: 

- if root element is hma:EarthObservation then the whole property are in the hma 
namespace ; 

- if root element is ohr:EarthObservation then the whole property are in the hma 
namespace or in the ohr namespace ; 

- if root element is sar:EarthObservation then the whole property are in the hma 
namespace or in the sar namespace ; 

- if root element is atm:EarthObservation then the whole property are in the hma 
namespace or in the atm namespace ; 

- if root element is xxx:EarthObservation, where xxx is a specific mission 
namespace, then the whole property are in the hma namespace or in the thematic 
namespace extended by xxx (i.e. ohr, sar or atm) or must be defined with a 
hma:type attribute containing explicitely the property it extends directly 

 

6.3.4 CodeList 

Property that shall be described within a given codeSpace shall use the 
<hma:CodeWithAuthorityType>.  Note that this type will be replaced by the incoming 
<gml:CodeWithAuthorityType> (shall be available in GML 3.2). 

 <xs:complexType name="CodeWithAuthorityType"> 
  <xs:annotation> 
   <xs:documentation>From GML 3.2 draft</xs:documentation> 
  </xs:annotation> 
  <xs:simpleContent> 
   <xs:extension base="xs:string"> 

12 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

    <xs:attribute name="codeSpace" type="xs:anyURI" use="required"/> 
   </xs:extension> 
  </xs:simpleContent> 
 </xs:complexType> 
 

Example : to guarantee the uniqueness of the EarthObservationProduct identifier within 
HMA, the  <hma:identifier> includes the ground segment namespace through the codeSpace 
attribute. 

<hma:identifier 
codeSpace="urn:HMA:PHR:catalog:TLS:id">DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_012
34</hma:identifier> 
6.3.5 Units of measure 

Each non-angle property concerned by a unit of measure shall use the existing GML type 
<gml:MeasureType>. 
 
Example : image resolution 
 
 <xs:element name="resolution" type="gml:MeasureType"> 
  <xs:annotation> 
   <xs:documentation>Image resolution</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 
 
Each angle property shall use the existing GML type <gml:AngleType>. 
 
Example : Across Track incidence angle 
 
 <xs:element name="acrossTrackIncidenceAngle" type="gml:AngleType" minOccurs="0"> 
   <xs:annotation> 
    <xs:documentation>Across Track Incidence angle given in degrees.</xs:documentation> 
   </xs:annotation> 
 </xs:element> 
 
 
 
 
6.3.6 Use of xlink 

Properties that shall only describe an urn shall use the <hma :HrefPropertyType>. This 
complex type is a restriction of <gml:FeaturePropertyType> that only includes the “xlink” 
attribute. 
 
 <xs:complexType name="HrefPropertyType"> 
  <xs:complexContent> 
   <xs:restriction base="gml:FeaturePropertyType"> 
    <xs:sequence/> 
    <xs:attribute ref="xlink:href" use="required"/> 
   </xs:restriction> 
  </xs:complexContent> 
 </xs:complexType> 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  13
 



OGC 06-080r2 

Properties that shall describe either an urn or the content of that urn shall use an extension 
of  <gml:AbstractFeatureType>. 
 
Example : “composedOf” property reference either the urn (xlink attribute) or the GML 
content of an EarthObservationProduct. 
Thus in <hma:EarthObservation> the element “composedOf” is defined as an 
<hma:EarthObservation> which extend <gml:AbstractFeatureType>. 
 
 <xs:element name="composedOf" type="hma:EarthObservationPropertyType"/> 
 <xs:complexType name="EarthObservationPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservation" minOccurs="0"/> 
  </xs:sequence> 
  <xs:attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </xs:complexType> 
 
 
6.3.7 GML restrictive use 

We restricted the use of GML types to those relevant to the EO Products metadata 
description, i.e. : 

- gml:Observation ; 

- gml:Feature ; 

- gml:AngleType ; 

- gml:CodeListType ;  

- gml:MeasureType ; 

- gml:centerOf (expected structure : gml:Point/gml:pos)  ; 

- gml:multiExtentOf (expected structure : 
gml:MultiSurface/gml:surfaceMembers/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList) 

See chapter 7.3 for discussion about this restrictive use of GML. 

 

7 EO Products application schemas 

7.1 General EO product data schema 

The “hma” schema provides the description of metadata common to all EO Products 
derived from satellite based remote sensing.  
 
The root element of the “hma” schema, named <hma:EarthObservation> extends the 
<gml:ObservationType> type as follows : 

  <xs:element name="EarthObservation" type="hma:EarthObservationType" 

14 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

       substitutionGroup="gml:Observation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="gml:ObservationType"/> 
   </xs:complexContent> 
  </xs:complexType> 
 

 

Figure 4: <hma:EarthObservationType> diagram 

The “hma” metadata are referenced inside higher level structure (see Table 2) :  

- hma:EarthObservationMetadata; 

- hma:EarthObservationEquipment; 

- hma:Footprint; 

- hma:EarthObservationResult; 

 

Complete description of an EarthObservation element is given in Table 3. 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality

gml:validTime/ 
gml:TimePeriod/ 
gml:beginPosition 
 

Acquisition start date 
time 
dateTime in ISO 8601 
format (CCYY-MM-
DDThh:mm[:ss[.cc]]Z)

MI_AcquisitionInformation/
MI_MissionIdentification/ 
startDate 

no 1 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  15
 



OGC 06-080r2 

gml:validTime/ 
gml:TimePeriod/ 
gml:endPosition 

Acquisition end date 
time 
dateTime in ISO 8601 
format (CCYY-MM-
DDThh:mm[:ss[.cc]]Z)

MI_AcquisitionInformation/
MI_MissionIdentification/ 
completionDate 

no 1 

gml:using/ 
hma:EarthObservationEquipment 

Platform/Instrument/S
ensor used for the 
acquisition and the 
acquisition 
parameters (i.e. 
pointing angles, etc.) 

 no 0..1 

gml:target/ 
hma:Footprint 

Observed area on 
ground i.e. the 
footprint of acquisition

 no 0..1 

gml:resultOf/ 
hma:EarthObservationResult 

Earth Observation 
result composed of 
the browse, mask and 
product description 

 no 0..1 

Table 3 : <hma:EarthObservation> fields description

16 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 

7.1.1 EarthObservationMetadata 

The hma:EarthObservationMetadata block contains all the metadata relative to an 
hma:EarthObservation that do not fit inside one of the other blocks, i.e. metadata that 
don’t describe the time, the mechanism, the location or the result of the observation 
(Figure 5). 

 

Figure 5 : <hma:EarthObservationMetadata> diagram 

 

These metadata are mainly the EarthObservation identifier, the acquisition type and 
information relative to the downlink and archiving centers. Complete description of the 
EarthObservationMetadata is given in Table 4. 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  17
 



OGC 06-080r2 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality

identifier Identifier for metadata 
item, includes ground 
segment namespace to 
guarantee uniqueness 
within HMA 

 no 1 

doi Digital Object Identifier 
identifying the product 
(see http://www.doi.org) 

 no 0..1 

parentIdentifier Collection Identifier  no 0..1 

acquisitionType Used to distinguish at a 
high level the 
appropriateness of the 
acquisition for "general" 
use, whether the product 
is a nominal acquisition, 
special calibration 
product or other. 

Values: 
      - NOMINAL 
      - CALIBRATION 
      - OTHER 

 no 1 

acquisitionSubType The broad value is 
however too restrictive, 
so mission specific type 
definition should refer to 
mission/ground segment 
dedicated codeSpace 

 no 0..1 

productType Describes product type 
in case that mixed types 
are available within a 
single collection, this is 
ground segment specific 
definition 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_CoverageContentType 

no 0..1 

status Refers to product status. 

Values : 
      - ARCHIVED 
      - ACQUIRED 
      - PLANNED 
      - POTENTIAL 

MD_Identification/ 
MD_ProgressCode 

no 1 

downlinkedTo/ 
DownlinkInformation/ 
acquisitionStation 

Acquisition / receiving 
station code. Possible 
values are mission 
specific and should be 
retrieved using 

 no 1 

(with 
AcquisitionInf
ormation 0..n)

18 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

codespace. ormation 0..n)

downlinkedTo/ 
DownlinkInformation/ 
acquisitionDate 

Acquisition date time.  no 0..1 

archivedIn/ 
ArchivingInformation/ 
archivingCentre 

Archiving centre code. 
Possible values are 
mission specific 
and should be retrieved 
using codeSpace. 

 no 1 

(with 
ArchivingInfor
mation 0..n) 

archivedIn/ 
ArchivingInformation/ 
archivingDate 

Archiving date time.  no 1 

archivedIn/ 
ArchivingInformation/ 
archivingIdentifier 

Local archiving id as 
created by the mission 
ground segment that 
may required to allow 
subsequent order 
processing 

 no 0..1 

imageQualityDegradatio
n 

Quality degradation 
percentage (i.e. 
uom=’%’) 

 no 0..1 

imageQualityDegradatio
nQuotationMode 

Indicator to know how 
the quality degradation 
percentage has been 
calculated. 
 
Value : AUTOMATIC, 
MANUAL 

 no 0..1 

histograms/ 
Histogram/ 
bandId 

Histrogram specific : 
identifier of the spectral 
band used to compute 
histogram values 

 no 0.. 1 

(with Histogram 
1..n) 

histograms/ 
Histogram/ 
min 

Histogram specific : 
minimum value 

 no 1 

histograms/ 
Histogram/ 
max 

Histogram specific : 
maximum value 

 no 1 

histograms/ 
Histogram/ 
mean 

Histogram specific : 
mean value 

 no 0..1 

histograms/ 
Histogram/ 
stdDeviation 

Histogram specific : 
standard deviation value 

 no 0..1 

composedOf Link to an EO product 
that is part of this EO 

 no 0..1 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  19
 



OGC 06-080r2 

product (e.g. a 
phr:DataStrip is 
composed of one or 
more phr:Scene) 

subsetOf Link to the “father” EO 
product (e.g. a 
phr:Scene is a subset of 
a phr:DataStrip) 

 no 0..1 

linkedWith Specify a link to another 
EO product (e.g. ERS1 
and ERS2 
interferometric pair)  

 no 0..1 

processing/ 
ProcessingInformation/ 
compositeType 

Composite type of 
product, if available 

 no 0..n 

processing/ 
ProcessingInformation/ 
method 

Method used to compute 
datalayer. (e.g. Kalman 
filtering, ROSE) 

 no 0..n 

processing/ 
ProcessingInformation/ 
methodVersion 

Method version (e.g. 1.0)  no 0..n 

processing/ 
ProcessingInformation/ 
processorName 

Processor sofware name 
(e.g. FastROSE) 

 no 0..n 

processing/ 
ProcessingInformation/ 
processorVersion 

Processor software 
version (e.g. 1.0) 

 no 0..n 

processing/ 
ProcessingInformation/ 
processingLevel 

Processing level applied 
to the product 

 no 0..n 

processing/ 
ProcessingInformation/ 
nativeProductFormat 

Native product format  no 0..n 

vendorSpecific/ 
SpecificInformation/ 
localAttribute 

Container for ad-hoc 
metadata that does not 
merit a mission specific 
schema or extension, the 
localAttribute describes 
the name of the attribute 

 no 1 
 

(with 
SpecificInfor
mation 0..n) 

vendorSpecific/ 
SpecificInformation/ 
localValue 

Container for ad-hoc 
metadata that does not 
merit a mission specific 
schema or extension, the 
localAttribute describes 
the value of the attribute 

 no 1 
 

(with 
SpecificInfor
mation 0..n) 

Table 4 : <hma:EarthObservationMetadata> fields description 

20 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 

7.1.2 EarthObservationEquipment 

The hma:EarthObservationEquipment block contains metadata relative to the mechanism 
used during the EarthObservation (Figure 6). 

 

Figure 6 : <hma:EarthObservationEquipment> diagram 

 

These metadata describe on one hand the platform, instrument and sensor used for the 
Earthobservation, and, on the other hand, the acquisition parameters of this observation. 
Complete description of the EarthObservationEquipment is given in Table 4. 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality

platform/ 
Platform/ 
shortName 

Platform short name 
(e.g. PHR) 

MD_DataIdentification/ 
MI_DataIdentification/ 
MI_AcquisitionInformation/M
I_PlatformIdentifictation/ 
shortName 

yes 1 

platform/ 
Platform/ 
serialIdentifier 

Platform serial 
identifier (e.g. for PHR 
: 1A) 

MD_DataIdentification/ 
MI_DataIdentification/ 
MI_AcquisitionInformation/M
I_PlatformIdentifictation/ 
serialIdentifier 

yes 0..1 

platform/ 
Platform/ 
orbiteType 

High level 
characterisation of 
main mission types 
(GEO/LEO) 

 no 0..1 

instrument/ 
Instrument/ 
shortName 

Instrument (Sensor) 
name 

MD_DataIdentification/ 
MI_DataIdentification/ 
MI_AcquisitionInformation/ 

yes 1 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  21
 



OGC 06-080r2 

shortName MI_PlatformIdentifictation/ 
MI_InstrumentIdentification/
shortName 

sensor/ 
Sensor/ 
sensorType 

Sensor type. This field 
should contain an 
enumeration : 
       - OPTICAL 
       - RADAR 
       - ALTIMETRIC 
       - ATMOSPHERIC

MD_CoverageDescription/ 
MI_CoverageDescription/ 
MI_Sensor/ 
sensorType 

 

yes 0..1 

sensor/ 
Sensor/ 
operationalMode 

Sensor mode. 
Possible values are 
mission specific and 
should 
be retrieved using 
codeSpace. (e.g. 
PHR : PA, XS or PX). 

MD_CoverageDescription/ 
MI_CoverageDescription/ 
MI_Sensor/ 
operationalMode 

yes 0..1 

sensor/ 
Sensor/ 
resolution 

Sensor resolution.  no 0..1 

sensor/ 
Sensor/ 
swathIdentifier 

Swath identifier (e.g. 
Envisat ASAR has 7 
distinct swaths 
(I1,I2,I3...I7) that 
correspond to precise 
incidence angles for 
the sensor). Value list 
can be retrieved with 
codeSpace. 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
orbitNumber 

Acquisition orbit 
number 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
lastOrbitNumber 

Acquisition last orbit 
number 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
orbitDirection 

Acquisition orbit 
direction (Ascending 
or descending) 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
platformDescending 

no 

( keep text 
rather than 
boolean, 

prefer 
alignment 
with other 
acquisition 

parameters) 

0..1 

acquisitionParameters/ 
Acquisition/ 

UTC date and time at 
ascending node of 

 no 0..1 

22 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

ascendingNodeDate orbit 

acquisitionParameters/ 
Acquisition/ 
startTimeFromAscendingNo
de 

Start time of 
acquisition in 
milliseconds from 
Ascending node date 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
completionTimeFromAscend
ingNode 

Stop time of 
acquisition in 
milliseconds from 
Ascending node date 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
ascendingNodeLongitude 

Longitude at 
ascending node of 
orbit 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
orbitDuration 

Actual orbit duration 
in milliseconds 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
accrossTrackIncidenceAngl
e 

Acquisition across the 
track incidence angle 
given in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
relativeAzimuth 

no 0..1 

acquisitionParameters/ 
Acquisition/ 
alongTrackIncidenceAngle 

Acquisition along the 
track incidence angle 
given in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
TBD 

no 

(consistency 
in HMA 

between two 
angle 

definitions) 

0..1 

acquisitionParameters/ 
Acquisition/ 
incidenceAngle 

Acquisition global 
incidence angle given 
in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/ 
MD_ImageDescription/ 
TBD 

no 

(consistency 
in HMA 

between two 
angle 

definitions) 

0..1 

acquisitionParameters/ 
Acquisition/ 
pitch 

Satellite pitch angle 
given in degrees (i.e. 
uom='deg') 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
roll 

Satellite roll angle 
given in degrees (i.e. 
uom='deg') 

 no 0..1 

acquisitionParameters/ 
Acquisition/ 
yaw 

Satellite yaw angle 
given in degrees (i.e. 
uom='deg') 

 no 0..1 

Table 5 : <hma:EarthObservationEquipment> fields description 

 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  23
 



OGC 06-080r2 

7.1.3 Footprint 

The hma:Footprint block contains description of  the target location observed during the 
EarthObservation (Figure 7). 

 

 

Figure 7 : <hma:Footprint> diagram 

 

Complete description of  hma:Footprint is given in Table 6. 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

multiExtentOf Acquisition footprint 
coordinates, described by 
a closed polygon (last 
point=first point), using 
CRS:WGS84, 
Latitude,Longitude pairs 
(per-WGS84 definition of 
point ordering, not 
necessarily per all WFS 
implementations). Multi 
polygons are allowed. 

 no 1 

centerOf Acquisition centre 
coordinates 

MD_CoverageDescription/ 
MI_CoverageDescription/ 
MD_ImageDescription/ 
MI_ImageDescription/ 
nadir 

no 0..1 

Table 6 : <hma:Footprint> fields description 

24 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 

7.1.4 EarthObservationResult 

The hma:EarthObservationResult block contains description of  the result of the 
EarthObservation (Figure 8). 

 

Figure 8 : <hma:EarthObservationResult> diagram 

 

Complete description of  hma:Footprint is given in Table 7. 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

browse/ 
BrowseInformation/ 
type 

Browse type. 

Possible values are : 
    - THUMBNAIL 
    - QUICKLOOK 
    - ALBUM.  

MD_Identification/ 
MD_BrowseGraphic 

? 

no 1 

(with browse 
1..n) 

browse/ 
BrowseInformation/ 
subType 

Browse subType. Value is 
mission specific. Value list 
can be retrieved with 
codeSpace (e.g. For 
MODIS : OPTICAL, 
THERMAL) 

MD_Identification/ 
MD_BrowseGraphic 

? 

no 0..1 

browse/ 
BrowseInformation/ 
referenceSystemIde
ntifier 

Indicates if browse is geo-
referenced, and thus can 
be assumed to be 
displayed directly on a 
map (in which case should 

MD_Identification/ 
MD_BrowseGraphic 

? 

no 1 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  25
 



OGC 06-080r2 

point to a code space for 
the CRS), when not 
supplied it is assumed that 
the browse is provided in 
"raw" satellite frame of 
reference 

browse/ 
BrowseInformation/ 
fileName 

Path to the browse image 
(could be any kind of URL 
:  
direct link to the image or 
WMS/WCS interface), it is 
assumed that if a client is 
prepared to "manage" a 
browse delivered by e.g. 
WMS they would parse the 
URL to identify that it 
contains the OGC 
standard SERVICE=WMS 

MD_Identification/ 
MD_BrowseGraphic/ 
fileName 

yes 1 

product/ 
ProductInformation/ 
fileName 

Path to the actual product 
data if available online 
(could be any kind of URL 
:  
direct link to the image or 
WMS/WCS interface), it is 
assumed that if a client is 
prepared to "manage" a 
product delivered by e.g. 
WCS they would parse the 
URL to identify that it 
contains the OGC 
standard SERVICE=WCS 

MD_ServiceIdentification no 

(use 
filename 
definition 

as per 
browse) 

0..1 

product/ 
ProductInformation/ 
referenceSystemIde
ntifier 

Indicates if product is geo-
referenced, (in which case 
should point to a code 
space for the CRS), when 
not supplied it is assumed 
that the browse is provided 
in "raw" satellite frame of 
reference 

MD_DataIdentification/ 
MD_SpatialRepresentationT
ypeCode 

(propose adding a code for 
un-georeferenced) (The 
CRS is part the geometry.  
Including it here will create 
maintenance difficulties) 

no 0..1 

product/ 
ProductInformation/ 
version 

Product version MD_DataIdentification 
supplementalInformation 

no 0..1 

product/ 
ProductInformation/ 
size 

Product size (bytes) 
allowing the user to realise 
how long a download is 
likely to take 

MD_DataIdentification 
supplementalInformation 

no 0..1 

mask/ 
MaskInformation/ 
type 

Mask type. Possible 
values are : SNOW, 
CLOUD and QUALITY 

 no 1 

(with 

26 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

type CLOUD and QUALITY MaskInformati
on 0..n) 

mask/ 
MaskInformation/ 
format 

Mask format. Possible 
values are : RASTER or 
VECTOR 

 no 1 

(with 
MaskInformati

on 0..n) 

mask/ 
MaskInformation/ 
referenceSystemIde
ntifier 

Indicates if maske is geo-
referenced, and thus can 
be assumed to be 
displayed directly on a 
map (in which case should 
point to a code space for 
the CRS), when not 
supplied it is assumed that 
the mask is provided in 
"raw" satellite frame of 
reference 

 no 0..1 

mask/ 
MaskInformation/ 
fileName 

Path to the mask (could be 
any kind of URL : �direct 
link to the image or 
WMS/WCS interface in 
case of RASTER mask; 
direct link to the file or 
WFS interface in case of 
VECTOR file), it is 
assumed that if a client is 
prepared to "manage" a 
mask delivered by e.g. 
WMS they would parse the 
URL to identify that it 
contains the OGC 
standard SERVICE=WMS 

 no 1 

(with 
MaskInformati

on 0..n) 

Table 7 : <hma:EarthObservationResult> fields description 

 

7.2 Thematic EO product data schema 

The Thematic EO Product schemas provide the description of  metadata common to 
thematic category of General EO Products derived. Thematic EO Products schemas 
extend the “hma” schema. 
 
7.2.1 Optical EO Product data schema 

The “ohr” schema provide the description of metadata common to all EO Products 
derived from optical satellite based remote sensing. It describes the same fields as the 
“hma” schema plus optical specific fields. 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  27
 



OGC 06-080r2 

 
As described in §6.3.2.1, the root element of the “ohr” schema, named 
<ohr:EarthObservation> simply extends the <hma:EarthObservationType> type (with no element 
added) : 

  <xs:element name="EarthObservation" type="ohr:EarthObservationType" 
        substitutionGroup="hma:EarthObservation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="hma:EarthObservationType"> 
     <xs:sequence/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 

Two properties are extended from the hma schema : 

- ohr:EarthObservationResults extends hma:EarthObservationResults (Table 8); 

- ohr:Acquisition extends hma:Acquisition (Table 9). 

 

 

 

 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
ohr:Acquisition/ 
ohr:illuminationAzimuthAngle 

Azimuth angle given 
in degrees (i.e. 
uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/
MD_ImageDescription/ 
illuminationAzimuth 

yes 0..1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
ohr:Acquisition/ 
ohr:illuminationElevationAngle 

Elevation angle 
given in degrees 
(i.e. uom='deg') 

MD_ContentInformation/ 
MD_CoverageDescription/
MD_ImageDescription/ 
illuminationElevation 

yes 0..1 

Table 8 : <ohr:Acquisition> extension of <hma:Acquisition> 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

28 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

ohr:EarthObservationResult/ 
ohr:cloudCoverPercentage 

 

Cloud cover 
percentage (i.e. 
uom=’%’) 

MD_ContentInformation/ 
MD_CoverageDescription/
MD_ImageDescription/ 
cloudCoverPercentage 

yes 0..1 

ohr:EarthObservationResult/ 
ohr:cloudCoverPercentageAssess
mentPercentage 

 

Cloud cover 
assessment 
confidence. 
Expressed in 
percents. 

 no 0..1 

ohr:EarthObservationResult/ 
ohr:cloudCoverPercentageQuotati
onMode 

 

Indicator to know 
how the cloud cover 
percentage has 
been calculated 

Value : 
AUTOMATIC, 
MANUAL 

 no 0..1 

ohr:EarthObservationResult/ 
ohr:snowCoverPercentage 

 

Snow cover 
percentage (i.e. 
uom=’%’) 

 no 0..1 

ohr:EarthObservationResult/ 
ohr:snowCoverPercentageAssess
mentPercentage 

 

Snow cover 
assessment 
confidence. 
Expressed in 
percents. 

 no 0..1 

ohr:EarthObservationResult/ 
ohr:snowCoverPercentageQuotati
onMode 

 

Indicator to know 
how the snow cover 
percentage has 
been calculated 

Value : 
AUTOMATIC, 
MANUAL 

 no 0..1 

Table 9 : <ohr:EarthObservationResult> extension of <hma:EarthObservationResult> 

 

7.2.2 Radar EO Product data schema 

The “sar” schema provide the description of metadata common to all EO Products 
derived from radar satellite based remote sensing. It describes the same fields as the 
“hma” schema plus radar specific fields. 
 
As described in §6.3.2.1, the root element of the “sar” schema, named 
<sar:EarthObservation> simply extends the <hma:EarthObservationType> type (with no element 
added) : 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  29
 



OGC 06-080r2 

  <xs:element name="EarthObservation" type="sar:EarthObservationType" 
        substitutionGroup="hma:EarthObservation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="hma:EarthObservationType"> 
     <xs:sequence/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 

One property is extended from the hma schema : 

- sar:Acquisition extends hma:Acquisition (Table 10). 

 
Field name Field description ISO 19115-2 definition ISO 

mapping 
Cardinality 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:polarisationMode 

single S, dual D, 
twin T, quad Q, 
UNDEFINED 
Valids : D, Q, S, T, 
UNDEFINED 

MD_CoverageDescription/
MD_RangeDimension/ 
MD_Band/ 
MI_Band/ 
MI_PolarizationCharacteris
tics 

no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:polarisationChannels 

 

polarisation channel 
transmit/receive 
configuration: 
horizontal, vertical. 
Valids:  
- HH  
- HV 
- VH 
- VV 
- HH, VV 
- HH, VH 
- HH, HV 
- VH, VV 
- VH, HV 
- VV, HV 
- HH, VV, HV, VH 
- UNDEFINED 

MD_CoverageDescription/
MD_RangeDimension/ 
MD_Band/ 
MI_Band/ 
MI_PolarizationCharacteris
tics 

no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:antennaLookDirection 

LEFT or RIGHT  no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:minimumIncidenceAngle 

minimum incidence 
angle 

 no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 

maximum incidence 
angle 

 no 1 

30 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

sar:maximumIncidenceAngle 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:incidenceAngleVariation 

Incidence angle 
variation 

 no 1 

hma:EarthObservationEquipment/ 
hma:acquisitionParameters/ 
sar:Acquisition/ 
sar:dopplerFrequency 

Doppler Frequency 
of acquisition 

 no 1 

Table 10 : <sar:Acquisition> extension of <hma:Acquisition> 

 

7.2.3 Atmospheric EO Product data schema 

The “atm” schema provide the description of metadata common to all EO Products 
derived from atmospheric based remote sensing. It describes the same fields as the “hma” 
schema plus atmospheric specific fields. 
 
As described in §6.3.2.1, the root element of the “atm” schema, named 
<atm:EarthObservation> simply extends the <hma:EarthObservationType> type (with no element 
added) : 

  <xs:element name="EarthObservation" type="atm:EarthObservationType" 
        substitutionGroup="hma:EarthObservation"/> 
   
  <xs:complexType name="EarthObservationType"> 
   <xs:complexContent> 
    <xs:extension base="hma:EarthObservationType"> 
     <xs:sequence/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 

One property is extended from the hma schema : 

- atm:EarthObservationResult extends hma:EarthObservationResult (Table 11). 

 

Field name Field description ISO 19115-2 definition ISO 
mapping 

Cardinality 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:specy 

Specy contained in 
dataLayer 

 no 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 

Unit of specy in 
dataLayer 

 no 1 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  31
 



OGC 06-080r2 

atm:DataLayer/ 
atm:unit 

dataLayer 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:highestLocation  

Top height of 
datalayer (in meters)

EX_VerticalExtent/ 
EE_VerticalExtentLocations/
highestLocation 

yes 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:lowestLocation  

Bottom height of 
datalayer (in meters)

EX_VerticalExtent/ 
EE_VerticalExtentLocations/
lowestLocation 

yes 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:algorithmName 

Name of algorithm 
used to compute 
datalayer 

 no 1 

atm:EarthObservationResult/ 
atm:dataLayers/ 
atm:DataLayer/ 
atm:algorithmVersion 

Algorithm version 
used to compute 
datalayer 

 no 1 

Table 11 : <atm:EarthObservationResult> extension of <hma:EarthObservationResult> 

 

7.2.4 Mission specific schema : example for Pleiades HR data schema 

The “phr” schema provide the description of Pleiades HR public metadata. It derived 
from optical EO product. 
 
As described in §6.3.2.2, the root element of the “phr” schema, named <phr:DataStrip> 
simply extends the <hma:EarthObservationType> type (with no element added) with the 
addition of the hma:type attribute : 

  <xs:element name="DataStrip" type="phr:DataStripType" 
        substitutionGroup="ohr:EarthObservation"/> 
   
  <xs:complexType name="DataStripType"> 
   <xs:complexContent> 
    <xs:extension base="ohr:EarthObservationType"> 
     <xs:sequence/> 
     <xs:attribute ref="hma:type" use="required"/> 
    </xs:extension> 
   </xs:complexContent> 
  </xs:complexType> 
 
PHR taxonomy, and mission specific taxonomy in general, is out of the scope of this 
document and is not described in this document. 

32 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

7.3 Issues 

GML is a complex specification that is richly expressive. The Earth Observation Products 
does not exploit the entire specification but employ a subset of constructs corresponding 
to its relevant requirements. 

As a consequence, the Earth Observation application schema used a GML subset instead 
of the complete GML definition (see Annex E). The use of this GML subset is 
recommended to simplify the developpement of computer application dealing with Earth 
Observation Product schemas (client-side or server-side applications). 

7.4 XML schema documents 

The different GML application schema are specified in the normative XML Schema 
Documents included in the zip file with this text document, which are named: 

a) hma.xsd 

b) atm.xsd 

c) ohr.xsd 

d) sar.xsd 

e) phr_datastrip.xsd 

f) phr_scene.xsd 

All these XML Schema Documents contain documentation of the meaning of each 
element and attribute, and this documentation shall be considered normative as specified 
in Subclause 11.6.3 of [OGC 05-008]. 

These XML Schema Documents are bundled in a zip file with this document. After OGC 
acceptance of a Version 1.0.0 of this specification, these XML Schema Documents will 
also be posted online at the URL http://bp.schemas.opengis.net/06-080r2/. In the event of 
a discrepancy between the bundled and online versions of the XML Schema Documents, 
the online files shall be considered authoritative. 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  33
 



OGC 06-080r2 

Annex A 
(normative) 

 
Abstract test suite 

An abstract test suite is not provided in this version of this Implementation Specification, 
but will be provided in version 1.0.0. 

34 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

Annex B 
(normative) 

  
Examples using “hma” application schema 

B.1 Introduction 

This annex contains several example XML documents encoded using the “hma” 
application schema. 

B.2 Example of “hma” EO Product 

<?xml version="1.0" encoding="utf-8"?> 
<?xml-stylesheet type="text/xsl" href="schematron_result_for_hma_gml_observation.xsl"?> 
<ohr:EarthObservation gml:id="DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01234" 
xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" 
xmlns:ohr="http://earth.esa.int/ohr" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://earth.esa.int/ohr 
../../hma/1.0/ohr.xsd"> 
 <gml:metaDataProperty> 
  <hma:EarthObservationMetaData> 
  
 <hma:identifier>DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01234</hma:identifier> 
   <hma:acquisitionType>NOMINAL</hma:acquisitionType> 
   <hma:productType>TBD</hma:productType> 
   <hma:status>ACQUIRED</hma:status> 
   <hma:downlinkedTo> 
    <hma:DownlinkInformation> 
     <hma:acquisitionStation 
codeSpace="urn:HMA:PHR:stationCode">TLS</hma:acquisitionStation> 
    </hma:DownlinkInformation> 
   </hma:downlinkedTo> 
   <hma:archivedIn> 
    <hma:ArchivingInformation> 
     <hma:archivingCenter 
codeSpace="urn:HMA:PHR:stationCode">TLS</hma:archivingCenter> 
     <hma:archivingDate>2001-08-22T11:02:47.999</hma:archivingDate> 
    </hma:ArchivingInformation> 
   </hma:archivedIn> 
   <hma:imageQualityDegradation uom="%">0</hma:imageQualityDegradation> 
   <hma:processing> 
    <hma:ProcessingInformation/> 
   </hma:processing> 
  </hma:EarthObservationMetaData> 
 </gml:metaDataProperty> 
 <gml:validTime> 
  <gml:TimePeriod> 
   <gml:beginPosition>2001-08-22T11:02:47.000</gml:beginPosition> 
   <gml:endPosition>2001-08-22T11:02:47.999</gml:endPosition> 
  </gml:TimePeriod> 
 </gml:validTime> 
 <gml:using> 
  <hma:EarthObservationEquipment> 
   <hma:platform> 
    <hma:Platform> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  35
 



OGC 06-080r2 

     <hma:shortName>PHR</hma:shortName> 
     <hma:serialIdentifier>1A</hma:serialIdentifier> 
    </hma:Platform> 
   </hma:platform> 
   <hma:instrument> 
    <hma:Instrument> 
     <hma:shortName>PHR</hma:shortName> 
    </hma:Instrument> 
   </hma:instrument> 
   <hma:sensor> 
    <hma:Sensor> 
     <hma:sensorType>OPTICAL</hma:sensorType> 
     <hma:operationalMode 
codeSpace="urn:HMA:PHR:sensorMode">PX</hma:operationalMode> 
     <hma:resolution uom="m">0.7</hma:resolution> 
    </hma:Sensor> 
   </hma:sensor> 
   <hma:acquisitionParameters> 
    <ohr:Acquisition> 
     <hma:orbitNumber>12</hma:orbitNumber> 
     <hma:lastOrbitNumber>12</hma:lastOrbitNumber> 
     <hma:orbitDirection>ASCENDING</hma:orbitDirection> 
     <hma:acrossTrackIncidenceAngle uom="deg">-14.0</hma:acrossTrackIncidenceAngle> 
     <hma:alongTrackIncidenceAngle uom="deg">-13.9</hma:alongTrackIncidenceAngle> 
     <hma:pitch uom="deg">0</hma:pitch> 
     <hma:roll uom="deg">0</hma:roll> 
     <hma:yaw uom="deg">0</hma:yaw> 
     <ohr:illuminationAzimuthAngle uom="deg">10</ohr:illuminationAzimuthAngle> 
    </ohr:Acquisition> 
   </hma:acquisitionParameters> 
  </hma:EarthObservationEquipment> 
 </gml:using> 
 <gml:target> 
  <hma:Footprint> 
   <gml:multiExtentOf> 
    <gml:MultiSurface srsName="EPSG:4326"> 
     <gml:surfaceMembers> 
      <gml:Polygon srsName="EPSG:4326"> 
       <gml:exterior> 
        <gml:LinearRing> 
         <gml:posList>2.1025 43.516667 2.861667 43.381667 2.65 42.862778 
1.896944 42.996389 2.1025 43.516667</gml:posList> 
        </gml:LinearRing> 
       </gml:exterior> 
      </gml:Polygon> 
     </gml:surfaceMembers> 
    </gml:MultiSurface> 
   </gml:multiExtentOf> 
   <gml:centerOf> 
    <gml:Point srsName="EPSG:4326"> 
     <gml:pos>2.374167 43.190833</gml:pos> 
    </gml:Point> 
   </gml:centerOf> 
  </hma:Footprint> 
 </gml:target> 
 <gml:resultOf> 
  <ohr:EarthObservationResult> 
   <hma:browse> 
    <hma:BrowseInformation> 
     <hma:type>QUICKLOOK</hma:type> 
     <hma:referenceSystemIdentifier 
codeSpace="EPSG">epsg:4326</hma:referenceSystemIdentifier> 

36 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

    
 <hma:fileName>http://hma.cnes.fr/catalog/DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01
234.jpg</hma:fileName> 
    </hma:BrowseInformation> 
   </hma:browse> 
   <hma:mask> 
    <hma:MaskInformation> 
     <hma:type>CLOUD</hma:type> 
     <hma:format>VECTOR</hma:format> 
    
 <hma:fileName>http://hma.cnes.fr/catalog/DS_PHR1A_20010822110247_TLS_PX_E123N45_0101_01
234.gml</hma:fileName> 
    </hma:MaskInformation> 
   </hma:mask> 
   <ohr:cloudCoverPercentage uom="%">30</ohr:cloudCoverPercentage> 
  </ohr:EarthObservationResult> 
 </gml:resultOf> 
</ohr:EarthObservation> 
 

B.3 Example of a “phr” EO Product 

TBD 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  37
 



OGC 06-080r2 

Annex C 
(normative) 

 
Reference schemas for EO Products GML application schemas 

D.1 Application schema for General EO Products 

The following schema document, called hma.xsd, contains elements to describe General 
EO Products using GML 3.1.1 

 
<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema xmlns:om="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" 
targetNamespace="http://earth.esa.int/hma" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.0"> 
 <xs:import namespace="http://www.opengis.net/gml" schemaLocation="../../gml/3.1.1/base/gmlSubset.xsd"/> 
 <xs:import namespace="http://www.w3.org/1999/xlink" schemaLocation="../../xlink/1.0.0/xlinks.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   EarthObservation : --> 
 <!--     + Inherits from gml:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="hma:EarthObservationType" substitutionGroup="gml:Observation"> 
  <xs:annotation> 
   <xs:documentation>HMA root element for generic Earth Observation Product description</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:annotation> 
   <xs:documentation>Earth Obervation Product description</xs:documentation> 
  </xs:annotation> 
  <xs:complexContent> 
   <xs:extension base="gml:ObservationType"/> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:complexType name="EarthObservationPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservation" minOccurs="0"/> 
  </xs:sequence> 
  <xs:attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   EarthObservationEquipment : --> 
 <!--     + made of Platform / Instrument / Sensor / Acquisition  --> 
 <!--     + should be found within EarthObservation "using" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationEquipment" type="hma:EarthObservationEquipmentType" 
substitutionGroup="gml:_Feature"/> 
 <xs:complexType name="EarthObservationEquipmentType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element name="platform" type="hma:PlatformPropertyType" minOccurs="0"/> 
     <xs:element name="instrument" type="hma:InstrumentPropertyType" minOccurs="0"/> 
     <xs:element name="sensor" type="hma:SensorPropertyType" minOccurs="0"/> 
     <xs:element name="acquisitionParameters" type="hma:AcquisitionPropertyType" minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:complexType name="EarthObservationEquipmentPropertyType"> 
  <xs:sequence> 

38 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

   <xs:element ref="hma:EarthObservationEquipment"/> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  hma:type :  --> 
 <!--    + should be used in extended schema within extended element  --> 
 <!--                e.g. : phr:EarthObservation inherits from ohr:EarthObservation. --> 
 <!--                         the client processing the data should understand that phr:Acquisition extends ohr:Acquisition. --> 
 <!--                         using the attribute hma:type : --> 
 <!--                         <phr:Acquisition hma:type="ohr:Acquisition"/>...</phr:Acquisition> --> 
 <!-- ===================================================================== --> 
 <xs:attribute name="type" type="xs:QName"/> 
 <!-- ===================================================================== --> 
 <!--  Archiving Information :  --> 
 <!--    + referenced within the hma:EarthObservationMetadata "archivedIn" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="ArchivingInformation" type="hma:ArchivingInformationType"/> 
 <xs:complexType name="ArchivingInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:ArchivingInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="ArchivingInformationType"> 
  <xs:sequence> 
   <xs:element name="archivingCenter" type="gml:CodeListType"> 
    <xs:annotation> 
     <xs:documentation>Archiving centre code. Possible values are mission specific 
and should be retrieved using codespace. 
  
PHR : value is a valid station code 
HMA/EOLI : N/A</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="archivingDate" type="xs:dateTime"> 
    <xs:annotation> 
     <xs:documentation>Archiving date time</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="archivingIdentifier" type="hma:CodeWithAuthorityType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Local archiving id as created by the mission ground segment that may required to 
allow subsequent order processing</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Downlink Information : --> 
 <!--    + referenced within the hma:EarthObservationMetadata "downlinkedTo" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="DownlinkInformation" type="hma:DownlinkInformationType"/> 
 <xs:complexType name="DownlinkInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:DownlinkInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="DownlinkInformationType"> 
  <xs:sequence> 
   <xs:element name="acquisitionStation" type="gml:CodeListType"> 
    <xs:annotation> 
     <xs:documentation>Acquisition / receiving station code. Possible values are mission specific and 
should be retrieved using codespace.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="acquisitionDate" type="xs:dateTime" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Acquisition date time</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  39
 



OGC 06-080r2 

 <!-- ===================================================================== --> 
 <!--   EarthObservationMetaData : --> 
 <!--   + contains properties that do not fit directly inside the observation structure --> 
 <!--     + should be under EarthObservation "gml:metadaProperty" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationMetaData" type="hma:EarthObservationMetaDataType" 
substitutionGroup="gml:_MetaData"/> 
 <xs:complexType name="EarthObservationMetaDataType" mixed="true"> 
  <xs:complexContent mixed="true"> 
   <xs:extension base="gml:AbstractMetaDataType"> 
    <xs:sequence> 
     <xs:element ref="hma:identifier"/> 
     <xs:element ref="hma:doi" minOccurs="0"/> 
     <xs:element ref="hma:parentIdentifier" minOccurs="0"/> 
     <xs:element ref="hma:acquisitionType"/> 
     <xs:element ref="hma:acquisitionSubType" minOccurs="0"/> 
     <xs:element ref="hma:productType"/> 
     <xs:element ref="hma:status"/> 
     <xs:element name="downlinkedTo" type="hma:DownlinkInformationArrayPropertyType" 
minOccurs="0"/> 
     <xs:element name="archivedIn" type="hma:ArchivingInformationArrayPropertyType" 
minOccurs="0"/> 
     <xs:element ref="hma:imageQualityDegradation" minOccurs="0"/> 
     <xs:element ref="hma:imageQualityDegradationQuotationMode" minOccurs="0"/> 
     <xs:element ref="hma:histograms" minOccurs="0"/> 
     <xs:element ref="hma:composedOf" minOccurs="0" maxOccurs="unbounded"/> 
     <xs:element ref="hma:subsetOf" minOccurs="0" maxOccurs="unbounded"/> 
     <xs:element ref="hma:linkedWith" minOccurs="0" maxOccurs="unbounded"/> 
     <xs:element name="processing" type="hma:ProcessingInformationPropertyType" minOccurs="0"/> 
     <xs:element name="vendorSpecific" type="hma:SpecificInformationArrayPropertyType" 
minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Acquisition : --> 
 <!--     + referenced within the EarthObservationEquipment --> 
 <!-- ===================================================================== --> 
 <xs:element name="Acquisition" type="hma:AcquisitionType"/> 
 <xs:complexType name="AcquisitionPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Acquisition"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="AcquisitionType"> 
  <xs:sequence> 
   <xs:element name="orbitNumber" type="xs:int" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>EOLI : orbit (F B b s)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="lastOrbitNumber" type="xs:int" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>EOLI : lastOrbit (F)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="orbitDirection" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>EOLI : orbitDir (F B b s)</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="ASCENDING"/> 
      <xs:enumeration value="DESCENDING"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="ascendingNodeDate" type="xs:dateTime" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>UTC date and time at ascending node of orbit</xs:documentation> 

40 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

    </xs:annotation> 
   </xs:element> 
   <xs:element name="ascendingNodeLongitude" type="xs:double" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Longitude at ascending node of orbit</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="orbitDuration" type="xs:double" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Actual orbit duration in milliseconds</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="acrossTrackIncidenceAngle" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Across Track Incidence angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="alongTrackIncidenceAngle" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Along Track Incidence angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="incidenceAngle" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Global Incidence angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="pitch" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Pitch angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="roll" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Roll angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="yaw" type="gml:AngleType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Yaw angle given in degrees.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Platform / Instrument / Sensor / Acquisition : --> 
 <!--     + should be found within EarthObservation : --> 
 <!--       - "procedure" property (O&M Observation mapping) --> 
 <!--       - "using" property (GML Observation mapping) --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="PlatformPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Platform"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="InstrumentPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Instrument"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="SensorPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Sensor"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Platform" type="hma:PlatformType"/> 
 <xs:complexType name="PlatformType"> 
  <xs:sequence> 
   <xs:element name="shortName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Platform short name (eg. PHR) </xs:documentation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  41
 



OGC 06-080r2 

    </xs:annotation> 
   </xs:element> 
   <xs:element name="serialIdentifier" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Platform serial identifier (eg. for PHR : 1A)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="orbitType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>High level characterisation of main mission types 
(GEO/LEO)</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="GEO"/> 
      <xs:enumeration value="LEO"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Instrument" type="hma:InstrumentType"/> 
 <xs:complexType name="InstrumentType"> 
  <xs:sequence> 
   <xs:element name="shortName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Instrument short name 
 
EOLI : instShNm</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Sensor" type="hma:SensorType"/> 
 <xs:complexType name="SensorType"> 
  <xs:sequence> 
   <xs:element name="sensorType" type="hma:SensorTypePropertyType" minOccurs="0"/> 
   <xs:element name="operationalMode" type="gml:CodeListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Sensor mode. Possible values are mission specific and should 
be retrieved using codespace. (eg. PHR : PA, XS or PX).</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="resolution" type="gml:MeasureType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Image resolution</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="swathIdentifier" type="gml:CodeListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Swath identifier (e.g. Envisat ASAR has 7 distinct swaths (I1,I2,I3...I7) that 
correspond to precise incidence angles for the sensor). Value list can be retrieved with codeSpace.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:simpleType name="SensorTypePropertyType"> 
  <xs:restriction base="xs:string"> 
   <xs:enumeration value="ALTIMETRIC"/> 
   <xs:enumeration value="ATMOSPHERIC"/> 
   <xs:enumeration value="OPTICAL"/> 
   <xs:enumeration value="RADAR"/> 
  </xs:restriction> 
 </xs:simpleType> 
 <!-- ===================================================================== --> 
 <!--  EarthObservationResult Feature : --> 
 <!--    + this feature defines the observation result, i.e. the Earth Observation Product --> 
 <!--    + should be found within EarthObservation "result" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationResult" type="hma:EarthObservationResultType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 

42 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

   <xs:documentation>Defines the observation result, i.e. the Earth Observation Product</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationResultType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element name="browse" type="hma:BrowseInformationArrayPropertyType" minOccurs="0"/> 
     <xs:element name="product" type="hma:ProductInformationArrayPropertyType" minOccurs="0"/> 
     <xs:element name="mask" type="hma:MaskInformationArrayPropertyType" minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:complexType name="EarthObservationResultPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:EarthObservationResult"/> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Footprint  Feature : --> 
 <!--    + this feature defines the acquisition footprint i.e. what is observed by the Instrument --> 
 <!--    + should be found within EarthObservation "featureOfInterest" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="Footprint" type="hma:FootprintType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 
   <xs:documentation>Defines the acquisition footprint, i.e. the region observed by the 
Instrument</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="FootprintType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element ref="gml:multiExtentOf"> 
      <xs:annotation> 
       <xs:documentation>Acquisition footprint coordinates, described by a closed polygon (last 
point=first point), using CRS:WGS84, Latitude,Longitude pairs (per-WGS84 definition of point ordering, not necessarily per all WFS 
implementations). Expected structure is gml:Polygon/gml:exterior/gml:LinearRing/gml:posList. 
 
HMA/EOLI : polygon/coordinates (F B b s) 
       </xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element ref="gml:centerOf" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Acquisition center coordinates.  Expected structure is 
gml:Point/gml:pos. 
 
HMA/EOLI : scCenter/coordinates (F B b s)</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   BrowseInformation  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="BrowseInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:BrowseInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="BrowseInformation" type="hma:BrowseInformationType"/> 
 <xs:complexType name="BrowseInformationType"> 
  <xs:sequence> 
   <xs:element name="type"> 
    <xs:annotation> 
     <xs:documentation>Browse type. Possible values are : THUMBNAIL, QUICKLOOK and ALBUM. 
</xs:documentation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  43
 



OGC 06-080r2 

    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="THUMBNAIL"/> 
      <xs:enumeration value="QUICKLOOK"/> 
      <xs:enumeration value="ALBUM"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="subType" type="gml:CodeListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Value is mission specific. Value list can be retrieved with codeSpace. Not used by 
PHR. For MODIS : OPTICAL, THERMAL</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="referenceSystemIdentifier" type="hma:CodeWithAuthorityType"> 
    <xs:annotation> 
     <xs:documentation>Indicates if browse is geo-referenced, and thus can be assumed to be displayed 
directly on a map (in which case should point to a code space for the CRS), when not supplied it is assumed that the browse is 
provided in "raw" satellite frame of reference</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="fileName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Path to the browse image (could be any kind of URL :  
direct link to the image or WMS/WCS interface), it is assumed that if a client is prepared to "manage" a browse delivered by e.g. 
WMS they would parse the URL to identify that it contains the OGC standard SERVICE=WMS</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   ProductInformation  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="ProductInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:ProductInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="ProductInformation" type="hma:ProductInformationType"/> 
 <xs:complexType name="ProductInformationType"> 
  <xs:sequence> 
   <xs:element name="referenceSystemIdentifier" type="hma:CodeWithAuthorityType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Indicates if product is geo-referenced, (in which case should point to a code space 
for the CRS), when not supplied it is assumed that the browse is provided in "raw" satellite frame of reference</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="fileName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Path to the actual product data if available online (could be any kind of URL :  
direct link to the image or WMS/WCS interface), it is assumed that if a client is prepared to "manage" a product delivered by e.g. 
WCS they would parse the URL to identify that it contains the OGC standard SERVICE=WCS</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="version" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Product version</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="size" type="gml:MeasureListType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Product size (bytes) allowing the user to realise how long a download is likely to 
take</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Processing Information  --> 
 <!-- ===================================================================== --> 

44 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 <xs:complexType name="ProcessingInformationPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:ProcessingInformation"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="ProcessingInformation" type="hma:ProcessingInformationType"/> 
 <xs:complexType name="ProcessingInformationType"> 
  <xs:sequence> 
   <xs:element name="compositeType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Composite type of product, if available</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="DAILY"/> 
      <xs:enumeration value="WEEKLY"/> 
      <xs:enumeration value="MONTHLY"/> 
      <xs:enumeration value=""/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="method" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Method used to compute datalayer. (e.g. Kalman filtering, 
ROSE)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="methodVersion" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Method version (e.g. 1.0)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="processorName" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Processor sofware name (e.g. FastROSE)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="processorVersion" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Processor software version (e.g. 1.0)</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="processingLevel" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Processing level applied to the product</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="1A"/> 
      <xs:enumeration value="1B"/> 
      <xs:enumeration value="2"/> 
      <xs:enumeration value="3"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="nativeProductFormat" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Native product format</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Histograms  --> 
 <!-- ===================================================================== --> 
 <xs:element name="histograms" type="hma:HistogramArrayPropertyType"/> 
 <xs:element name="Histogram" type="hma:HistogramType" substitutionGroup="gml:_Object"/> 
 <xs:complexType name="HistogramArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:Histogram" maxOccurs="unbounded"/> 
  </xs:sequence> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  45
 



OGC 06-080r2 

 </xs:complexType> 
 <xs:complexType name="HistogramType"> 
  <xs:sequence> 
   <xs:element name="bandId" type="xs:string" minOccurs="0"/> 
   <xs:element name="min" type="xs:int"/> 
   <xs:element name="max" type="xs:int"/> 
   <xs:element name="mean" type="xs:double" minOccurs="0"/> 
   <xs:element name="stdDeviation" type="xs:double" minOccurs="0"/> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Masks information  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="MaskInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:MaskInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="MaskInformation" type="hma:MaskInformationType"/> 
 <xs:complexType name="MaskInformationType"> 
  <xs:sequence> 
   <xs:element name="type"> 
    <xs:annotation> 
     <xs:documentation>Mask type. Possible values are : SNOW, CLOUD and 
QUALITY</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="SNOW"/> 
      <xs:enumeration value="CLOUD"/> 
      <xs:enumeration value="QUALITY"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="format"> 
    <xs:annotation> 
     <xs:documentation>Mask format. Possible values are : RASTER or VECTOR</xs:documentation> 
    </xs:annotation> 
    <xs:simpleType> 
     <xs:restriction base="xs:string"> 
      <xs:enumeration value="RASTER"/> 
      <xs:enumeration value="VECTOR"/> 
     </xs:restriction> 
    </xs:simpleType> 
   </xs:element> 
   <xs:element name="referenceSystemIdentifier" type="hma:CodeWithAuthorityType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Indicates if mask is geo-referenced, and thus can be assumed to be displayed 
directly on a map (in which case should point to a code space for the CRS), when not supplied it is assumed that the mask is provided 
in "raw" satellite frame of reference</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="fileName" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Path to the mask (could be any kind of URL :  
direct link to the image or WMS/WCS interface in case of RASTER mask; direct link to the file or WFS interface in case of VECTOR 
file), it is assumed that if a client is prepared to "manage" a mask delivered by e.g. WMS they would parse the URL to identify that it 
contains the OGC standard SERVICE=WMS</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- --> 
 <!-- --> 
 <!-- ===================================================================== --> 
 <!--   Mask  Feature  --> 
 <!-- ===================================================================== --> 
 <xs:element name="Mask" type="hma:MaskType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 

46 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

   <xs:documentation>Mask defined as a feature collection (in the GML 3.2 sense : a feature collection is a feature 
having a property derived by extension from gml:AbstractFeatureMemberType). Mandates the following optional gml properties 
inherited from gml:_Feature : 
- gml:id attribute 
- gml:name 
- gml:boundedBy 
 
Note : the upcoming gml:identifier will replace hma:identifier in GML 3.2</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="MaskType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element ref="hma:maskMembers"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <xs:element name="maskMembers" type="hma:MaskMembersPropertyType"/> 
 <xs:complexType name="MaskMembersPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:MaskFeature" minOccurs="0" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="MaskFeature" type="hma:MaskFeatureType" substitutionGroup="gml:_Feature"> 
  <xs:annotation> 
   <xs:documentation>Mask member : . Mandates the following optional gml properties inherited from gml:_Feature : 
- gml:id attribute 
- gml:name 
- gml:boundedBy 
 
Note : the upcoming gml:identifier will replace hma:identifier in GML 3.2</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="MaskFeatureType"> 
  <xs:complexContent> 
   <xs:extension base="gml:AbstractFeatureType"> 
    <xs:sequence> 
     <xs:element name="maskType" type="hma:CodeWithAuthorityType"> 
      <xs:annotation> 
       <xs:documentation>Mask type. Value list can be retrieved with 
codeSpace</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element ref="gml:multiExtentOf"> 
      <xs:annotation> 
       <xs:documentation>Mask member extent. Expected structure is 
gml:Polygon/gml:exterior/gml:LinearRing/gml:posList with 0 to n gml:Polygon/gml:interior/gml:LinearRing/gml:posList elements 
representing the holes.</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Specific information object :  --> 
 <!--      + should be used to add specific information to a generic EarthObservation --> 
 <!--          description. --> 
 <!--      + inheritance mechanism (thematic/specific) is prefered to the use of this object --> 
 <!-- ===================================================================== --> 
 <xs:element name="SpecificInformation" type="hma:SpecificInformationType"/> 
 <xs:complexType name="SpecificInformationArrayPropertyType"> 
  <xs:sequence> 
   <xs:element ref="hma:SpecificInformation" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:complexType name="SpecificInformationType"> 
  <xs:sequence> 
   <xs:element name="localAttribute" type="xs:string"> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  47
 



OGC 06-080r2 

    <xs:annotation> 
     <xs:documentation>Container for ad-hoc metadata that does not merit a mission specific schema or 
extension, the localAttribute describes the name of the attribute</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="localValue" type="xs:string"> 
    <xs:annotation> 
     <xs:documentation>Container for ad-hoc metadata that does not merit a mission specific schema or 
extension, the localAttribute describes the value of the attribute</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous properties  --> 
 <!-- ===================================================================== --> 
 <xs:element name="identifier"> 
  <xs:annotation> 
   <xs:documentation>Identifier for metadata item, includes ground segment codespace to guarantee uniqueness 
within HMA :  
urn:HMA:GS:CollectionId:ProductId</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"/> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="doi"> 
  <xs:annotation> 
   <xs:documentation>Digital Object Identifier identifying the product</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"/> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="parentIdentifier"> 
  <xs:annotation> 
   <xs:documentation>Collection identifier</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"/> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="status"> 
  <xs:annotation> 
   <xs:documentation>Refers to product status. PHR : always "ACQUIRED"</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:enumeration value="ACQUIRED"/> 
    <xs:enumeration value="ARCHIVED"/> 
    <xs:enumeration value="PLANNED"/> 
    <xs:enumeration value="POTENTIAL"/> 
   </xs:restriction> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="acquisitionType"> 
  <xs:annotation> 
   <xs:documentation>Used to distinguish at a high level the appropriateness of the acquisition for "general" use, 
whether the product is a nominal acquisition, special calibration product or other. Values: 
      - NOMINAL 
      - CALIBRATION 
      - OTHER 
       
More specific information (i.e. platform and sensor specific values) are expressed within the imageSubType tag.</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:enumeration value="NOMINAL"/> 
    <xs:enumeration value="CALIBRATION"/> 
    <xs:enumeration value="OTHER"/> 
   </xs:restriction> 

48 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

  </xs:simpleType> 
 </xs:element> 
 <xs:element name="acquisitionSubType" type="gml:CodeListType"> 
  <xs:annotation> 
   <xs:documentation>The mission specific type definition should refer to mission/ground segment dedicated 
codeSpace.    
PHR values are :  
"CALIBRATION - UNNORMALIZED" 
"CALIBRATION - DARKNESS SEQUENCE" 
"CALIBRATION - ASTRAL" 
"CALIBRATION - AMETHIST" 
"CALIBRATION - REFOCUSING SEQUENCE" 
"MTSR MODE" 
"DAS FILE" 
"SPECIFIC-1" 
"SPECIFIC-2" 
"SPECIFIC-3" 
"SPECIFIC-4"               
      </xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="productType" type="xs:string"> 
  <xs:annotation> 
   <xs:documentation>Describes product type in case that mixed types are available within a single collection. This is 
ground segment specific definition</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="imageQualityDegradation" type="gml:MeasureType"> 
  <xs:annotation> 
   <xs:documentation>Must be expressed in percents. EOLI N/A (attTypes/attName ?)</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="imageQualityDegradationQuotationMode"> 
  <xs:annotation> 
   <xs:documentation>Indicator to know how the quality quotation has been calculated.</xs:documentation> 
  </xs:annotation> 
  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:pattern value="AUTOMATIC"/> 
    <xs:pattern value="MANUAL"/> 
   </xs:restriction> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="composedOf" type="hma:EarthObservationPropertyType"/> 
 <xs:element name="subsetOf" type="hma:EarthObservationPropertyType"/> 
 <xs:element name="linkedWith" type="hma:EarthObservationPropertyType"/> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous types  --> 
 <!-- ===================================================================== --> 
 <xs:complexType name="CodeWithAuthorityType"> 
  <xs:annotation> 
   <xs:documentation>From GML 3.2 draft</xs:documentation> 
  </xs:annotation> 
  <xs:simpleContent> 
   <xs:extension base="xs:string"> 
    <xs:attribute name="codeSpace" type="xs:anyURI" use="required"/> 
   </xs:extension> 
  </xs:simpleContent> 
 </xs:complexType> 
</xs:schema> 
 
 
 

 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  49
 



OGC 06-080r2 

D.2 Application schema for Thematic Optical EO Products 

The following schema document, called ohr.xsd, contains elements to describe Thematic 
Optical EO Products using GML 3.1.1 

<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSpy v2007 sp1 (http://www.altova.com) by jrom (C.N.E.S.) --> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" xmlns:ohr="http://earth.esa.int/ohr" 
targetNamespace="http://earth.esa.int/ohr" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.0"> 
 <xs:import namespace="http://www.opengis.net/gml" schemaLocation="../../gml/3.1.1/base/gmlSubset.xsd"/> 
 <xs:import namespace="http://earth.esa.int/hma" schemaLocation="./hma.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   Optical EarthObservation :  --> 
 <!--     + Inherits from hma:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="ohr:EarthObservationType" substitutionGroup="hma:EarthObservation"> 
  <xs:annotation> 
   <xs:documentation>HMA root element for Optical Earth Observation Product description</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationType"> 
    <xs:sequence/> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  EarthObservationResult Feature : --> 
 <!--    + this feature extends hma:EarthObservationResult --> 
 <!--    + should be found within EarthObservation "result" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationResult" type="ohr:EarthObservationResultType" 
substitutionGroup="hma:EarthObservationResult"/> 
 <xs:complexType name="EarthObservationResultType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationResultType"> 
    <xs:sequence> 
     <xs:element name="cloudCoverPercentage" type="gml:MeasureType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Must be expressed in percents</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element name="cloudCoverPercentageAssessmentConfidence" type="gml:MeasureType" 
minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Cloud cover assessment confidence. Expressed in 
percents.</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element name="cloudCoverPercentageQuotationMode" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Indicator to know how the cloud cover percentage has been 
calculated</xs:documentation> 
      </xs:annotation> 
      <xs:simpleType> 
       <xs:restriction base="xs:string"> 
        <xs:enumeration value="AUTOMATIC"/> 
        <xs:enumeration value="MANUAL"/> 
       </xs:restriction> 
      </xs:simpleType> 
     </xs:element> 
     <xs:element name="snowCoverPercentage" type="gml:MeasureType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Must be expressed in percents</xs:documentation> 
      </xs:annotation> 
     </xs:element> 

50 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

     <xs:element name="snowCoverPercentageAssessmentConfidence" type="gml:MeasureType" 
minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Snow cover assessment confidence. Expressed in 
percents.</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element name="snowCoverPercentageQuotationMode" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Indicator to know how the snow cover percentage has been 
calculated</xs:documentation> 
      </xs:annotation> 
      <xs:simpleType> 
       <xs:restriction base="xs:string"> 
        <xs:enumeration value="AUTOMATIC"/> 
        <xs:enumeration value="MANUAL"/> 
       </xs:restriction> 
      </xs:simpleType> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Acquisition  : --> 
 <!--    + this feature extends hma:Acquisition --> 
 <!-- ===================================================================== --> 
 <xs:element name="Acquisition" type="ohr:AcquisitionType" substitutionGroup="hma:Acquisition"/> 
 <xs:complexType name="AcquisitionType"> 
  <xs:complexContent> 
   <xs:extension base="hma:AcquisitionType"> 
    <xs:sequence> 
     <xs:element name="illuminationAzimuthAngle" type="gml:AngleType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Solar Azimuth angle given in degrees. EOLI : illAziAng 
(F)</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
     <xs:element name="illuminationElevationAngle" type="gml:AngleType" minOccurs="0"> 
      <xs:annotation> 
       <xs:documentation>Solar Elevation angle given in degrees. EOLI : illElevAng 
(F)</xs:documentation> 
      </xs:annotation> 
     </xs:element> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
</xs:schema> 
 
 
 
 
 
 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  51
 



OGC 06-080r2 

D.3 Application schema for Thematic Radar EO Products 

The following schema document, called sar.xsd, contains elements to describe Thematic 
Radar EO Products using GML 3.1.1 

<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" xmlns:sar="http://earth.esa.int/sar" 
targetNamespace="http://earth.esa.int/sar" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.0 "> 
 <xs:import namespace="http://www.opengis.net/gml" schemaLocation="../../gml/3.1.1/base/gmlSubset.xsd"/> 
 <xs:import namespace="http://earth.esa.int/hma" schemaLocation="./hma.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   SAR EarthObservation :  --> 
 <!--     + Inherits from hma:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="sar:EarthObservationType" substitutionGroup="hma:EarthObservation"> 
  <xs:annotation> 
   <xs:documentation>HMA root element for SAR Earth Observation Product description.Namespace for SAR 
products EarthObservationProduct. This is a first minimum set suggested by DLR. The configuration of EOWEB User Services for 
TerraSAR-X is ongoing as well as the definition of Feature applicable to catalogue services. Sources: DLR TerraSAR-X PGS SAR 
L1B Archive Product Specification, SAR Raw Exchange Product Specification</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationType"> 
    <xs:sequence/> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Acquisition  : --> 
 <!--    + this feature extends hma:Acquisition --> 
 <!-- ===================================================================== --> 
 <xs:element name="Acquisition" type="sar:AcquisitionType" substitutionGroup="hma:Acquisition"/> 
 <xs:complexType name="AcquisitionType"> 
  <xs:complexContent> 
   <xs:extension base="hma:AcquisitionType"> 
    <xs:sequence> 
     <xs:element ref="sar:polarisationMode" minOccurs="0"/> 
     <xs:element ref="sar:polarisationChannels" minOccurs="0"/> 
     <xs:element ref="sar:antennaLookDirection" minOccurs="0"/> 
     <xs:element ref="sar:minimumIncidenceAngle" minOccurs="0"/> 
     <xs:element ref="sar:maximumIncidenceAngle" minOccurs="0"/> 
     <xs:element ref="sar:dopplerFrequency" minOccurs="0"/> 
     <xs:element ref="sar:swathId" minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous properties  --> 
 <!-- ===================================================================== --> 
 <xs:element name="polarisationMode" type="sar:PolarisationModePropertyType"> 
  <xs:annotation> 
   <xs:documentation>single S, dual D, twin T, quad Q, UNDEFINED</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="polarisationChannels" type="sar:PolarisationChannelsPropertyType"> 
  <xs:annotation> 
   <xs:documentation>Polarisation channel transmit/receive configuration: horizontal, vertical.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="antennaLookDirection"> 
  <xs:annotation> 
   <xs:documentation>Polarisation channel transmit/receive configuration: horizontal, vertical.</xs:documentation> 
  </xs:annotation> 

52 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

  <xs:simpleType> 
   <xs:restriction base="xs:string"> 
    <xs:enumeration value="LEFT"/> 
    <xs:enumeration value="RIGHT"/> 
   </xs:restriction> 
  </xs:simpleType> 
 </xs:element> 
 <xs:element name="minimumIncidenceAngle" type="gml:AngleType"> 
  <xs:annotation> 
   <xs:documentation>Minimum Incidence angle.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="maximumIncidenceAngle" type="gml:AngleType"> 
  <xs:annotation> 
   <xs:documentation>Maximum Incidence angle.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="dopplerFrequency" type="gml:MeasureType"> 
  <xs:annotation> 
   <xs:documentation>Doppler Frequency of acquisition.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:element name="swathId" type="xs:string"/> 
 <!-- ===================================================================== --> 
 <!--   Miscellaneous types  --> 
 <!-- ===================================================================== --> 
 <xs:simpleType name="PolarisationChannelsPropertyType"> 
  <xs:restriction base="xs:string"> 
   <xs:enumeration value="HH"/> 
   <xs:enumeration value="HV"/> 
   <xs:enumeration value="VH"/> 
   <xs:enumeration value="VV"/> 
   <xs:enumeration value="HH, VV"/> 
   <xs:enumeration value="HH, VH"/> 
   <xs:enumeration value="HH, HV"/> 
   <xs:enumeration value="VH, VV"/> 
   <xs:enumeration value="VH, HV"/> 
   <xs:enumeration value="VV, HV"/> 
   <xs:enumeration value="HH, VV, HV, VH"/> 
   <xs:enumeration value="UNDEFINED"/> 
  </xs:restriction> 
 </xs:simpleType> 
 <xs:simpleType name="PolarisationModePropertyType"> 
  <xs:restriction base="xs:string"> 
   <xs:enumeration value="D"/> 
   <xs:enumeration value="Q"/> 
   <xs:enumeration value="S"/> 
   <xs:enumeration value="T"/> 
   <xs:enumeration value="UNDEFINED"/> 
  </xs:restriction> 
 </xs:simpleType> 
 <xs:element name="acquiredBy" type="sar:SensorPropertyType"/> 
 <xs:complexType name="SensorPropertyType"> 
  <xs:sequence> 
   <xs:element ref="sar:Sensor"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="Sensor" type="sar:SensorType"/> 
 <xs:complexType name="SensorType"> 
  <xs:sequence> 
   <xs:element name="swathIdentifier" type="gml:CodeListType"> 
    <xs:annotation> 
     <xs:documentation>Swath identifier (e.g. Envisat ASAR has 7 distinct swaths (I1,I2,I3...I7) that 
correspond to precise incidence angles for the sensor). Value list can be retrieved with codeSpace.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
</xs:schema> 
 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  53
 



OGC 06-080r2 

 
 
 
 
 
 
 

54 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

D.4 Application schema for Specific Pleiades EO Products 

The following schema document, called atm.xsd, contains elements to describe Thematic 
Atmospheric EO Products using GML 3.1.1 

<?xml version="1.0" encoding="UTF-8"?> 
<!-- edited with XMLSPY v2004 rel. 2 U (http://www.xmlspy.com) by jrom (CNES) --> 
<xs:schema xmlns:atm="http://earth.esa.int/atm" xmlns:hma="http://earth.esa.int/hma" xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xs="http://www.w3.org/2001/XMLSchema" 
targetNamespace="http://earth.esa.int/atm" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.0"> 
 <xs:import namespace="http://www.opengis.net/gml" schemaLocation="../../gml/3.1.1/base/gmlSubset.xsd"/> 
 <xs:import namespace="http://earth.esa.int/hma" schemaLocation="./hma.xsd"/> 
 <!-- ===================================================================== --> 
 <!--   Atmospheric EarthObservation :  --> 
 <!--     + Inherits from hma:AbstractObservation --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservation" type="atm:EarthObservationType" substitutionGroup="hma:EarthObservation"> 
  <xs:annotation> 
   <xs:documentation>Namespace for Atmospheric products EarthObservationProduct.</xs:documentation> 
  </xs:annotation> 
 </xs:element> 
 <xs:complexType name="EarthObservationType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationType"> 
    <xs:sequence/> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  EarthObservationResult Feature : --> 
 <!--    + this feature extends hma:EarthObservationResult --> 
 <!--    + should be found within EarthObservation "result" property --> 
 <!-- ===================================================================== --> 
 <xs:element name="EarthObservationResult" type="atm:EarthObservationResultType" 
substitutionGroup="hma:EarthObservationResult"/> 
 <xs:complexType name="EarthObservationResultType"> 
  <xs:complexContent> 
   <xs:extension base="hma:EarthObservationResultType"> 
    <xs:sequence> 
     <xs:element ref="atm:dataLayers" minOccurs="0"/> 
    </xs:sequence> 
   </xs:extension> 
  </xs:complexContent> 
 </xs:complexType> 
 <!-- ===================================================================== --> 
 <!--  Datalayers  --> 
 <!-- ===================================================================== --> 
 <xs:element name="dataLayers" type="atm:DataLayerPropertyType"/> 
 <xs:complexType name="DataLayerPropertyType"> 
  <xs:sequence> 
   <xs:element ref="atm:DataLayer" maxOccurs="unbounded"/> 
  </xs:sequence> 
 </xs:complexType> 
 <xs:element name="DataLayer" type="atm:DataLayerType"/> 
 <xs:complexType name="DataLayerType"> 
  <xs:sequence> 
   <xs:element name="specy" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Specy contained in data layer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="unit" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Unit of specy in data layer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="highestLocation" type="gml:MeasureType" minOccurs="0"> 
    <xs:annotation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  55
 



OGC 06-080r2 

     <xs:documentation>Top height of datalayer. Should be expressed in meters.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="lowestLocation" type="gml:MeasureType" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Bottom height of datalayer. Should be expressed in meters.</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="algorithmName" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Name of algorithm used to compute datalayer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
   <xs:element name="algorithmVersion" type="xs:string" minOccurs="0"> 
    <xs:annotation> 
     <xs:documentation>Version of algorithm used to compute datalayer</xs:documentation> 
    </xs:annotation> 
   </xs:element> 
  </xs:sequence> 
 </xs:complexType> 
</xs:schema> 
 

56 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

D.5 Application schema for Specific Pleiades EO Products 

The following schema document, called phr.xsd, contains elements to describe Specific 
Pleiades HR EO Products using GML 3.1.1 

TBD 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  57
 



OGC 06-080r2 

58 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

Annex D 
(normative) 

 
Reference schematron rules for EO Products GML application schemas 

D.1 Schematron rules for hma 

<?xml version="1.0" encoding="UTF-8"?> 
<?xml-stylesheet type="text/xsl" href="schematron_skeleton_for_hma.xsl"?> 
<schema xmlns="http://www.ascc.net/xml/schematron" xmlns:phr="http://hma.cnes.fr/phr" 
xmlns:gml="http://www.opengis.net/gml" xmlns:hma="http://earth.esa.int/hma" 
xmlns:ohr="http://earth.esa.int/ohr"> 
 <title>Technical document schema</title> 
 <key name="author-e-mails" match="author" use="@e-mail"/> 
  
 <!-- ============================================================== --> 
 <!--  gml:metaDataProperty :  --> 
 <!--   + expected contents is hma:EarthObservationMetadata  --> 
 <!-- ============================================================== --> 
 <!-- 
   ! if root is 'hma:EarthObservation' , content is always as expected in the hma level (i.e no extension is 
possible) 
   ! Since  'ohr:EarthObservation' does not extend metadataProperty, expected content is the same as 
with hma 
   ! Note : should be the same for other thematic schemas (To be discussed) 
   !--> 
 <pattern id="metaDataProperty_strict" name="metaDataProperty_strict"> 
  <rule 
context="(hma:EarthObservation/gml:metaDataProperty)|(ohr:EarthObservation/gml:metaDataProperty)"> 
   <assert test="hma:EarthObservationMetaData">gml:metaDataProperty : expected content is 
hma:EarthObservationMetadata for a hma:EarthObservation or a ohr:EarthObservation</assert> 
  </rule> 
 </pattern> 
 <!-- 
   ! if root explicitaly refers to  'hma:EarthObservation' or 'ohr:EarthObservation', content can be as in the 
preceding rule or can be an 
   ! extension of hma:EarthObservationMetadata 
   !--> 
 <pattern id="metaDataProperty_extended" name="metaDataProperty_extended"> 
  <rule context="*[@hma:type = 'hma:EarthObservation' or @hma:type = 
'ohr:EarthObservation']/gml:metaDataProperty"> 
   <assert test="hma:EarthObservationMetaData|*[@hma:type= 
'hma:EarthObservationMetaData']">gml:metaDataProperty : expected content is 
hma:EarthObservationMetadata or an extension (with appropriate attribute hma:type)</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  gml:using :  --> 
 <!--   + expected contents is hma:EarthObservationEquipment. --> 
 <!--      INCOMPLETE  --> 
 <!-- ============================================================== --> 
 <pattern id="using" name="using"> 
  <rule context="gml:using"> 
   <assert test="hma:EarthObservationEquipment">gml:using : expected contents is 
hma:EarthObservationEquipment</assert> 
  </rule> 
 </pattern> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  59
 



OGC 06-080r2 

 <!-- ============================================================== --> 
 <!--  gml:resultOf :  --> 
 <!--   + expected contents is hma:EarthObservationResult. --> 
 <!-- ============================================================== --> 
 <!-- 
   !  
   !--> 
 <pattern id="resultOf_strict" name="resultOf_strict"> 
  <rule context="hma:EarthObservation/gml:resultOf"> 
   <assert test="hma:EarthObservationResult">gml:resultOf : expected content is 
hma:EarthObservationResult for a hma:EarthObservation</assert> 
  </rule> 
 </pattern> 
 <pattern id="resultOf_strict" name="resultOf_strict"> 
  <rule context="ohr:EarthObservation/gml:resultOf"> 
   <assert test="ohr:EarthObservationResult">gml:resultOf : expected content is 
ohr:EarthObservationResult for a ohr:EarthObservation</assert> 
  </rule> 
 </pattern> 
 <!-- 
   !  
   !--> 
 <pattern id="resultOf_extended" name="resultOf_extended"> 
  <rule context="*[@hma:type = 'hma:EarthObservation']/gml:resultOf"> 
   <assert test="hma:EarthObservationResult|*[@hma:type= 
'hma:EarthObservationResult']">gml:resultOf : expected content is hma:EarthObservationResult or an 
extension (with appropriate attribute hma:type)</assert> 
  </rule> 
 </pattern> 
 <pattern id="resultOf_extended" name="resultOf_extended"> 
  <rule context="*[@hma:type = 'ohr:EarthObservation']/gml:resultOf"> 
   <assert test="ohr:EarthObservationResult|*[@hma:type= 
'ohr:EarthObservationResult']">gml:resultOf : expected content is ohr:EarthObservationResult or an 
extension (with appropriate attribute hma:type)</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  gml:target :  --> 
 <!--   + expected contents is hma:Footprint. --> 
 <!-- ============================================================== --> 
 <pattern id="target" name="target"> 
  <rule context="gml:target"> 
   <assert test="hma:Footprint">gml:target : expected contents is hma:Footprint</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  gml:validTime :  --> 
 <!--   + expected contents is gml:TimePeriod/gml:beginPosition.   --> 
 <!--                                         gml:TimePeriod/gml:endPosition.   --> 
 <!-- ============================================================== --> 
 <pattern id="validTime_beginPosition" name="validTime_beginPosition"> 
  <rule context="gml:validTime"> 
   <assert test="gml:TimePeriod/gml:beginPosition">gml:validTime : expected contents is 
gml:TimePeriod/gml:beginPostition</assert> 
  </rule> 
 </pattern> 
 <pattern id="validTime_endPosition" name="validTime_endPosition"> 
  <rule context="gml:validTime"> 
   <assert test="gml:TimePeriod/gml:endPosition">gml:validTime : expected contents is 
gml:TimePeriod/gml:endPostition</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 

60 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 <!--  Footprint gml:multiExtentOf :  --> 
 <!--   + expected contents is 
gml:MultiSurface/gml:surfaceMembers/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList. --> 
 <!-- ============================================================== --> 
 <pattern id="footprint_extentOf" name="footprint_extentOf"> 
  <rule context="gml:multiExtentOf"> 
   <assert 
test="gml:MultiSurface/gml:surfaceMembers/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList">gml:mult
iExtentOf : expected contents is 
gml:MultiSurface/gml:surfaceMembers/gml:Polygon/gml:exterior/gml:LinearRing/gml:posList</assert> 
  </rule> 
 </pattern> 
 <!-- ============================================================== --> 
 <!--  Footprint gml:centerOf :  --> 
 <!--   + expected contents is gml:Point/gml:pos. --> 
 <!-- ============================================================== --> 
 <pattern id="footprint_centerOf" name="footprint_centerOf"> 
  <rule context="gml:centerOf"> 
   <assert test="gml:Point/gml:pos">gml:centerOf : expected contents is 
gml:Point/gml:pos</assert> 
  </rule> 
 </pattern> 
</schema> 
 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  61
 



OGC 06-080r2 

Annex E 
(normative) 

 
GML Subset for EO Products GML application schemas 

E.1 GML subset schema 

<?xml version="1.0" encoding="UTF-8"?> 
<schema xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sch="http://www.ascc.net/xml/schematron" 
xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.opengis.net/gml" 
elementFormDefault="qualified" version="3.1.1"> 
 <annotation> 
  <documentation>GML Subset schema for 
gml:metaDataProperty,gml:Polygon,gml:Point,gml:LineString,gml:LinearRing,gml:exterior,gml:interior,gml:surfaceProperty,gml:mul
tiSurfacePropertyType,gml:_Feature,gml:featureMember,gml:CodeListType,gml:AngleType,gml:MeasureListType,gml:centerOf,gml
:extentOf,gml:_MetaData,gml:Observation,gml:validTime,gml:beginPosition,gml:endPosition,gml:TimePeriod,gml:multiExtentOf,g
ml:_FeatureCollection, written by gmlSubset.xslt. 
</documentation> 
 </annotation> 
 <import namespace="http://www.w3.org/1999/xlink" schemaLocation="../../../xlink/1.0.0/xlinks.xsd"/> 
 <!-- ================================================= --> 
 <element name="metaDataProperty" type="gml:MetaDataPropertyType"> 
  <annotation> 
   <documentation>Contains or refers to a metadata package that contains metadata properties.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="MetaDataPropertyType"> 
  <annotation> 
   <documentation>Base type for complex metadata property types.</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <any processContents="lax"/> 
   <!-- <element ref="gml:_MetaData"/> --> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attribute name="about" type="anyURI" use="optional"/> 
 </complexType> 
 <!-- ================================================= --> 
 <attributeGroup name="AssociationAttributeGroup"> 
  <annotation> 
   <documentation>Attribute group used to enable property elements to refer to their value remotely. It contains the 
simple link components from xlinks.xsd, with all members optional, and the remoteSchema attribute, which is also optional.  These 
attributes can be attached to any element, thus allowing it to act as a pointer. The 'remoteSchema' attribute allows an element  that 
carries link attributes to indicate that the element is declared  in a remote schema rather than by the schema that constrains the current 
document instance.</documentation> 
  </annotation> 
  <attributeGroup ref="xlink:simpleLink"/> 
  <attribute ref="gml:remoteSchema" use="optional"/> 
 </attributeGroup> 
 <!-- ================================================= --> 
 <attribute name="remoteSchema" type="anyURI"> 
  <annotation> 
   <documentation>Reference to an XML Schema fragment that specifies the content model of the propertys value. 
This is in conformance with the XML Schema Section 4.14 Referencing Schemas from Elsewhere.</documentation> 
  </annotation> 
 </attribute> 
 <!-- ================================================= --> 
 <element name="Polygon" type="gml:PolygonType" substitutionGroup="gml:_Surface"/> 
 <!-- ================================================= --> 
 <complexType name="PolygonType"> 
  <annotation> 

62 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

   <documentation>A Polygon is a special surface that is defined by a single surface patch. The boundary of this patch 
is coplanar and the polygon uses planar interpolation in its interior. It is backwards compatible with the Polygon of GML 2, 
GM_Polygon of ISO 19107 is implemented by PolygonPatch.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractSurfaceType"> 
    <sequence> 
     <element ref="gml:exterior" minOccurs="0"/> 
     <element ref="gml:interior" minOccurs="0" maxOccurs="unbounded"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractSurfaceType"> 
  <annotation> 
   <documentation>An abstraction of a surface to support the different levels of complexity. A surface is always a 
continuous region of a plane.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometricPrimitiveType"/> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractGeometricPrimitiveType" abstract="true"> 
  <annotation> 
   <documentation>This is the abstract root type of the geometric primitives. A geometric primitive is a geometric 
object that is not  
   decomposed further into other primitives in the system. All primitives are oriented in the direction implied by the 
sequence of their  
   coordinate tuples.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometryType"/> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractGeometryType" abstract="true"> 
  <annotation> 
   <documentation>All geometry elements are derived directly or indirectly from this abstract supertype. A geometry 
element may  
   have an identifying attribute ("gml:id"), a name (attribute "name") and a description (attribute "description"). It may 
be associated  
   with a spatial reference system (attribute "srsName"). The following rules shall be adhered: - Every geometry type 
shall derive  
   from this abstract type. - Every geometry element (i.e. an element of a geometry type) shall be directly or indirectly 
in the  
   substitution group of _Geometry.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGMLType"> 
    <attribute name="gid" type="string" use="optional"> 
     <annotation> 
      <documentation>This attribute is included for backward compatibility with GML 2 and is 
deprecated with GML 3.  
      This identifer is superceded by "gml:id" inherited from AbstractGMLType. The attribute "gid" 
should not be used  
      anymore and may be deleted in future versions of GML without further notice.</documentation> 
     </annotation> 
    </attribute> 
    <attributeGroup ref="gml:SRSReferenceGroup"/> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractGMLType" abstract="true"> 
  <annotation> 
   <documentation>All complexContent GML elements are directly or indirectly derived from this abstract supertype  
 to establish a hierarchy of GML types that may be distinguished from other XML types by their ancestry.  
 Elements in this hierarchy may have an ID and are thus referenceable.</documentation> 
  </annotation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  63
 



OGC 06-080r2 

  <sequence> 
   <group ref="gml:StandardObjectProperties"/> 
  </sequence> 
  <attribute ref="gml:id" use="optional"/> 
 </complexType> 
 <!-- ================================================= --> 
 <group name="StandardObjectProperties"> 
  <annotation> 
   <documentation>This content model group makes it easier to construct types that  
      derive from AbstractGMLType and its descendents "by restriction".   
      A reference to the group saves having to enumerate the standard object properties.</documentation> 
  </annotation> 
  <sequence> 
   <element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
   <element ref="gml:description" minOccurs="0"/> 
   <element ref="gml:name" minOccurs="0" maxOccurs="unbounded"> 
    <annotation> 
     <documentation>Multiple names may be provided.  These will often be distinguished by being 
assigned by different authorities, as indicated by the value of the codeSpace attribute.  In an instance document there will usually only 
be one name per authority.</documentation> 
    </annotation> 
   </element> 
  </sequence> 
 </group> 
 <!-- ================================================= --> 
 <element name="description" type="gml:StringOrRefType"> 
  <annotation> 
   <documentation>Contains a simple text description of the object, or refers to an external 
description.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="StringOrRefType"> 
  <annotation> 
   <documentation>This type is available wherever there is a need for a "text" type property. It is of string type, so the 
text can be included inline, but the value can also be referenced remotely via xlinks from the AssociationAttributeGroup. If the remote 
reference is present, then the value obtained by traversing the link should be used, and the string content of the element can be used for 
an annotation.</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="string"> 
    <attributeGroup ref="gml:AssociationAttributeGroup"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <element name="name" type="gml:CodeType"> 
  <annotation> 
   <documentation>Label for the object, normally a descriptive name. An object may have several names, typically 
assigned by different authorities.  The authority for a name is indicated by the value of its (optional) codeSpace attribute.  The name 
may or may not be unique, as determined by the rules of the organization responsible for the codeSpace.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="CodeType"> 
  <annotation> 
   <documentation>Name or code with an (optional) authority.  Text token.   
      If the codeSpace attribute is present, then its value should identify a dictionary, thesaurus  
      or authority for the term, such as the organisation who assigned the value,  
      or the dictionary from which it is taken.   
      A text string with an optional codeSpace attribute. </documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="string"> 
    <attribute name="codeSpace" type="anyURI" use="optional"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <attribute name="id" type="ID"> 

64 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

  <annotation> 
   <documentation>Database handle for the object.  It is of XML type ID, so is constrained to be unique in the XML 
document within which it occurs.  An external identifier for the object in the form of a URI may be constructed using standard XML 
and XPointer methods.  This is done by concatenating the URI for the document, a fragment separator, and the value of the id 
attribute.</documentation> 
  </annotation> 
 </attribute> 
 <!-- ================================================= --> 
 <attributeGroup name="SRSReferenceGroup"> 
  <annotation> 
   <documentation>Optional reference to the CRS used by this geometry, with optional additional information to 
simplify use when  
   a more complete definition of the CRS is not needed.</documentation> 
  </annotation> 
  <attribute name="srsName" type="anyURI" use="optional"> 
   <annotation> 
    <documentation>In general this reference points to a CRS instance of gml:CoordinateReferenceSystemType  
    (see coordinateReferenceSystems.xsd). For well known references it is not required that the CRS description 
exists at the  
    location the URI points to. If no srsName attribute is given, the CRS must be specified as part of the larger 
context this  
    geometry element is part of, e.g. a geometric element like point, curve, etc. It is expected that this attribute 
will be specified  
    at the direct position level only in rare cases.</documentation> 
   </annotation> 
  </attribute> 
  <attribute name="srsDimension" type="positiveInteger" use="optional"> 
   <annotation> 
    <documentation>The "srsDimension" is the length of coordinate sequence (the number of entries in the list). 
This dimension is  
    specified by the coordinate reference system. When the srsName attribute is omitted, this attribute shall be 
omitted.</documentation> 
   </annotation> 
  </attribute> 
  <attributeGroup ref="gml:SRSInformationGroup"/> 
 </attributeGroup> 
 <!-- ================================================= --> 
 <attributeGroup name="SRSInformationGroup"> 
  <annotation> 
   <documentation>Optional additional and redundant information for a CRS to simplify use when a more complete 
definition of the  
   CRS is not needed. This information shall be the same as included in the more complete definition of the CRS, 
referenced by the  
   srsName attribute. When the srsName attribute is included, either both or neither of the axisLabels and uomLabels 
attributes  
   shall be included. When the srsName attribute is omitted, both of these attributes shall be 
omitted.</documentation> 
  </annotation> 
  <attribute name="axisLabels" type="gml:NCNameList" use="optional"> 
   <annotation> 
    <documentation>Ordered list of labels for all the axes of this CRS. The gml:axisAbbrev value should be used 
for these axis  
    labels, after spaces and forbiddden characters are removed. When the srsName attribute is included, this 
attribute is optional.  
    When the srsName attribute is omitted, this attribute shall also be omitted.</documentation> 
   </annotation> 
  </attribute> 
  <attribute name="uomLabels" type="gml:NCNameList" use="optional"> 
   <annotation> 
    <documentation>Ordered list of unit of measure (uom) labels for all the axes of this CRS. The value of the 
string in the  
    gml:catalogSymbol should be used for this uom labels, after spaces and forbiddden characters are removed. 
When the  
    axisLabels attribute is included, this attribute shall also be included. When the axisLabels attribute is omitted, 
this attribute  
    shall also be omitted.</documentation> 
   </annotation> 
  </attribute> 
 </attributeGroup> 
 <!-- ================================================= --> 
 <simpleType name="NCNameList"> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  65
 



OGC 06-080r2 

  <annotation> 
   <documentation>A set of values, representing a list of token with the lexical value space of NCName. The tokens 
are seperated by whitespace.</documentation> 
  </annotation> 
  <list itemType="NCName"/> 
 </simpleType> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <element name="exterior" type="gml:AbstractRingPropertyType"> 
  <annotation> 
   <documentation>A boundary of a surface consists of a number of rings. In the normal 2D case, one of these rings is 
distinguished as being the exterior boundary. In a general manifold this is not always possible, in which case all boundaries shall be 
listed as interior boundaries, and the exterior will be empty.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="AbstractRingPropertyType"> 
  <annotation> 
   <documentation>Encapsulates a ring to represent the surface boundary property of a surface.</documentation> 
  </annotation> 
  <sequence> 
   <element ref="gml:_Ring"/> 
  </sequence> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="_Ring" type="gml:AbstractRingType" abstract="true" substitutionGroup="gml:_Geometry"> 
  <annotation> 
   <documentation>The "_Ring" element is the abstract head of the substituition group for all closed boundaries of a 
surface patch.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="AbstractRingType" abstract="true"> 
  <annotation> 
   <documentation>An abstraction of a ring to support surface boundaries of different complexity.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometryType"/> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="_Geometry" type="gml:AbstractGeometryType" abstract="true" substitutionGroup="gml:_GML"> 
  <annotation> 
   <documentation>The "_Geometry" element is the abstract head of the substituition group for all geometry elements 
of GML 3. This  
   includes pre-defined and user-defined geometry elements. Any geometry element must be a direct or indirect 
extension/restriction  
   of AbstractGeometryType and must be directly or indirectly in the substitution group of 
"_Geometry".</documentation> 
   <appinfo> 
    <sch:pattern name="Check SRS tags"> 
     <sch:rule context="gml:_Geometry"> 
      <sch:extends rule="CRSLabels"/> 
     </sch:rule> 
    </sch:pattern> 
   </appinfo> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="_GML" type="gml:AbstractGMLType" abstract="true" substitutionGroup="gml:_Object"> 
  <annotation> 
   <documentation>Global element which acts as the head of a substitution group that may include any element which 
is a GML feature, object, geometry or complex value</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="_Object" abstract="true"> 
  <annotation> 
   <documentation>This abstract element is the head of a substitutionGroup hierararchy which may contain either 
simpleContent or complexContent elements.  It is used to assert the model position of "class" elements declared in other GML 
schemas.</documentation> 

66 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="interior" type="gml:AbstractRingPropertyType"> 
  <annotation> 
   <documentation>A boundary of a surface consists of a number of rings. The "interior" rings seperate the surface / 
surface patch from the area enclosed by the rings.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="_Surface" type="gml:AbstractSurfaceType" abstract="true" substitutionGroup="gml:_GeometricPrimitive"> 
  <annotation> 
   <documentation>The "_Surface" element is the abstract head of the substituition group for all (continuous) surface 
elements.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="_GeometricPrimitive" type="gml:AbstractGeometricPrimitiveType" abstract="true" 
substitutionGroup="gml:_Geometry"> 
  <annotation> 
   <documentation>The "_GeometricPrimitive" element is the abstract head of the substituition group for all (pre- and 
user-defined)  
   geometric primitives.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="Point" type="gml:PointType" substitutionGroup="gml:_GeometricPrimitive"/> 
 <!-- ================================================= --> 
 <complexType name="PointType"> 
  <annotation> 
   <documentation>A Point is defined by a single coordinate tuple.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometricPrimitiveType"> 
    <sequence> 
     <choice> 
      <annotation> 
       <documentation>GML supports two different ways to specify the direct poisiton of a 
point. 1. The "pos" element is of type  
       DirectPositionType.</documentation> 
      </annotation> 
      <element ref="gml:pos"/> 
      <element ref="gml:coordinates"> 
       <annotation> 
        <documentation>Deprecated with GML version 3.1.0 for coordinates with ordinate 
values that are numbers. Use "pos"  
        instead. The "coordinates" element shall only be used for coordinates with ordinates 
that require a string  
        representation, e.g. DMS representations.</documentation> 
       </annotation> 
      </element> 
      <element ref="gml:coord"> 
       <annotation> 
        <documentation>Deprecated with GML version 3.0. Use "pos" instead. The "coord" 
element is included for  
        backwards compatibility with GML 2.</documentation> 
       </annotation> 
      </element> 
     </choice> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="pos" type="gml:DirectPositionType"> 
  <annotation> 
   <appinfo> 
    <sch:pattern name="Check SRS tags"> 
     <sch:rule context="gml:pos"> 
      <sch:extends rule="CRSLabels"/> 
     </sch:rule> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  67
 



OGC 06-080r2 

    </sch:pattern> 
   </appinfo> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="DirectPositionType"> 
  <annotation> 
   <documentation>DirectPosition instances hold the coordinates for a position within some coordinate reference 
system (CRS). Since  
   DirectPositions, as data types, will often be included in larger objects (such as geometry elements) that have 
references to CRS, the  
   "srsName" attribute will in general be missing, if this particular DirectPosition is included in a larger element with 
such a reference to a  
   CRS. In this case, the CRS is implicitly assumed to take on the value of the containing object's 
CRS.</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="gml:doubleList"> 
    <attributeGroup ref="gml:SRSReferenceGroup"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <simpleType name="doubleList"> 
  <annotation> 
   <documentation>XML List based on XML Schema double type.  An element of this type contains a space-
separated list of double values</documentation> 
  </annotation> 
  <list itemType="double"/> 
 </simpleType> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <element name="coordinates" type="gml:CoordinatesType"> 
  <annotation> 
   <documentation>Deprecated with GML version 3.1.0.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="CoordinatesType"> 
  <annotation> 
   <documentation>Tables or arrays of tuples.   
        May be used for text-encoding of values from a table.   
        Actually just a string, but allows the user to indicate which characters are used as separators.   
        The value of the 'cs' attribute is the separator for coordinate values,  
        and the value of the 'ts' attribute gives the tuple separator (a single space by default);  
        the default values may be changed to reflect local usage. 
        Defaults to CSV within a tuple, space between tuples.   
        However, any string content will be schema-valid.  </documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="string"> 
    <attribute name="decimal" type="string" default="."/> 
    <attribute name="cs" type="string" default=","/> 
    <attribute name="ts" type="string" default=" "/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="coord" type="gml:CoordType"> 
  <annotation> 
   <documentation>Deprecated with GML 3.0 and included for backwards compatibility with GML 2. Use the "pos" 
element instead.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="CoordType"> 
  <annotation> 
   <documentation>Represents a coordinate tuple in one, two, or three dimensions. Deprecated with GML 3.0 and 
replaced by  
   DirectPositionType.</documentation> 
  </annotation> 

68 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

  <sequence> 
   <element name="X" type="decimal"/> 
   <element name="Y" type="decimal" minOccurs="0"/> 
   <element name="Z" type="decimal" minOccurs="0"/> 
  </sequence> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="LineString" type="gml:LineStringType" substitutionGroup="gml:_Curve"/> 
 <!-- ================================================= --> 
 <complexType name="LineStringType"> 
  <annotation> 
   <documentation>A LineString is a special curve that consists of a single segment with linear interpolation. It is 
defined by two or more coordinate  
   tuples, with linear interpolation between them. It is backwards compatible with the LineString of GML 2, 
GM_LineString of ISO 19107 is  
   implemented by LineStringSegment.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractCurveType"> 
    <sequence> 
     <choice> 
      <annotation> 
       <documentation>GML supports two different ways to specify the control points of a line 
string. 1. A sequence of "pos"  
       (DirectPositionType) or "pointProperty" (PointPropertyType) elements. "pos" elements are 
control points that are only part  
       of this curve, "pointProperty" elements contain a point that may be referenced from other 
geometry elements or reference  
       another point defined outside of this curve (reuse of existing points). 2. The "posList" 
element allows for a compact way to  
       specifiy the coordinates of the control points, if all control points are in the same 
coordinate reference systems and belong  
       to this curve only. The number of direct positions in the list must be at least 
two.</documentation> 
      </annotation> 
      <choice minOccurs="2" maxOccurs="unbounded"> 
       <element ref="gml:pos"/> 
       <element ref="gml:pointProperty"/> 
       <element ref="gml:pointRep"> 
        <annotation> 
         <documentation>Deprecated with GML version 3.1.0. Use "pointProperty" 
instead. Included for backwards compatibility  
         with GML 3.0.0.</documentation> 
        </annotation> 
       </element> 
       <element ref="gml:coord"> 
        <annotation> 
         <documentation>Deprecated with GML version 3.0. Use "pos" instead. The 
"coord" element is included for backwards  
         compatibility with GML 2.</documentation> 
        </annotation> 
       </element> 
      </choice> 
      <element ref="gml:posList"/> 
      <element ref="gml:coordinates"> 
       <annotation> 
        <documentation>Deprecated with GML version 3.1.0. Use "posList" 
instead.</documentation> 
       </annotation> 
      </element> 
     </choice> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractCurveType" abstract="true"> 
  <annotation> 
   <documentation>An abstraction of a curve to support the different levels of complexity. The curve can always be 
viewed as a geometric  
   primitive, i.e. is continuous.</documentation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  69
 



OGC 06-080r2 

  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometricPrimitiveType"/> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="pointProperty" type="gml:PointPropertyType"> 
  <annotation> 
   <appinfo> 
    <sch:pattern name="Check either href or content not both"> 
     <sch:rule context="gml:pointProperty"> 
      <sch:extends rule="hrefOrContent"/> 
     </sch:rule> 
    </sch:pattern> 
   </appinfo> 
   <documentation>This property element either references a point via the XLink-attributes or contains the point 
element. pointProperty  
   is the predefined property which can be used by GML Application Schemas whenever a GML Feature has a 
property with a value that  
   is substitutable for Point.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="PointPropertyType"> 
  <annotation> 
   <documentation>A property that has a point as its value domain can either be an appropriate geometry element 
encapsulated in an  
   element of this type or an XLink reference to a remote geometry element (where remote includes geometry 
elements located  
   elsewhere in the same document). Either the reference or the contained element must be given, but neither both nor 
none.</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <element ref="gml:Point"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"> 
   <annotation> 
    <documentation>This attribute group includes the XLink attributes (see xlinks.xsd). XLink is used in GML 
to reference remote  
    resources (including those elsewhere in the same document). A simple link element can be constructed by 
including a specific  
    set of XLink attributes. The XML Linking Language (XLink) is currently a Proposed Recommendation of the 
World Wide Web Consortium.  
    XLink allows elements to be inserted into XML documents so as to create sophisticated links between 
resources; such links can be  
    used to reference remote properties. A simple link element can be used to implement pointer functionality, 
and this functionality has  
    been built into various GML 3 elements by including the gml:AssociationAttributeGroup.</documentation> 
   </annotation> 
  </attributeGroup> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="pointRep" type="gml:PointPropertyType"> 
  <annotation> 
   <documentation>Deprecated with GML version 3.1.0. Use "pointProperty" instead. Included for backwards 
compatibility with GML 3.0.0.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="posList" type="gml:DirectPositionListType"> 
  <annotation> 
   <appinfo> 
    <sch:pattern name="Check SRS tags"> 
     <sch:rule context="gml:posList"> 
      <sch:extends rule="CRSLabels"/> 
     </sch:rule> 
    </sch:pattern> 
   </appinfo> 
   <appinfo> 
    <sch:pattern name="Check Dimension"> 
     <sch:rule context="gml:posList"> 

70 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

      <sch:extends rule="Count"/> 
     </sch:rule> 
    </sch:pattern> 
   </appinfo> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="DirectPositionListType"> 
  <annotation> 
   <documentation>DirectPositionList instances hold the coordinates for a sequence of direct positions within the 
same coordinate  
   reference system (CRS).</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="gml:doubleList"> 
    <attributeGroup ref="gml:SRSReferenceGroup"/> 
    <attribute name="count" type="positiveInteger" use="optional"> 
     <annotation> 
      <documentation>"count" allows to specify the number of direct positions in the list. If the 
attribute count is present then  
      the attribute srsDimension shall be present, too.</documentation> 
     </annotation> 
    </attribute> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="_Curve" type="gml:AbstractCurveType" abstract="true" substitutionGroup="gml:_GeometricPrimitive"> 
  <annotation> 
   <documentation>The "_Curve" element is the abstract head of the substituition group for all (continuous) curve 
elements.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="LinearRing" type="gml:LinearRingType" substitutionGroup="gml:_Ring"/> 
 <!-- ================================================= --> 
 <complexType name="LinearRingType"> 
  <annotation> 
   <documentation>A LinearRing is defined by four or more coordinate tuples, with linear interpolation between 
them; the first and last coordinates must be coincident.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractRingType"> 
    <sequence> 
     <choice> 
      <annotation> 
       <documentation>GML supports two different ways to specify the control points of a linear 
ring. 
1. A sequence of "pos" (DirectPositionType) or "pointProperty" (PointPropertyType) elements. "pos" elements are control points that 
are only part of this ring, "pointProperty" elements contain a point that may be referenced from other geometry elements or reference 
another point defined outside of this ring (reuse of existing points). 
2. The "posList" element allows for a compact way to specifiy the coordinates of the control points, if all control points are in the 
same coordinate reference systems and belong to this ring only. The number of direct positions in the list must be at least 
four.</documentation> 
      </annotation> 
      <choice minOccurs="4" maxOccurs="unbounded"> 
       <element ref="gml:pos"/> 
       <element ref="gml:pointProperty"/> 
       <element ref="gml:pointRep"> 
        <annotation> 
         <documentation>Deprecated with GML version 3.1.0. Use "pointProperty" 
instead. Included for backwards compatibility with GML 3.0.0.</documentation> 
        </annotation> 
       </element> 
      </choice> 
      <element ref="gml:posList"/> 
      <element ref="gml:coordinates"> 
       <annotation> 
        <documentation>Deprecated with GML version 3.1.0. Use "posList" 
instead.</documentation> 
       </annotation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  71
 



OGC 06-080r2 

      </element> 
      <element ref="gml:coord" minOccurs="4" maxOccurs="unbounded"> 
       <annotation> 
        <documentation>Deprecated with GML version 3.0 and included for backwards 
compatibility with GML 2. Use "pos" elements instead.</documentation> 
       </annotation> 
      </element> 
     </choice> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="surfaceProperty" type="gml:SurfacePropertyType"> 
  <annotation> 
   <appinfo> 
    <sch:pattern name="Check either href or content not both"> 
     <sch:rule context="gml:surfaceProperty"> 
      <sch:extends rule="hrefOrContent"/> 
     </sch:rule> 
    </sch:pattern> 
   </appinfo> 
   <documentation>This property element either references a surface via the XLink-attributes or contains the surface 
element. surfaceProperty is the predefined property which can be used by GML Application Schemas whenever a GML Feature has a 
property with a value that is substitutable for _Surface.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="SurfacePropertyType"> 
  <annotation> 
   <documentation>A property that has a surface as its value domain can either be an appropriate geometry element 
encapsulated in an element of this type or an XLink reference to a remote geometry element (where remote includes geometry 
elements located elsewhere in the same document). Either the reference or the contained element must be given, but neither both nor 
none.</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <element ref="gml:_Surface"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"> 
   <annotation> 
    <documentation>This attribute group includes the XLink attributes (see xlinks.xsd). XLink is used in GML 
to reference remote resources (including those elsewhere in the same document). A simple link element can be constructed by 
including a specific set of XLink attributes. The XML Linking Language (XLink) is currently a Proposed Recommendation of the 
World Wide Web Consortium. XLink allows elements to be inserted into XML documents so as to create sophisticated links between 
resources; such links can be used to reference remote properties. 
A simple link element can be used to implement pointer functionality, and this functionality has been built into various GML 3 
elements by including the gml:AssociationAttributeGroup.</documentation> 
   </annotation> 
  </attributeGroup> 
 </complexType> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <element name="_Feature" type="gml:AbstractFeatureType" abstract="true" substitutionGroup="gml:_GML"/> 
 <!-- ================================================= --> 
 <complexType name="AbstractFeatureType" abstract="true"> 
  <annotation> 
   <documentation>An abstract feature provides a set of common properties, including id, metaDataProperty, name 
and description inherited from AbstractGMLType, plus boundedBy.    A concrete feature type must derive from this type and specify 
additional  properties in an application schema. A feature must possess an identifying attribute ('id' - 'fid' has been 
deprecated).</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGMLType"> 
    <sequence> 
     <element ref="gml:boundedBy" minOccurs="0"/> 
     <element ref="gml:location" minOccurs="0"> 
      <annotation> 
       <appinfo>deprecated</appinfo> 
       <documentation>deprecated in GML version 3.1</documentation> 
      </annotation> 
     </element> 

72 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

     <!-- additional properties must be specified in an application schema --> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="boundedBy" type="gml:BoundingShapeType"/> 
 <!-- ================================================= --> 
 <complexType name="BoundingShapeType"> 
  <annotation> 
   <documentation>Bounding shape.</documentation> 
  </annotation> 
  <sequence> 
   <choice> 
    <element ref="gml:Envelope"/> 
    <element ref="gml:Null"/> 
   </choice> 
  </sequence> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="Envelope" type="gml:EnvelopeType"/> 
 <!-- ================================================= --> 
 <complexType name="EnvelopeType"> 
  <annotation> 
   <documentation>Envelope defines an extent using a pair of positions defining opposite corners in arbitrary 
dimensions. The first direct  
   position is the "lower corner" (a coordinate position consisting of all the minimal ordinates for each dimension for 
all points within the envelope),  
   the second one the "upper corner" (a coordinate position consisting of all the maximal ordinates for each dimension 
for all points within the  
   envelope).</documentation> 
  </annotation> 
  <choice> 
   <sequence> 
    <element name="lowerCorner" type="gml:DirectPositionType"/> 
    <element name="upperCorner" type="gml:DirectPositionType"/> 
   </sequence> 
   <element ref="gml:coord" minOccurs="2" maxOccurs="2"> 
    <annotation> 
     <appinfo>deprecated</appinfo> 
     <documentation>deprecated with GML version 3.0</documentation> 
    </annotation> 
   </element> 
   <element ref="gml:pos" minOccurs="2" maxOccurs="2"> 
    <annotation> 
     <appinfo>deprecated</appinfo> 
     <documentation>Deprecated with GML version 3.1. Use the explicit properties "lowerCorner" and 
"upperCorner" instead.</documentation> 
    </annotation> 
   </element> 
   <element ref="gml:coordinates"> 
    <annotation> 
     <documentation>Deprecated with GML version 3.1.0. Use the explicit properties "lowerCorner" and 
"upperCorner" instead.</documentation> 
    </annotation> 
   </element> 
  </choice> 
  <attributeGroup ref="gml:SRSReferenceGroup"/> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="Null" type="gml:NullType"/> 
 <!-- ================================================= --> 
 <simpleType name="NullType"> 
  <annotation> 
   <documentation>Utility type for null elements.  The value may be selected from one of the enumerated tokens, or 
may be a URI in which case this should identify a resource which describes the reason for the null. </documentation> 
  </annotation> 
  <union memberTypes="gml:NullEnumeration anyURI"/> 
 </simpleType> 
 <!-- ================================================= --> 
 <simpleType name="NullEnumeration"> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  73
 



OGC 06-080r2 

  <annotation> 
   <documentation> Some common reasons for a null value:    
    
        innapplicable - the object does not have a value 
        missing - The correct value is not readily available to the sender of this data.   
                           Furthermore, a correct value may not exist. 
        template - the value will be available later 
        unknown - The correct value is not known to, and not computable by, the sender of this data.  
                           However, a correct value probably exists. 
        withheld - the value is not divulged  
         
        other:reason - as indicated by "reason" string 
         
        Specific communities may agree to assign more strict semantics when these terms are used in a particular context.   
      </documentation> 
  </annotation> 
  <union> 
   <simpleType> 
    <restriction base="string"> 
     <enumeration value="inapplicable"/> 
     <enumeration value="missing"/> 
     <enumeration value="template"/> 
     <enumeration value="unknown"/> 
     <enumeration value="withheld"/> 
    </restriction> 
   </simpleType> 
   <simpleType> 
    <restriction base="string"> 
     <pattern value="other:\w{2,}"/> 
    </restriction> 
   </simpleType> 
  </union> 
 </simpleType> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <element name="location" type="gml:LocationPropertyType"> 
  <annotation> 
   <documentation>Deprecated in GML 3.1.0</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="LocationPropertyType"> 
  <annotation> 
   <documentation>Convenience property for generalised location.   
      A representative location for plotting or analysis.   
      Often augmented by one or more additional geometry properties with more specific semantics.</documentation> 
   <documentation>Deprecated in GML 3.1.0</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <choice> 
    <element ref="gml:_Geometry"/> 
    <element ref="gml:LocationKeyWord"/> 
    <element ref="gml:LocationString"/> 
    <element ref="gml:Null"/> 
   </choice> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="LocationKeyWord" type="gml:CodeType"/> 
 <!-- ================================================= --> 
 <element name="LocationString" type="gml:StringOrRefType"/> 
 <!-- ================================================= --> 
 <element name="featureMember" type="gml:FeaturePropertyType"/> 
 <!-- ================================================= --> 
 <complexType name="FeaturePropertyType"> 
  <annotation> 
   <documentation>Container for a feature - follow gml:AssociationType pattern.</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <element ref="gml:_Feature"/> 

74 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="CodeListType"> 
  <annotation> 
   <documentation>List of values on a uniform nominal scale.  List of text tokens.    
      In a list context a token should not include any spaces, so xsd:Name is used instead of xsd:string.    
      If a codeSpace attribute is present, then its value is a reference to  
      a Reference System for the value, a dictionary or code list.</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="gml:NameList"> 
    <attribute name="codeSpace" type="anyURI" use="optional"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <simpleType name="NameList"> 
  <annotation> 
   <documentation>XML List based on XML Schema Name type.  An element of this type contains a space-separated 
list of Name values</documentation> 
  </annotation> 
  <list itemType="Name"/> 
 </simpleType> 
 <!-- ================================================= --> 
 <complexType name="AngleType"> 
  <annotation> 
   <documentation>Value of an angle quantity recorded as a single number, with its units. Uses the MeasureType 
with the restriction that the unit of measure referenced by uom must be suitable for an angle, such as degrees or 
radians.</documentation> 
  </annotation> 
  <simpleContent> 
   <restriction base="gml:MeasureType"/> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="MeasureType"> 
  <annotation> 
   <documentation>[MODIFIED from GML 3.2] gml:MeasureType supports recording an amount encoded as a value 
of XML Schema double, together with a units of measure indicated by an attribute uom, short for “units Of measure”. The value of the 
uom attribute identifies a reference system for the amount, usually a ratio or interval scale.</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="double"> 
    <attribute name="uom" type="gml:UomIdentifier" use="required"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <simpleType name="UomIdentifier"> 
  <annotation> 
   <documentation>The simple type gml:UomIdentifer defines the syntax and value space of the unit of measure 
identifier.</documentation> 
  </annotation> 
  <union memberTypes="gml:UomSymbol gml:UomURI"/> 
 </simpleType> 
 <simpleType name="UomSymbol"> 
  <annotation> 
   <documentation>This type specifies a character string of length at least one, and restricted such that it must not 
contain any of the following characters: “:” (colon), “ “ (space), (newline), (carriage return), (tab). This allows values corresponding to 
familiar abbreviations, such as “kg”, “m/s”, etc.  
It is recommended that the symbol be an identifier for a unit of measure as specified in the “Unified Code of Units of Measure" 
(UCUM) (http://aurora.regenstrief.org/UCUM). This provides a set of symbols and a grammar for constructing identifiers for units of 
measure that are unique, and may be easily entered with a keyboard supporting the limited character set known as 7-bit ASCII. ISO 
2955 formerly provided a specification with this scope, but was withdrawn in 2001. UCUM largely follows ISO 2955 with 
modifications to remove ambiguities and other problems.</documentation> 
  </annotation> 
  <restriction base="string"> 
   <pattern value="[^: \n\r\t]+"/> 
  </restriction> 
 </simpleType> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  75
 



OGC 06-080r2 

 <simpleType name="UomURI"> 
  <annotation> 
   <documentation>This type specifies a URI, restricted such that it must start with one of the following sequences: 
“#”, “./”, “../”, or a string of characters followed by a “:”. These patterns ensure that the most common URI forms are supported, 
including absolute and relative URIs and URIs that are simple fragment identifiers, but prohibits certain forms of relative URI that 
could be mistaken for unit of measure symbol .  
NOTE It is possible to re-write such a relative URI to conform to the restriction (e.g. “./m/s”). 
In an instance document, on elements of type gml:MeasureType the mandatory uom attribute shall carry a value corresponding to 
either  
- a conventional unit of measure symbol, 
- a link to a definition of a unit of measure that does not have a conventional symbol, or when it is desired to indicate a precise or 
variant definition.</documentation> 
  </annotation> 
  <restriction base="anyURI"> 
   <pattern value="([a-zA-Z][a-zA-Z0-9\-\+\.]*:|\.\./|\./|#).*"/> 
  </restriction> 
 </simpleType> 
 <!-- ================================================= --> 
 <complexType name="MeasureListType"> 
  <annotation> 
   <documentation>List of numbers with a uniform scale.   
      The value of uom (Units Of Measure) attribute is a reference to  
      a Reference System for the amount, either a ratio or position scale. </documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="gml:doubleList"> 
    <attribute name="uom" type="anyURI" use="required"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="centerOf" type="gml:PointPropertyType"/> 
 <!-- ================================================= --> 
 <element name="extentOf" type="gml:SurfacePropertyType"/> 
 <!-- ================================================= --> 
 <element name="_MetaData" type="gml:AbstractMetaDataType" abstract="true" substitutionGroup="gml:_Object"> 
  <annotation> 
   <documentation>Abstract element which acts as the head of a substitution group for packages of MetaData 
properties.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="AbstractMetaDataType" abstract="true" mixed="true"> 
  <annotation> 
   <documentation>An abstract base type for complex metadata types.</documentation> 
  </annotation> 
  <attribute ref="gml:id" use="optional"/> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="Observation" type="gml:ObservationType" substitutionGroup="gml:_Feature"/> 
 <!-- ================================================= --> 
 <complexType name="ObservationType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <element ref="gml:validTime"/> 
     <element ref="gml:using" minOccurs="0"/> 
     <element ref="gml:target" minOccurs="0"/> 
     <element ref="gml:resultOf"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="validTime" type="gml:TimePrimitivePropertyType"/> 
 <!-- ================================================= --> 
 <complexType name="TimePrimitivePropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="gml:_TimePrimitive"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 

76 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 </complexType> 
 <!-- ================================================= --> 
 <element name="_TimePrimitive" type="gml:AbstractTimePrimitiveType" abstract="true" 
substitutionGroup="gml:_TimeObject"> 
  <annotation> 
   <documentation xml:lang="en">This abstract element acts as the head of the substitution group for temporal 
primitives.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="AbstractTimePrimitiveType" abstract="true"> 
  <annotation> 
   <documentation xml:lang="en">The abstract supertype for temporal primitives.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractTimeObjectType"> 
    <sequence> 
     <element name="relatedTime" type="gml:RelatedTimeType" minOccurs="0" 
maxOccurs="unbounded"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractTimeObjectType" abstract="true"> 
  <annotation> 
   <documentation xml:lang="en">The abstract supertype for temporal objects.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGMLType"/> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="RelatedTimeType"> 
  <complexContent> 
   <extension base="gml:TimePrimitivePropertyType"> 
    <attribute name="relativePosition"> 
     <simpleType> 
      <restriction base="string"> 
       <enumeration value="Before"/> 
       <enumeration value="After"/> 
       <enumeration value="Begins"/> 
       <enumeration value="Ends"/> 
       <enumeration value="During"/> 
       <enumeration value="Equals"/> 
       <enumeration value="Contains"/> 
       <enumeration value="Overlaps"/> 
       <enumeration value="Meets"/> 
       <enumeration value="OverlappedBy"/> 
       <enumeration value="MetBy"/> 
       <enumeration value="BegunBy"/> 
       <enumeration value="EndedBy"/> 
      </restriction> 
     </simpleType> 
    </attribute> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="_TimeObject" type="gml:AbstractTimeObjectType" abstract="true" substitutionGroup="gml:_GML"> 
  <annotation> 
   <documentation xml:lang="en">This abstract element acts as the head of the substitution group for temporal 
primitives and complexes.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="using" type="gml:FeaturePropertyType"> 
  <annotation> 
   <documentation>This element contains or points to a description of a sensor, instrument or procedure used for the 
observation</documentation> 
  </annotation> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  77
 



OGC 06-080r2 

 </element> 
 <!-- ================================================= --> 
 <element name="target" type="gml:TargetPropertyType"> 
  <annotation> 
   <documentation>This element contains or points to the specimen, region or station which is the object of the 
observation</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="TargetPropertyType"> 
  <annotation> 
   <documentation>Container for an object representing the target or subject of an observation.</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <choice> 
    <element ref="gml:_Feature"/> 
    <element ref="gml:_Geometry"/> 
   </choice> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="resultOf" type="gml:AssociationType"> 
  <annotation> 
   <documentation>The result of the observation: an image, external object, etc</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="AssociationType"> 
  <annotation> 
   <documentation>A pattern or base for derived types used to specify complex types corresponding to an  
unspecified UML association - either composition or aggregation.  Restricts the cardinality of Objects contained in the association to a 
maximum of one.  An instance of this type can contain an element representing an Object, or serve as a pointer to a remote Object.   
 
Descendents of this type can be restricted in an application schema to  
* allow only specified classes as valid participants in the aggregation 
* allow only association by reference (i.e. empty the content model) or by value (i.e. remove the xlinks).     
 
When used for association by reference, the value of the gml:remoteSchema attribute can be used to locate a schema fragment that 
constrains the target instance.    
 
In many cases it is desirable to impose the constraint prohibiting the occurence of both reference and value in the same instance, as 
that would be ambiguous.  This is accomplished by adding a directive in the annotation element of the element declaration.  This 
directive can be in the form of normative prose, or can use a Schematron pattern to automatically constrain co-occurrence - see the 
declaration for _strictAssociation below.    
 
If co-occurence is not prohibited, then both a link and content may be present.  If this occurs in an instance, then the rule for 
interpretation is that the instance found by traversing the href provides the normative value of the property, and should be used when 
possible.  The value(s) included as content may be used if the remote instance cannot be resolved.  This may be considered to be a 
"cached" version of the value(s).</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <element ref="gml:_Object"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </complexType> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <element name="TimePeriod" type="gml:TimePeriodType" substitutionGroup="gml:_TimeGeometricPrimitive"/> 
 <!-- ================================================= --> 
 <complexType name="TimePeriodType"> 
  <complexContent> 
   <extension base="gml:AbstractTimeGeometricPrimitiveType"> 
    <sequence> 
     <choice> 
      <element name="beginPosition" type="gml:TimePositionType"/> 
      <element name="begin" type="gml:TimeInstantPropertyType"/> 
     </choice> 
     <choice> 
      <element name="endPosition" type="gml:TimePositionType"/> 

78 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

      <element name="end" type="gml:TimeInstantPropertyType"/> 
     </choice> 
     <group ref="gml:timeLength" minOccurs="0"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractTimeGeometricPrimitiveType" abstract="true"> 
  <annotation> 
   <documentation xml:lang="en">The abstract supertype for temporal geometric primitives. 
       A temporal geometry must be associated with a temporal reference system via URI.  
       The Gregorian calendar with UTC is the default reference system, following ISO  
       8601. Other reference systems in common use include the GPS calendar and the  
       Julian calendar.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractTimePrimitiveType"> 
    <attribute name="frame" type="anyURI" use="optional" default="#ISO-8601"/> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="TimePositionType" final="#all"> 
  <annotation> 
   <documentation xml:lang="en">Direct representation of a temporal position.  
      Indeterminate time values are also allowed, as described in ISO 19108. The indeterminatePosition  
      attribute can be used alone or it can qualify a specific value for temporal position (e.g. before  
      2002-12, after 1019624400).  
      For time values that identify position within a calendar, the calendarEraName attribute provides  
      the name of the calendar era to which the date is referenced (e.g. the Meiji era of the Japanese calendar).</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="gml:TimePositionUnion"> 
    <attribute name="frame" type="anyURI" use="optional" default="#ISO-8601"/> 
    <attribute name="calendarEraName" type="string" use="optional"/> 
    <attribute name="indeterminatePosition" type="gml:TimeIndeterminateValueType" use="optional"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <simpleType name="TimePositionUnion"> 
  <annotation> 
   <documentation xml:lang="en">The ISO 19108:2002 hierarchy of subtypes for temporal position are collapsed  
      by defining a union of XML Schema simple types for indicating temporal position relative  
      to a specific reference system.  
       
      Dates and dateTime may be indicated with varying degrees of precision.   
      dateTime by itself does not allow right-truncation, except for fractions of seconds.  
      When used with non-Gregorian calendars based on years, months, days,  
      the same lexical representation should still be used, with leading zeros added if the  
      year value would otherwise have fewer than four digits.   
       
      An ordinal position may be referenced via URI identifying the definition of an ordinal era.   
       
      A time coordinate value is indicated as a decimal (e.g. UNIX time, GPS calendar).</documentation> 
  </annotation> 
  <union memberTypes="gml:CalDate time dateTime anyURI decimal"/> 
 </simpleType> 
 <!-- ================================================= --> 
 <simpleType name="CalDate"> 
  <annotation> 
   <documentation xml:lang="en">Calendar dates may be indicated with varying degrees of precision,  
      using year, year-month, date.  
      When used with non-Gregorian calendars based on years, months, days,  
      the same lexical representation should still be used, with leading zeros added if the  
      year value would otherwise have fewer than four digits.   
      time is used for a position that recurs daily (see clause 5.4.4.2 of ISO 19108:2002).</documentation> 
  </annotation> 
  <union memberTypes="date gYearMonth gYear"/> 
 </simpleType> 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  79
 



OGC 06-080r2 

 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <!-- ================================================= --> 
 <simpleType name="TimeIndeterminateValueType"> 
  <annotation> 
   <documentation xml:lang="en">This enumerated data type specifies values for indeterminate 
positions.</documentation> 
  </annotation> 
  <restriction base="string"> 
   <enumeration value="after"/> 
   <enumeration value="before"/> 
   <enumeration value="now"/> 
   <enumeration value="unknown"/> 
  </restriction> 
 </simpleType> 
 <!-- ================================================= --> 
 <complexType name="TimeInstantPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="gml:TimeInstant"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="TimeInstant" type="gml:TimeInstantType" substitutionGroup="gml:_TimeGeometricPrimitive"/> 
 <!-- ================================================= --> 
 <complexType name="TimeInstantType"> 
  <annotation> 
   <documentation>Omit back-pointers begunBy, endedBy.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractTimeGeometricPrimitiveType"> 
    <sequence> 
     <element ref="gml:timePosition"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="timePosition" type="gml:TimePositionType"> 
  <annotation> 
   <documentation>Direct representation of a temporal position</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="_TimeGeometricPrimitive" type="gml:AbstractTimeGeometricPrimitiveType" abstract="true" 
substitutionGroup="gml:_TimePrimitive"> 
  <annotation> 
   <documentation xml:lang="en">This abstract element acts as the head of the substitution group for temporal 
geometric primitives.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <group name="timeLength"> 
  <annotation> 
   <documentation>This model group is provided as an alternative to the abstract susbstitutionGroup head 
_timeLength. 
  ISO 19136 comment 411</documentation> 
  </annotation> 
  <choice> 
   <element ref="gml:duration"/> 
   <element ref="gml:timeInterval"/> 
  </choice> 
 </group> 
 <!-- ================================================= --> 
 <element name="duration" type="duration"> 
  <annotation> 
   <documentation xml:lang="en">This element is an instance of the primitive xsd:duration simple type to  

80 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

      enable use of the ISO 8601 syntax for temporal length (e.g. P5DT4H30M).  
      It is a valid subtype of TimeDurationType according to section 3.14.6,  
      rule 2.2.4 in XML Schema, Part 1.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="timeInterval" type="gml:TimeIntervalLengthType"> 
  <annotation> 
   <documentation>This element is a valid subtype of TimeDurationType  
   according to section 3.14.6, rule 2.2.4 in XML Schema, Part 1.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="TimeIntervalLengthType" final="#all"> 
  <annotation> 
   <documentation xml:lang="en">This type extends the built-in xsd:decimal simple type to allow floating-point  
      values for temporal length. According to  the ISO 11404 model you have to use  
      positiveInteger together with appropriate values for radix and factor. The  
      resolution of the time interval is to one radix ^(-factor) of the specified  
      time unit (e.g. unit="second", radix="10", factor="3" specifies a resolution  
      of milliseconds). It is a subtype of TimeDurationType.</documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="decimal"> 
    <attribute name="unit" type="gml:TimeUnitType" use="required"/> 
    <attribute name="radix" type="positiveInteger" use="optional"/> 
    <attribute name="factor" type="integer" use="optional"/> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- ================================================= --> 
 <simpleType name="TimeUnitType"> 
  <annotation> 
   <documentation xml:lang="en">Standard units for measuring time intervals (see ISO 31-1).</documentation> 
  </annotation> 
  <union> 
   <simpleType> 
    <restriction base="string"> 
     <enumeration value="year"/> 
     <enumeration value="day"/> 
     <enumeration value="hour"/> 
     <enumeration value="minute"/> 
     <enumeration value="second"/> 
    </restriction> 
   </simpleType> 
   <simpleType> 
    <restriction base="string"> 
     <pattern value="other:\w{2,}"/> 
    </restriction> 
   </simpleType> 
  </union> 
 </simpleType> 
 <!-- ================================================= --> 
 <element name="multiExtentOf" type="gml:MultiSurfacePropertyType"/> 
 <!-- ================================================= --> 
 <complexType name="MultiSurfacePropertyType"> 
  <annotation> 
   <documentation>A property that has a collection of surfaces as its value domain can either be an appropriate 
geometry element encapsulated in an element of this type or an XLink reference to a remote geometry element (where remote includes 
geometry elements located elsewhere in the same document). Either the reference or the contained element must be given, but neither 
both nor none.</documentation> 
  </annotation> 
  <sequence minOccurs="0"> 
   <element ref="gml:MultiSurface"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"> 
   <annotation> 
    <documentation>This attribute group includes the XLink attributes (see xlinks.xsd). XLink is used in GML 
to reference remote resources (including those elsewhere in the same document). A simple link element can be constructed by 
including a specific set of XLink attributes. The XML Linking Language (XLink) is currently a Proposed Recommendation of the 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  81
 



OGC 06-080r2 

World Wide Web Consortium. XLink allows elements to be inserted into XML documents so as to create sophisticated links between 
resources; such links can be used to reference remote properties. 
A simple link element can be used to implement pointer functionality, and this functionality has been built into various GML 3 
elements by including the gml:AssociationAttributeGroup.</documentation> 
   </annotation> 
  </attributeGroup> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="MultiSurface" type="gml:MultiSurfaceType" substitutionGroup="gml:_GeometricAggregate"/> 
 <!-- ================================================= --> 
 <complexType name="MultiSurfaceType"> 
  <annotation> 
   <documentation>A MultiSurface is defined by one or more Surfaces, referenced through surfaceMember 
elements.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometricAggregateType"> 
    <sequence> 
     <annotation> 
      <documentation>The members of the geometric aggregate can be specified either using the 
"standard" property or the array property style. It is also valid to use both the "standard" and the array property style in the same 
collection. 
NOTE: Array properties cannot reference remote geometry elements.</documentation> 
     </annotation> 
     <element ref="gml:surfaceMember" minOccurs="0" maxOccurs="unbounded"/> 
     <element ref="gml:surfaceMembers" minOccurs="0"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <complexType name="AbstractGeometricAggregateType" abstract="true"> 
  <annotation> 
   <documentation>This is the abstract root type of the geometric aggregates.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeometryType"/> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="surfaceMember" type="gml:SurfacePropertyType"> 
  <annotation> 
   <documentation>This property element either references a surface via the XLink-attributes or contains the surface 
element. A surface element is any element which is substitutable for "_Surface".</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <element name="surfaceMembers" type="gml:SurfaceArrayPropertyType"> 
  <annotation> 
   <documentation>This property element contains a list of surfaces. The order of the elements is significant and shall 
be preserved when processing the array.</documentation> 
  </annotation> 
 </element> 
 <!-- ================================================= --> 
 <complexType name="SurfaceArrayPropertyType"> 
  <annotation> 
   <documentation>A container for an array of surfaces. The elements are always contained in the array property, 
referencing geometry elements or arrays of geometry elements is not supported.</documentation> 
  </annotation> 
  <sequence> 
   <element ref="gml:_Surface" minOccurs="0" maxOccurs="unbounded"/> 
  </sequence> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="_GeometricAggregate" type="gml:AbstractGeometricAggregateType" abstract="true" 
substitutionGroup="gml:_Geometry"> 
  <annotation> 
   <documentation>The "_GeometricAggregate" element is the abstract head of the substituition group for all 
geometric aggremates.</documentation> 
  </annotation> 
 </element> 

82 Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 06-080r2 

 <!-- ================================================= --> 
 <element name="_FeatureCollection" type="gml:AbstractFeatureCollectionType" abstract="true" 
substitutionGroup="gml:_Feature"/> 
 <!-- ================================================= --> 
 <complexType name="AbstractFeatureCollectionType" abstract="true"> 
  <annotation> 
   <documentation>A feature collection contains zero or more features.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <element ref="gml:featureMember" minOccurs="0" maxOccurs="unbounded"/> 
     <element ref="gml:featureMembers" minOccurs="0"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- ================================================= --> 
 <element name="featureMembers" type="gml:FeatureArrayPropertyType"/> 
 <!-- ================================================= --> 
 <complexType name="FeatureArrayPropertyType"> 
  <annotation> 
   <documentation>Container for features - follow gml:ArrayAssociationType pattern.</documentation> 
  </annotation> 
  <sequence> 
   <element ref="gml:_Feature" minOccurs="0" maxOccurs="unbounded"/> 
  </sequence> 
 </complexType> 
</schema> 
 
 

Copyright © 2007 Open Geospatial Consortium, Inc. All Rights Reserved.  83
 


	Scope
	Compliance
	Normative references
	Terms and definitions
	Conventions
	Abbreviated terms
	Namespace prefix conventions

	Overview
	
	Earth Observation mapping on gml:Observation
	Language rules
	Extensions rules
	Thematic extended namespace
	Mission specific extended namespace

	Use of Schematron
	Schematron basics
	Schematron rules for hma

	CodeList
	Units of measure
	Use of xlink
	GML restrictive use


	EO Products application schemas
	General EO product data schema
	EarthObservationMetadata
	EarthObservationEquipment
	Footprint
	EarthObservationResult
	Optical EO Product data schema
	Radar EO Product data schema
	Atmospheric EO Product data schema
	Mission specific schema : example for Pleiades HR data schema

	Issues
	XML schema documents


