
03-022r3/03-022r3.doc
OGC 03-022r3

OGC 03-022r3
 








Observations and Measurements

Observations and Measurements                                                                       OGC 03-022r3



Open GIS Consortium Inc. 


Date:   2003-02-04


Reference number of this OpenGIS® Project Document:    OGC 03-022r3


Version: 0.9.2


Category: OpenGIS® Discussion Paper


Editor:   Simon Cox

Observations and Measurements

Copyright Notice


This OGC document is a draft and is copyright-protected by OGC. While the reproduction of drafts in any form for use by participants in the OGC Interoperability Program is permitted without prior permission from OGC, neither this document nor any extract from it may be reproduced, stored or transmitted in any form for any other purpose without prior written permission from OGC.


Warning


This document is not an OGC Standard. It is distributed for review and comment. It represents work in progress being completed through the OGC Interoperability Program and Specification Program. This document does not represent the official position of the OGC nor of the OGC Technical Committee. It is subject to change without notice and may not be referred to as an OGC Standard or Specification. However, the intent of the authors is to evolve the document until it becomes an OpenGIS Implementation Specification. The authors welcome feedback. Recipients of this document are invited to submit their comments, and if applicable, notification and supporting documentation pertaining to relevant patent rights.

Document type:   

OpenGIS® Discussion Paper


Document subtype:   
Engineering Specification


Document stage:  
 
Publicly  Available


Document language: 
English

Table of Contents

vi.
Preface



vii.
Submitting Organizations



viii.
Document Contributor Contact Points



viv.
Revision history



vv.
Changes to OpenGIS( Specifications



51.
Scope



52.
Conformance



53.
Normative References



54.
Terms and Definitions



55.
Conventions



55.1
Symbols (and abbreviated terms)



55.2
UML Notation



56
A model for Observations and Measurements



56.1
The Feature Model



56.2
The Coverage model



56.2.1
Definition of coverage



56.2.2
Representation of coverage



56.2.2.1
Discrete coverage



56.2.2.2
Continuous coverage



56.2.3
Relationship between Feature and Coverage views



56.2.3.1
A coverage is a feature



56.2.3.2
A coverage is a feature collection



56.2.3.3
Using feature and coverage views



56.2.4
Coverage types



56.3
Observation Model



56.3.1
Basic model



56.3.2
Feature model for an observation



56.3.3
Observation types



56.3.3.1
Typing according to the representation of the result



56.3.3.2
Semantic typing



56.3.4
Relationships within the observation model



56.3.5
Observation Collections



56.3.5.1
Collections and arrays



56.3.5.2
Coverage view



56.4
Value Model



56.4.1
Representation of the result



56.4.2
Scalar Values



56.4.3
Scalar Value Lists



56.4.4
Scalar Value Objects



56.4.5
Aggregate Values



56.4.6
Semantically typed values: Typed Values



56.5
Model for observable phenomena and measurands



56.5.1
Representation vs meaning



56.5.2
Description of a phenomenon



56.5.3
Phenomenon



56.5.4
Parameterised Phenomenon



56.5.5
Composite Phenomenon



56.6
Sensor Web and the Information Model



56.6.1
Using observations



56.6.2
Measurements from a Sensor Collection Service



56.6.3
Reference systems or scales for Values



56.6.4
Sensor Instances and Other Descriptions of Observation Methodology



57
XML Encoding of the Observation and Measurement Models



57.1
GML Mapping of Model Components into XML



57.2
XML for Values



57.2.1
Basic value objects



57.2.2
Typed values



57.2.3
Observed values



57.3
XML for phenomenon descriptions



57.3.1
Basic phenomena



57.3.2
Parameterised phenomena for scalar values



57.3.3
Composite Phenomena for aggregate values



57.3.3.1
Explicit Composite pattern



57.3.3.2
Using a ConstraintSet



57.3.3.3
Mapping values to meaning - applying CompositePhenomenon



57.3.4
Phenomenon dictionary



57.4
XML for Observations



57.4.1
Simple Observation – Single Value



57.4.2
Observation Collection – Heterogeneous Observed Values



57.4.3
Observation Array – Time Series



57.4.4
Observation Array – Spatial Sampling



57.4.5
Extended Examples



57.5
Typed Observations and Observed Values



57.5.1
Methods for strong-typing



57.5.2
Typing strategies



58
Guidelines for using the observations and measurements model and encoding



58.1
Observations, Observation collections, Observation arrays



58.1.1
Constraints on the formation of various tpes of aggregation



58.1.2
A generalised example, showing many possibilities



58.1.3
Reasons to select a particular aggregation type



58.2
Reference system/units



58.3
Observable phenomenon/Measurand



59
Harmonisation with WCS, SensorML



510
Issues Outstanding and Future Work



5Annex A: Conformance (normative)



5Annex B: XML Schemas for Observations (normative)



5B.1
Utility Schemas



5B.2
Value Schemas



5B.2.1
valueObjects



5B.2.2
typedValue



5B.2.3
observedValue



5B.3
Phenomenon Schemas



5B.3.1
phenomenon



5B.4
Observation Schemas



5B.4.1
observation



5B.4.2
richObservation



5B.4.3
fowler



5Annex C: Extended examples (informative)



5C.1
SAIC Weather Station Observations



5C.2
Polexis Air Monitoring System



5C.3
Gravity Survey



5C.4
Assay Samples from a Drillhole



5C.5
Ecological Survey



5C.5.1
ObservationArray



5C.5.2
Single observation with complex target (a.k.a. Coverage)



5C.5.3
Single observation with remote metadata components



5C.5.4
Transposed results



5C 5.5
Indexing the components of the result



5C 5.5.1
Use component phenomena as “column headings”



5C 5.5.2
Explicit iterators



5Annex D: Useful definitions and dictionaries (informative)



5D.1
units.xsd



5D.2
phenomena.xsd



5Informative References






i. Preface


This draft specification is one of five engineering specifications produced under OGC’s Sensor Web Enablement (SWE) activity, which is being executed under OGC’s Interoperability Program. This latest version was produced under the OGC Web Services (OWS) 1.2 Initiative, conducted June 2002 - January 2003. 


ii. Submitting Organizations


This Interoperability Program Report, Engineering Specification, is being submitted to the OGC Interoperability Program by the following organizations:


CSIRO Australia


iii. Document Contributor Contact Points


All questions regarding this submission should be directed to the editor or the submitters:


		CONTACT

		COMPANY

		ADDRESS

		PHONE/FAX

		EMAIL



		Simon Cox

		CSIRO Australia

		ARRC
PO Box 1130
Bentley
WA  6102
Australia

		+61 (8) 6436 8639

		Simon.Cox@csiro.au



		Harry Niedzwiadek

		Image Matters



		

		+1 (703) 669-5510

		harryn@imagem.cc





Revision history


		PRIVATE
Date

		Release

		Author

		Paragraph modified

		Description



		2001-12-20

		0.3

		SJDC

		

		



		2001-12-24

		0.4

		SJDC

		Clauses 6, 7 and Annex A

		Big reorganisation – separated model from XML, more and better examples, simpleContent schemas included



		2002-01-02

		0.5

		SJDC

		Clauses 6, 7 and Annex A, B

		Small changes in terminology; some parameters promoted (optionally) to collection containers; fixed the “redefine” structure in Y3observation.xsd; explicit “recommendation” clause 



		2002-01-04

		0.6

		SJDC, RL

		Clauses 6, 7 and Annex A, B

		Measurement promoted to be used for the measurement-event feature.  Observed value used for an abstract typed value.  Definitions inserted in clause 4.  



		2002-01-10

		0.65

		SJDC

		Clauses 6, 7 and Annex A, B

		Measurand changed to observable.  Members parameter added to measurementArray.  ValueBase moved into gml namespace.  Placeholders for Galdos ObservableType dictionary inserted  



		2002-01-17

		0.7

		SJDC

		 

		Reintroduce simpleContent encoding of scalar values.  


Various fixes to arrays and collections – some impacting on content-model sequences.  


Make most element declarations global, attribute declarations local.  


Change namespace “swe” to “ows”.  



		2002-01-30

		0.76

		SJDC

		

		Introduce _ValueList form for homogeneous arrays.  



		2002-01-31

		0.76.1

		SJDC

		Clause 7, Annex B

		Corrected schemaLocation values



		2002-04-04

		0.8-0.85

		SJDC

		

		Replaced XML with “simpleContent” version 


Conforms with draft GML3


Emphasised weak typing approach


Added more and more diverse instance examples to Annex B


Added issues and future work clause


Extensive rewriting



		2002-04-19

		02-027 (.86)

		HAN

		Various

		Final OWS-1 review and edit; minor changes. Produced OGC 02-027.



		2002-08-09

		1.0.1

		SJDC

		Many

		Amended Measurement model: measuredOn property, Target feature; 


New Observed Value encoding: map encoding, quality, observable name, composite observable, parameterised observable, observable grid;


New schemas measurement.xsd, value.xsd, observedValue,xsds 



		2002-08-19

		1.1.0

		SJDC

		Various

		Add “observable” property to Measurement.  


Add “base” property to ParameterisedObservable, ObservableGrid


Clean text



		2002-09-04

		1.2.0

		SJDC

		Many

		Rename Measurement to “Observation” and associated changes throughout; clarify ParameterisedObservable structure.  



		2003-01-15

		1.3.0

		SJDC

		All

		Rename “Observable” to “Phenomenon”.  Enhance Feature vs Coverage discussion.  Add discussion of WCS requirements.  Revise phenomenon model and description.  GML3 harmonisation.  Refactor schemas.  Revise all examples.  



		18 Jan 2003

		v0.9.0

(03-022)

		Harry Niedzwiadek

		Various

		The final OWS 1.2 review and edit. Produced OGC 03-022. Version level fixed to be consistent with new OGC versioning scheme and incremented from v0.8.6 under OWS 1.1 to v0.9.0 to reflect successful implementation under OWS 1.2.



		2003-01-23

		V0.9.1

		SJDC

		Clause 8 – Guidelines


Annex C.5

		First complete version of guidelines. A few additional examples.   General scrub.  



		2003-02-04

		V 0.9.2

		SJDC

		Annex C.5

		Additions to C.5 and cross references to this discussion added.  





The issues in this specification are captured in the following format:


		Issue Name: [Issue Name goes here. (Your Initials, Date)] 

Issue Description: [Issue Description.] 

Resolution: [Insert Resolution Details and History.] (Your Initials, Date)]





iv. Changes to OpenGIS( Specifications


The OpenGIS© Specification requires changes to accommodate the technical contents of this document. 

The following is a list of the required changes: 


1.  GML3 – in observation.xsd, the content model of the “resultOf” property should be changed to a choice of gml:_Object and gml:Null.   


Foreword


Attention is drawn to the possibility that some of the elements of this document may be subject to patent rights claims. The Open GIS Consortium Inc. shall not be held responsible for identifying any or all such patent rights.


This report replaces the Observations and Measurements IPR prepared during OWS 1.1, and an earlier version was published by OGC as a Discussion Paper, specifically OGC document 02-027. The following changes have been made to the model presented in the first version:


1. The schemas are fully harmonised with GML version 3.00 (OGC document 02-023r4)


2. The feature type named “Measurement” in 02-027 is now named “RichObservation”


3. The RichObservation feature is now based on GML Observation.  RichObservation now adds an observable property and supports some quality description.  


4. Observation Collections have been simplified. 


5. Geometry and Temporal Objects have been added to the set of datatypes available as Values.


6. The hierarchy of aggregate Values has been simplified. 


7. The encoding of observable phenomena (aka measurand) has been significantly enhanced and now supports description of parameterised phenomena and composite phenomena.  Note that the enhancements primarily concern the definition of derived phenomena types, for which the base or primitive values are defined elsewhere.  


8. Observed Values and Rich Observations may now have one or more quality measures associated with them; for composite values, the quality indicators can be applied at any level of aggregation. 


A revised set of XML schemas implementing the model is provided in Annex B.  


This specification was developed under the OWS 1.2 initiative.  It assumes the existence of a number of additional resources:  descriptions of measurement procedures or sensors, normally using Sensor Model Language as defined in OGC 03-005r1; a source (e.g. a registry) for definitions of reference systems, such as units of measure and codelists, and coordinate reference systems; a source for definitions of observable types and related information.  The measurement model described in this specification relates particularly to the Sensor Collection Service, as defined in OGC 03-023, and includes some discussion concerning the design of SCS, and also to measurement Coverages which might be delivered by a WCS as described in OGC 02-024.  


Annex A (Conformance) and Annex B (XML Schemas) are normative.  


Introduction


OGC’s Sensor Web Enablement (SWE) activity, which is being executed through the OGC Web Services (OWS) initiatives (under the Interoperability Program), is establishing the interfaces and protocols that will enable a “Sensor Web” through which applications and services will be able to access sensors of all types over the Web. These initiatives have defined, prototyped and tested several foundational components needed for a Sensor Web, namely:


1. Sensor Model Language (SensorML) – The general models and XML encodings for sensors. SensorML originated under OWS 1.1, was significantly enhanced under OWS 1.2 and is now available as a public discussion paper.


2. Observations & Measurements (O&M) - The general models and XML encodings for sensor observations and measurements. O&M originated under OWS 1.1 and was significantly enhanced under OWS 1.2.


3. Sensor Collection Service (SCS) – A service by which a client can obtain observations from one or more sensors/platforms (can be of mixed sensor/platform types). Clients can also obtain information that describes the associated sensors and platforms. This service originated under OWS 1.1 and was significantly enhanced under OWS 1.2.


4. Sensor Planning Service (SPS) – A service by which a client can determine collection feasibility for a desired set of collection requests for one or more mobile sensors/platforms, or a client may submit collection requests directly to these sensors/platforms. This service was defined under OWS 1.2.


5. Web Notification Service (WNS) – A service by which a client may conduct asynchronous dialogues (message interchanges) with one or more other services. This service is useful when many collaborating services are required to satisfy a client request, and/or when significant delays are involved is satisfying the request. This service was defined under OWS 1.2 in support of SPS operations. WNS has broad applicability in many such multi-service applications.


This document specifies Observations and Measurements. The other components are specified under separate cover.


Herein we describe a framework and encoding for measurements and observations. This is required specifically for the Sensor Collection Service and related components of an OGC Sensor Web Enablement capability, and also for general support for OGC compliant systems dealing in technical measurements in science and engineering. 


The aim is to define a number of terms used for measurements, and the relationships between them.  This proposal discusses Observation, Measurement, Value, Observed Value, Coverage, SensorInstance, Observable, Measurand, Phenomenon, and related terms, presented using UML class diagrams and in equivalent GML conformant XML serialisations.  The scope is restricted to measurements whose results are expressed as quantities, categories, temporal and geometry values, and composites and arrays of these.  


A discussion regarding how the observation and measurement model is used in the context of SensorWeb Enablement is included.  The discussion notes how different parts of the information model would be provided by different services.  However, the details remain to be resolved and might depend on specific use-cases.  


This report is a major revision of a report prepared during the first OGC Web Services 1.1 initiative.  


This work was supported by OGC through the OWS-1.2 Interoperability project, and by the XMML project based at CSIRO Australia.  


Observations and Measurements: A Draft Implementation Specification


1. Scope


We describe a conceptual model and encoding for observations and measurements.  


We define an Observation to be an event with a result which is a value describing some phenomenon.  This is modelled as a Feature within the context of the OGC Feature Model.  An observation feature binds the result to the (spatiotemporal) location where it was made.  An observation involves a procedure to determine the value, which may involve a sensor or observer, analytical procedure, simulation or other numerical process.  


An observation results in an estimate of the Value of a property or phenomenon related to the target of the observation.  Values are of various datatypes,  including the primitive types category, quantity, count and boolean, time, location and geometry.  The value normally requires a reference system to provide the context for its interpretation and valid operations on it.  Common reference systems are the unit of measure for a quantity, a dictionary or “code space” for a category, a spatial reference system for location and geometry, and a temporal reference system for time values.  A value may be constructed by aggregating primitive values, to build tuples, arrays and lists, and composite values such as vectors and tensors.  An observed value may be semantically typed according to the phenomenon being observed or observable, sometimes called measurand.  Observed values may have other properties, such as quality indicators.  


We discuss how the observation and measurement model is used in the context of SensorWeb, noting that different parts of the information model may be provided by different services, though details remain to be resolved and might depend on specific use-cases.  


Used, but not described in this report are:


· Sensor Model Language (SensorML) & Sensor Instance/Sensor Type registries, 


· Reference System definitions (CRS, frames, units of measure, dictionaries & category lists), 


· Semantic definition of observable types, observable registries, and


· Geometry and temporal objects. 


2. Conformance


Conformance and Interoperability Testing for this specification may be checked using all the relevant tests specified in Annex A (normative). The framework, concepts, and methodology for testing, and the criteria to be achieved to claim conformance are specified in ISO 19105: Geographic information — Conformance and Testing.

3. Normative References


The following normative documents contain provisions which, through reference in this text, constitute provisions of this part of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. However, parties to agreements based on this part of this document are encouraged to investigate the possibility of applying the most recent editions of the normative documents indicated below. For undated references, the latest edition of the normative document referred to applies.


[Guidelines] 
Guidelines for Successful OGC Interface Specifications, OGC document 00-014r1


[Filter] 
Filter Encoding Implementation Specification. OGC Document 02-047 http://www.opengis.org/


[GML3] 
Geography Markup Language, version 3. OGC Document Number: 02-023r4  http://www.opengis.org/

[ISO1000] 
SI units and recommendations for the use of their multiples and of certain other units - ISO 1000.  See also http://www.bipm.fr/en/3_SI

[ISO19103] 
ISO TC 211Geographic Information – Conceptual Schema Language ISO 19103  http://www.isotc211.org/pow.htm 


[ISO19107] 
ISO TC 211Geographic Information – Spatial Schema ISO 19107  http://www.isotc211.org/pow.htm 


[ISO19108] 
ISO TC 211Geographic Information – Temporal Schema ISO 19108  http://www.isotc211.org/pow.htm 


[ISO19109] 
ISO TC 211Geographic Information – Rules for Application Schema ISO 19109  http://www.isotc211.org/pow.htm 


[ISO19110] 
ISO TC 211Geographic Information – Feature cataloguing methodology ISO 19110  http://www.isotc211.org/pow.htm 


[ISO19112] 
ISO TC 211Geographic Information – Spatial referencing by identifier ISO 19112  http://www.isotc211.org/pow.htm 


[ISO19115] 
ISO TC 211Geographic Information – Metadata ISO 19115  http://www.isotc211.org/pow.htm 


[ISO19123] 
ISO TC 211 Geographic Information – Schema for coverage geometry and functions ISO 19123  http://www.isotc211.org/pow.htm 


[OGCAS0] 
The OpenGIS Abstract Specification.  Topic 0: Overview, OGC document 99-100r1 http://www.opengis.org/public/abstract/99-100r1.pdf 


[OGCAS2] 
The OpenGIS Abstract Specification.  Topic 2: Spatial referencing by coordinates, OGC document 02-102 http://www.opengis.org/public/abstract/02-102.pdf 


[OGCAS5] 
The OpenGIS Abstract Specification.  Topic 5: Features.  OGC Document 99-105r2.  http://www.opengis.org/public/abstract/99-105r2.pdf 


[OGCAS6] 
The OpenGIS Abstract Specification.  Topic 6: The coverage type and its subtypes.  OGC Document 00-106.  http://www.opengis.org/public/abstract/00-106.pdf 


[SCS] 
Sensor Collection Service IPR, OGC 03-023. http://member.opengis.org/tc/archive/arch03/03-023r1.pdf

[SensorML] 
Sensor Model Language IPR, OGC 03-005. http://member.opengis.org/tc/archive/arch03/03-005r2.pdf


[UOM2001] 
Units of Measure and Quantity Datatypes. OGC Project Document 01-044r3 http://feature.opengis.org/members/archive/arch01/01-044r3.pdf

[WCS] 
Web Coverage Service Implementation Specification. OGC Document 02-024  http://www.opengis.org/techno/discussions/02-024.pdf

[WFS] 
Web Feature Service Implementation Specification. OGC Document 02-058  http://www.opengis.org/techno/specs/02-058.pdf

[XPointer] 
XML Pointer Language (XPointer) Version 1.0. World Wide Web Consortium. 2001.  http://www.w3.org/TR/xptr/

4. Terms and Definitions


The following terms and definitions apply.


Measurand


Is a member of the subset of observables, whose values are given as quantities [NRC1995].  


Measurement (noun)

Is an observation using a single sensor or procedure, whose result is a quantity [FOW1998, VIM].  


Observable


The particular phenomenon which is the subject of the observation and to which values are assigned, such as temperature, gravity, chemical concentration, orientation, number-of-individuals.  


Observation (noun)

An instance of a procedure to assign numbers or other symbols to phenomena in such a way that relationships of the numbers or symbols reflect relationships of the attributes of the phenomena being observed [FOW1998, SAR1995].  An observation frequently involves an instrument or sensor.  An observation feature effectively binds a value to a time, location, and to the instrument or procedure used.  


Observed Value


An estimate of a value describing a natural phenomenon, which is characterised by its observable and may include other properties such as quality measures. The term is used regardless of whether the value is due to an instrumental observation, a theoretical model, subjective assignment or some other method of estimation or assignment.  The value may be scalar or aggregate.  


Scale


A particular way of assigning numbers or symbols to measure something is called a scale of measurement [SAR1995].


Value


A value is a member of the value-space of a datatype.  It may use one of a variety of scales including nominal, ordinal, ratio and interval, spatial and temporal.  Primitive datatypes may be combined to form aggregate datatypes with aggregate values, including vectors, tensors and images [ISO11404].  


5. Conventions


5.1 Symbols (and abbreviated terms)


The following symbols and abbreviated terms are used in this document.


GML
OGC Geography Markup Language


ISO
International Organization for Standardization


OGC
Open GIS Consortium


OWS 
OGC Web Services


O&M 
Observations and Measurements


PSVI
Post schema-validated information set (for XML documents)


SCS 
Sensor Collection Service


SensorML 
Sensor Model Language 


SWE 
Sensor Web Enablement


UML
Unified Modeling Language


XML
eXtensible Markup Language


XSD
W3C XML Schema Definition Language


1D
One Dimensional


2D
Two Dimensional


3D
Three Dimensional


5.2 UML Notation


The diagrams that appear in this document are presented using the Unified Modeling Language (UML) static structure diagram.  The UML notations used in this document are described in the diagram below.




Association between classes


role-1


role-2


Association Name


Class #1


Class #2


Association Cardinality


Class


Only one


Class


Zero or more


Class


Optional (zero or one )


1..*


Class


One or more


n


Class


Specific number


Aggregation between classes


Aggregate


Class


Component


Class #1


Component


Class #2


Component


Class #n


……….


0..*


0..1


Class Inheritance (


subtyping of classes)


Superclass


Subclass #1


…………..


Subclass #2


Subclass #n




Figure 1. UML notation


In this document, the following stereotypes of UML classes are used:


a) <<Abstract>> class (or other classifier) that cannot be directly instantiated. UML notation for this to show the name in italics.


b) <<DataType>> A descriptor of a set of values that lack identity (independent existence and the possibility of side effects). A DataType is a class with no operations whose primary purpose is to hold the information.


c) <<Union>> describes a selection of one of the specified types. This is useful to specify a set of alternative classes/types that can be used, without the need to create a common super-type/class.


d) <<Enumeration>> data type whose instances form a list of named literal values.  Both the enumeration name and its literal values are declared.  Enumeration means a short list of well-understood potential values within a class.


6 A model for Observations and Measurements


In this Clause, we describe a model for observations and associated components.  The analysis is presented as an information model using UML static class diagrams.  


We start in Clause 6.1 with a summary of the “Feature” which is the basic item in the OGC model for geographic information.  This is followed in Clause 6.2 with a brief discussion of a complementary view of geographic information based on the Coverage, focussing particularly on the shared information content between these views.  Understanding this equivalence allows us to base the subsequent analysis on the Feature model with a clear understanding of how to transform the same information into a Coverage.  


We follow in Clause 0 with descriptions of models for Observations and Observation Collections.  The results of observations are held in Values which are described in Clause 6.4.  In Clause 6.5 we describe some structures which may be used for descriptions of the Phenomena that are the topic of observations.  


Finally, in Clause 6.6, we review the complete model, and introduce some associated components: sensors and reference systems.  This supports a discussion of some operational factors of a Sensor Collection Service, particularly focussing on the supply of different information items by different services through various interfaces.  


6.1 The Feature Model


The feature model underlies the ISO/OGC view of geographic information [OGCAS5, ISO19109].  The OGC abstract model defines a feature as “an abstraction of a real world phenomenon”.  The term Feature, as used here (Figure 2 – see also Figure 7.4-1 in GML3), is used for a software representation of an identifiable object located in geographic space.  A Feature will have a number of properties, some of which may be geometric and spatial.  


The latter is important.  In traditional GIS an item of interest is usually defined as a single geometry – often a point, line or polygon – with attributes.  In the Feature model the item of interest is a conceptually meaningful phenomenon within the domain of discourse – such as a Mine, Road or Land-Parcel – for which one or more properties may be geometric.  


In a specific feature, the generic “_property” shown in the model would be replaced by several named properties, the values of which would be constrained to be of particular types.  A specific Feature Type is defined in terms of this set of named properties that are associated with that type [ISO19110].  A Feature instance is thus the functional map of its property values.




Figure 2. The Generic Feature Model


6.2 The Coverage model


6.2.1 Definition of coverage


Coverage is an important model of spatial data.  A Coverage is “… a set of attribute values (its range) associated to position within a bounded space (its spatiotemporal domain) …” [ISO19123].  Coverage is thus a special case of a functional mapping, where the domain or index set is restricted to be spatiotemporal (Figure 3).  




Figure 3. Coverage model


The attributes of a coverage (its range) are of homogeneous type throughout its domain.  A coverage may be evaluated for any location in its domain, with the result being the set of attribute values of the coverage at that location.  Nevertheless, in general the domain of a coverage does not have to be continuous, and a coverage may not have a value at every position within the envelope of the domain.  


Imagery is a common way of collecting information associated with a coverage, by which the value of a continuous phenomenon is sampled at regular but discrete locations (pixels).  


6.2.2 Representation of coverage


6.2.2.1 Discrete coverage


A discrete coverage may be represented:


i. as a set of homogeneous features, where for each feature its location is a member of the discrete geometry set composing the domain, and the other properties of the feature are the coverage attributes at that location.  The “rule” that defines the mapping from the domain to the range is simply that the location and the other properties are properties of the same feature instance.  Note that “location” is not necessarily a point.  If the location of each member feature is extensive and the attributes scalar-valued, then value(s) of the coverage will be piecewise-constant; according to (for example) the polygon-patch collection that comprises the coverage domain;  


ii. by collecting the description of the members of domain set (which may be implicit, such as a grid) and the values in the range separately, and providing a mapping between these so that each member of the domain is associated with a single (set of) value(s) from the range. The procedure or rule defining the functional mapping from the domain to the range is a required component of this representation.  


The homogeneous feature collection and functional map representations of the information might be considered alternative views or interfaces to a discrete coverage.   The conventional representation of large Coverages, such as imagery, describes the domain (e.g., a grid) separately from the range (i.e., the attribute values) and thus corresponds to a functional map.  A “pixel collection” would be the feature collection equivalent of an image.  


6.2.2.2 Continuous coverage


For a continuous coverage, the values at all arbitrary positions within the domain are not stored, but defined by an operation.  Thus a continuous coverage may only be represented as a functional mapping.  


The operation may be described using a regular or analytic function such as a polynomial.  Or if the values in a coverage are related to a known governing phenomenon, a process simulation may be used to compute an estimate of the value at any location.  Failing these, a statistical interpolation or a rule (e.g. “nearest neighbour”) may be used.  For most of these cases, constraints for the operation are provided by an associated discrete coverage, which samples a domain with the same footprint. 


An auxiliary data structure, such as a spatial partitioning of the domain, may also be required.  For example, a 2-D domain might be partitioned into polygonal patches, each sampled at one point and within each of which the values are known to behave in some regular manner (e.g. constant), with discontinuities between the patches.  Evaluation of the coverage at any position then requires information about the patch within which the position falls, the values and positions of the constraining values from the associated discrete coverage, and a model for how the values vary.  


6.2.3 Relationship between Feature and Coverage views


The OGC Abstract Specification Topic 6 [OGCAS6] discusses relationships between the feature and coverage representation of information in some detail in clause 1.2.  Several relationships are possible.  


6.2.3.1 A coverage is a feature


At the simplest level, a coverage may be modeled as a single gross feature, whose “location” attribute is the coverage domain, with another attribute holding the set of values in the range.  The mapping from locations within the domain to values in the range (e.g., sequence rule, function) is an essential attribute of the coverage-feature.  




Figure 4. Coverage modelled as a Feature


This view is particularly appropriate for coverages such as images from frame cameras, where the values in the range are assigned through what is (apparently) a single homogeneous act.  The image is then a feature, whose location corresponds with its footprint, and whose array of pixel values are the complex value of one attribute.  


6.2.3.2 A coverage is a feature collection


The information associated with a discrete coverage may be represented in a table.  In the example shown in Figure 5,  the set of locations which enumerate the discrete domain of the coverage occur in one column (dark grey), and the other columns (light grey) contain the values of the range on each member of the domain set.  The mapping from the domain to the range is given by the organisation of the rows of the table.  


		Location

		Properties



		

		Property 1

		Property 2

		…

		Property m



		(x1, y1)

		Value11

		Value12

		… 

		Value1m



		(x2, y2)

		Value21

		Value22

		… 

		Value2m



		(x3, y3)

		Value31

		Value32

		… 

		Value3m



		

		

		

		

		



		(xn, yn)

		Valuen1

		Valuen2

		… 

		Valuenm





Figure 5. Tabular representation of information associated with a discrete coverage.  (N.B. the locations may be a geometry such as a “cell” rather than a point position.)  


Each row, therefore, holds information that describes a Feature from a corresponding feature collection.  The feature type is implied by the set of properties {Property 1, Property 2, … Property m}.  For example, the row outlined by the dotted box, gives the information related to Feature 3, whose location is (x3, y3), and value of Property 1 is Value31,  Property 2 is Value32, etc.  The entire coverage is thus equivalent to a homogeneous feature collection.  This view is appropriate when a coverage is compiled by aggregating values which may have been collected separately.  


These views of a coverage are related through simple transposition.  The feature-collection view focuses on gathering the information concerning a single location at a time, while the functional map view describes the column of locations as a group, and then the set of attribute values as a separate group or groups.  


This feature-collection - coverage equivalence means that we can analyse and model both at the same time.  A model for a particular feature type can be expressed in a map view by simply taking the non-location properties of a feature collection as the range of the coverage.  Alternatively, a Feature is simply a coverage with only one member in the domain.  This equivalence allows us to focus on the most appropriate or convenient view during analysis, knowing that conversion to the other view is straightforward.  


This form of equivalence is discussed further in Clause 6.3.5.2 and illustrated in Figure 9.  For the purposes of the discussion in this document, we assume a method for transforming any homogeneous Feature Collection into a discrete Coverage is available, and vice versa.  


6.2.3.3 Using feature and coverage views


The Feature and Coverage representations of the information are both required.  Typically they are important in different phases of the data-processing cycle:  


· The feature view is important during data collection when an observation or measurement event causes values for all the properties of a single feature to be determined, and during data entry when the data-store is updated by inserting a new feature;


· The map view is often more important during analysis, when the requirement is to find patterns in the values of a property over a collection of features; at this stage it is necessary to have access to a complete “column” of values over all features at once.


OGC AS Topic 6 comments: “we should be comfortable moving back and forth between any of the [different representations of the same information] whenever it makes sense to do so”.  


6.2.4 Coverage types


It is common to define the type of a discrete coverage by the structure of its domain representation (e.g., “polygon coverage”, “gridded coverage”).  The domain structure may also constrain the interpolation method used to evaluate the coverage at general positions (e.g., point samples often lead to a “TIN coverage”; a “polygon coverage” is most often piecewise constant).  


However, the natural type of a continuous coverage is in terms of the semantics of the attributes in the range (e.g., radiance, mineral grade, property ownership).  This is related to the approach used for typing Features: based on their semantics and properties, rather than on their geometric realisation.  


Following the equivalence relationship between features and coverages described above, we may apply a “semantic” typing to a discrete coverage that follows the type of features in the corresponding homogeneous feature collection.  For example, a collection of classified roads that composes a “segmented-curve coverage” when considered in terms of the domain structure, is a “road-classification coverage” when considered in terms of its range; a collection of remotely sensed pixels composes a “gridded coverage” using structural typing, or a “radiance image” using semantic typing.  


Typing coverages according to the structure of the representation is required for processing and portrayal, but typing coverages according to the attribute in the range is the key to comprehension and utility.  The relationship between Representation and Meaning is discussed in relation to Observations in clause 6.3.3 below, and generally in clause 6.5.1.


		Issue Name: [Moving towards a coherent, complete semantic framework for feature-related information. (SJDC, Dec 2002)] 

Issue Description: [Additional discussion of the relationship between feature types and feature catalogues, and reference-systems or value-spaces for their properties is needed. Comprehension requires the ability to do comparison and ordering operations using the values of attributes. In turn, this requires not only that the features are typed in the same way, but also that the values of their properties are expressed on scales that can be related to each other.] 

Resolution: [Insert Resolution Details and History.] (Your Initials, Date)]





6.3  Observation Model


6.3.1 Basic model


We follow Fowler [FOW1998] and consider an observation to be an act or event through which a number, term or other symbol is assigned to a phenomenon.  An observation has a timestamp.  The observation uses a procedure, which is often an instrument or sensor [NRC1995].  The phenomenon may be associated with an identifiable object, which is thus the target or subject of the observation, or may simply be sampled at some convenient location.  


In conventional measurement theory [e.g. SAR1995KRALST

, , VIM] the term “measurement” is used for the same concept.  However, Fowler’s distinction between measurement and category- observation has been adopted in more recent work [NIE2001, YOD] so the term “observation” is used here for the general concept, with “measurement” reserved for cases where the result is a scalar quantity.  


6.3.2 Feature model for an observation


We define an Observation as a Feature type, in which one of its properties is resultOf, the value of which is a Value Object describing some phenomenon (Figure 6).  Value Object is an abstract datatype, which is replaced in a data instance by a concrete type, such as quantity, category, count, etc, or by an aggregate of these primitives.  The structure of various forms of value object is described in detail in clause 6.4.  A Measurement is a specialisation of observation made using a sensor or instrument which results in a scalar quantitative value.  This may be implemented as a subclass of Observation with a constraint to specify the result type.  However, in the model and encoding presented in this report, we describe the general case which covers all result types.  




Figure 6. The Observation Feature

An observation has a timeStamp, since the Observation feature describes an act or “observation event”.  An observation has a using property, the value of which is a description of a procedure such as an instrument or observer.  A model and encoding for the functional description of sensors is given in the OGC document describing Sensor Model Language [SensorML].  An observation may be semantically typed using an observable property, which identifies the Phenomenon being sampled.  


An observation will frequently be related to other features, such as an observation collection, a survey tie-point, a previous observation from the same location, a previous observation which is the basis for a new observation (e.g., a classification may be based on an earlier set of measurements), etc.   We model this general association with other Features using a relatedFeature association class, with a role attribute, allowing the association to be (weakly) typed.  A common related feature is the subject of the observation, such as a Station or Specimen, so this is promoted to having a fixed role target.  Finally, an observation may have several quality indicators associated with it.  


An observation has a single procedure and observable, and a single result.  The description of the procedure provides important metadata to support the interpretation of the result.  If it is a sensor, then it may be a “sensor package” (such as a weather station, or multi-band radiance sensor) measuring an “aggregate observable” (weather, multi-band radiance), and producing a resulting “aggregate value” (the corresponding set of weather parameters, or a radiance spectrum).  But when associated with an observation, the sensor, observable and result are each single logical entities.  


It is through its association with an observation feature that a Value is bound to a feature of interest or a geospatial location, to a time instant or period, and to the Sensor Instance responsible for the observation.  


Note that we indicate that the result of an observation may be an Image.  In this case, the observation feature is essentially a vehicle that binds the image “metadata” to the image.  The value of the target property will be the image extent and its structure.  For images this is usually a grid so may be described using an implicit encoding.  


In common with other features, Observation has a location property and a metadataProperty.  However, some caution is required concerning location, especially when considering whether the procedure or instrument used and whether it operates in-situ or remote.  For example:  


1. if the sensor is a fixed in-situ instrument, or it is a mobile in-situ sensor for which the position at the time of the Observation is available, the sensor location is sufficient. 


2. if the observation is on a specimen or station, and uses an in-situ instrument, the location of the specimen or station is sufficient. 


3. if the observation is made using a remote sensor, the location of interest is described or computed separately.


In the context of GML, all features inherit the standard properties id, metadataProperty, description, name, location, and boundedBy from gml:AbstractFeatureType.  The GML feature Observation adds timeStamp, resultOf, using, and target.  The RichObservation feature introduced here adds observable, quality and relatedFeature properties.    


6.3.3 Observation types


Observations may be classified or typed in several ways.  


6.3.3.1 Typing according to the representation of the result


Fowler’s classification of observations [FOW1998] focuses on the representation of the result.  A “measurement” is distinguished from a “category-observation” depending on whether the result is a number or a term.  Our interest here also extends to observations whose results are geometry, temporal, Boolean and frequency, so we specialise the observation model to generate the six sub-classes of observations shown in figure Figure 7, based on the representation of the result. 




Figure 7. Specialised observation classes.


6.3.3.2 Semantic typing


Alternatively, the value of the observable, i.e., the phenomenon being sampled, may be used to classify an observation.  This is the primary constraint on whether the results of observations may be compared.  Thus we might be interested in discovering and compiling a set of “vegetation observations”, regardless initially of whether the results are boolean (vegetated or not), quantitative (percentage vegetation cover) or categorical (vegetation type).  


The second, practical requirement for comparison is that the results are available on the same scale, or that a conversion to a common scale is possible [SAR1995]. We discuss the relationship between representation and meaning below (clause 6.5.1)


If the result of the observation is an aggregate value, then the definition of the phenomenon should indicate the structure of the aggregate, in order that the components can be disambiguated.  Furthermore, in most cases parameters are required to refine the definition of a phenomenon.  Further discussion of models for the description of phenomena are given in Clause 6.5, and an XML encoding in Clause 7.2.2.  


Note that classification of observations raises similar issues to the discussion of Coverage types above (clause 6.2.4).  


6.3.4 Relationships within the observation model


Some further associations in the model for Observations are shown in Figure 8.  




Figure 8. Observation Model showing additional associations and validation dependencies


The observable may be indicated in several positions in the information structure.   


1. The definitive description of the observable is available through the description of the procedure responsible for the observation.  If the procedure is a sensor, then the description will use the sensor model language SensorML [SensorML].  One of the properties of a sensor is measures, whose value is a detailed description of the Phenomenon also encompassing the sensitivity of the instrument.  However, using this method, the mapping from the semantics of the observation to its value is quite indirect, as it requires traversal of two associations.  


2. Alternatively, the observation may carry an observable property directly.  This points to a definition of the Phenomenon, usually available from a dictionary or catalog.  Using this method, the mapping from the semantics of the observation to its value is through them both being properties of the Observation feature.   


3. Finally, in place of a Value, the resultOf property may contain a Typed Value which has an axis property to indicate the Phenomenon.  Using this method, the mapping from the semantics to the value is bound within the Typed Value, the model for which is described in Clause 0.  


If the phenomenon is indicated in more than one place, the processing system may check that it is consistent.  


The location of the observation may be provided indirectly.  The Procedure (which might be a SensorInstance) will normally indicate its sample.  The subject of the Observation may be provided directly as the value of the target property, in which case its location defines the location relevant to the result.  For in-situ sensors, the location of Platform or Station to which the Sensor Instance is attached defines the location of the observation.  For remote sensors, the target Region will be at a different location to the Platform.  Various opportunities for information normalisation exist.  


Note that it may be useful for using to identify objects other than “sensors”.  For example, a person may carry out a field survey.  A commercial laboratory, using one of several procedures pre-defined according to standards applicable at the time the measurement is made, usually carries out an assay of a rock sample.  Estimates of values of phenomena may be made by software such as a numerical simulation system or differential equation solvers, using finite elements, finite differences, etc.  To cover each of these cases, it will be necessary to define additional descriptors for the procedures.  


Note that the models from Fowler and Yoder et al. consider processing and validation, as well as the static information model.  In the OGC context, this overlaps the interaction between the information and service models.  


6.3.5 Observation Collections


6.3.5.1 Collections and arrays


Observations may be aggregated into a Collection (Figure 9).  Using the composite pattern [PAT1995], an Observation Collection may itself be treated as an Observation.  


Certain items may be common to all of the members of the collection.  Thus we allow a general ObservationCollection to carry the relatedFeature, timeStamp and target properties.  


An Observation Collection consisting of ordered, homogeneously typed Observations is an Observation Array.  The array may carry an observable property, which is inherited by all of its members.  In some cases, all the observations in an array may be using a single sensor, so this property may optionally be attached to the array and inherited by all of the members. 



Figure 9. Observation Collection and Observation Coverage


6.3.5.2 Coverage view


Following the analysis presented in clause 6.2.3, an ObservationArray is a representation of a discrete observation coverage.  The values of the set of location and timeStamp properties defines the domain set of the coverage.  Any or all of the values of the other properties of the Observation features may comprise the range set, provided that the same properties are used from all the member Observations.  The most common case would be where the range of the coverage is composed of the values of the resultOf properties from all the observations.  


Alternatively, a single “Observation” may have an extensive location as its target, and the value of its resultOf property be composite.  This view may be useful when the phenomenon is sampled instantaneously, such as when a frame-camera samples the light arriving from across a target region.  


A temporal coverage or time-series is usually associated with observations made by a single sensor.  A spatial coverage may be collected using a spatial array of similar sensors sampled at a single instant, or using a spatial array of similar sensors or a single sensor sampling a set of locations measuring a time-invariant phenomenon.  


6.4 Value Model


6.4.1 Representation of the result


In engineering and natural sciences, “value” refers to the magnitude of a quantity expressed as a unit of measure multiplied by a number [VIM].  Measurement theory generalises this notion to include positions or ordinates on interval scales, and terms and other symbols, which may have nominal and ordinal scales [KRALST, SAR1995].  Here we also consider observations whose result may be related to positions within a frame, time instants within a particular calendar, and aggregate values.  The components of aggregates may be primitive (scalar) values, or may themselves be aggregates.  We refer to any of these as Value Objects.  


Note that values are usually expressed using a small number of representations (numbers, character-strings, and composites of these), but the details of the measurement scale determine what operations are valid on the results [KRALST, SAR1995].  For example, values of mass and temperature may both be expressed as real numbers, but while both ratios and differences are meaningful for mass which is expressed on a ratio scale, only differences are valid for temperature which is expressed on an interval scale.  Rank is often expressed as a number, but neither ratios nor differences are significant, only order.  The valid operations are highly important when performing analysis.  


		Issue Name: [Valid operations summary. (SJDC, Dec 2002)] 

Issue Description: [A summary (table?) of values/scales and valid operations should be prepared and provided as part of the abstract spec here. This may be based on material from SAR1995, KRALST, etc.] 

Resolution: [Insert Resolution Details and History.] (Your Initials, Date)]





6.4.2  Scalar Values


Primitive or scalar values can occur on several scales, including nominal, ordinal, interval and ratio scales [Figure 10KRALST

].  We model these as a small number of generic DataTypes Category, Quantity, Count and Boolean, derived from an abstract superclass Scalar Value ().  


A similar pattern is used for each of the scalar value objects, comprising a numerator or value using the appropriate simple data type, and a denominator indicating the scale for the value. The model for Quantity is the same as Measure discussed in the OGC recommendation on Units of Measure [UOM2001] and ISO 19103 [19103].   


6.4.3 Scalar Value Lists


In some contexts, we find an ordered set of values using the same scale, such as a set of radiance amplitudes, which are the value of multiband radiance or a spectrum.  We model Category List, Quantity List, Count List and Boolean List following the equivalent scalar values by simply extending the cardinality of the value attribute to [1..*] (Figure 10).  [Alternatively, the lists could be considered as the primitive type, with scalar values simply being lists of unity length.]  




Figure 10. Generic scalar value model (left), and model for ordered lists of scalar values (right).


6.4.4 Scalar Value Objects


The results of certain observations are values of geometry or time.  Spatial position and time instant are special forms of ordinates, which use an interval scale or coordinate system, and thus are similar to some of the scalar datatypes already described.  However, these datatypes are conventionally managed using special components [ISO19107, ISO19108].  In order to accommodate the appearance of spatial and time objects within the same context as the scalar values, we group the components into a generalised class Value and a union class Value Object as shown in Figure 11.  


Finally, in order to support a case that occurs frequently in practical situations where a value is expected but not present for some reason, a Null object may appear as a value object.  The null object may carry some explanation for the absence of a valid value.  




Figure 11. Class diagram showing scalar value substitutability


6.4.5 Aggregate Values


Some observations result in values with a more complex structure, in particular aggregate values composed of multiple components.  The components of these aggregates may be strongly coupled, such as vectors and tensors where the values of the individual components are related and will be simultaneously changed by transformation of the reference system, or they may not be directly coupled.  In general, the components may be scalar values or other aggregates [ISO11404].  Aggregate values correspond to the record datatype [ISO19103].  


The composite pattern [PAT1995] provides a flexible method for constructing general aggregates by recursively attaching components.  Here it is necessary to make a small adaptation to accommodate Geometry objects and Time Objects acting as primitives alongside the simple scalar values (clause 6.4.4).  Thus, while a Composite Value may be composed of any of these, it is only substitutable for one member of the union class, i.e., Value (Figure 12).  Note also that the components of a composite may be primitive values or aggregates.  An aggregate value built in this way has a tree structure, which ultimately resolves to leaf nodes each bearing a Scalar Value, Scalar Value List, Geometry or Time Object, possibly at varying levels.  




Figure 12. Composite model for aggregate value types


We define one special case of aggregate values.  A Value Array is an ordered collection in which each member is of the same type.  Arrays of Composite Values may form a Value Array, such as a series of vector values.  Arrays themselves may be nested, so a set of values corresponding to time-series of the same Value from different locations can form an array of Value Arrays.  


When the members of the array are Scalar Values, the reference system may be indicated on the container. The optional attribute referenceSystem is abstract: this is substituted by codeSpace or unitOfMeasure as appropriate.  


Note that an array whose members are scalars is more efficiently represented using a Scalar Value List.  


6.4.6 Semantically typed values: Typed Values


As discussed in Clause 6.3.3, the meaning of the result of an observation is intrinsically determined by the procedure (sensor) used to make the observation, or the phenomenon may be indicated as a direct property of the observation.  So when the result is provided in the context of the rest of the information associated with the observation the semantics of the result are available by inspecting the description of the sensor instance.  


However, there are circumstances in which it may be convenient to indicate the meaning of a value directly. To accomplish this we add an attribute axis to the Scalar Values, scalar value lists, Composite Value, and Value Array with an additional property, whose value indicates a Phenomenon.  These are named Typed Values (figure Figure 13).    


Typed Values act as a mapping from the semantic space (Phenomenon) to a Value.  It is necessary that the Phenomenon and the Value class are consistent: for example it would be an error if a “Quantity” were associated with the observable “species Name”.  


The model is a generalisation of the DQ_QuantitativeResult datatype defined in ISO 19115 [ISO19115].   




Figure 13. Model for a typed value


One further refinement is to associate one or more quality descriptions with an observed value.  A provisional model for this is shown in Figure 14.


Various methods for encoding a quality description are available.  Five specific methods (“Description” – a textual description; “Rank” – a value on an ordinal scale; “Error” – a single quantity; “Bounds” – a pair of quantities, “Errors” – a set of quantities) are described in the implementation in clause 7.2.3.




Figure 14. Model for an observed value


6.5 Model for observable phenomena and measurands


6.5.1 Representation vs meaning


The value of the observable indicates the phenomenon being sampled by an observation, and thus provides the conceptual type of the observation and its result.  An observation may be typed at various levels of generalisation, which may support different operations.  For example, measurements of chloride ion concentration in ground-water may be available within a small area, while over a broader area only total dissolved solids are recorded.  Both of these might be useful within a study of water quality distribution, but direct quantitative comparison is not valid.  


A single phenomenon may afford description on various scales: for example, height may be {short, medium, tall} or may be given using a quantitative measure of length such as metres.  Furthermore, the same scale may be used for observations of different phenomena: for example, metres may be used to measure height, depth, wavelength, etc.  Thus, although there is a strong assocation between the scale or reference system and the phenomenon such that only certain combinations are permitted, the correspondence is not one-to-one.  Both must be available as part of a description of an observed value.  


In general the phenomenon will be defined separately from scale or reference system, and needs a semantic definition which is ultimately grounded in natural language.  


An important characterisation of a measurand (i.e., scalar observable type whose value is a quantity) is its dimensionality with respect to fundamental quantities, expressed in the form LaMbTc, etc.  This dimensionality must be reflected by the scale used for the result.  A detailed classification of measurands using physical principles is presented in the report on sensor technology from US National Research Council [NRC1995].  However, the basis for classification of phenomena whose value is either non-quantitative or aggregate (e.g., Water Quality, Earthquake Parameters, Species) is not simple, and raises significant ontological and philosophical questions.  


A system(s) of classification for phenomena/measurands is critical to allow comparison of and composition of the results of observations in analysis.  


		Issue Name: [Classification of observables/measurands/phenomena] 

Issue Description: [The NRC classification, which deals with scalar phenomena that afford measurement using sensors is a useful start.  Insert a table summarising the NRC classification.] 

Resolution: [Insert Resolution Details and History.] (Your Initials, Date)]





6.5.2 Description of a phenomenon


There are many techniques available to represent aspects of the required semantics, including the XML languages XML Schema, RDF/XML, DAML-S.  We make no recommendation about implementation of the fundamental definitions.   For the purposes of the discussion here we will simply assume that an appropriate definition of each basic phenomenon is available, and may be referenced using a URI.  


A simple phenomenon will in many cases be sufficient to characterise the type of the observation.  However, for some observable types additional information is required.  Combinations of phenomena are often required to define an observable.  For example: in remote sensing radiance is usually characterised by wavelength band, as fixed by the wavelength dependent sensitivity of the sensor; concentration may be considered a basic observable, which needs to be combined with another classifier such as substance, analyte or chemical species to get a useful observable phenomenon.  


Furthermore, in cases where the phenomenon has an aggregate value, each component of the value plays a role within the aggregate that may itself be classified with an phenomenon.  For example, the horizontal component of wind-speed has two components: speed and azimuth, or two vector components such as speed-north and speed-east.  A spectrum is a set of values of a homogeneous phenomenon, such as reflectance, distinguished by variation on a secondary axis, such as frequency.  An aggregate result implies an aggregate observable.  


The primitive phenomena may be refined or combined in systematic ways to generate an unlimited number of derived phenomena.  Figure 15 shows a basic model for constructing parameterised and composite phenomena, starting from the assumption that definitions of scalar or primitive phenomena are available and sufficient.  




Figure 15. Structure of derived phenomena


6.5.3 Phenomenon


A basic definition of a phenomenon may be provided as a text description or using some knowledge representation language.


6.5.4 Parameterised Phenomenon


A Parameterised Phenomenon takes a base Phenomenon and applies one or more constraints, the content of each of which is a Typed Value, and thus defines an axis and a value.  This is interpreted as specifying a restriction of the base observable on a set of orthogonal axes.  For example, the base may be radiance with the constraints wavelength and polarisation direction.  


The resulting parameterised phenomenon is derived from a set of more primitive phenomena: one identified as the base Phenomenon, and one indicated by the value of the axis on each of the constraints.  


6.5.5 Composite Phenomenon


A Composite Phenomenon may be constructed from component Phenomena using the composite pattern.  For example, Earthquake parameters may have the components Origin Time, Epicentre (a 2D location), depth, and moment tensor (the size of the event), the latter being another composite.  


Alternatively, a Composite Phenomenon may be constructed by taking a base Phenomenon and applying one or more constraintSets, each comprising an (equal length) array or series of  typed values.  For example, a Radiance Spectrum may have a base of Radiance and a constraint set of typed quantity extents describing the wavelengths.  This set might be expressed explicitly as a TypedValueArray, or implicitly as a TypedQuantitySeries.  


The TypedValueArray follows the ValueArray pattern described in clause 6.4.5, extended with a typing axis as described in clause 0.  The TypedQuantitySeries is an implicitly defined array of quantities described using the parameters


axis indicates the phenomenon being varied,  

limits gives the integer index of the low and high positions in the grid,  

origin gives the absolute location of the grid position with zero index, and 

offsets gives the separation between adjacent positions in the grid.  


structure indicates how the positions in the grid should be used to construct the members of the grid, with the values:


point if the members have zero width, with the grid positions used directly, giving a total count of (high-low+1),


post if the members have a width equal to the offset, and grid positions delimit cells, with a total count of (high-low), or


center if the members have a width equal to the offset, and grid cells are centered on the grid positions, with a total count of (high-low+1).  

Note that a Composite Phenomenon corresponds with the ISO 19103 RecordType.  


When considering aggregate values, the mapping from the components of the composite phenomenon to the components of the aggregate value must be clear (e.g. see example in C.5.2).  


6.6 Sensor Web and the Information Model


6.6.1 Using observations


Observations are frequently used in signal or feature detection, which involves comparison of values between one place or time and another.  Thus a requirement for most observations is that they may be assembled into an observation coverage.  


The homogeneity requirement might be satisfied to various levels of rigour.  For example, perfect homogeneity amongst the values strictly requires that the same measuring device or sensor, with the same calibrations, be used for all observations.  If the sensor does not vary, then its description (or the method used to estimate the value) is a property of (or metadata for) the whole coverage.  


In practice, a useful coverage can be built from the results of observations providing the values sample the same phenomenon, and that the results may be converted into a common scale.  This requires that the phenomenon is identified or described in a way that supports comparison at a semantic level.  Evaluation of suitability may involve tests of the phenomena from which the derived phenomenon is composed (i.e., the values of the basePhenomenon and axis properties).   If the sensor varies, then the sensor identity or description comprises a separate component of the coverage, or may be represented separately as a “sensor coverage” complementing the “observed value coverage”.  


6.6.2 Measurements from a Sensor Collection Service


Measurement results may be encapsulated within Observation Features, Observation Collections and Observation Arrays, and within Discrete Observation Coverages.  Since Observations and Coverages are Features, then these can be delivered through the general OGC service interfaces Web Feature Service [WFS], and Web Coverage Service [WCS].  However, the Sensor Collection Service [SCS] interface is optimised for access to observations and associated information.   


Valid XML documents may also be constructed which contain only “disembodied” or context-free Values, Composite Values and Typed Values – i.e., a Value or Typed Value element can occur as the root element of a document which is valid according to the value.xsd or observedValue.xsd schema.  Since Values and Observed Values are not Features, then such XML documents cannot be delivered by a WFS.  Nevertheless, there may still be some utility in such a service:  provided the client which invokes the service stores the parameters of the request (the sensor identity, the time of interest, etc.), then a “disembodied value” could be used to complete an observation feature, the other properties of which are predefined.  Provision of “disembodied values” might be a very lightweight service, which may be suitable for fast streaming data, or over a low-bandwidth connection.  It is not yet clear if a SCS should return Values not contained within Observation Features, as discussed here.  


6.6.3 Reference systems or scales for Values


The scale for each value is indicated by the value of the relevant attribute of the value object – i.e., the unit of measure, code space, spatial reference system, frame.    In a serialisation, the scale is included through an association with a value instance; its complete description will usually be held elsewhere.  Thus, the model is not strongly dependent on the mechanisms used to describe reference systems for values.  


A number of models and encodings for reference systems are available. 


The description of the International System of Units [ISO1000] establishes a convenient terminology that can be used to define a unit-of-measure for a quantity.  This includes the concepts of Base Units, Derived Units, quantity types, symbols, etc (see also Figure 6 in YOD).  The XML schema units.xsd described in the GML3 specification [GML3] describes a convenient serialization of this, also adding Conventional Units, which are related to other units through scaling and offset.  A sample dictionary of units encoded using this model is included in Annex D.


ISO 19108 [ISO19108] describes a model for certain types of temporal reference systems.  A subset of these is implemented in the XML schema temporal.xsd described in the GML3 specification [GML3].  


OGC Abstract Specification Topic 2 [OGCAS2] describes a set of models covering coordinate reference systems and transformations.  These are implemented as a set of XML schemas in GML3 [GML3].  These provide a reasonably a comprehensive solution in the area of spatial reference systems.  


We have not yet explored or implemented general solutions proposed for the other classes of "reference systems" required for generalised observed-values.  These are: 


· Nominal scale or dictionary ("code space"), which may need to be cross-referenced through a thesaurus.  Note that a gazetteer is a specialised dictionary that binds a code to a location.  


· Ordinal scale or ordered dictionary ("code frame") which is very complex when considering all the ways in which things can be ordered (relative, numerical, fuzzy/partial) and also the relationships between code-frames which purport to cover the same space.  


A number of resources address the issue of terms and identifiers.  Within GML3 a generic Definition and Dictionary is provided, which supports the binding of a description to a name, with a handle that may be used to construct a URI that identifies the definition.  ISO standards 2788 and 5694 describe guidelines for monolingual and multilingual thesauri.  ISO 19112 [ISO19112] describes spatial referencing by identifier (gazetteer) which is essentially a special case of a term list, and OGC document 02-076r2 describes an implementation of this as a profile of WFS.  


The Reference System must be consistent with the Phenomenon:  e.g., Temperature should use Celsius, Fahrenheit or Kelvin; Speed should use Metres per second or Miles per Hour, etc.  This is managed within the definition of the units-of-measure through the quantityType parameter.  Validation will be supported providing the quantityType used in the units directory relates to the definitions used for the Phenomenon, with suitable allowance for generalisation.  For example, an observation with the observable “Water Temperature” for which the basePhenomenon is “Temperature”, is valid using units of measure whose quantityType is simply “Temperature”.  


Note that we do not expect that this condition can or will be checked through XML Schema validation, so it is the responsibility of application processes to ensure validity using other methods.   Beyond these general model implications, the definition or syntax used for Reference Systems is outside scope here.  


In the rest of the report we assume that an appropriate definition is available, and may be referenced using a URI.  


6.6.4 Sensor Instances and Other Descriptions of Observation Methodology


Information about the Sensor Instance, encoded using SensorML, would usually be available from a Sensor Instance registry, which would acquire this data when a related Sensor Web service is published.  The client would probably access this information prior to acquiring observations or measurements from a specific Sensor Web service.  


The Sensor Instance description might also be available directly in response to a DescribeSensor request.  The description will include information about the sensor calibration and accuracy, the sensor frame, mount and platform.  Thus, the description of the sensor should allow an estimate of the error on the observation to be made.  The definition of SensorML, the model and language used to describe sensors, is the subject of another IPR [SensorML], so is not described further here.  


The Sensor Instance description should also include a description of the structure of results delivered by the sensor.  This will probably use the encoding for Phenomena discussed in this report.  


7 XML Encoding of the Observation and Measurement Models


In this Clause we describe the implementation of the model for Observations, Values and Phenomena in XML.  The analysis is presented through reference to the XML Schema documents shown in Annex B, with example instances given embedded within the description and also in Annex C.  


We start in Clause 7.1 with a brief description of the XML idiom used to serialise the models presented in Clause 6.  Since the components for Values are required by the other components, these are described first in clause 7.2.  The encoding for definitions of Phenomena are described next in clause 7.2.2.  Clause 7.4 describes the encoding of observation features.  The examples focus particularly on Observation Collections and Value Collections, which will be important in building Coverages.  In Clause 7.5 we briefly describe a method for deriving strongly typed values, though this work is incomplete.  


The descriptions are primarily accomplished by showing examples of instance documents representing how data streams from sensor services and encoded as XML documents might appear.  These examples show a useful variety of instances, but the normative capabilities are the XML schemas for these components, given in Annex B.  


The Observations and Measurements schemas have been developed to be consistent with GML3, and re-use many GML components, which can be identified by their namespace prefix gml:.  The new components developed for Observations and Measurements are assigned to a namespace with the identifier http://www.opengis.net/om, for which the prefix om: is used in the examples shown here.  


XML Schema 1.0 is used in this document to define the syntax and vocabulary of XML documents.  It is not assumed that XML documents will be fully validated against their respective schemas for normal service invocation.  It is assumed, however, that XML parsing and validation will follow normal XML syntax rules, for example regarding XML Namespaces and their definition within XML documents.  Specific namespace URI’s are suggested and their standardization is encouraged.  Specific namespace prefixes area used, but their standardization is not suggested in order to maintain maximum flexibility in aggregating XML from different namespaces. 

7.1 GML Mapping of Model Components into XML


OGC’s Geography Markup Language [GML3] defines a consistent XML serialisation for information modelled in UML. The style used results in very explicit XML instance documents:  UML attribute names and association rolenames are used for the names of XML elements representing properties.  UML class names are used for the names of XML elements representing objects which may have identity.  


Consider a simple Feature modeled according to Figure 16.  




Figure 16. Simple feature model

Following the GML encoding rules, this appears:

<Feature id=”ACB123”>
  <metadataProperty><Metadata>Some structured metadata </Metadata></metadataProperty>
  <description>A basic located feature for illustration</description>
  <name>Fred</name>
  <location xlink:href="http://your.domain.org/locations#point3"/>
  <simpleProperty>Some property value</simpleProperty>
</Feature>

The components “id”, “metadataProperty”, “description”, “name”, “location”, and “simpleProperty” are all properties of this feature.  In this example, three properties have a value that is encoded as a text-string, id is an XML ID and is carried as an XML attribute,  metadataProperty contains an element which would contain some structured metadata, and location uses href to make an association with the description of a Point or other locator available elsewhere.  


The encoding used in this recommendation generally follows the GML idiom, so the default mapping is that properties are encoded as elements in content models.  Thus “location”, “target”, “using” and “resultOf”, etc., are XML elements.  Exceptions are made: 


(i) for components used for identity and in building links and relations (whose values have XSD type ID, anyURI, etc), 


(ii) for a few parameters that indicate refined semantics of element types without affecting the content model.  These are encoded as XML attributes on the parent element.  


(iii) in the context of UML classes with the stereotype <<DataType>>, instances of which are not identifiable objects, and are represented using customised encodings which may take advantage of specific XML capabilities.   


For other details of GML, consult the GML3 specification [GML3].  


7.2 XML for Values


7.2.1 Basic value objects


The Value model presented in Clause 6.3.3 is the basis for the GML Schema valueObjects.xsd.  This contributes components to the GML namespace.  The normative description of the schema document valueObjects.xsd is provided in clause 7.10.4 of the GML3 specification [GML3].  


Note that in our use of reference systems, we have followed the OGC Units of Measure recommendation [UOM2001] so the scale is bound directly to each value.  


The model described in clause 6.4 above makes two enhancements to the basic value model.  These are implemented in two new schema documents typedValue.xsd described in clause 7.2.2, and observedValue.xsd described in clause Code sample (viii).  


7.2.2 Typed values


The schema document typedValue.xsd is presented in Annex B.  The components in this document essentially reproduce the components defined in the GML schema valueObjects.xsd, but add an additional XML attribute axis, whose value is a URI.  The intention is that axis will identify a phenomenon, from a phenomenon dictionary or service (see clause 7.3 for a proposed encoding).  


This use of an XML attribute axis to sub-type the value is an example of “soft-typing” applied at a datatype level.  


The following shows a series of examples of typed values using the soft-typing approach.  The first three are straightforward extensions of the corresponding value objects:  

<om:TypedCategory 


axis="http://my.big.org/phenomena #animalSpecies"  codeSpace="http://my.zoo.org/referenceSystems/classifications/marsupials">Quokka</om:TypedCategory>


<om:TypedQuantity 


axis="http://my.big.org/phenomena#waterTemperature" 


uom="http://my.big.org/referenceSystems/units#Celsius">21.2</om:TypedQuantity>

<om:TypedQuantityExtent 


uom="http://my.big.org/referenceSystems/units#um" 


axis="http://my.big.org/phenomena#wavelength">0.45 0.52</om:TypedQuantityExtent >


Note that the order of XML attributes is not significant.  


In the next example, values from an ordinal scale are used to describe values from a phenomenon which is often described using numeric values:

<om:TypedCategoryList 


codeSpace="http://my.big.org/referenceSystems/classifications/weight" axis="http://my.big.org/phenomena#weight">heavy light withheld medium</om:TypedCategoryList>

Note that one of the values in the list is absent.  Its place is marked by the GML null value “withheld”.  


The final pair of examples give values for the composite phenomenon Moment Tensor from earthquake seismology.  In the first example, the components are disambiguated through additional axis attributes.  

<om:TypedCompositeValue axis="http://my.big.org/phenomena#MomentTensor">

  <gml:valueComponents>

    <om:TypedQuantity axis="http://my.big.org/phenomena#Mrr" uom="#Nm_19">-1.00</om:TypedQuantity>

    <om:TypedQuantity axis="http://my.big.org/phenomena#Mtt" uom="#Nm_19">0.92</om:TypedQuantity>

    <om:TypedQuantity axis="http://my.big.org/phenomena#Mff" uom="#Nm_19">0.09</om:TypedQuantity>

    <om:TypedQuantity axis="http://my.big.org/phenomena#Mrt" uom="#Nm_19">-1.69</om:TypedQuantity>

    <om:TypedQuantity axis="http://my.big.org/phenomena#Mrf" uom="#Nm_19">-0.09</om:TypedQuantity>

    <om:TypedQuantity axis="http://my.big.org/phenomena#Mtf" uom="#Nm_19">-0.37</om:TypedQuantity>

  </gml:valueComponents>

</om:TypedCompositeValue>


In the second example, a scalar value list is used, so there is an implied mapping between the sequence of components described in the definition of the composite phenomenon Moment Tensor (see clause 7.3.3), and the values in the QuantityList.  

<om:TypedQuantityList axis="http://my.big.org/phenomena#MomentTensor" uom="#Nm_19">-1.00 0.92 0.09 -1.69 -0.09 -0.37</om:TypedQuantityList>

The method of carrying the type information as the value of the axis attribute is designed to support applications where it is desired to reserve typing until run-time.  It is also used as part of the derived phenomena descriptions, where it is useful to have the axis explicit within the instance.    

As an alternative to soft-typing, for applications that deal with a limited number of value types, it may be more desirable to create a local application schema, and declare a named element whose name indicates the phenomenon.  Given the necessary schema declarations, the following might represent equivalent information:


<om:TypedQuantity axis="phenomena.xml#Temperature” uom="units.xml#degC">35.5</om:TypedQuantity>


<my:Temperature uom="units.xml#degC">35.5</my:Temperature>

7.2.3 Observed values


The schema document observedValue.xsd is presented in Annex B.  This schema is experimental and is provided for information only and will not be discussed further at this time.  


7.3 XML for phenomenon descriptions


The Phenomenon model presented in Clause 6.5 is used as the basis for a GML conformant XML Schema phenomenon.xsd (Annex B.2.4).  This schema document <include>s typedValue.xsd (Annex B.2.5).  


7.3.1 Basic phenomena


The element om:Phenomenon uses gml:DefinitionType, which supports a generic definition consisting of a name (and aliases) and a description.  Thus basic phenomena can be defined as shown in the following examples.  


    <om:Phenomenon gml:id="Age">

      <gml:description>Time duration since creation</gml:description>

      <gml:name>Age</gml:name>

    </om:Phenomenon>

    <om:Phenomenon gml:id="AtmosphericPressure">

      <gml:description>fluid pressure exerted due to the gravitational effect on the column of atmosphere above the position of interest</gml:description>

      <gml:name>Atmospheric Pressure</gml:name>

    </om:Phenomenon>

If a definitive definition is available from a source that can be identified using a URI, then this can be indicated using a link on the description element, instead of having the description of the term inline:


    <om:Phenomenon gml:id="Mrr">

      <gml:description xlink:href="http://big.geophysics.org/parameters/earthquakes/moment/Mrr"/>

      <gml:name>Earthquake Moment Tensor component Mrr</gml:name>

    </om:Phenomenon>

7.3.2 Parameterised phenomena for scalar values


A value of radiance measured in one band from Landsat’s Thematic Mapper can be expressed using a ParameterisedPhenomenon element, which applies a constraint to a basePhenomenon:


        <om:ParameterisedPhenomenon gml:id="TMBand1">

          <gml:name>Landsat TM band 1</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.45 0.52</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

This description assumes the existence of definitions of the phenomena Radiation and Wavelength elsewhere in the context, and dictionary of units-of-measure.  


A ParameterisedPhenomenon can have an arbitrary length sequence of constraint properties.  For example, the phenomenon associated with a channel on a radar scanner might be characterized as: 


    <om:ParameterisedPhenomenon gml:id="_19V">

      <gml:description>19 GHz radiation Vertical Polarisation</gml:description>

      <gml:name>19V</gml:name>

      <om:basePhenomenon xlink:href="#Radiation"/>

      <om:constraint>

        <om:TypedQuantity axis="#PeakWavelength" uom="./units.xml#GHz">19.35</om:TypedQuantity>

      </om:constraint>

      <om:constraint>

        <om:TypedCategory axis="http://www.opengis.net/componentPhenomenonType#PolarisationDirection" codeSpace="http://www.opengis.net/sensorGlossary">V</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

Alternatively, any previously defined Phenomenon can be subject to additional constraints.  These might be applied consecutively as follows:


    <om:ParameterisedPhenomenon gml:id="WaterTemperature">

      <gml:name>Water Temperature</gml:name>

      <om:basePhenomenon xlink:href="#Temperature"/>

      <om:constraint>

        <om:TypedCategory axis="#Medium" codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>


    <om:ParameterisedPhenomenon gml:id="SurfaceWaterTemperature">

      <gml:name>Surface Water Temperature</gml:name>

      <om:basePhenomenon xlink:href="#WaterTemperature"/>

      <om:constraint>

        <om:TypedQuantityExtent axis="#Depth" uom="./units.xml#m">0.0 0.5</om:TypedQuantityExtent>

      </om:constraint>

    </om:ParameterisedPhenomenon>

7.3.3 Composite Phenomena for aggregate values 


Composite Phenomena may be defined according to two patterns.  


7.3.3.1 Explicit Composite pattern


The composite pattern may be used to describe a composite in which the components are explicitly enumerated.  For example, the NEIC site (http://neic.usgs.gov/neis/FM/) reports descriptions of earthquakes through a set of parameters that could be described (in part) as follows:


    <om:CompositePhenomenon gml:id="EarthquakeParameters">

      <gml:name>Earthquake Parameters</gml:name>

      <om:componentPhenomenon>

        <om:CompositePhenomenon gml:id="EarthquakeLocation">

          <gml:name>Earthquake Location</gml:name>

          <om:componentPhenomenon xlink:href="#Epicentre"/>

          <om:componentPhenomenon xlink:href="#Depth"/>

          <om:componentPhenomenon xlink:href="#OriginTime"/>

        </om:CompositePhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:CompositePhenomenon gml:id="MomentTensor">

          <gml:name>Earthquake Moment Tensor</gml:name>

          <om:componentPhenomenon xlink:href="#Mrr"/>

          <om:componentPhenomenon xlink:href="#Mtt"/>

          <om:componentPhenomenon xlink:href="#Mff"/>

          <om:componentPhenomenon xlink:href="#Mrt"/>

          <om:componentPhenomenon xlink:href="#Mrf"/>

          <om:componentPhenomenon xlink:href="#Mtf"/>

        </om:CompositePhenomenon>

      </om:componentPhenomenon>

    </om:CompositePhenomenon>


This example illustrates nesting of composite phenenomena.  Earthquake Parameters are comprised of Earthquake Location and Moment Tensor, each of which has further structure.  In this definition, the phenomena Epicentre, Depth, OriginTime and the components of the Moment Tensor are treated as the base values, defined elsewhere.  


Following the definition of a LandsatTM band above, the complete LandsatTM spectrum can be described explicitly as a CompositePhenomenon as follows:


    <om:CompositePhenomenon gml:id="DiscreteSpectrumTM">

      <gml:name>Landsat Thematic Mapper spectrum</gml:name>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand1">

          <gml:name>Landsat TM band 1</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.45 0.52</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand2">

          <gml:name>Landsat TM band 2</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.52 0.60</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand3">

          <gml:name>Landsat TM band 3</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.63 0.69</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand4">

          <gml:name>Landsat TM band 4</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.76 0.90</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand5">

          <gml:name>Landsat TM band 5</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">1.55 1.75</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand6">

          <gml:name>Landsat TM band 6</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">10.4 12.5</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand7">

          <gml:name>Landsat TM band 7</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">2.08 2.35</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

    </om:CompositePhenomenon>


7.3.3.2 Using a ConstraintSet


For composites where the basePhenomenon is uniform, and the constraints applied on one or more uniform axes, it is more efficient to use another pattern to build a description of the composite phenomena.  This uses a variation of the method used for ParameterisedPhenomenon, with one or more uniform length constraintSets.  For example, the Landsat spectrum can be described:


    <om:CompositePhenomenon gml:id="TM">

      <gml:description>Landsat Thematic Mapper all bands</gml:description>

      <gml:name>Landsat TM</gml:name>

      <om:basePhenomenon xlink:href="#Radiation"/>

      <om:constraintSet>

        <om:TypedValueArray axis="#Wavelength">

          <gml:valueComponents>

            <gml:QuantityExtent uom="#um">0.45 0.52</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">0.52 0.60</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">0.63 0.69</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">0.76 0.90</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">1.55 1.75</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">10.4 12.5</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">2.08 2.35</gml:QuantityExtent>

          </gml:valueComponents>

        </om:TypedValueArray>

      </om:constraintSet>

    </om:CompositePhenomenon>


If the components also vary according to another axis, for example polarization, then the values on the additional axes should be listed in the same sequence in additional constraintSets.  


Finally, if the values of a constraintSet form a uniform series, this may be described using the implicit notation afforded by a TypedQuantitySeries.  For example, a 512 channel spectrum with 4 nm wavelength channels might be described as follom:


    <om:CompositePhenomenon gml:id="uSpectrum">

      <gml:description>Simple spectrum with uniform spacing of bands</gml:description>

      <gml:name>UniformSpectrum</gml:name>

      <om:basePhenomenon xlink:href="#Radiation"/>

      <om:constraintSet>

        <om:TypedQuantitySeries>

          <om:limits>0 512</om:limits>

          <om:axis>http://www.opengis.net/componentPhenomena#Wavelength</om:axis>

          <om:origin uom="#um">0.30</om:origin>

          <om:offset uom="#um">0.004</om:offset>

          <om:structure>post</om:structure>

        </om:TypedQuantitySeries>

      </om:constraintSet>

    </om:CompositePhenomenon>


7.3.3.3 Mapping values to meaning - applying CompositePhenomenon


A CompositePhenomenon can be used by a TypedCompositeValue. In the first example, the component phenomena from the explicit form of the composite are shown on all the components of the typed value:  


<om:TypedCompositeValue axis="phenomena.xml#EarthquakeParameters">

  <gml:valueComponents>

    <om:TypedCompositeValue axis="phenomena.xml#EarthquakeLocation">

      <gml:valueComponents>

        <om:TypedValue axis="phenomena.xml#Epicentre">

          <gml:valueProperty>

            <gml:Point srsName="epsg:4326">

              <gml:pos>-67.563 -13.834</gml:pos>

            </gml:Point>

          </gml:valueProperty>

        </om:TypedValue>

        <om:TypedQuantity axis="phenomena.xml#Depth" uom="#km">632.</om:TypedQuantity>

        <om:TypedValue axis="phenomena.xml#OriginTime">

          <gml:valueProperty>

            <gml:TimeInstant frame="#ISO-8601">

              <gml:timePosition>1994-06-09T00:33:16.4</gml:timePosition>

            </gml:TimeInstant>

          </gml:valueProperty>

        </om:TypedValue>

      </gml:valueComponents>

    </om:TypedCompositeValue>

    <om:TypedCompositeValue axis="phenomena.xml#MomentTensor">

      <gml:valueComponents>

        <om:TypedQuantity axis="phenomena.xml#Mrr" uom="Nm_21">-1.00</om:TypedQuantity>

        <om:TypedQuantity axis="phenomena.xml#Mtt" uom="Nm_21">0.92</om:TypedQuantity>

        <om:TypedQuantity axis="phenomena.xml#Mff" uom="Nm_21">0.09</om:TypedQuantity>

        <om:TypedQuantity axis="phenomena.xml#Mrt" uom="Nm_21">-1.69</om:TypedQuantity>

        <om:TypedQuantity axis="phenomena.xml#Mrf" uom="Nm_21">-0.09</om:TypedQuantity>

        <om:TypedQuantity axis="phenomena.xml#Mtf" uom="Nm_21">-0.37</om:TypedQuantity>

      </gml:valueComponents>

    </om:TypedCompositeValue>

  </gml:valueComponents>

</om:TypedCompositeValue>


The composite value and the composite phenomenon have exactly the same structure.  


Alternatively, the axis might only be indicated on the container element, and the value can be expressed using a simple list of components where the sequence of components of the CompositePhenomenon and in the CompositeValue are mapped to each other.  For example, the information from the previous example could be expressed:


    <om:TypedCompositeValue axis="phenomena.xml#EarthquakeParameters">

      <gml:valueComponents>

        <gml:Point srsName="epsg:4326">

          <gml:pos>-67.563 -13.834</gml:pos>

        </gml:Point>

        <gml:Quantity uom="#km">632.</gml:Quantity>

        <gml:TimeInstant frame="#ISO-8601"><gml:timePosition>1994-06-09T00:33:16.4</gml:timePosition></gml:TimeInstant>

        <gml:Quantity uom="Nm_21">-1.00</gml:Quantity>

        <gml:Quantity uom="Nm_21">0.92</gml:Quantity>

        <gml:Quantity uom="Nm_21">0.09</gml:Quantity>

        <gml:Quantity uom="Nm_21">-1.69</gml:Quantity>

        <gml:Quantity uom="Nm_21">-0.09</gml:Quantity>

        <gml:Quantity uom="Nm_21">-0.37</gml:Quantity>

      </gml:valueComponents>

    </om:TypedCompositeValue>


This implements a mapping from the semantic domain to the value at the level of the composite, rather than the component, and results in a more compact encoding.  However, it imposes an additional burden on processing software, which must resolve and then analyse the definition of the Phenomenon.  


7.3.4 Phenomenon dictionary


The elements om:ParameterisedPhenomenon and om:CompositePhenomenon are in a substitution group headed by om:Phenomenon, which in turn is in the substitution group gml:Definition.  Thus a list of descriptions of observable phenomena may be assembled in a gml:Dictionary.  An example of such a dictionary is included in Annex D.  


7.4 XML for Observations


A basic observation model has been implemented in GML3 in the schema document observation.xsd.  


The model described in clause 6.3 extends this with the additional properties observable, quality and relatedFeature, and also introduces a structure for aggregate observations.  This model is implemented in the GML conformant XML Schema richObservation.xsd (Annex B.2.2).  This schema <import>s components from GML via the observationAndValue.xsd, which in turn <include>s the observation.xsd and valueObjects.xsd schema documents.  The richObservation schema <include>s the components from the observedValue.xsd schema document directly.  


In the schema presented here, the property gml:using is replaced in om:RichObservation (and in all observation types derived from it) by om:using.  The property om:using has a more restricted content model, consisting of a om:Procedure rather than just a gml:Feature.  The element om:Procedure is implemented merely as a concrete feature without any additional properties, but is intended to act as the head of a substitution group which will contain various procedure types, including sensors and instruments.  This restriction may have consequences for the SensorML schema.  Note, however, that when the “by-reference” form of the property is used, there is no restriction on the type of the associated object.  


7.4.1 Simple Observation – Single Value


To illustrate some alternative uses of the encoding, consider an observation of Dissolved Solids made at a particular sampling station.  Using the element gml:Observation from GML3 directly we can encode the following:


    <gml:Observation gml:id="OD653">

      <gml:timeStamp>

        <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant>

      </gml:timeStamp>

      <gml:using xlink:href="sensors.xml#TDS"/>

      <gml:target xlink:href="stations.xml#s432"/>

      <gml:resultOf>

        <gml:Quantity uom="units.xml#gpL">72.1</gml:Quantity>

      </gml:resultOf>

    </gml:Observation>


In this description of the Observation, the description of the sensor that the observation is using will indicate the phenomenon that is being observed, and a station is identified as the target of the Observation.  


Using the enhanced form om:RichObservation, which is declared in the schema document richObservation.xsd (Annex B.4.2) we can indicate the observable directly, record some quality information, and also the fact that there is a previous observation available as a relatedFeature:  


    <om:RichObservation gml:id="OD654">

      <gml:timeStamp>

        <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="sensors.xml#TDS"/>

      <gml:target xlink:href="stations.xml#s432"/>

      <gml:resultOf>

        <gml:Quantity uom="units.xml#gpL">72.1</gml:Quantity>

      </gml:resultOf>

      <om:observable xlink:href="phenomena.xml#DissolvedSolids"/>

      <om:quality method="quality.xml#confidence95percent">

        <om:Bounds uom="units.xml#gpL">65.2 75.2</om:Bounds>

      </om:quality>

      <om:relatedFeature xlink:role="previous observation" xlink:href="archive/observations.xml#OD321"/>

    </om:RichObservation>

Note that the value of the observable and the value of the measures property of the sensor description should match.  This should be the same as the observable property of the observation.  


There are several alternative ways to store certain components of the information.  In the next example, the phenomenon is indicated on a typed value, and the location is recorded directly (though here we use an XPointer to make it clear that the location is that of the station):  


    <gml:Observation gml:id="OD655">

      <gml:location xlink:href="locations.xml#xpointer(id(‘s432’)/location)"/>

      <gml:timeStamp>

        <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant>

      </gml:timeStamp>

      <gml:using xlink:href="sensors.xml#TDS"/>

      <gml:resultOf>

        <om:TypedQuantity axis="phenomena.xml#DissolvedSolids" uom="units.xml#gpL">72.1</om:TypedQuantity>

      </gml:resultOf>

    </gml:Observation>


Note that om:TypedQuantity may be substituted anywhere that a gml:Quantity is valid.  


Finally, we may use the strongly typed om:Measurement, which is declared in the schema document fowler.xsd (Annex B.4.3):  


    <om:Measurement gml:id="OD654f">

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2001-12-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="sensors.xml#TDS"/>

      <gml:target xlink:href="stations.xml#s432"/>

      <om:quantityResult>

        <gml:Quantity uom="units.xml#gpL">72.1</gml:Quantity>

      </om:quantityResult>

      <om:measurand xlink:href="phenomena.xml#DissolvedSolids"/>

      <om:quality method="quality.xml#confidence95percent">

        <om:Bounds uom="units.xml#gpL">65.2 75.2</om:Bounds>

      </om:quality>

      <om:relatedFeature xlink:role="previous observation" xlink:href="archive/observations.xml#OD321"/>

    </om:Measurement>


This form signals to the consuming application that the result will be a gml:Quantity. 


7.4.2 Observation Collection – Heterogeneous Observed Values


Three Observations of different Phenomena, may be recorded in an om:ObservationCollection:


    <om:ObservationCollection gml:id="c234">

      <gml:boundedBy>

        <gml:Null>unknown</gml:Null>

      </gml:boundedBy>

      <om:observationMember>

        <gml:Observation gml:id="OD656">

          <gml:location xlink:href="locations.xml#p432"/>

          <gml:timeStamp>

            <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant>

          </gml:timeStamp>

          <om:using xlink:href="sensors.xml#TDS"/>

          <gml:resultOf>

            <om:TypedQuantity axis="phenomena.xml#DissolvedSolids" uom="units.xml#gpL">72.1</om:TypedQuantity>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMember>

      <om:observationMember>

        <gml:Observation gml:id="OD657">

          <gml:timeStamp>

            <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant>

          </gml:timeStamp>

          <om:using xlink:href="sensors.xml#WVL"/>

          <gml:resultOf>

            <om:TypedCompositeValue axis="phenomena.xml#windVelocity">

              <gml:valueComponent>

                <gml:Quantity uom="units.xml#m_s">14.7</gml:Quantity>

              </gml:valueComponent>

              <gml:valueComponent>

                <gml:Quantity uom="frames.xml#degreesEast">315.</gml:Quantity>

              </gml:valueComponent>

            </om:TypedCompositeValue>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMember>

      <om:observationMember>

        <gml:Observation gml:id="OD658">

          <gml:timeStamp>

            <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant>

          </gml:timeStamp>

          <om:using xlink:href="sensors.xml#TEMPC"/>

          <gml:resultOf>

            <om:TypedQuantity axis="phenomena.xml#waterTemperature" uom="units.xml#Celsius">21.2</om:TypedQuantity>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMember>

      <gml:target xlink:href="stations.xml#s432"/>

    </om:ObservationCollection>

Note that since the observations were all made on the same station, the gml:target property is promoted to the ObservationCollection.  


7.4.3 Observation Array – Time Series


A set of observations of a single phenomenon, made on a single station using the same sensor, comprising a time-series, may be recorded in an om:ObservationArray:


    <om:ObservationArray gml:id="a567">

      <gml:boundedBy>

        <gml:EnvelopeWithTimePeriod srsName="http://opengis.org/epsg#4326">

          <gml:pos>-92.0 33.0</gml:pos>

          <gml:pos>-91.0 34.0</gml:pos>

          <gml:timePosition>2001-12-03</gml:timePosition>

          <gml:timePosition>2001-12-05</gml:timePosition>

        </gml:EnvelopeWithTimePeriod>

      </gml:boundedBy>

      <om:observationMembers>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant><gml:timePosition>2001-12-03</gml:timePosition></gml:TimeInstant>

          </gml:timeStamp>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#degC">16.5</gml:Quantity>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant><gml:timePosition>2001-12-04</gml:timePosition></gml:TimeInstant>

          </gml:timeStamp>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#degC">17.2</gml:Quantity>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant><gml:timePosition>2001-12-05</gml:timePosition></gml:TimeInstant>

          </gml:timeStamp>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#degC">18.3</gml:Quantity>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMembers>

      <gml:target xlink:href="stations.xml#s432"/>

      <om:using xlink:href="sensors.xml#TEMPCb6"/>

      <om:observable>

        <om:ParameterisedPhenomenon gml:id="WaterTemperature">

          <gml:name>Water Temperature</gml:name>

          <om:basePhenomenon xlink:href="phenomena.xml#Temperature"/>

          <om:constraint>

            <om:TypedCategory axis="phenomena.xml#Medium" codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:observable>

    </om:ObservationArray>

Since this is a time series of measurements at the same location using the same sensor, the values of the target, using, and observable properties are promoted to the container, but each member Observation has a specific timeStamp.  Note that, in this example, we exploit the GML “property” pattern [GML3], and record the description of the ParameterisedPhenomenon inline, rather than by reference.  


7.4.4 Observation Array – Spatial Sampling


A spatial array of Observations of the same Phenomenon (O2 concentration in water samples) can be recorded in an om:ObservationArray:


    <om:ObservationArray gml:id="a568">

      <gml:boundedBy>

        <gml:Envelope srsName="http://opengis.org/epsg#4326">

          <gml:pos>-92.0 33.0</gml:pos>

          <gml:pos>-91.0 34.0</gml:pos>

        </gml:Envelope>

      </gml:boundedBy>

      <om:observationMembers>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-12-03</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="samples.xml#s432"/>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#percent">0.05</gml:Quantity>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-12-03</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href=" samples.xml#s434"/>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#percent">0.17</gml:Quantity>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-12-03</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href=" samples.xml#s532"/>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#percent">0.075</gml:Quantity>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMembers>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2001-12-03</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="http://www.opengis.net/ows/sensors#DOXP"/>

      <om:observable xlink:href="phenomena.xml#DOX"/>

    </om:ObservationArray>

In this example, since the stations for the measurements are all different, the target element is on each of the member Observations.  The timestamp, using and observable properties are promoted to the container, though since the timeStamp property is required on an Observation, it also appears on each member even though it does not vary 


7.4.5 Extended Examples


In Annex C we present some additional examples.  These show the flexibility of the Observation and Value schemas, and illustrate some patterns for applying them to specific examples.  The examples include: 


C.1 

Observations of several weather parameters made at an array of stations


C.2 

Time series of observations of air quality made at an array of stations


C.3 

Spatial survey of gravity observations


C.4 

Set of multi-element assays on samples from an exploration drillhole


C.5 

A multi-species ecological survey.


Note that in C.5 we show two alternative encodings of a uniform set of observations over a set of targets: 


· as an array, which highlights the separate observations on each target region; and 


· as a single complex observation, which highlights the fact that the results describe a phenomenon distributed over a complex target.  


7.5 Typed Observations and Observed Values


7.5.1 Methods for strong-typing


It is possible to derive more strongly typed observations and observed values from the generic components.  Standard XML Schema methods may be used in order to: 


· declare elements with useful names in new namespace(s), that use the XML Schema types defined here: e.g. 


<xs:element name="Temperature" type="gml:MeasureType" substitutionGroup="gml:Quantity"/>

<xs:element name="GravityMeasurement" type="om:MeasurementType" substitutionGroup="gml:Observation"/>

<xs:element name="EcoSurvey" type="om:ObservationArrayType" substitutionGroup="om:ObservationArray"/>


· restrict or extend the content models relative to what has been defined in the schemas provided here, then use these in the declaration of new elements (e.g. see the method used to restrict om:RichObservation to om:GeometryObservation in the schema document fowler.xsd).  


If the new components are required to be substitutable for elements in the gml or om namespaces, then the necessary XML Schema type derivation and element substitution group rules must be followed; 


Several of the components in the om namespace that have a “soft-typing” mechanism (e.g. using the axis attribute or observable property).  These may be used in type derivation by restriction where the parameter is given a “fixed” value in a schema.  This means that an element using the new type has the value of the typing parameter fixed in a schema-validated instance, even if (as in the case of “observable”) the component is optional and does not appear in the instance.  


7.5.2 Typing strategies


A service provider might define an exquisitely specific model and deliver XML data in which every element is very specifically typed. A data instance encoded in a strongly typed language will often be more compact and apparently descriptive.  However, the desirability of strong typing must be assessed carefully.  In a service deployment, the primary issues are 


· which models and schemas are known in advance by a client, and 


· whether it is reasonable, or even possible, to expect a client to be configurable in real-time when supplied with a new schema, even if that schema mostly uses components that are already known by the client.  


The usefulness of information items depends on whether the client can classify the items sensibly.  This means that either there is an agreement about the meaning of the specific terms in advance (a strategy which may be available only within small or very well-organised communities), or that the links from the data instance to the necessary definitions are provided in a form that allows them to be analysed to enable semantic comparison.  


The connection from the data instance to its explanation is accomplished using a couple of basic strategies:


· through reference to its schema, where all the components used are described using the schema language – this method is required if the elements are strongly-typed;


· using links from certain components to an explanation or gloss provided by another service – this method is used for soft-typing.  


In the examples in this report we use strong typing to define generalised observation and measurement features and arrays, and basic value structures.  Following the approach of the standard feature-definition model [ISO19110], the semantics of these features are implied by their structure, rather than explicitly described using some KR language.  The assumption is that the community interested in “sensor-webs” will agree that the general model for observations and measurements presented here is suitably expressive, and they will configure their software to process the named components sensibly.  


However, we use soft-typing to further refine observation types and their results.  The main reason for our use of soft-typing is that, given the huge variety of phenomena that might be the topic of observations, of reference systems that can be used to characterise the results, and procedures that are used in accomplishing the task, in a general sensor-web there is almost unlimited scope for new types of values and observation.  Interoperability amongst a general community requires that they use common components, and reserve additional typing to secondary mechanisms that do not impede the processing of basic data streams using generic (sensor-web) software.  


In the model described in this report, we identify a small set of key places where typing parameters may be attached: namely reference-systems, observables, procedures.   While there is not a one-to-one correspondence between each specific scale, phenomenon, and procedure, these must be consistent with each other within a single service or analysis.  Thus, methods of classification are required so that comparisons may be made.  In some cases these comparisons must be made at run time.  We discussed approaches to populating these slots.  While many of the issues have now been discovered, the classifications are not yet mature, and further work is needed to address the classification problem.  


Note, however, that the XML mechansism used to associate these classifiers with objects (i.e. they may be included inline, but more often will be indicated through links and URI’s) allows us to defer resolution of the details of the problem, while providing a solution that is consistent with the general XML and web service model, and that can be used in a limited way now.  


8 Guidelines for using the observations and measurements model and encoding


The model for Observations presented here is very general.  The examples in the body and Annex C provide an illustration of many common cases.  Most users will find an example similar to their specific case so may use one of these as a pattern.  However, there are some general principles that apply, which determine some of the choices.  


In this Clause we first describe some considerations to guide the selection of the particular encoding which applies in a specific observation situation.  We follow this with a sketch of the procedures to followed to define the reference system(s) used to scope the resulting values, and the Phenomenon(s) which are the topic of the observation.   


8.1 Observations, Observation collections, Observation arrays


A single observation is defined as a single act to sample a single phenomenon using a single procedure regarding a single target.  However, in many practical cases we are interested in information contained in an aggregation of results.  The model and encoding described here allows an aggregation to be formed in a number of ways: as a collection or array of observations, or as a single observation with a composite value as its result.  


8.1.1 Constraints on the formation of various tpes of aggregation


The option of which representation to use in a particular situation is constrained by the actual information content and various opportunities for normalization of components within this.  Specifically: 


· if it is required to form an arbitrary set of Observations, ObservationArrays or ObservationCollections, or a mixture of these, then you must use an ObservationCollection.  A collection is merely a convenient bag for a set of items whose descriptions are largely independent of each other; 


· if it is required to form a set whose members observe different phenomena, then you must use an ObservationCollection.  However, if all the member observations are regarding a common target, then this may be promoted to be a property of the ObservationCollection.  An ObservationCollection may carry a timestamp that applies to whole collection, but a timestamp is required on each member as well; 


· if it is required to form a set whose members are homogeneously typed, an ObservationArray may be used.  Homogeneity is defined such that the value of the observable property on the members is constant.  The value of the observable property may then be promoted to the ObservationArray.  In most cases a common observable is associated with a common procedure, so the using property may also be promoted to the ObservationArray.  If all the member observations are regarding a common target, then this may be promoted to be a property of the ObservationArray.  An ObservationArray may carry a timestamp that applies to whole array, but a timestamp is required on each member as well; 


· if a set of results are components of a value which describes a single conceptual phenomenon, and furthermore were collected in a single act, they may be described with a single Observation.  The “single observation” option is available because of the way that we allow extensive or composite objects to act as values of some of the properties of an observation.  For example: 


· if the phenomenon of interest are essentially invariant over a time period, the TimeObject, which is the value of the timeStamp that describes of the time of the act, may be extensive (a day or a week or a year, etc);  


· a single Phenomenon may be a vector (e.g. wind velocity) or tensor (e.g. stress in the solid earth), or another composite which carries a single name (e.g. “vegetation” which is composed of densities of a set of species).  This requires more than one scalar value in the result, and more then one element in the sensor or procedure; 


· the target might describe a region or collection of geospatial objects (e.g. a swath, consisting of millions of pixels; a survey domain consisting of many paddocks). 


8.1.2 A generalised example, showing many possibilities


To illustrate the possibilities, consider the following scenario.  An operator involved in a field survey may during the course of one day visit several sites and make a uniform set of observations at each one.  Let us denote each Observation as a set of properties (t,T,u,o,r) representing the timeStamp, target, using, observable, result, each of which may have components (a1,a2, … ai, … an).  We use brackets [] to indicate iteration or summation over the members of a set.  


The results from a single site might be considered in


i. an ObservationCollection, with member Observations for each independent component – (T,[t,u,o,r]); 


ii. a single Observation with a CompositeValue as its result, if the results are related to each other such that they all describe components of a phenomenon that can be given a single name – (t,T,u,o,[r]).  


The results from the whole day might be considered in


iii. an ObservationArray over the set of target sites, whose members are ObservationCollections, each containing a set of Observations corresponding to the components of the result for a single site, as described in i. above.  There is very little opportunity for normalization of common metadata, such as observable, procedure, etc since these are fully disaggregated and interleaved amongst the properties of the member Observations  – ([T,[t,u,o,r]]);  


iv. an ObservationArray over the set of target sites, whose members are a set of Observations each of which has a CompositeValue in its result, as described in ii above.  The observable and procedure may be carried on the array and inherited by the members, but each member observation will carry its own target and timestamp – (u,o,[t,T,[r]]); 


v. a single Observation whose target is a composite object corresponding to the set of sites, whose timestamp is the whole day, and whose result will be described in a set of arrays or lists.  Both target and observable are single elements but contain composite objects, whose members are convolved with the values in the result.  This representation is only valid if the phenomenon is invariant over the day, so that the survey may be considered to be a single event using a single procedure  – (t,[T],[u],[o],[[r]]); 


vi. an ObservationCollection, whose members are a set of ObservationArrays, each containing a set of Observations corresponding to one component of the phenomenon sampled over the set of sites.  The observable of each array is a single component of the phenomenon, but the target sites are interleaved amongst the member observations  –  ([u,o,[t,T,r]]);  


vii. an ObservationCollection, whose members are a set of Observations, the result of each of which is a list of values describing a single component of the phenomenon as sampled over the set of sites.  The observable of each Observation is a single component of the phenomenon, and its target is a composite which is convolved with the value – ([t,u,o,[T],[r]]).   


Note that this set of permutations is not exhaustive.  


8.1.3 Reasons to select a particular aggregation type


We see that several alternatives are valid and each contains the complete information, transformed or transposed in some way with respect to the other representations.  The choice of which one to use should be based on analyzing the context or purpose to which the information will be put.  This will often relate to the stage within a data processing sequence, as described briefly in clause 6.2.3.3.  


For example, in the scenario sketched here:


· During data collection, and the primary interaction with a information service will be insertion into a data-store.  To reduce risk of data loss, the information should be managed so that it tracks the operational sequence, which is on a site by site basis.  


· If all the data is being collected for a single purpose, then the results should probably be treated as in (ii). above - single observations from each site, with a composite value as a result (see the example in Annex C 5.1).  


· If the results are being collected for different purposes, and inserted into different data-stores, then it will probably be more convenient to encode each result in a separate observation, as in (i) above; 


· During an analysis phase, it is likely that the information about the observed phenomenon will be examined as it varies across the set of sites, in order to discern patterns or anomalies within a phenomenon.  In this case it will be most convenient if a report from the data-store is organized to support this.  


· If the phenomena are coupled, so that an analysis must access the value of more than one for each site at once, then a representation that collects the values in this form, such as (iv) or (v) should be used (see the examples in Annex C 5.2, C 5.3, C 5.5.2).  


· If interest is in the variation of a single phenomenon, then a representation that collects the values of a single component over all sites is appropriate, such as (vi) or (vii) above (see the example in Annex C 5.4, C 5.5.1).  


· Finally, if the analysis is focusing on details of the procedure used, such as in a quality control exercise, then it might be necessary to disaggregate the components completely such as in representation (iii).  


This example assumes a time-invariant phenomenon.  If time variation is of interest, then arrays and composites that reflect this variation must be constructed.   


8.2 Reference system/units


For each component of the result:


What is the representation of the result?  Is it a number or a term, or something else?  


If it is a number, then do we know the units of scale?  Is a description of the scale available at a location that can be identified using a URI
?  If so, note this URI – it will be used as the value of the uom attribute of a Quantity or QuantityList.  If not, create a new definition as a UnitDefinition, BaseUnit, DerivedUnit or ConventionalUnit using components from the GML schema units.xsd, and put it in a place that can be addressed using a URI, which will be used as the value of the uom attribute of a Quantity or QuantityList. 


If it is a term, then do we know the vocabulary from which it is drawn?  Is a description of the vocabulary available at a location that can be identified using a URI?  If so, note this URI – it may be used as the value of the codeSpace attribute of a Category or CategoryList.  

If it is a geometry, then do we know its spatial reference system?  Is a description of the SRS available at a location that can be identified using a URI?  If so, note this URI – it may be used as the value of the srsName attribute of a Geometry.  

If it is a temporal quantity, then do we know its frame of reference?  Is a description of the frame available at a location that can be identified using a URI?  If so, note this URI – it may be used as the value of the frame attribute of a TimeObject.  

8.3 Observable phenomenon/Measurand


What is the phenomenon being sampled by this observation?  Is a description of the phenomenon available from a source that allows it to be addressed using a URI
?   If so, note this URI – it will be used as the value of the xlink:href attribute of a observable element, or as the value of an axis attribute.  


If not, then is the result of an observation a scalar value or a composite?  


If a scalar, then is this a primitive phenomenon that requires a new description?   Create a new phenomenon description using the Phenomenon element from the OM schema phenomena.xsd.  This Phenomenon element will used as the content of an observable element, or it should be put in a place that can be addressed using a URI, in which case the URI will be used as the value of the xlink:href attribute of a observable element, or as the value of an axis attribute.  


Or is the phenomenon related to a phenomena whose description can be addressed through a URI?  Can a description of the phenomenon take the form of a ParameterisedPhenomenon?  Create a new phenomenon description.  This ParameterisedPhenomenon element will be used as the content of an observable element, or it should be put in a place that can be addressed using a URI, in which case the URI will be used as the value of the xlink:href attribute of a observable element, or as the value of an axis attribute.  


If it is a composite, then is the phenomenon a simple composite of phenomena?  If any of the components are not available using a URI, then create entries for these as described above.  When all the components are described, then create a new CompositePhenomenon using a componentPhenomenon element for each component.  This CompositePhenomenon element will be used as the content of an observable element, or it should be put in a place that can be addressed using a URI, in which case the URI will be used as the value of the xlink:href attribute of a observable element, or as the value of an axis attribute.  


Else is the composite phenomenon related to another phenomenon through a set of constraints?  Can these constraints be expressed as a series?  If so, then create a new CompositePhenomenon with one or more constraints parameters containing a TypedQuantitySeries.  If not, create a new CompositePhenomenon with one or more constraints parameters containing a TypedValueArray.    This CompositePhenomenon element will be used as the content of an observable element, or it should be put in a place that can be addressed using a URI, in which case the URI will be used as the value of the xlink:href attribute of a observable element, or as the value of an axis attribute.  

9 Harmonisation with WCS, SensorML


In both WCS and SensorML there is a requirement to describe measurement “channels”, each of which combines a description of the meaning of the value (the phenomenon) and its representation (number, text, etc, with a reference system).  This information is often found in the “column headings” of data represented as a table, and may be considered as essential “metadata” for individual values.  The example given in Annex C.5 illustrates this.  In this case a single representation is used for many channels, but in general there will be a unique phenomenon and a unique representation for each channel.  


In the proposed WCS interface [WCS] these are given within the RangeComponentDescription so that Observable has two sub-elements docURL which points to a primitive (scalar?) observable definition, and referenceSystem which binds a scale to the observable.  One possible encoding for compound observables is provided, using a set of RangeAxis elements each of  which allows the specification of a RangeExtent, being either a SingleValue or an Interval.  The other alternative for supporting compound values is provided through the fact that multiple RangeComponentDescription’s can be specified.  


The WCS approach is consistent with the models described in this report, in that the ultimate definition of an phenomenon or measurand is provided elsewhere, and is attached to a description by-reference (a URI).  This allows the full definition of the observable type to made using some appropriate semantic language, which may be prose.  Furthermore, there is a common requirement for an XML description of derived phenomena in a form that can effectively act as a descriptor for a (possibly compound) value.  


The approach in WCS diverges from O&M in two ways:


(i)
the method for describing parameterized and compound observables using the primitive base observables does not follow a consistent model; 


(ii)
the reference system is bound to the observable rather than to the result.  


Resolving the former is relatively straightforward – in clause 6.5 here we have made significant progress towards a more general and consistent model.  


Regarding the latter, in the XML representation of the results of observations as “features” there is no need to separate the scale from the value.  However, in a coverage description the representation of the value and its scale is part of the metadata, it is necessarily stored separately, as a descriptor rather than as part of a direct representation.  


It is necessary for us to explore the development of a generalised way to combine descriptors or classifiers, such that the full description of a single data item is through a product of components stored in some convenient set.  Conversely, in some of the examples in this report we do extensive normalisation of the data, pulling out common components such as observable, target, etc where it applies uniformly to a collection.  We should examine whether this approach might also be applied to additional descriptors such as scale.  


10 Issues Outstanding and Future Work


The model and schemas that have been developed are suitable for deployment as is.  However, they do not cover the full range of requirements, and a number of associated components are outstanding.  Briefly some of these are as follows:


1. Full harmonisation of O&M with SensorML and WCS is an urgent requirement.  These specifications describe complementary aspects of the information and service model, so it is necessary that they use a consistent terminology and encoding.  


2. The definition and encoding for reference systems and key concepts and terms is very limited. Some reference systems (classifications, non-spatial frames) are not yet covered. Some have proposed standard, online glossaries, dictionaries, schema repositories for this purpose. The present thinking is to use the registry framework for this function.


3. A consistent approach to the classification of reference systems and phenomena is required, to support validation, discovery and selection.  The method must be consistent with or implementable within the registry framework.  


4. Methods to describe observation methodologies other than instruments and sensors are needed.  Estimates of values may be generated by instruments, computational simulators or numerical process modeling system, and by human observers.  All of these may be combined in an analysis.  These non-sensor systems may require a different parameterisation than sensors, but the basis for this is not well understood.  


5. In many situations we are using high-dimensional data, which is traditionally represented in tables with column and row descriptors. However, the XML data model is a tree, and its representation is serial.  It is usually convenient to normalise aspects of the data and represent it in lists and arrays (e.g. a set of phenomena and units, a set of locations, a set of time instants or periods), which are mapped onto one another and onto the data in “dot” and “cross” products to generate the complete description.  Within the data stream, XML list structures can be used for both tuples (rows) and channels (columns). Indexing and sequence methods need to be established (see examples and further discussion in Annex C.5).   


6. The mechanisms introduced to allow recording of quality indicators and measures are very rudimentary and need to be developed further.  


7. A more explicit description of relationships between “observations” that are intermediate stages in a processing chain needs to be developed.  For example, many category observations are based on applying a procedure to a more primitive (set of) numerical data, the result of an earlier “observation”.  Keeping track of the audit-trail is highly important.  


Annex A: Conformance
(normative)


Not needed for DIPR, IPR or Discussion Paper.


Annex B: XML Schemas for Observations
(normative)

B.1
Utility Schemas


The utility schema observationAndValue.xsd includes two component schema documents from GML.  It is used to import the required components from the GML namespace into derived schemas such as richObservation.xsd.  


The target namespace for components from this schema is the GML namespace, identified  http://www.opengis.net/gml.  

<?xml version="1.0" encoding="UTF-8"?>

<xs:schema targetNamespace="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" version="1.0">

  <xs:annotation>

    <xs:documentation>

    observatioAndValue.xsd


    Utility schema which simply includes both observation and valueObjects</xs:documentation>

  </xs:annotation>

  <!-- ==============================================================


       includes and imports



============================================================== -->

  <xs:include schemaLocation="../gml/base/observation.xsd"/>

  <xs:include schemaLocation="../gml/base/valueObjects.xsd"/>

</xs:schema>

B.2
Value Schemas


B.2.1
valueObjects


The GML schema valueObjects.xsd defines XML components for generic value objects and composites used in observations and measurements.   Elements declared in this schema may be used as components of Observations, or in other data instances.  Note that the definitions of several primitive simpleContent types used in valueObjects, such as MeasureType, are found in the GML 3 schema basicTypes.xsd.  For more documentation, refer to the GML3 specification [GML3].  


The target namespace for components from this schema is the GML namespace, identified  http://www.opengis.net/gml.  

<?xml version="1.0" encoding="UTF-8"?>

<schema targetNamespace="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:sch="http://www.ascc.net/xml/schematron" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" elementFormDefault="qualified" attributeFormDefault="unqualified" version="3.00">

  <annotation>

    <appinfo source="urn:opengis:specification:gml:schema-xsd:valueObjects:v3.00">valueObjects.xsd</appinfo>

    <documentation>     Copyright (c) 2002 OGC, All Rights Reserved.  GML conformant schema for Values in which the  * scalar Value types and lists have their values recorded in simpleContent elements * complex Value types are built recursively 


    </documentation>

  </annotation>

  <!-- ====================================================================== -->

  <!-- geometry and temporal included so that _Geometry and _TimeObject can be added to Value choice group -->

  <include schemaLocation="geometryBasic0d1d.xsd"/>

  <include schemaLocation="temporal.xsd"/>

  <!-- ====================================================================== -->

  <group name="Value">

    <choice>

      <element ref="gml:_Value"/>

      <element ref="gml:_Geometry"/>

      <element ref="gml:_TimeObject"/>

      <element ref="gml:Null"/>

      <element ref="gml:measure"/>

    </choice>

    <!--   <xs:documentation>       <xs:annotation>Utility choice group which unifies generic Values defined in this schema document with Geometry and Temporal objects and the Measures described above, so that any of these may be used within aggregate Values.     </xs:annotation>     </xs:documentation> -->

  </group>

  <!-- ====================================================================== -->

  <element name="_Value" abstract="true" substitutionGroup="gml:_Object">

    <annotation>

      <documentation>Abstract element which acts as the head of a substitution group which contains _ScalarValue, _ScalarValueList and CompositeValue and (transitively) the elements in their substitution groups.  This element may be used in an application schema as a variable, so that in an XML instance document any member of its substitution group may occur.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!-- ================== Scalar Values ========================= -->

  <element name="_ScalarValue" abstract="true" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Abstract element which acts as the head of a substitution group which contains Boolean, Category, Count and Quantity, and (transitively) the elements in their substitution groups.  This element may be used in an application schema as a variable, so that in an XML instance document any member of its substitution group may occur.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <element name="_ScalarValueList" abstract="true" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Abstract element which acts as the head of a substitution group which contains the compact encodings BooleanList, CategoryList, CountList and QuantityList, and (transitively) the elements in their substitution groups.  This element may be used in an application schema as a variable, so that in an XML instance document any member of its substitution group may occur.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!-- ======================= Boolean ======================== -->

  <element name="Boolean" type="boolean" substitutionGroup="gml:_ScalarValue">

    <annotation>

      <documentation>A value from two-valued logic, using the XML Schema boolean type.  An instance may take the values {true, false, 1, 0}.  </documentation>

    </annotation>

  </element>

  <element name="BooleanList" type="gml:booleanOrNullList" substitutionGroup="gml:_ScalarValueList">

    <annotation>

      <documentation>XML List based on XML Schema boolean type.  An element of this type contains a space-separated list of boolean values {0,1,true,false}</documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!-- ======================= Category ========================== -->

  <element name="Category" type="gml:CodeType" substitutionGroup="gml:_ScalarValue">

    <annotation>

      <documentation>A term representing a classification.  It has an optional XML attribute codeSpace, whose value is a URI which identifies a dictionary, codelist or authority for the term.  </documentation>

    </annotation>

  </element>

  <element name="CategoryList" type="gml:CodeOrNullListType" substitutionGroup="gml:_ScalarValueList">

    <annotation>

      <documentation>A space-separated list of terms or nulls.  A single XML attribute codeSpace may be provided, which authorises all the terms in the list.    </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!-- =========================== Quantity ============================ -->

  <element name="Quantity" type="gml:MeasureType" substitutionGroup="gml:_ScalarValue">

    <annotation>

      <documentation>A numeric value with a scale.  The content of the element is an amount using the XML Schema type double which permits decimal or scientific notation.  An XML attribute uom (“unit of measure”) is required, whose value is a URI which identifies the definition of the scale or units by which the numeric value must be multiplied.  </documentation>

    </annotation>

  </element>

  <element name="QuantityList" type="gml:MeasureOrNullListType" substitutionGroup="gml:_ScalarValueList">

    <annotation>

      <documentation>A space separated list of amounts or nulls.  The amounts use the XML Schema type double.  A single XML attribute uom (“unit of measure”) is required, whose value is a URI which identifies the definition of the scale or units by which all the amounts in the list must be multiplied.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!-- ========================== Count ========================== -->

  <element name="Count" type="integer" substitutionGroup="gml:_ScalarValue">

    <annotation>

      <documentation>An integer representing a frequency of occurrence. </documentation>

    </annotation>

  </element>

  <element name="CountList" type="gml:integerOrNullList" substitutionGroup="gml:_ScalarValueList">

    <annotation>

      <documentation>A space-separated list of integers or nulls.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!--                    aggregate Value types                      -->

  <!-- ====================================================================== -->

  <!-- ===================== ValueCollection ========================== -->

  <complexType name="CompositeValueType">

    <annotation>

      <documentation>Aggregate value built from other Values using the Composite pattern. It contains zero or an arbitrary number of valueComponent elements, and zero or one valueComponents elements.  It may be used for strongly coupled aggregates (vectors, tensors) or for arbitrary collections of values.</documentation>

    </annotation>

    <complexContent>

      <extension base="gml:AbstractGMLType">

        <sequence>

          <element ref="gml:valueComponent" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="gml:valueComponents" minOccurs="0"/>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <element name="CompositeValue" type="gml:CompositeValueType" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Aggregate value built using the Composite pattern.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <!-- ========================= ValueArray ========================== -->

  <complexType name="ValueArrayType">

    <annotation>

      <documentation>A Value Array is used for homogeneous arrays of primitive and aggregate values.  The member values may be scalars, composites, arrays or lists.  ValueArray has the same content model as CompositeValue, but the member values must be homogeneous.  The element declaration contains a Schematron constraint which expresses this restriction precisely.            Since the members are homogeneous, the referenceSystem (uom, codeSpace) may be specified on the ValueArray itself and implicitly inherited by all the members if desired.    Note that a_ScalarValueList is preferred for arrays of Scalar Values since this is a more efficient encoding.  </documentation>

    </annotation>

    <complexContent>

      <extension base="gml:CompositeValueType">

        <attributeGroup ref="gml:referenceSystem"/>

      </extension>

    </complexContent>

  </complexType>

  <element name="ValueArray" type="gml:ValueArrayType" substitutionGroup="gml:CompositeValue">

    <annotation>

      <appinfo>

        <sch:pattern name="Check either codeSpace or uom not both">

          <sch:rule context="gml:ValueArray">

            <sch:report test="@codeSpace and @uom">ValueArray may not carry both a reference to a codeSpace and a uom</sch:report>

          </sch:rule>

        </sch:pattern>

        <sch:pattern name="Check components are homogeneous">

          <sch:rule context="gml:ValueArray">

            <sch:assert test="count(gml:valueComponent/*) = count(gml:valueComponent/*[name() = name(../../gml:valueComponent[1]/*[1])])">All components of <sch:name/> must be of the same type</sch:assert>

            <sch:assert test="count(gml:valueComponents/*) = count(gml:valueComponents/*[name() = name(../*[1])])">All components of <sch:name/> must be of the same type</sch:assert>

          </sch:rule>

        </sch:pattern>

      </appinfo>

      <documentation>A Value Array is used for homogeneous arrays of primitive and aggregate values.   _ScalarValueList is preferred for arrays of Scalar Values since this is more efficient.  Since "choice" is not available for attribute groups, an external constraint (e.g. Schematron) would be required to enforce the selection of only one of these through schema validation </documentation>

    </annotation>

  </element>

  <!-- attribute group required for ValueArray -->

  <attributeGroup name="referenceSystem">

    <attribute name="codeSpace" type="anyURI" use="optional"/>

    <attribute name="uom" type="anyURI" use="optional"/>

  </attributeGroup>

  <!-- ====================================================================== -->

  <!-- ====================== Typed ValueExtents ============================ -->

  <element name="QuantityExtent" type="gml:QuantityExtentType" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Utility element to store a 2-point range of numeric values. If one member is a null, then this is a single ended interval. </documentation>

    </annotation>

  </element>

  <!-- -->

  <complexType name="QuantityExtentType">

    <annotation>

      <documentation>Restriction of list type to store a 2-point range of numeric values. If one member is a null, then this is a single ended interval. </documentation>

    </annotation>

    <simpleContent>

      <restriction base="gml:MeasureOrNullListType">

        <length value="2"/>

      </restriction>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="CategoryExtent" type="gml:CategoryExtentType" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Utility element to store a 2-point range of ordinal values. If one member is a null, then this is a single ended interval. </documentation>

    </annotation>

  </element>

  <!-- -->

  <complexType name="CategoryExtentType">

    <annotation>

      <documentation>Restriction of list type to store a 2-point range of ordinal values. If one member is a null, then this is a single ended interval. </documentation>

    </annotation>

    <simpleContent>

      <restriction base="gml:CodeOrNullListType">

        <length value="2"/>

      </restriction>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="CountExtent" type="gml:CountExtentType" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Utility element to store a 2-point range of frequency values. If one member is a null, then this is a single ended interval. </documentation>

    </annotation>

  </element>

  <!-- -->

  <simpleType name="CountExtentType">

    <annotation>

      <documentation>Restriction of list type to store a 2-point range of frequency values. If one member is a null, then this is a single ended interval. </documentation>

    </annotation>

    <restriction base="gml:integerOrNullList">

      <length value="2"/>

    </restriction>

  </simpleType>

  <!-- ====================================================================== -->

  <!-- ===================== pieces needed for compositing ==================== -->

  <element name="valueProperty" type="gml:ValuePropertyType">

    <annotation>

      <documentation>Element which refers to, or contains, a Value</documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <element name="valueComponent" type="gml:ValuePropertyType">

    <annotation>

      <documentation>Element which refers to, or contains, a Value.  This version is used in CompositeValues.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <complexType name="ValuePropertyType">

    <annotation>

      <documentation>GML property which refers to, or contains, a Value</documentation>

    </annotation>

    <sequence>

      <group ref="gml:Value" minOccurs="0"/>

    </sequence>

    <attributeGroup ref="gml:AssociationAttributeGroup"/>

  </complexType>

  <!-- ====================================================================== -->

  <!-- ====================================================================== -->

  <element name="valueComponents" type="gml:ValueArrayPropertyType">

    <annotation>

      <documentation>Element which refers to, or contains, a set of homogeneously typed Values. </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <complexType name="ValueArrayPropertyType">

    <annotation>

      <documentation>GML property which refers to, or contains, a set of homogeneously typed Values. </documentation>

    </annotation>

    <sequence>

      <group ref="gml:Value" maxOccurs="unbounded"/>

    </sequence>

  </complexType>

  <!-- ====================== utility typed valueProperty types ===================  -->

  <complexType name="BooleanPropertyType">

    <annotation>

      <documentation>Property whose content is a Boolean value.</documentation>

    </annotation>

    <complexContent>

      <restriction base="gml:ValuePropertyType">

        <sequence>

          <element ref="gml:Boolean" minOccurs="0"/>

        </sequence>

      </restriction>

    </complexContent>

  </complexType>

  <complexType name="CategoryPropertyType">

    <annotation>

      <documentation>Property whose content is a Category.</documentation>

    </annotation>

    <complexContent>

      <restriction base="gml:ValuePropertyType">

        <sequence>

          <element ref="gml:Category" minOccurs="0"/>

        </sequence>

      </restriction>

    </complexContent>

  </complexType>

  <complexType name="QuantityPropertyType">

    <annotation>

      <documentation>Property whose content is a Quantity.</documentation>

    </annotation>

    <complexContent>

      <restriction base="gml:ValuePropertyType">

        <sequence>

          <element ref="gml:Quantity" minOccurs="0"/>

        </sequence>

      </restriction>

    </complexContent>

  </complexType>

  <complexType name="CountPropertyType">

    <annotation>

      <documentation>Property whose content is a Count.</documentation>

    </annotation>

    <complexContent>

      <restriction base="gml:ValuePropertyType">

        <sequence>

          <element ref="gml:Count" minOccurs="0"/>

        </sequence>

      </restriction>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

</schema>

B.2.2
typedValue


The schema typedValue.xsd defines XML components for augmenting values with properties for semantic typing indicators. The value type is indicated using an XML attribute “axis”.  

Elements declared in this schema are generally substitutable for valueObjects and thus may be used in the results of of Observations.  Typed values are also an important component of phenomenon descriptions as described in the phenomenon schema.  


The target namespace for components from this schema is identified  http://www.opengis.net/om.  

<?xml version="1.0" encoding="UTF-8"?>

<schema targetNamespace="http://www.opengis.net/om" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:om="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.4">

  <annotation>

    <appinfo>TypedValue.xsd</appinfo>

    <documentation>

GML conformant schema for Typed Values 


Compact form for scalar values, adds an "axis" attribute for soft-typing.  


The value of the axis attribute should point to a description of the phenomenon which this value describes


SJDC  2003-01-13


</documentation>

  </annotation>

  <!-- ====================================================================== -->

  <import namespace="http://www.opengis.net/gml" schemaLocation="../gml/base/valueObjects.xsd"/>

  <!-- ====================================================================== -->

  <element name="_TypedValue" substitutionGroup="gml:_Value">

    <annotation>

      <documentation>Typed values have a semantic indicator "axis" added to the value.  


      The abstract element TypedValue is added to the gml:_Value substitution group in order that it may be used in place of the standard values.  


</documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <element name="TypedValue" type="om:TypedValueType" substitutionGroup="gml:_Value"/>

  <complexType name="TypedValueType">

    <annotation>

      <documentation>Typed values have a semantic indicator "axis" added to the value.  


      The abstract element TypedValue is added to the gml:_Value substitution group in order that it may be used in place of the standard values.  


</documentation>

    </annotation>

    <sequence>

      <element ref="gml:valueProperty"/>

    </sequence>

    <attribute name="axis" type="anyURI" use="required"/>

  </complexType>

  <!-- ====================================================================== -->

  <!-- ====================================================================== -->

  <element name="_TypedScalarValue" substitutionGroup="gml:_ScalarValue"/>

  <!-- ====================================================================== -->

  <element name="TypedBoolean" type="om:TypedBooleanType" substitutionGroup="om:_TypedScalarValue"/>

  <complexType name="TypedBooleanType">

    <simpleContent>

      <extension base="boolean">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedCategory" type="om:TypedCategoryType" substitutionGroup="om:_TypedScalarValue"/>

  <complexType name="TypedCategoryType">

    <simpleContent>

      <extension base="gml:CodeType">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedCount" type="om:TypedCountType" substitutionGroup="om:_TypedScalarValue"/>

  <complexType name="TypedCountType">

    <simpleContent>

      <extension base="integer">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedQuantity" type="om:TypedQuantityType" substitutionGroup="om:_TypedScalarValue"/>

  <complexType name="TypedQuantityType">

    <simpleContent>

      <extension base="gml:MeasureType">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="_TypedScalarValueList" substitutionGroup="gml:_ScalarValueList"/>

  <!-- ====================================================================== -->

  <element name="TypedBooleanList" type="om:TypedBooleanListType" substitutionGroup="om:_TypedScalarValueList"/>

  <complexType name="TypedBooleanListType">

    <simpleContent>

      <extension base="gml:booleanOrNullList">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedCategoryList" type="om:TypedCategoryListType" substitutionGroup="om:_TypedScalarValueList"/>

  <complexType name="TypedCategoryListType">

    <simpleContent>

      <extension base="gml:CodeOrNullListType">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedCountList" type="om:TypedCountListType" substitutionGroup="om:_TypedScalarValueList"/>

  <complexType name="TypedCountListType">

    <simpleContent>

      <extension base="gml:integerOrNullList">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedQuantityList" type="om:TypedQuantityListType" substitutionGroup="om:_TypedScalarValueList"/>

  <complexType name="TypedQuantityListType">

    <simpleContent>

      <extension base="gml:MeasureOrNullListType">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </simpleContent>

  </complexType>

  <!-- ======================================================================  -->

  <element name="_TypedScalarValueExtent" substitutionGroup="om:_TypedValue"/>

  <!-- ====================================================================== -->

  <element name="TypedCategoryExtent" type="om:TypedCategoryExtentType" substitutionGroup="om:_TypedScalarValueExtent"/>

  <complexType name="TypedCategoryExtentType">

    <simpleContent>

      <restriction base="om:TypedCategoryListType">

        <length value="2"/>

      </restriction>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedCountExtent" type="om:TypedCountExtentType" substitutionGroup="om:_TypedScalarValueExtent"/>

  <complexType name="TypedCountExtentType">

    <simpleContent>

      <restriction base="om:TypedCountListType">

        <length value="2"/>

      </restriction>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedQuantityExtent" type="om:TypedQuantityExtentType" substitutionGroup="om:_TypedScalarValueExtent"/>

  <complexType name="TypedQuantityExtentType">

    <simpleContent>

      <restriction base="om:TypedQuantityListType">

        <length value="2"/>

      </restriction>

    </simpleContent>

  </complexType>

  <!-- ====================================================================== -->

  <!-- ====================================================================== -->

  <element name="TypedCompositeValue" type="om:TypedCompositeValueType" substitutionGroup="gml:CompositeValue"/>

  <complexType name="TypedCompositeValueType">

    <complexContent>

      <extension base="gml:CompositeValueType">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="TypedValueArray" type="om:TypedValueArrayType" substitutionGroup="gml:ValueArray"/>

  <complexType name="TypedValueArrayType">

    <complexContent>

      <extension base="gml:ValueArrayType">

        <attribute name="axis" type="anyURI" use="required"/>

      </extension>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

</schema>

B.2.3
observedValue


The schema observedValue.xsd defines XML components for augmenting values with properties for semantic typing (observable) and quality indicators. The value type is indicated using an XML element “observable”.  Quality is indicated using one or more XML elements “quality”.  


Elements declared in this schema are generally substitutable for valueObjects.  


The target namespace for components from this schema is identified  http://www.opengis.net/om.  

<?xml version="1.0" encoding="UTF-8"?>

<schema targetNamespace="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:om="http://www.opengis.net/om" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.5">

  <annotation>

    <appinfo>ObservedValue.xsd</appinfo>

    <documentation>

GML conformant schema for Observed Values 


Adds "quality" and “observable” to a Value.   


SJDC  2002-12-24


</documentation>

  </annotation>

  <!-- ====================================================================== -->

  <include schemaLocation="./phenomenon.xsd"/>

  <!-- ====================================================================== -->

  <element name="observable" type="om:PhenomenonPropertyType" substitutionGroup="om:axis"/>

  <!-- ====================================================================== -->

  <element name="ObservedValue" type="om:ObservedValueType" substitutionGroup="gml:CompositeValue">

    <annotation>

      <documentation>Observed value has optional semantic and quality indicators.  


      The concrete element ObservedValue is added to the gml:_Value substitution group in order that it may be used in place of the standard value types.  


The semantic property "axis" or "observable" may be useful in disaggregating the members of a valueCollection. </documentation>

    </annotation>

  </element>

  <!-- -->

  <complexType name="ObservedValueType">

    <annotation>

      <documentation>Observed value has optional semantic and quality indicators.  


Observed Value is a "mapping" from the semantic domain (axis) to the sample range (value) plus some metadata (quality).  </documentation>

    </annotation>

    <sequence>

      <element ref="gml:valueProperty"/>

      <element ref="om:observable"/>

      <element ref="om:quality" maxOccurs="unbounded">

        <annotation>

          <documentation>Observed value has optional quality indicators.  


              Using this component, the components of an aggregate value may have independent quality indicators.</documentation>

        </annotation>

      </element>

    </sequence>

  </complexType>

  <!-- ====================================================================== -->

  <element name="quality">

    <annotation>

      <documentation>

    Intended to store information concerning the quality of the value.  


    An attribute "method" allows the user to indicate what kind of quality indicator this is: absolute limits, SD, 95% confidence, qualitative code, etc.  </documentation>

    </annotation>

    <complexType>

      <choice>

        <element name="Description" type="gml:StringOrRefType">

          <annotation>

            <documentation>Descriptive assessment of data quality</documentation>

          </annotation>

        </element>

        <element name="Rank" type="gml:CodeType">

          <annotation>

            <documentation>Qualitative assessment of data quality</documentation>

          </annotation>

        </element>

        <element name="Error" type="gml:MeasureType">

          <annotation>

            <documentation>Used for error measurements requiring one quantity</documentation>

          </annotation>

        </element>

        <element name="Bounds" type="gml:QuantityExtentType">

          <annotation>

            <documentation>Used for error measurements requiring two quantities on the same scale</documentation>

          </annotation>

        </element>

        <element name="Errors" type="gml:MeasureListType">

          <annotation>

            <documentation>Used for error measurements requiring multiple quantities on the same scale</documentation>

          </annotation>

        </element>

      </choice>

      <attribute name="method" type="anyURI" use="required"/>

    </complexType>

  </element>

  <!-- ====================================================================== -->

</schema>

B.3
Phenomenon Schemas


B.3.1
phenomenon


The schema phenomenon.xsd defines XML components for constructing descriptions of phenomena.  The structures defined in phenomena.xsd are primarily concerned with descriptions derived from primitive types defined using some descriptive technology.  

Elements declared in this schema can be used directly in data instances, or may be used as components of Observed Values, of Observations, and in descriptions of sensors using SensorML.  


The target namespace for components from this schema is identified  http://www.opengis.net/om.  

<?xml version="1.0" encoding="UTF-8"?>

<schema targetNamespace="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:om="http://www.opengis.net/om" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified" version="0.5">

  <annotation>

    <appinfo>observable.xsd</appinfo>

    <documentation>

GML conformant schema for definining Phenomenon Types.  


A phenomenon may be derived from other phenomena through constraints.  


A composite phenomenon may be derived by simple composition or by applying constraint set(s).  


SJDC  2002-12-24


</documentation>

  </annotation>

  <!-- ====================================================================== -->

  <import namespace="http://www.opengis.net/gml" schemaLocation="../gml/base/dictionary.xsd"/>

  <include schemaLocation="./typedValue.xsd"/>

  <!-- ====================================================================== -->

  <complexType name="PhenomenonPropertyType">

    <sequence minOccurs="0">

      <element ref="om:Phenomenon"/>

    </sequence>

    <attributeGroup ref="gml:AssociationAttributeGroup"/>

  </complexType>

  <!-- ====================================================================== -->

  <element name="axis" type="om:PhenomenonPropertyType">

    <annotation>

      <documentation>Property containing a description of, or reference to, an Phenomenon Type.</documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <element name="componentPhenomenon" type="om:PhenomenonPropertyType" substitutionGroup="om:axis">

    <annotation>

      <documentation>Property containing a description of, or reference to, an Phenomenon Type.  


      Alternative name for axis. </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <element name="basePhenomenon" type="om:PhenomenonPropertyType">

    <annotation>

      <documentation>Property containing a description of, or reference to, an Phenomenon Type.  </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <complexType name="PhenomenonReferenceType">

    <complexContent>

      <restriction base="om:PhenomenonPropertyType">

        <sequence/>

        <attributeGroup ref="gml:AssociationAttributeGroup"/>

      </restriction>

    </complexContent>

  </complexType>

  <element name="phenomenonRef" type="om:PhenomenonReferenceType" substitutionGroup="om:axis">

    <annotation>

      <documentation>Property carrying a reference to an Phenomenon Type definition. No content.</documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <element name="Phenomenon" type="gml:DefinitionType" substitutionGroup="gml:Definition"/>

  <!-- ====================================================================== -->

  <element name="ParameterisedPhenomenon" type="om:ParameterisedPhenomenonType" substitutionGroup="om:Phenomenon">

    <annotation>

      <documentation>single component phenomenon - either


      1.  simple definition


      2.  reference to a definition available elsewhere


      3.  parameterised by a single value on one or more auxilliary axes to be applied simultaneously


      </documentation>

    </annotation>

  </element>

  <!-- ====================================================================== -->

  <complexType name="ParameterisedPhenomenonType">

    <complexContent>

      <extension base="gml:DefinitionType">

        <sequence>

          <element ref="om:basePhenomenon"/>

          <element name="constraint" maxOccurs="unbounded">

            <complexType>

              <choice>

                <element ref="om:_TypedScalarValue"/>

                <element ref="om:_TypedScalarValueExtent"/>

              </choice>

            </complexType>

          </element>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <!-- ======================================================================   -->

  <element name="CompositePhenomenon" type="om:CompositePhenomenonType" substitutionGroup="om:Phenomenon">

    <annotation>

      <documentation>phenomenon composed of several components


      3.  composite of discrete non-homogeneous component phenomena


      4.  parameterised by an explicit set of values on each of one or more axes to be applied simultaneously to generate a set of component phenomena


      5.  parameterised by an implicit set of values on each of one or more axes to be applied simultaneously to generate a set of component phenomena


      </documentation>

    </annotation>

  </element>

  <!-- ======================================================================   -->

  <complexType name="CompositePhenomenonType">

    <complexContent>

      <extension base="gml:DefinitionType">

        <choice minOccurs="0">

          <element ref="om:componentPhenomenon" maxOccurs="unbounded"/>

          <sequence>

            <element ref="om:basePhenomenon"/>

            <element name="constraintSet" maxOccurs="unbounded">

              <complexType>

                <choice>

                  <element ref="om:TypedValueArray"/>

                  <element ref="om:_TypedScalarValueList"/>

                  <element ref="om:TypedQuantitySeries"/>

                </choice>

              </complexType>

            </element>

          </sequence>

        </choice>

      </extension>

    </complexContent>

  </complexType>

  <!-- ======================================================================   -->

  <element name="TypedQuantitySeries" type="om:TypedQuantitySeriesType"/>

  <complexType name="TypedQuantitySeriesType">

    <annotation>

      <documentation>A series of equally spaced quantities described using an implicit form.  


      limits - gives the low and high indices of the segment of the series       


      axis - indicates the phenomenon which this series of values describes 


      origin - gives the base position corresponding to the value with index=0


      offset - gives the span increment used to generate the other values


      structure - indicates whether the positions in the series relate to point values or intervals


</documentation>

    </annotation>

    <sequence>

      <element name="limits" type="gml:CountExtentType"/>

      <element name="axis" type="anyURI"/>

      <element name="origin" type="gml:MeasureType"/>

      <element name="offset" type="gml:MeasureType"/>

      <element name="structure" type="om:GridStructureType" default="point" minOccurs="0"/>

    </sequence>

  </complexType>

  <simpleType name="integerPair">

    <restriction base="gml:integerList">

      <length value="2"/>

    </restriction>

  </simpleType>

  <simpleType name="GridStructureType">

    <annotation>

      <documentation>structure indicates how the positions in the grid should be used to construct the members of the grid, with the values: 


    point if the members have zero width, with the grid positions used directly, giving a total count of (high-low+1)


post if the members have a width equal to the offset, and grid positions delimit cells, with a total count of (high-low)


center if the members have a width equal to the offset, and grid cells are centered on the grid positions, with a total count of (high-low+1).  


    </documentation>

    </annotation>

    <restriction base="string">

      <enumeration value="point"/>

      <enumeration value="post"/>

      <enumeration value="center"/>

    </restriction>

  </simpleType>

  <!-- ======================================================================   -->

</schema>

B.4
Observation Schemas


B.4.1
observation


The GML schema observation.xsd defines XML components for simple observations.   For more documentation, refer to the GML3 specification [GML3].  


The target namespace for components from this schema is the GML namespace, identified  http://www.opengis.net/gml.  


<?xml version="1.0" encoding="UTF-8"?>

<schema targetNamespace="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" version="3.00">

  <annotation>

    <appinfo source="urn:opengis:specification:gml:schema-xsd:observation:v3.00">observation.xsd</appinfo>

    <documentation>Observation schema for GML 3.0     


    </documentation>

  </annotation>

  <!-- =================================================================== -->

  <!-- ===       includes and imports ============================================ -->

  <include schemaLocation="feature.xsd"/>

  <include schemaLocation="direction.xsd"/>

  <!-- =================================================================== -->

  <!-- =================== properties =================================== -->

  <element name="using" type="gml:FeaturePropertyType">

    <annotation>

      <documentation>This element contains or points to a description of a sensor, instrument or procedure used for the observation</documentation>

    </annotation>

  </element>

  <!-- =================================================================== -->

  <element name="target" type="gml:TargetPropertyType">

    <annotation>

      <documentation>This element contains or points to the specimen, region or station which is the object of the observation</documentation>

    </annotation>

  </element>

  <!-- =================================================================== -->

  <element name="subject" type="gml:TargetPropertyType" substitutionGroup="gml:target">

    <annotation>

      <documentation>Synonym for target - common word used for photographs</documentation>

    </annotation>

  </element>

  <!-- =================================================================== -->

  <complexType name="TargetPropertyType">

    <annotation>

      <documentation>Container for an object representing the target or subject of an observation.</documentation>

    </annotation>

    <choice minOccurs="0">

      <element ref="gml:_Feature"/>

      <element ref="gml:_Geometry"/>

    </choice>

    <attributeGroup ref="gml:AssociationAttributeGroup"/>

  </complexType>

  <!-- =================================================================== -->

  <element name="resultOf" type="gml:AssociationType">

    <annotation>

      <documentation>The result of the observation: an image, external object, etc</documentation>

    </annotation>

  </element>

  <!-- =================================================================== -->

  <!-- ===================== Features =========================== -->

  <element name="Observation" type="gml:ObservationType" substitutionGroup="gml:_Feature"/>

  <!-- =========================================================== -->

  <complexType name="ObservationType">

    <complexContent>

      <extension base="gml:AbstractFeatureType">

        <sequence>

          <element ref="gml:timeStamp"/>

          <element ref="gml:using" minOccurs="0"/>

          <element ref="gml:target" minOccurs="0"/>

          <element ref="gml:resultOf"/>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <!-- =========================================================== -->

  <element name="DirectedObservation" type="gml:DirectedObservationType" substitutionGroup="gml:_Feature"/>

  <!-- =========================================================== -->

  <complexType name="DirectedObservationType">

    <complexContent>

      <extension base="gml:ObservationType">

        <sequence>

          <element ref="gml:direction"/>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <!-- =========================================================== -->

</schema>

B.4.2
richObservation


The schema richObservation.xsd enhances the GML observation schema in two areas:


1. the feature type RichObservation has additional properties to allow typing of the observation, some indication of quality, and links to related features;


2. components for ObservationCollection and ObservationArray are defined.


The main elements declared in this schema are generally substitutable for gml:Observation and gml:FeatureCollection.  


Also included in this schema are a set of convenience features 


· Station, Specimen and Region, may be used to provide brief descriptions of the targets of observations; 


· Procedure, does the same for sensors and procedures.  


These elements may be considered placeholders for more elaborate feature types that may be defined elsewhere.   


Also, the element om:using is substituted for gml:using.  om:using has a content model restricted relative such that it must contain a Procedure, rather than an arbitrary Feature.  


The target namespace for components from this schema is identified  http://www.opengis.net/om.  

<?xml version="1.0" encoding="UTF-8"?>

<schema targetNamespace="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:om="http://www.opengis.net/om" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.25">

  <annotation>

    <documentation>

SWEobservation.xsd


A GML conformant schema for rich Observations and Measurements


SJDC  2003-01-30


</documentation>

  </annotation>

  <!-- ====================================================================== -->

  <!-- bring in other schemas -->

  <import namespace="http://www.opengis.net/gml" schemaLocation="./observationAndValue.xsd"/>

  <include schemaLocation="./observedValue.xsd"/>

  <!-- ====================================================================== -->

  <!-- Observation -->

  <element name="RichObservation" type="om:RichObservationType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <complexType name="RichObservationBaseType">

    <annotation>

      <documentation>   base gml:Observation 


            restricts 


            using - must contain or point to a Procedure or Sensor


</documentation>

    </annotation>

    <complexContent>

      <restriction base="gml:ObservationType">

        <sequence>

          <element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="gml:description" minOccurs="0"/>

          <element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="gml:boundedBy" minOccurs="0"/>

          <element ref="gml:location" minOccurs="0"/>

          <element ref="gml:timeStamp"/>

          <element ref="om:using" minOccurs="0"/>

          <element ref="gml:target" minOccurs="0"/>

          <element ref="gml:resultOf"/>

        </sequence>

      </restriction>

    </complexContent>

  </complexType>

  <complexType name="RichObservationType">

    <annotation>

      <documentation>   


            add 


            observable - identifes the phenomenon being sampled


            quality - some basic quality indications on the result


            relatedFeature - is a pointer to any other arbitrary feature


</documentation>

    </annotation>

    <complexContent>

      <extension base="om:RichObservationBaseType">

        <sequence>

          <element ref="om:observable" minOccurs="0"/>

          <element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

  <!-- Observation Collections -->

  <element name="ObservationCollection" type="om:ObservationCollectionType" substitutionGroup="gml:FeatureCollection"/>

  <!-- -->

  <complexType name="ObservationCollectionBaseType">

    <annotation>

      <documentation>restrict member types</documentation>

    </annotation>

    <complexContent>

      <restriction base="gml:FeatureCollectionType">

        <sequence>

          <element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="gml:description" minOccurs="0"/>

          <element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="gml:boundedBy"/>

          <element ref="gml:location" minOccurs="0">

            <annotation>

              <documentation>use the location property on a collection if all the members have the same location</documentation>

            </annotation>

          </element>

          <element ref="om:observationMember" minOccurs="0" maxOccurs="unbounded"/>

          <element ref="om:observationMembers" minOccurs="0"/>

        </sequence>

      </restriction>

    </complexContent>

  </complexType>

  <!-- -->

  <complexType name="ObservationCollectionType">

    <annotation>

      <documentation>add timeStamp, target and relatedFeature</documentation>

    </annotation>

    <complexContent>

      <extension base="om:ObservationCollectionBaseType">

        <sequence>

          <element ref="gml:timeStamp" minOccurs="0">

            <annotation>

              <documentation>use the timeStamp property on a collection if all the member observations have the same timeStamp</documentation>

            </annotation>

          </element>

          <element ref="gml:target" minOccurs="0">

            <annotation>

              <documentation>use single target property on a collection if all the member observations have the same target</documentation>

            </annotation>

          </element>

          <element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="ObservationArray" type="om:ObservationArrayType" substitutionGroup="om:ObservationCollection"/>

  <!-- -->

  <complexType name="ObservationArrayType">

    <annotation>

      <documentation>

      As observationCollection, except has homogeneous member observations 


      Thus the array may carry the observable and using .  


      </documentation>

    </annotation>

    <complexContent>

      <extension base="om:ObservationCollectionType">

        <sequence>

          <element ref="om:using" minOccurs="0">

            <annotation>

              <documentation>use the using property on an array if all the member observations use the same procedure</documentation>

            </annotation>

          </element>

          <element ref="om:observable" minOccurs="0">

            <annotation>

              <documentation>use the observable property on an array to indicate the phenomenon of interest</documentation>

            </annotation>

          </element>

        </sequence>

      </extension>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

  <element name="observationProperty" type="om:ObservationPropertyType" substitutionGroup="gml:featureProperty"/>

  <!-- -->

  <complexType name="ObservationPropertyType">

    <complexContent>

      <restriction base="gml:FeaturePropertyType">

        <choice minOccurs="0">

          <element ref="gml:Observation"/>

          <element ref="om:ObservationCollection"/>

        </choice>

        <attributeGroup ref="gml:AssociationAttributeGroup"/>

      </restriction>

    </complexContent>

  </complexType>

  <!-- components of observation Collections -->

  <element name="observationMember" type="om:ObservationPropertyType" substitutionGroup="gml:featureMember"/>

  <!-- ====================================================================== -->

  <element name="observationMembers" type="om:ObservationArrayPropertyType" substitutionGroup="gml:featureMembers"/>

  <!-- -->

  <complexType name="ObservationArrayPropertyType">

    <complexContent>

      <restriction base="gml:FeatureArrayPropertyType">

        <choice minOccurs="0" maxOccurs="unbounded">

          <element ref="gml:Observation"/>

          <element ref="om:ObservationCollection"/>

        </choice>

      </restriction>

    </complexContent>

  </complexType>

  <!-- ====================================================================== -->

  <!-- Related Features -->

  <element name="relatedFeature" type="gml:FeaturePropertyType"/>

  <!-- -->

  <element name="relatedObservation" type="om:ObservationPropertyType" substitutionGroup="om:relatedFeature"/>

  <!-- ===================================================================== -->

  <complexType name="TargetObjectType">

    <annotation>

      <documentation>Concrete feature type.</documentation>

    </annotation>

    <complexContent>

      <extension base="gml:AbstractFeatureType"/>

    </complexContent>

  </complexType>

  <element name="Station" type="om:TargetObjectType" substitutionGroup="gml:_Feature"/>

  <element name="Region" type="om:TargetObjectType" substitutionGroup="gml:_Feature"/>

  <element name="Specimen" type="om:TargetObjectType" substitutionGroup="gml:_Feature"/>

  <!-- ===================================================================== -->

  <complexType name="ProcedureType">

    <annotation>

      <documentation>Concrete feature type.</documentation>

    </annotation>

    <complexContent>

      <extension base="gml:AbstractFeatureType"/>

    </complexContent>

  </complexType>

  <element name="Procedure" type="om:ProcedureType" substitutionGroup="gml:_Feature"/>

  <!-- ====================================================================== -->

  <element name="using" type="om:ProcedurePropertyType" substitutionGroup="gml:using">

    <annotation>

      <documentation>This element contains or points to a description of a sensor, instrument or procedure used for the observation</documentation>

    </annotation>

  </element>

  <complexType name="ProcedurePropertyType">

    <complexContent>

      <restriction base="gml:FeaturePropertyType">

        <sequence>

          <element ref="om:Procedure" minOccurs="0"/>

        </sequence>

        <attributeGroup ref="gml:AssociationAttributeGroup"/>

      </restriction>

    </complexContent>

  </complexType>

  <!-- =================================================================== -->

</schema>

 B.4.3
fowler


The schema fowler.xsd defines certain specialised observations Measurement, CategoryObservation, CountObservation, BooleanObservation, GeometryObservation and TemporalObservation, whose results are constrained to be either quantity, category, boolean, count, geometry, or time objects.  The classification is inspired by Fowlers analysis [FOW1998].  


These special observations are all substitutable for gml:Observation.  


The target namespace for components from this schema is identified  http://www.opengis.net/om.  

<?xml version="1.0" encoding="UTF-8"?>

<xs:schema targetNamespace="http://www.opengis.net/om" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:om="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.3">

  <xs:annotation>

    <xs:documentation>

fowler.xsd


Typed observations, using Fowler's [1998] Analysis Patterns terminology


2003-01-30


</xs:documentation>

  </xs:annotation>

  <!-- ====================================================================== -->

  <!-- bring in other schemas -->

  <xs:include schemaLocation="./richObservation.xsd"/>

  <!-- ====================================================================== -->

  <!-- Measurement -->

  <xs:element name="Measurement" type="om:MeasurementType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <xs:complexType name="MeasurementType">

    <xs:annotation>

      <xs:documentation> Restrict resultOf to be quantityResult, observable to be measurand


</xs:documentation>

    </xs:annotation>

    <xs:complexContent>

      <xs:restriction base="om:RichObservationType">

        <xs:sequence>

          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:description" minOccurs="0"/>

          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:boundedBy" minOccurs="0"/>

          <xs:element ref="gml:location" minOccurs="0"/>

          <xs:element ref="gml:timeStamp"/>

          <xs:element ref="om:using" minOccurs="0"/>

          <xs:element ref="gml:target" minOccurs="0"/>

          <xs:element ref="om:quantityResult"/>

          <xs:element ref="om:measurand" minOccurs="0"/>

          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </xs:sequence>

      </xs:restriction>

    </xs:complexContent>

  </xs:complexType>

  <!-- -->

  <xs:element name="measurand" type="om:PhenomenonPropertyType" substitutionGroup="om:observable">

    <xs:annotation>

      <xs:documentation>Substitute measurand for observable if the result is a quantity and the observation is made using a sensor with a single element.</xs:documentation>

    </xs:annotation>

  </xs:element>

  <!-- -->

  <xs:element name="quantityResult" type="gml:QuantityPropertyType" substitutionGroup="gml:resultOf"/>

  <!-- ====================================================================== -->

  <!-- CategoryObservation -->

  <xs:element name="CategoryObservation" type="om:CategoryObservationType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <xs:complexType name="CategoryObservationType">

    <xs:annotation>

      <xs:documentation> Restrict resultOf to be categoryResult


</xs:documentation>

    </xs:annotation>

    <xs:complexContent>

      <xs:restriction base="om:RichObservationType">

        <xs:sequence>

          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:description" minOccurs="0"/>

          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:boundedBy" minOccurs="0"/>

          <xs:element ref="gml:location" minOccurs="0"/>

          <xs:element ref="gml:timeStamp"/>

          <xs:element ref="om:using" minOccurs="0"/>

          <xs:element ref="gml:target" minOccurs="0"/>

          <xs:element ref="om:categoryResult"/>

          <xs:element ref="om:observable" minOccurs="0"/>

          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </xs:sequence>

      </xs:restriction>

    </xs:complexContent>

  </xs:complexType>

  <!-- -->

  <xs:element name="categoryResult" type="gml:CategoryPropertyType" substitutionGroup="gml:resultOf"/>

  <!-- ====================================================================== -->

  <!-- CountObservation -->

  <xs:element name="CountObservation" type="om:CountObservationType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <xs:complexType name="CountObservationType">

    <xs:annotation>

      <xs:documentation> Restrict resultOf to be countResult


</xs:documentation>

    </xs:annotation>

    <xs:complexContent>

      <xs:restriction base="om:RichObservationType">

        <xs:sequence>

          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:description" minOccurs="0"/>

          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:boundedBy" minOccurs="0"/>

          <xs:element ref="gml:location" minOccurs="0"/>

          <xs:element ref="gml:timeStamp"/>

          <xs:element ref="om:using" minOccurs="0"/>

          <xs:element ref="gml:target" minOccurs="0"/>

          <xs:element ref="om:countResult"/>

          <xs:element ref="om:observable" minOccurs="0"/>

          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </xs:sequence>

      </xs:restriction>

    </xs:complexContent>

  </xs:complexType>

  <!-- -->

  <xs:element name="countResult" type="gml:CountPropertyType" substitutionGroup="gml:resultOf"/>

  <!-- ====================================================================== -->

  <!-- BooleanObservation -->

  <xs:element name="BooleanObservation" type="om:BooleanObservationType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <xs:complexType name="BooleanObservationType">

    <xs:annotation>

      <xs:documentation> Restrict resultOf to be booleanResult


</xs:documentation>

    </xs:annotation>

    <xs:complexContent>

      <xs:restriction base="om:RichObservationType">

        <xs:sequence>

          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:description" minOccurs="0"/>

          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:boundedBy" minOccurs="0"/>

          <xs:element ref="gml:location" minOccurs="0"/>

          <xs:element ref="gml:timeStamp"/>

          <xs:element ref="om:using" minOccurs="0"/>

          <xs:element ref="gml:target" minOccurs="0"/>

          <xs:element ref="om:booleanResult"/>

          <xs:element ref="om:observable" minOccurs="0"/>

          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </xs:sequence>

      </xs:restriction>

    </xs:complexContent>

  </xs:complexType>

  <!-- -->

  <xs:element name="booleanResult" type="gml:BooleanPropertyType" substitutionGroup="gml:resultOf"/>

  <!-- ====================================================================== -->

  <!-- GeometryObservation -->

  <xs:element name="GeometryObservation" type="om:GeometryObservationType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <xs:complexType name="GeometryObservationType">

    <xs:annotation>

      <xs:documentation> Restrict resultOf to be geometryResult


</xs:documentation>

    </xs:annotation>

    <xs:complexContent>

      <xs:restriction base="om:RichObservationType">

        <xs:sequence>

          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:description" minOccurs="0"/>

          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:boundedBy" minOccurs="0"/>

          <xs:element ref="gml:location" minOccurs="0"/>

          <xs:element ref="gml:timeStamp"/>

          <xs:element ref="om:using" minOccurs="0"/>

          <xs:element ref="gml:target" minOccurs="0"/>

          <xs:element ref="om:geometryResult"/>

          <xs:element ref="om:observable" minOccurs="0"/>

          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </xs:sequence>

      </xs:restriction>

    </xs:complexContent>

  </xs:complexType>

  <!-- -->

  <xs:element name="geometryResult" type="gml:GeometryPropertyType" substitutionGroup="gml:resultOf"/>

  <!-- ====================================================================== -->

  <!-- TemporalObservation -->

  <xs:element name="TemporalObservation" type="om:TemporalObservationType" substitutionGroup="gml:Observation"/>

  <!-- -->

  <xs:complexType name="TemporalObservationType">

    <xs:annotation>

      <xs:documentation> Restrict resultOf to be temporalResult


</xs:documentation>

    </xs:annotation>

    <xs:complexContent>

      <xs:restriction base="om:RichObservationType">

        <xs:sequence>

          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:description" minOccurs="0"/>

          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="gml:boundedBy" minOccurs="0"/>

          <xs:element ref="gml:location" minOccurs="0"/>

          <xs:element ref="gml:timeStamp"/>

          <xs:element ref="om:using" minOccurs="0"/>

          <xs:element ref="gml:target" minOccurs="0"/>

          <xs:element ref="om:temporalResult"/>

          <xs:element ref="om:observable" minOccurs="0"/>

          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/>

          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/>

        </xs:sequence>

      </xs:restriction>

    </xs:complexContent>

  </xs:complexType>

  <!-- -->

  <xs:element name="temporalResult" type="gml:TimePrimitivePropertyType" substitutionGroup="gml:resultOf"/>

  <!-- ====================================================================== -->

</xs:schema>

Annex C: Extended examples
(informative)

C.1
SAIC Weather Station Observations

This example is an ObservationArray, containing a set of member Observations made at weather stations.  The result of each of each of these is a CompositeValue.  The structure of the composite value is described by the CompositePhenomenon that is the value of the observable property on the array.  The Stations are listed in a FeatureCollection in a relatedFeature, and then indicated by reference on the individual Observations.  In this example the sensor is not identified.  


    <om:ObservationArray gml:id="SAICw1">

      <gml:name>SAIC Weather Monitoring System</gml:name>

      <gml:boundedBy>

        <gml:Envelope>

          <gml:pos>-116.96666666666667 32.626111111111108</gml:pos>

          <gml:pos>-116.46833333333333 32.833333333333336</gml:pos>

        </gml:Envelope>

      </gml:boundedBy>

      <om:observationMembers>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-01-18T20:47:00.000</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#KSEE"/>

          <gml:resultOf>

            <gml:CompositeValue>

              <gml:valueComponents>

                <gml:Category codeSpace="terms.xml#cloudcovercode">BKN</gml:Category>

                <gml:Quantity uom="units.xml#Celsius">21.0</gml:Quantity>

                <gml:Quantity uom="units.xml#RHpercent">23</gml:Quantity>

                <gml:Null>missing</gml:Null>

                <gml:Quantity uom="units.xml#eastOfNorth">270</gml:Quantity>

                <gml:Quantity uom="units.xml#mps">6.0</gml:Quantity>

              </gml:valueComponents>

            </gml:CompositeValue>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-01-18T20:52:00.000</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#KCZZ"/>

          <gml:resultOf>

            <gml:CompositeValue>

              <gml:valueComponents>

                <gml:Null>missing</gml:Null>

                <gml:Quantity uom="units.xml#Celsius">13.0</gml:Quantity>

                <gml:Quantity uom="units.xml#RHpercent">23</gml:Quantity>

                <gml:Quantity uom="units.xml#hPa">1018.0</gml:Quantity>

                <gml:Quantity uom="units.xml#eastOfNorth">70</gml:Quantity>

                <gml:Quantity uom="units.xml#mps">18.0</gml:Quantity>

              </gml:valueComponents>

            </gml:CompositeValue>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMembers>

      <om:relatedFeature xlink:role="stations">

        <gml:FeatureCollection gml:id="SAICSamplingStations">

          <gml:description>List of stations used</gml:description>

          <gml:boundedBy>

            <gml:Envelope>

              <gml:pos>-116.96666666666667 32.626111111111108</gml:pos>

              <gml:pos>-116.46833333333333 32.833333333333336</gml:pos>

            </gml:Envelope>

          </gml:boundedBy>

          <gml:featureMembers>

            <om:Station gml:id="KSEE">

              <gml:name>San Diego / Gillespie, United States</gml:name>

              <gml:location>

                <gml:Point>

                  <gml:pos>-116.96666666666667 32.833333333333336</gml:pos>

                </gml:Point>

              </gml:location>

            </om:Station>

            <om:Station gml:id="KCZZ">

              <gml:name>Campo, United States</gml:name>

              <gml:location>

                <gml:Point>

                  <gml:pos>-116.46833333333333 32.626111111111108</gml:pos>

                </gml:Point>

              </gml:location>

            </om:Station>

          </gml:featureMembers>

        </gml:FeatureCollection>

      </om:relatedFeature>

      <om:observable>

        <om:CompositePhenomenon gml:id="weather">

          <gml:name>Weather</gml:name>

          <om:componentPhenomenon xlink:href="phenomena.xml#cloudcover"/>

          <om:componentPhenomenon xlink:href="phenomena.xml#temperature"/>

          <om:componentPhenomenon xlink:href="phenomena.xml#humidity"/>

          <om:componentPhenomenon xlink:href="phenomena.xml#pressure"/>

          <om:componentPhenomenon xlink:href="phenomena.xml#windDirection"/>

          <om:componentPhenomenon xlink:href="phenomena.xml#windSpeed"/>

        </om:CompositePhenomenon>

      </om:observable>

    </om:ObservationArray>

C.2
Polexis Air Monitoring System

This example is an ObservationCollection, containing several member ObservationCollections, in turn containing a different set of ObservationArrays of time-series of Observations of several air quality parameters.  The station descriptions are collected in a FeatureCollection in a relatedFeature.  


    <om:ObservationCollection gml:id="NYSair1">

      <gml:name>New York State Ambient Air Monitoring System</gml:name>

      <gml:boundedBy>

        <gml:Null>unknown</gml:Null>

      </gml:boundedBy>

      <om:observationMember>

        <om:ObservationCollection>

          <gml:boundedBy>

            <gml:Null>unknown</gml:Null>

          </gml:boundedBy>

          <om:observationMember>

            <om:ObservationArray>

              <gml:boundedBy>

                <gml:Null>unknown</gml:Null>

              </gml:boundedBy>

              <om:observationMembers>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T12:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ppm">0.016</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T13:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ppm">0.016</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T14:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ppm">0.014</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

              </om:observationMembers>

              <om:observable xlink:href="http://www.opengis.net/ows/observableTypes#SO2"/>

            </om:ObservationArray>

          </om:observationMember>

          <om:observationMember>

            <om:ObservationArray>

              <gml:boundedBy>

                <gml:Null>unknown</gml:Null>

              </gml:boundedBy>

              <om:observationMembers>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T23:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ppm">0.015</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-15T00:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ppm">0.015</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-15T01:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ppm">0.015</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

              </om:observationMembers>

              <om:observable xlink:href="http://www.opengis.net/ows/observableTypes#24HrSO2"/>

            </om:ObservationArray>

          </om:observationMember>

          <gml:target xlink:href="#_709310"/>

        </om:ObservationCollection>

      </om:observationMember>

      <om:observationMember>

        <om:ObservationCollection>

          <gml:boundedBy>

            <gml:Null>unknown</gml:Null>

          </gml:boundedBy>

          <om:observationMember>

            <om:ObservationArray>

              <gml:boundedBy>

                <gml:Null>unknown</gml:Null>

              </gml:boundedBy>

              <om:observationMembers>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T12:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ugperm3">17.62</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T13:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ugperm3">13.9</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

                <gml:Observation>

                  <gml:timeStamp>

                    <gml:TimeInstant>

                      <gml:timePosition>2002-01-14T14:00:00Z</gml:timePosition>

                    </gml:TimeInstant>

                  </gml:timeStamp>

                  <gml:resultOf>

                    <gml:Quantity uom="#ugperm3">18.37</gml:Quantity>

                  </gml:resultOf>

                </gml:Observation>

              </om:observationMembers>

              <om:observable xlink:href="http://www.opengis.net/ows/observableTypes#PM2.5"/>

            </om:ObservationArray>

          </om:observationMember>

          <om:observationMember xlink:href="anotherArraySomewhere"/>

          <gml:target xlink:href="#_709315"/>

        </om:ObservationCollection>

      </om:observationMember>

      <om:relatedFeature xlink:role="stations">

        <gml:FeatureCollection gml:id="NYSairSamplingStations">

          <gml:description>List of stations used</gml:description>

          <gml:boundedBy>

            <gml:Envelope>

              <gml:pos>-73.96708 40.75982</gml:pos>

              <gml:pos>-73.93094 40.84886</gml:pos>

            </gml:Envelope>

          </gml:boundedBy>

          <gml:featureMembers>

            <om:Station gml:id="_709310">

              <gml:description xlink:href="http://www.dec.state.ny.us/website/dar/bts/airmon/709310site.htm"/>

              <gml:name>P.S. 59</gml:name>

              <gml:location>

                <gml:Point srsName="epsg:4256">

                  <gml:pos>-73.96708 40.75982</gml:pos>

                </gml:Point>

              </gml:location>

            </om:Station>

            <om:Station gml:id="_709315">

              <gml:description xlink:href="http//www.dec.state.ny.us/website/dar/bts/airmon/709315site.htm"/>

              <gml:name>IS 143</gml:name>

              <gml:location>

                <gml:Point srsName="epsg:4256">

                  <gml:pos>-73.93094 40.84886</gml:pos>

                </gml:Point>

              </gml:location>

            </om:Station>

          </gml:featureMembers>

        </gml:FeatureCollection>

      </om:relatedFeature>

    </om:ObservationCollection>


C.3
Gravity Survey


A Gravity Survey is packaged as an observationArray, whose members are Observations of gravity at different locations.  In this case it is a requirement to record the error for each measurement separately, so the RichObservation is used.  The locations are defined through Stations, a collection of which is collected in a relatedFeature of the survey.  All measurement used the same instrument, so the using (and observable) property is on the array.  A reference station is recorded in another relatedFeature.  


    <om:ObservationArray gml:id="GravitySurvey2001">

      <gml:description>Small Gravity Survey</gml:description>

      <gml:name>2001 Survey 1</gml:name>

      <gml:boundedBy>

        <gml:EnvelopeWithTimePeriod>

          <gml:pos>115.88 -32.20 23.</gml:pos>

          <gml:pos>115.95 -31.95 40.</gml:pos>

          <gml:timePosition>2001-09-22</gml:timePosition>

          <gml:timePosition>2001-09-22</gml:timePosition>

        </gml:EnvelopeWithTimePeriod>

      </gml:boundedBy>

      <om:observationMembers>

        <om:RichObservation gml:id="OG1">

          <gml:description> ... comments - information on processing history, etc ... </gml:description>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-09-22</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#GravityStation1"/>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#m_s2">9.87001</gml:Quantity>

          </gml:resultOf>

          <om:quality method="methods.xml#gravError">

            <om:Error uom="units.xml#m_s2">0.00002</om:Error>

          </om:quality>

          <om:relatedFeature xlink:role="previous observation" xlink:href="http://www.ned.dem.csiro.au/XMML/gravity/surveys/99#OG32"/>

          <om:relatedFeature xlink:role="Parent Survey" xlink:href="#GravitySurvey2001"/>

        </om:RichObservation>

        <om:RichObservation gml:id="OG2">

          <gml:description> ... comments - information on processing history, etc ... </gml:description>

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-09-22</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#GravityStation2"/>

          <gml:resultOf>

            <gml:Quantity uom="units.xml#m_s2">9.86678</gml:Quantity>

          </gml:resultOf>

          <om:quality method="methods.xml#gravError">

            <om:Error uom="units.xml#m_s2">0.000022</om:Error>

          </om:quality>

          <om:relatedFeature xlink:role="Parent Survey" xlink:href="#GravitySurvey2001"/>

        </om:RichObservation>

      </om:observationMembers>

      <om:relatedFeature xlink:role="locations">

        <gml:FeatureCollection gml:id="GravityStations2001">

          <gml:description>List of stations occupied in this survey</gml:description>

          <gml:boundedBy>

            <gml:Envelope>

              <gml:pos>115.88 -32.20 23.</gml:pos>

              <gml:pos>115.95 -31.95 40.</gml:pos>

            </gml:Envelope>

          </gml:boundedBy>

          <gml:featureMember>

            <om:Station gml:id="GravityStation1">

              <gml:description>road junction</gml:description>

              <gml:location>

                <gml:Point srsName="SRS1" gml:id="point1">

                  <gml:pos>115.88 -31.95 23.</gml:pos>

                </gml:Point>

              </gml:location>

            </om:Station>

          </gml:featureMember>

          <gml:featureMember>

            <om:Station gml:id="GravityStation2">

              <gml:description>benchmark outside Post Office</gml:description>

              <gml:location>

                <gml:Point srsName="SRS1" gml:id="point2">

                  <gml:pos>115.95 -32.20 40.</gml:pos>

                </gml:Point>

              </gml:location>

            </om:Station>

          </gml:featureMember>

        </gml:FeatureCollection>

      </om:relatedFeature>

      <om:relatedFeature xlink:role="Reference Station" xlink:href="http://www.agso.gov.au/gravity/stations#ref045"/>

      <om:using xlink:href="sensors.xml#gm1"/>

      <om:observable xlink:href="phenomena.xml#gravity"/>

    </om:ObservationArray>


C.4
Assay Samples from a Drillhole

A set of multi-element assays, made on samples taken from a drillhole.  The results were using a particular laboratory using a specified procedure.  Each result is a CompositeValue, whose structure is defined by a CompositePhenomenon, each of whose members is a ParameterisedPhenomenon defining the concentration of the chemical species of interest.  The list of Specimens is collected in a relatedFeature.  The location of each Specimen is given as an interval within the spatial reference system represented by the drillhole survey.  


    <om:ObservationArray gml:id="ANA-67403">

      <gml:description>Composite assays for a set of samples</gml:description>

      <gml:boundedBy>

        <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722">

          <gml:pos>35.2</gml:pos>

          <gml:pos>36.7</gml:pos>

        </gml:Envelope>

      </gml:boundedBy>

      <om:observationMembers>

        <gml:Observation gml:id="SR722410">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-10-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#DR722410"/>

          <gml:resultOf>

            <gml:CompositeValue>

              <gml:valueComponents>

                <gml:Quantity uom="#ppm">185</gml:Quantity>

                <gml:Quantity uom="#percent">0.86</gml:Quantity>

                <gml:Quantity uom="#ppm">159</gml:Quantity>

              </gml:valueComponents>

            </gml:CompositeValue>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="SR722411">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-10-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#DR722411"/>

          <gml:resultOf>

            <gml:CompositeValue>

              <gml:valueComponents>

                <gml:Quantity uom="#ppm">190</gml:Quantity>

                <gml:Quantity uom="#percent">0.86</gml:Quantity>

                <gml:Quantity uom="#ppm">159</gml:Quantity>

              </gml:valueComponents>

            </gml:CompositeValue>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="SR722412">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2001-10-13</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target xlink:href="#DR722412"/>

          <gml:resultOf>

            <gml:CompositeValue>

              <gml:valueComponents>

                <gml:Quantity uom="#ppm">17</gml:Quantity>

                <gml:Null>missing</gml:Null>

                <gml:Quantity uom="#ppm">5</gml:Quantity>

              </gml:valueComponents>

            </gml:CompositeValue>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMembers>

      <om:relatedFeature xlink:role="Specimens">

        <gml:FeatureCollection gml:id="SpecimenCollectionA">

          <gml:boundedBy>

            <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722">

              <gml:pos>35.2</gml:pos>

              <gml:pos>36.7</gml:pos>

            </gml:Envelope>

          </gml:boundedBy>

          <gml:featureMembers>

            <om:Specimen gml:id="DR722410">

              <gml:location>

                <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722">

                  <gml:pos>35.2</gml:pos>

                  <gml:pos>35.7</gml:pos>

                </gml:Envelope>

              </gml:location>

            </om:Specimen>

            <om:Specimen gml:id="DR722411">

              <gml:location>

                <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722">

                  <gml:pos>35.7</gml:pos>

                  <gml:pos>36.2</gml:pos>

                </gml:Envelope>

              </gml:location>

            </om:Specimen>

            <om:Specimen gml:id="DR722412">

              <gml:location>

                <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722">

                  <gml:pos>36.2</gml:pos>

                  <gml:pos>36.7</gml:pos>

                </gml:Envelope>

              </gml:location>

            </om:Specimen>

          </gml:featureMembers>

        </gml:FeatureCollection>

      </om:relatedFeature>

      <om:using xlink:href="http://my.analytical.lab.com#procedure54"/>

      <om:observable>

        <om:CompositePhenomenon gml:id="assaySuite54">

          <gml:name>Assay Suite number 54</gml:name>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="AsConcentration">

              <gml:name>Arsenic concentration</gml:name>

              <om:basePhenomenon xlink:href="#ChemicalConcentration"/>

              <om:constraint>

                <om:TypedCategory axis="phenomena.xml#chemicalSpecies">As</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="CuConcentration">

              <gml:name>Copper concentration</gml:name>

              <om:basePhenomenon xlink:href="#ChemicalConcentration"/>

              <om:constraint>

                <om:TypedCategory axis="phenomena.xml#chemicalSpecies">Cu</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="NiConcentration">

              <gml:name>Nickel concentration</gml:name>

              <om:basePhenomenon xlink:href="#ChemicalConcentration"/>

              <om:constraint>

                <om:TypedCategory axis="phenomena.xml#chemicalSpecies">Ni</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

        </om:CompositePhenomenon>

      </om:observable>

    </om:ObservationArray>

C.5
Ecological Survey


A survey of percent cover of certain species in a grassland community.  Several alternative encodings are given, which conveniently illustrate several of the options discussed in clause 8.1.2, and expose some outstanding issues particularly concerning the encoding of multi-component results.  


The dataset is summarised in the following table, supplied by Phillip Dibner (Ecosystem Associates).  


		Grassland Species Composition of a Coastal Terrace Prairie   (as defined by Holland, 1986)



		  as %cover by species (totals > 100% are allowed)



		

		Quadrat #: 

		1

		2

		3

		4

		5

		6

		7

		8

		9

		10

		Average % Cover by Species



		Scientific name

		Common name

		

		

		

		

		

		

		

		

		

		

		



		Danthonia californica

		California oat grass

		75

		60

		60

		75

		40

		5

		5

		10

		10

		15

		35.5



		Nassella pulchra

		Purple needle grass

		25

		25

		25

		10

		20

		25

		5

		5

		10

		10

		16



		Camissonia ovata

		Suncups

		0

		2

		0

		5

		0

		2

		0

		0

		0

		0

		0.9



		Solidago canadensis ssp. elongata

		Canada goldenrod

		0

		10

		15

		5

		0

		0

		0

		0

		0

		0

		3



		Avena barbata

		Slender oats

		0

		0

		0

		5

		25

		30

		50

		60

		40

		40

		25



		Vulpia bromoides

		Six-weeks fescue

		5

		10

		5

		5

		10

		40

		35

		25

		25

		40

		20



		Plantago lanceolata

		English plantain

		0

		0

		0

		0

		2

		5

		10

		10

		15

		10

		5.2





C.5.1
ObservationArray

The first form considers the observation on each component of the sampling domain separately and uses an ObservationArray to aggregate them.  The target of each observation is a Region (known in this user-community as a Quadrat).  The result of each Observation is a list of percentages of each species.  A brief description of the uniform method used is provided in the description of a generic Procedure which is attached to the array (though it could have been attached to each observation independently).  The list of species is recorded in a CompositePhenemenon, described as the observable for the entire array (though again it could have been attached to each observation independently).  


This representation emphasizes the properties of each element of the sampling domain or quadrat.  In each QuantityList the list members scan across the set of species.  Note that it is only possible to use a QuantityList because the datatype of the results is homogeneous across the elements of the composite phenomenon (i.e. a quantity, measured in percent).  In the general case the components may not be represented by a homogeneous datatype, so the compact representation of the result-tuple may not be available.  


    <om:ObservationArray gml:id="Grassland56">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie (supplied by Phillip Dibner)</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:boundedBy>

        <gml:Null>unknown</gml:Null>

      </gml:boundedBy>

      <om:observationMembers>

        <gml:Observation gml:id="GO1">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q1">

              <gml:name>Quadrat 1</gml:name>

              <gml:location xlink:href="regions.xml#l1"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0</gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO2">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q2">

              <gml:name>Quadrat 2</gml:name>

              <gml:location xlink:href="regions.xml#l2"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO3">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q3">

              <gml:name>Quadrat 3</gml:name>

              <gml:location xlink:href="regions.xml#l3"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO4">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q4">

              <gml:name>Quadrat 4</gml:name>

              <gml:location xlink:href="regions.xml#l4"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO5">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q5">

              <gml:name>Quadrat 5</gml:name>

              <gml:location xlink:href="regions.xml#l5"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO6">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q6">

              <gml:name>Quadrat 6</gml:name>

              <gml:location xlink:href="regions.xml#l6"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO7">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q7">

              <gml:name>Quadrat 7</gml:name>

              <gml:location xlink:href="regions.xml#l7"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO8">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q8">

              <gml:name>Quadrat 8</gml:name>

              <gml:location xlink:href="regions.xml#l8"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO9">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q9">

              <gml:name>Quadrat 9</gml:name>

              <gml:location xlink:href="regions.xml#l9"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

        <gml:Observation gml:id="GO10">

          <gml:timeStamp>

            <gml:TimeInstant>

              <gml:timePosition>2002-12</gml:timePosition>

            </gml:TimeInstant>

          </gml:timeStamp>

          <gml:target>

            <om:Region gml:id="Q10">

              <gml:name>Quadrat 10</gml:name>

              <gml:location xlink:href="regions.xml#l10"/>

            </om:Region>

          </gml:target>

          <gml:resultOf>

            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList>

          </gml:resultOf>

        </gml:Observation>

      </om:observationMembers>

      <om:using>

        <om:Procedure gml:id="p1">

          <gml:description>as %cover by species (totals > 100% are allowed)</gml:description>

        </om:Procedure>

      </om:using>

      <om:observable>

        <om:CompositePhenomenon gml:id="gs1">

          <gml:description>A suite of grassland species, as defined by Holland, 1986</gml:description>

          <gml:name>Grassland Species</gml:name>

          <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

          <om:constraintSet>

            <om:TypedValueArray axis="species">

              <gml:valueComponents>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Danthonia californica</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Nassella pulchra</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Camissonia ovata</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Solidago canadensis ssp. elongata</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Avena barbata</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Vulpia bromoides</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Plantago lanceolata</gml:Category>

              </gml:valueComponents>

            </om:TypedValueArray>

          </om:constraintSet>

        </om:CompositePhenomenon>

      </om:observable>

    </om:ObservationArray>


C.5.2
Single observation with complex target (a.k.a. Coverage)

In the second form, this is encoded more compactly as a single  RichObservation.  A brief description of the method used is provided in the description of a generic procedure.  The field of the observation (its target) is a FeatureCollection which describes a set of Regions termed Quadrats.  The result is a ValueArray, composed of a set of lists of percentages of each species.  The list of species is recorded in a CompositePhenemenon, described as the observable for the entire array.  Thus, the interpretation of the results requires that the values be convolved with (i) the list of target regions; (ii) the components of the composite phenomenon.  


This representation more clearly shows the relationship with a discrete coverage, whose domain is the set of locations of the Quadrats, and whose range is the set of results with a range description of the composite phenomenon.  


This representation emphasizes the variation of species within each single element of the sampling domain (quadrat).  As in the previous example, each QuantityList applies to a single quadrat, while its list members scan across the set of species.  


    <om:RichObservation gml:id="Grassland57">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using>

        <om:Procedure gml:id="p1">

          <gml:description>as %cover by species (totals > 100% are allowed)</gml:description>

        </om:Procedure>

      </om:using>

      <gml:target>

        <gml:FeatureCollection gml:id="quadrats56">

          <gml:description>Quadrats used in grassland survey</gml:description>

          <gml:boundedBy>

            <gml:Null>unknown</gml:Null>

          </gml:boundedBy>

          <gml:featureMembers>

            <om:Region gml:id="Q1">

              <gml:name>Quadrat 1</gml:name>

              <gml:location xlink:href="regions.xml#l1"/>

            </om:Region>

            <om:Region gml:id="Q2">

              <gml:name>Quadrat 2</gml:name>

              <gml:location xlink:href="regions.xml#l2"/>

            </om:Region>

            <om:Region gml:id="Q3">

              <gml:name>Quadrat 3</gml:name>

              <gml:location xlink:href="regions.xml#l3"/>

            </om:Region>

            <om:Region gml:id="Q4">

              <gml:name>Quadrat 4</gml:name>

              <gml:location xlink:href="regions.xml#l4"/>

            </om:Region>

            <om:Region gml:id="Q5">

              <gml:name>Quadrat 5</gml:name>

              <gml:location xlink:href="regions.xml#l5"/>

            </om:Region>

            <om:Region gml:id="Q6">

              <gml:name>Quadrat 6</gml:name>

              <gml:location xlink:href="regions.xml#l6"/>

            </om:Region>

            <om:Region gml:id="Q7">

              <gml:name>Quadrat 7</gml:name>

              <gml:location xlink:href="regions.xml#l7"/>

            </om:Region>

            <om:Region gml:id="Q8">

              <gml:name>Quadrat 8</gml:name>

              <gml:location xlink:href="regions.xml#l8"/>

            </om:Region>

            <om:Region gml:id="Q9">

              <gml:name>Quadrat 9</gml:name>

              <gml:location xlink:href="regions.xml#l9"/>

            </om:Region>

            <om:Region gml:id="Q10">

              <gml:name>Quadrat 10</gml:name>

              <gml:location xlink:href="regions.xml#l10"/>

            </om:Region>

          </gml:featureMembers>

        </gml:FeatureCollection>

      </gml:target>

      <gml:resultOf>

        <gml:ValueArray>

          <gml:valueComponents>

            <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList>

          </gml:valueComponents>

        </gml:ValueArray>

      </gml:resultOf>

      <om:observable>

        <om:CompositePhenomenon gml:id="gs1">

          <gml:description>A suite of grassland species, as defined by Holland, 1986</gml:description>

          <gml:name>Grassland Species</gml:name>

          <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

          <om:constraintSet>

            <om:TypedValueArray axis="species">

              <gml:valueComponents>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Danthonia californica</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Nassella pulchra</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Camissonia ovata</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Solidago canadensis ssp. elongata</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Avena barbata</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Vulpia bromoides</gml:Category>

                <gml:Category codeSpace="taxonomy.xml#holland1986">Plantago lanceolata</gml:Category>

              </gml:valueComponents>

            </om:TypedValueArray>

          </om:constraintSet>

        </om:CompositePhenomenon>

      </om:observable>

    </om:RichObservation>

C.5.3
Single observation with remote metadata components

If the description of the Procedure used, the target Region, and observable Phenomenon are recorded elsewhere, then the observation may be recorded more compactly still by indicating these “metadata” items by reference.  The following example is identical to the previous one, except that the explicit description of the procedure, and enumeration of the target and composite phenomenon is replaced by xlink:href associations on the om:using, gml:target and om:observable properties, respectively.  


As in the previous example, this representation emphasizes the variation of species within each single element of the sampling domain (quadrat).  


    <om:RichObservation gml:id="Grassland58">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="#p1"/>

      <gml:target xlink:href="#quadrats56"/>

      <gml:resultOf>

        <gml:ValueArray>

          <gml:valueComponents>

            <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList>

          </gml:valueComponents>

        </gml:ValueArray>

      </gml:resultOf>

      <om:observable xlink:href="#gs1"/>

    </om:RichObservation>


Since the components of the result have homogeneous type and uom, the array of lists may be consolidated into a single QuantityList, as follows:


    <om:RichObservation gml:id="Grassland58">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="#p1"/>

      <gml:target xlink:href="#quadrats56"/>

      <gml:resultOf>

        <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0 60 25 2 10 0 10 0 60 25 0 15 0 5 0 75 10 5 5 5 5 0 40 20 0 0 25 10 2 5 25 2 0 30 40 5  5 5 0 0 50 35 10 10 5 0 0 60 25 10 10 10 0 0 40 25 15 15 10 0 0 40 40 10 </gml:QuantityList>

      </gml:resultOf>

      <om:observable xlink:href="#gs1"/>

    </om:RichObservation>


C.5.4
Transposed results

The result may also be expressed with the results transposed, so the lists each represent the result of one component of the phenomenon.  This representation emphasizes the variation across the sampling domain of each species.  Each QuantityList applies to a single species, while the list members scan across the set of quadrats.  Note that it is always possible to use a QuantityList in this way because each list describes a single component of the phenomenon.  


    <om:RichObservation gml:id="Grassland58">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="#p1"/>

      <gml:target xlink:href="#quadrats56"/>

      <gml:resultOf>

        <gml:ValueArray>

          <gml:valueComponents>

            <gml:QuantityList uom="units.xml#percent">75 60 60 75 40 5 5 10 10 15</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">25 25 25 10 20 25 5 5 10 10</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">0 2 0 5 0 2 0 0 0 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">0 10 15 5 0 0 0 0 0 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">0 0 0 5 25 30 50 60 40 40</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 10 5 5 10 40 35 25 25 40</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">0 0 0 0 2 5 10 10 15 10</gml:QuantityList>

          </gml:valueComponents>

        </gml:ValueArray>

      </gml:resultOf>

      <om:observable xlink:href="#gs1"/>

    </om:RichObservation>


As in the previous example, a single QuantityList may be used for the result:


    <om:RichObservation gml:id="Grassland58">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="#p1"/>

      <gml:target xlink:href="#quadrats56"/>

      <gml:resultOf>

        <gml:QuantityList uom="units.xml#percent">75 60 60 75 40 5 5 10 10 15 25 25 25 10 20 25 5 5 10 10 0 2 0 5 0 2 0 0 0 0 0 10 15 5 0 0 0 0 0 0 0 0 0 5 25 30 50 60 40 40 5 10 5 5 10 40 35 25 25 40 0 0 0 0 2 5 10 10 15 10</gml:QuantityList>

      </gml:resultOf>

      <om:observable xlink:href="#gs1"/>

    </om:RichObservation>


C 5.5
Indexing the components of the result


The results in the previous three examples are composed of one or a set of QuantityLists.  The result set here has two dimensions, but the mapping from the components of the result to the components of the target and the components of the observable is not explicit.  When arrays of lists are used, and since the number of components of the target and observable are not equal, the dimensions of the result set implies the appropriate mapping.  However, this is not really satisfactory, and of course would fail if the lengths of the two sets happened to be equal.  


A number of strategies may be used to describe an explicit mapping.  A few of these are discussed below.  


C 5.5.1
Use component phenomena as “column headings”


The CompositePhenomenon described above using a constraintSet may be described more explicitly with a set of componentPhenomenon elements.  This allows each component to have its own handle.

        <om:CompositePhenomenon gml:id="gs1">

          <gml:description>A suite of grassland species, as defined by Holland, 1986</gml:description>

          <gml:name>Grassland Species</gml:name>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1D">

              <gml:name>California oat grass</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Danthonia californica</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1N">

              <gml:name>Purple needle grass</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Nassella pulchra</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1C">

              <gml:name>Suncups</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Camissonia ovata</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1S">

              <gml:name>Canada goldenrod</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Solidago canadensis ssp. elongata</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1A">

              <gml:name>Slender oats</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Avena barbata</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1V">

              <gml:name>Six-weeks fescue</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Vulpia bromoides</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

          <om:componentPhenomenon>

            <om:ParameterisedPhenomenon gml:id="gs1P">

              <gml:name>English plantain</gml:name>

              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/>

              <om:constraint>

                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Plantago lanceolata</om:TypedCategory>

              </om:constraint>

            </om:ParameterisedPhenomenon>

          </om:componentPhenomenon>

        </om:CompositePhenomenon>


Given handles for the components of the observable phenomenon, the QuantityLists from example C.5.4 may be replaced by TypedQuantityLists which are labelled with these components.  The fact that each list iterates over the members of the target remains implicit.  


<om:RichObservation gml:id="Grassland59">

  <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

  <gml:name>Grassland survey</gml:name>

  <gml:timeStamp>

    <gml:TimeInstant>

      <gml:timePosition>2002-12</gml:timePosition>

    </gml:TimeInstant>

  </gml:timeStamp>

  <om:using xlink:href="#p1"/>

  <gml:target xlink:href="#quadrats56"/>

  <gml:resultOf>

    <om:TypedValueArray axis="#gs1">

      <gml:valueComponents>

        <om:TypedQuantityList axis="#gs1D" uom="units.xml#percent">75 60 60 75 40 5 5 10 10 15</om:TypedQuantityList >

        <om:TypedQuantityList axis="#gs1N" uom="units.xml#percent">25 25 25 10 20 25 5 5 10 10</om:TypedQuantityList >

        <om:TypedQuantityList axis="#gs1C" uom="units.xml#percent">0 2 0 5 0 2 0 0 0 0</om:TypedQuantityList >

        <om:TypedQuantityList axis="#gs1S" uom="units.xml#percent">0 10 15 5 0 0 0 0 0 0</om:TypedQuantityList >

        <om:TypedQuantityList axis="#gs1A" uom="units.xml#percent">0 0 0 5 25 30 50 60 40 40</om:TypedQuantityList >

        <om:TypedQuantityList axis="#gs1V" uom="units.xml#percent">5 10 5 5 10 40 35 25 25 40</om:TypedQuantityList >

        <om:TypedQuantityList axis="#gs1P" uom="units.xml#percent">0 0 0 0 2 5 10 10 15 10</om:TypedQuantityList >

      </gml:valueComponents>

    </om:TypedValueArray>

  </gml:resultOf>

</om:RichObservation>


This method is robust and does not require any extension to the current model and schemas.  It relies on segregating the set of results relating to each component of the observable phenomenon in a separate list element.  At present this is the recommended encoding for a multi-dimensional result-set relating to observations over a multi-component target.  


C 5.5.2
Explicit iterators


A more general solution might be to explicitly indicate the set over which the iteration is made at each level.  For example, we might add “for” attributes to the array containers, and use Xpath (or Xpointer) expressions to indicate the components.  The data in C.5.3 might appear:


    <om:RichObservation gml:id="Grassland58">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="#p1"/>

      <gml:target xlink:href="#quadrats56"/>

      <gml:resultOf>

        <gml:ValueArray>

          <gml:valueComponents for="../../../gml:target/gml:FeatureCollection/gml:featureMembers">

            <gml:QuantityList uom="units.xml#percent" for="../../../../om:observable/om:CompositePhenomenon/om:constraintSet/om:TypedValueArray/gml:valueComponents">75 25 0 0 0 5 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList>

            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList>

          </gml:valueComponents>

        </gml:ValueArray>

      </gml:resultOf>

      <om:observable xlink:href="#gs1"/>

    </om:RichObservation>


For convenience, or perhaps by convention, the iterator “for” is only shown on the first of the QuantityLists.  


If the results are in a singleQuantityList, then iterators must be applied to the same element in sequence.  In order to support an arbitrary number of dimensions, this suggests a solution using XML elements, rather than XML attributes.  For example


    <om:RichObservation gml:id="Grassland58">

      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description>

      <gml:name>Grassland survey</gml:name>

      <gml:timeStamp>

        <gml:TimeInstant>

          <gml:timePosition>2002-12</gml:timePosition>

        </gml:TimeInstant>

      </gml:timeStamp>

      <om:using xlink:href="#p1"/>

      <gml:target xlink:href="#quadrats56"/>

      <gml:resultOf>

        <om:iterate over="../../../gml:target/gml:FeatureCollection/gml:featureMembers"/>

        <om:iterate over="../../../../om:observable/om:CompositePhenomenon/om:constraintSet/om:TypedValueArray/gml:valueComponents"/>

        <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0 60 25 2 10 0 10 0 60 25 0 15 0 5 0 75 10 5 5 5 5 0 40 20 0 0 25 10 2 5 25 2 0 30 40 5  5 5 0 0 50 35 10 10 5 0 0 60 25 10 10 10 0 0 40 25 15 15 10 0 0 40 40 10 </gml:QuantityList>

      </gml:resultOf>

      <om:observable xlink:href="#gs1"/>

    </om:RichObservation>


Note that the attribute “for” and element om:iterate shown in these examples are introduced for discussion only and have not been implemented in the schemas given in Annex B.  


This issue – of developing a convention for convolving descriptions of axes with a multidimensional array of results in XML – is an important area for future work.  


Annex D: Useful definitions and dictionaries
(informative)

D.1
units.xsd


This XML document encodes a set of units of measure using the encoding defined GML3.  


<?xml version="1.0" encoding="UTF-8"?>

<gml:Dictionary xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml


../gml/base/units.xsd" gml:id="unitsDictionary">

  <gml:description>A dictionary of units of measure</gml:description>

  <gml:name>OWS-1.2 Units</gml:name>

  <gml:dictionaryEntry>

    <gml:DefinitionCollection gml:id="SIBaseUnits">

      <gml:description xlink:href="http://www.bipm.fr/en/3_SI/base_units.html">The Base Units from the SI units system.</gml:description>

      <gml:name>SI Base Units</gml:name>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="m">

          <gml:description>The metre is the length of the path travelled by light in vacuum during a time interval of 1/299 792 458 of a second.</gml:description>

          <gml:name>metre</gml:name>

          <gml:name>meter</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">m</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="kg">

          <gml:description>The kilogram is the unit of mass; it is equal to the mass of the international prototype of the kilogram. </gml:description>

          <gml:name>kilogram</gml:name>

          <gml:quantityType>Mass</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">kg</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="s">

          <gml:description>The second is the duration of 9 192 631 770 periods of the radiation corresponding to the transition between the two hyperfine levels of the ground state of the caesium 133 atom.</gml:description>

          <gml:name>second</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">s</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="A">

          <gml:description>The ampere is that constant current which, if maintained in two straight parallel conductors of infinite length, of negligible circular cross-section, and placed 1 metre apart in vacuum, would produce between these conductors a force equal to 2 × 10-7 newton per metre of length.


</gml:description>

          <gml:name>Ampere</gml:name>

          <gml:quantityType>Electric current</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">A</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="K">

          <gml:description>The kelvin, unit of thermodynamic temperature, is the fraction 1/273.16 of the thermodynamic temperature of the triple point of water.</gml:description>

          <gml:name>kelvin</gml:name>

          <gml:quantityType>Thermodynamic temperature</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">K</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="mol">

          <gml:description>1. The mole is the amount of substance of a system which contains as many elementary entities as there are atoms in 0.012 kilogram of carbon 12. 


2. When the mole is used, the elementary entities must be specified and may be atoms, molecules, ions, electrons, other particles, or specified groups of such particles. </gml:description>

          <gml:name>mole</gml:name>

          <gml:quantityType>Amount of substance</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">mol</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:BaseUnit gml:id="cd">

          <gml:description> The candela is the luminous intensity, in a given direction, of a source that emits monochromatic radiation of frequency 540 × 1012 hertz and that has a radiant intensity in that direction of 1/683 watt per steradian.</gml:description>

          <gml:name>candela</gml:name>

          <gml:quantityType>Luminous intensity</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">cd</gml:catalogSymbol>

          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/>

        </gml:BaseUnit>

      </gml:dictionaryEntry>

    </gml:DefinitionCollection>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <gml:DefinitionCollection gml:id="SIDerivedUnits">

      <gml:description xlink:href="http://www.bipm.fr/enus/3_SI/si-derived.html">The Derived Units from the SI units system.  These are all derived as a product of SI Base Units, except degrees Celsius in which the conversion formaula to the SI Base Unit (kelvin) involves an offset.  </gml:description>

      <gml:name>SI Derived Units</gml:name>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="rad">

          <gml:name>radian</gml:name>

          <gml:quantityType>plane angle</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">rad</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#m" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="sr">

          <gml:name>steradian</gml:name>

          <gml:quantityType>solid angle</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">sr</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#m" exponent="2"/>

            <gml:unitTerm uom="#m" exponent="-2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Hz">

          <gml:name>hertz</gml:name>

          <gml:quantityType>frequency</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Hz</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#s" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="N">

          <gml:name>newton</gml:name>

          <gml:quantityType>force</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">N</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#m" exponent="1"/>

            <gml:unitTerm uom="#kg" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="-2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Pa">

          <gml:name>pascal</gml:name>

          <gml:quantityType>pressure, stress</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Pa</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#N" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="J">

          <gml:name>joule</gml:name>

          <gml:quantityType>energy, work, quantity of heat</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">J</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#N" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="W">

          <gml:name>watt</gml:name>

          <gml:quantityType>power, radiant flux</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">W</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#J" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="C">

          <gml:name>coulomb</gml:name>

          <gml:quantityType>electric charge, quantity of electricity</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">C</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#s" exponent="1"/>

            <gml:unitTerm uom="#A" exponent="1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="V">

          <gml:name>volt</gml:name>

          <gml:quantityType>electric potential difference, electromotive force</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">V</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#W" exponent="1"/>

            <gml:unitTerm uom="#A" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="F">

          <gml:name>farad</gml:name>

          <gml:quantityType>capacitance</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">F</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#C" exponent="1"/>

            <gml:unitTerm uom="#V" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="ohm">

          <gml:name>ohm</gml:name>

          <gml:quantityType>electric resistance</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Ω</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#V" exponent="1"/>

            <gml:unitTerm uom="#A" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="S">

          <gml:name>siemens</gml:name>

          <gml:quantityType>electric conductance</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">S</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#A" exponent="1"/>

            <gml:unitTerm uom="#V" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Wb">

          <gml:name>weber</gml:name>

          <gml:quantityType>magnetic flux</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Wb</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#V" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="T">

          <gml:name>tesla</gml:name>

          <gml:quantityType>magnetic flux density</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">T</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#Wb" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="H">

          <gml:name>henry</gml:name>

          <gml:quantityType>inductance</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">H</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#Wb" exponent="1"/>

            <gml:unitTerm uom="#A" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="degC">

          <gml:name>degree Celsius</gml:name>

          <gml:quantityType>Celsius temperature</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">°C</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#K">

            <gml:formula>

              <gml:a>273.16</gml:a>

              <gml:b>1</gml:b>

              <gml:c>1</gml:c>

            </gml:formula>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="lm">

          <gml:name>lumen</gml:name>

          <gml:quantityType>luminous flux</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">lm</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#cd" exponent="1"/>

            <gml:unitTerm uom="#sr" exponent="1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="lx">

          <gml:name>lux</gml:name>

          <gml:quantityType>illuminance</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">lx</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#lm" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Bq">

          <gml:name>becquerel</gml:name>

          <gml:quantityType>activity (referred to a radionuclide)</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Bq</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#s" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Gy">

          <gml:name>gray</gml:name>

          <gml:quantityType>absorbed dose, specific energy (imparted), kerma</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Gy</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#J" exponent="1"/>

            <gml:unitTerm uom="#kg" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Sv">

          <gml:name>sievert</gml:name>

          <gml:quantityType>dose equivalent, ambient dose equivalent, directional dose equivalent, personal dose equivalent, organ equivalent dose</gml:quantityType>

          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Sv</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#J" exponent="1"/>

            <gml:unitTerm uom="#kg" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

    </gml:DefinitionCollection>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <gml:DefinitionCollection gml:id="ConventionalUnitsDictionary">

      <gml:description>A collection of Conventional Units.  These are units of measure which are either widely used or important within a specific community.  For most of these there is 


1. a known derivation from more primitive units, which may or may not be SI Base Units, or 


2. a known conversion to a preferred unit, which may or may not be an SI Base or Derived unit, through rescaling and offset, 


or both.  </gml:description>

      <gml:name>Conventional units.</gml:name>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="deg">

          <gml:name>degree</gml:name>

          <gml:quantityType>plane angle</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#rad">

            <gml:factor>0.0174533</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="m2">

          <gml:name>metre squared</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:unitDerivation>

            <gml:unitTerm uom="m" exponent="2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="acre">

          <gml:name>acre</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>4046.86</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="hare">

          <gml:name>hare</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>0.000610609</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ft2">

          <gml:name>square foot</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>0.092903</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#ft" exponent="2"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ha">

          <gml:name>hectare</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>10000</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="yd2">

          <gml:name>square yard</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>0.836127</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#yd" exponent="2"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="in2">

          <gml:name>square inch</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>0.00064516</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#in" exponent="2"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="cm2">

          <gml:name>square centimetre</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>0.0001</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#cm" exponent="2"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="mm2">

          <gml:name>square millimetre</gml:name>

          <gml:quantityType>area</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m2">

            <gml:factor>1.e-6</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#mm" exponent="2"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="km">

          <gml:name>kilometre</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>km</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1.e3</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="cm">

          <gml:name>centimetre</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>cm</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1.e-2</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="mm">

          <gml:name>millimetre</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>mm</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1.e-3</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="um">

          <gml:name>micrometre</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1.e-6</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="nm">

          <gml:name>nanometre</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>nm</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1.e-9</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="pm">

          <gml:name>picometre</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>pm</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1.e-12</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="yd">

          <gml:name>yard</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>yd</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>0.9144</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ft">

          <gml:name>foot</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>'</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>0.3048</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="in">

          <gml:name>inch</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>"</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>0.0254</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="mile">

          <gml:name>mile</gml:name>

          <gml:quantityType>length</gml:quantityType>

          <gml:catalogSymbol>mi</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#m">

            <gml:factor>1609.34</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="Tonne">

          <gml:name>tonne</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>T</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>1.e3</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="g">

          <gml:name>gram</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>1.e-3</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="mg">

          <gml:name>milligram</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>mg</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>1.e-6</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ug">

          <gml:name>microgram</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>1.e-9</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="lb">

          <gml:name>pound</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>lb</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>0.453592</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="oz">

          <gml:name>ounce</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>oz</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>0.0283495</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="sack">

          <gml:name>sack</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>sack</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>45.3592</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="sk94">

          <gml:name>sk94</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>sk94</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>42.6377</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="USton">

          <gml:name>US ton</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>ton</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>907.185</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="Ma">

          <gml:name>million year</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>Ma</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>3.15569e13</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="yr">

          <gml:name>year</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>yr</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>3.15569e7</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="wk">

          <gml:name>week</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>wk</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>604800</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="day">

          <gml:name>day</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>d</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>86400</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="hr">

          <gml:name>hour</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>hr</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>3600</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="min">

          <gml:name>minute</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>min</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>60</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ms">

          <gml:name>millsecond</gml:name>

          <gml:quantityType>Time</gml:quantityType>

          <gml:catalogSymbol>ms</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#s">

            <gml:factor>0.001</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="m_s">

          <gml:name>metres per second</gml:name>

          <gml:quantityType>velocity</gml:quantityType>

          <gml:catalogSymbol>m/s</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#m" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="-1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="m_s2">

          <gml:name>metres per second per second</gml:name>

          <gml:quantityType>acceleration</gml:quantityType>

          <gml:catalogSymbol>m/m2</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#m" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="-2"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="gu">

          <gml:name>Gravity units</gml:name>

          <gml:quantityType>acceleration</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m_s2">

            <gml:factor>1.e-6</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="hPa">

          <gml:name>hectoPascal</gml:name>

          <gml:quantityType>pressure</gml:quantityType>

          <gml:catalogSymbol>hPa</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa">

            <gml:factor>1.e-2</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="bar">

          <gml:name>bar</gml:name>

          <gml:quantityType>pressure</gml:quantityType>

          <gml:catalogSymbol>bar</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa">

            <gml:factor>1.e5</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="mbar">

          <gml:name>milliBar</gml:name>

          <gml:quantityType>pressure</gml:quantityType>

          <gml:catalogSymbol>mbar</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa">

            <gml:factor>1.e-1</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="atm">

          <gml:name>Atmosphere</gml:name>

          <gml:quantityType>pressure</gml:quantityType>

          <gml:catalogSymbol>atm</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa">

            <gml:factor>101325</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="psi">

          <gml:name>Pound per square inch</gml:name>

          <gml:quantityType>pressure</gml:quantityType>

          <gml:catalogSymbol>psi</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa">

            <gml:factor>6894.76</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="hp">

          <gml:name>horsepower</gml:name>

          <gml:quantityType>power</gml:quantityType>

          <gml:catalogSymbol>hp</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#W">

            <gml:factor>746</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="GHz">

          <gml:name>GigaHertz</gml:name>

          <gml:quantityType>frequency</gml:quantityType>

          <gml:catalogSymbol>GHz</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Hz">

            <gml:factor>1.e9</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="cal">

          <gml:name>Calorie</gml:name>

          <gml:quantityType>energy</gml:quantityType>

          <gml:catalogSymbol>cal</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#J">

            <gml:factor>4.1868</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="kJ">

          <gml:name>kiloJoule</gml:name>

          <gml:quantityType>energy</gml:quantityType>

          <gml:catalogSymbol>kJ</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#J">

            <gml:factor>1.e3</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="kJ_Nm3">

          <gml:name>kilojoules per Newton metre</gml:name>

          <gml:quantityType>Point of evaporation</gml:quantityType>

          <gml:unitDerivation>

            <gml:unitTerm uom="#kJ" exponent="1"/>

            <gml:unitTerm uom="#N" exponent="-1"/>

            <gml:unitTerm uom="#m" exponent="-3"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="g_l">

          <gml:name>grams per litre</gml:name>

          <gml:quantityType>w/v concentration</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#kg_m3">

            <gml:factor>1.</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#g" exponent="1"/>

            <gml:unitTerm uom="#l" exponent="-1"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ug_m3">

          <gml:name>micrograms per cubic metre</gml:name>

          <gml:quantityType>w/v concentration</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#kg_m3">

            <gml:factor>1.e-9</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#ug" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-3"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="kg_m3">

          <gml:name>kilograms per cubic metre</gml:name>

          <gml:quantityType>Density</gml:quantityType>

          <gml:unitDerivation>

            <gml:unitTerm uom="#kg" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-3"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="T_m3">

          <gml:name>Tonnes per cubic metre</gml:name>

          <gml:quantityType>Density</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#kg_m3">

            <gml:factor>1000.</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#T" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-3"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:UnitDefinition gml:id="ratio">

          <gml:name>Ratio</gml:name>

          <gml:quantityType>fraction</gml:quantityType>

        </gml:UnitDefinition>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="percent">

          <gml:name>percent</gml:name>

          <gml:quantityType>fraction</gml:quantityType>

          <gml:catalogSymbol>%</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="ratio">

            <gml:factor>0.01</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ppm">

          <gml:name>parts per million</gml:name>

          <gml:quantityType>fraction</gml:quantityType>

          <gml:catalogSymbol>ppm</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="ratio">

            <gml:factor>1.e-6</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="ppb">

          <gml:name>parts per billiion</gml:name>

          <gml:quantityType>fraction</gml:quantityType>

          <gml:catalogSymbol>ppb</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="ratio">

            <gml:factor>1.e-9</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="m3">

          <gml:name>cubic metre</gml:name>

          <gml:quantityType>Volume</gml:quantityType>

          <gml:unitDerivation>

            <gml:unitTerm uom="#m" exponent="3"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="l">

          <gml:name>litre</gml:name>

          <gml:quantityType>Volume</gml:quantityType>

          <gml:conversionToPreferredUnit uom="#m3">

            <gml:factor>0.001</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="kappa">

          <gml:name>kappa</gml:name>

          <gml:quantityType>kinematic viscosity </gml:quantityType>

          <gml:catalogSymbol>k</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#Pa" exponent="1"/>

            <gml:unitTerm uom="#m" exponent="-3"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:DerivedUnit gml:id="Pas">

          <gml:name>poiseuille</gml:name>

          <gml:quantityType>dynamic viscosity</gml:quantityType>

          <gml:catalogSymbol> Pa.s</gml:catalogSymbol>

          <gml:unitDerivation>

            <gml:unitTerm uom="#Pa" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="1"/>

          </gml:unitDerivation>

        </gml:DerivedUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="poise">

          <gml:name>poise</gml:name>

          <gml:quantityType>dynamic viscosity</gml:quantityType>

          <gml:catalogSymbol>po</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa.s">

            <gml:factor>0.1</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#cm" exponent="-1"/>

            <gml:unitTerm uom="#g" exponent="1"/>

            <gml:unitTerm uom="#s" exponent="1"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="slug_fts">

          <gml:name>slugs/foot-second</gml:name>

          <gml:quantityType>dynamic viscosity</gml:quantityType>

          <gml:catalogSymbol>slug/fts</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#Pa.s">

            <gml:factor>47.9</gml:factor>

          </gml:conversionToPreferredUnit>

          <gml:unitDerivation>

            <gml:unitTerm uom="#slug" exponent="1"/>

            <gml:unitTerm uom="#ft" exponent="-1"/>

            <gml:unitTerm uom="#s" exponent="-1"/>

          </gml:unitDerivation>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

      <gml:dictionaryEntry>

        <gml:ConventionalUnit gml:id="slug">

          <gml:name>slug</gml:name>

          <gml:quantityType>mass</gml:quantityType>

          <gml:catalogSymbol>slug</gml:catalogSymbol>

          <gml:conversionToPreferredUnit uom="#kg">

            <gml:factor>14.593903</gml:factor>

          </gml:conversionToPreferredUnit>

        </gml:ConventionalUnit>

      </gml:dictionaryEntry>

    </gml:DefinitionCollection>

  </gml:dictionaryEntry>

</gml:Dictionary>

D.2
phenomena.xsd


This XML document encodes a set of observable phenomena using the encoding defined in clause 7.3.  


<?xml version="1.0" encoding="UTF-8"?>

<gml:Dictionary xmlns:gml="http://www.opengis.net/gml" xmlns:om="http://www.opengis.net/om" xmlns:sch="http://www.ascc.net/xml/schematron" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/om ../OM/phenomenon.xsd" gml:id="phenomena">

  <gml:description>A dictionary of phenomena, thrown together for illustation.


SJDC 2002-12-24</gml:description>

  <gml:name>OWS Phenomena</gml:name>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="_19V">

      <gml:description>19 GHz radiation Vertical Polarisation</gml:description>

      <gml:name>19V</gml:name>

      <om:basePhenomenon xlink:href="#Radiation"/>

      <om:constraint>

        <om:TypedQuantity axis="#PeakWavelength" uom="./units.xml#GHz">19.35</om:TypedQuantity>

      </om:constraint>

      <om:constraint>

        <om:TypedCategory axis="http://www.opengis.net/componentPhenomenonType#PolarisationDirection" codeSpace="http://www.opengis.net/sensorGlossary">V</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="_19H">

      <gml:description>19 GHz radiation Horizontal Polarisation</gml:description>

      <gml:name>19H</gml:name>

      <om:basePhenomenon xlink:href="#Radiation"/>

      <om:constraint>

        <om:TypedQuantity axis="http://www.opengis.net/componentPhenomenonType#peakWavelength" uom="#GHz">19.35</om:TypedQuantity>

      </om:constraint>

      <om:constraint>

        <om:TypedCategory axis="http://www.opengis.net/componentPhenomenonType#PolarisationDirection" codeSpace="http://www.opengis.net/sensorGlossary">H</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Age">

      <gml:description>Time duration since creation</gml:description>

      <gml:name>Age</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="AtmosphericPressure">

      <gml:description>fluid pressure exerted due to the gravitational effect on the column of atmosphere above the position of interest</gml:description>

      <gml:name>Atmospheric Pressure</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="CloudCover">

      <gml:description>fraction of sky occupied by visible cloud</gml:description>

      <gml:name>Cloud Cover</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Density">

      <gml:description/>

      <gml:name>Density</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Depth">

      <gml:description>Linear distance measured vertically downwards from a reference surface</gml:description>

      <gml:name>Depth</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Direction">

      <gml:description>Orientation of a vector relative to a reference frame.</gml:description>

      <gml:name>Direction</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="DissolvedSolids">

      <gml:description>Amount of solids remaining after evaporation</gml:description>

      <gml:name>Dissolved Solids</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="DOX">

      <gml:name>Dissolved Oxygen</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:CompositePhenomenon gml:id="EarthquakeParameters">

      <gml:name>Earthquake Parameters</gml:name>

      <om:componentPhenomenon>

        <om:CompositePhenomenon gml:id="EarthquakeLocation">

          <gml:name>Earthquake Location</gml:name>

          <om:componentPhenomenon xlink:href="#Epicentre"/>

          <om:componentPhenomenon xlink:href="#Depth"/>

          <om:componentPhenomenon xlink:href="#OriginTime"/>

        </om:CompositePhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:CompositePhenomenon gml:id="MomentTensor">

          <gml:name>Earthquake Moment Tensor</gml:name>

          <om:componentPhenomenon xlink:href="#Mrr"/>

          <om:componentPhenomenon xlink:href="#Mtt"/>

          <om:componentPhenomenon xlink:href="#Mff"/>

          <om:componentPhenomenon xlink:href="#Mrt"/>

          <om:componentPhenomenon xlink:href="#Mrf"/>

          <om:componentPhenomenon xlink:href="#Mtf"/>

        </om:CompositePhenomenon>

      </om:componentPhenomenon>

    </om:CompositePhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Elevation">

      <gml:description>Linear distance measured vertically upwards from a reference surface</gml:description>

      <gml:name>Elevation</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Epicentre">

      <gml:description>The location on the surface of the earth directly above the position of the origin of an earthquake</gml:description>

      <gml:name>Epicentre</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Medium">

      <gml:description>Material of which an object is constructed or within which a phenomenon occurs</gml:description>

      <gml:name>Medium</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Mrr">

      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mrr"/>

      <gml:name>Earthquake Moment Tensor component Mrr</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Mtt">

      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mtt"/>

      <gml:name>Earthquake Moment Tensor component Mtt</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Mff">

      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mff"/>

      <gml:name>Earthquake Moment Tensor component Mff</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Mrt">

      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mrt"/>

      <gml:name>Earthquake Moment Tensor component Mrt</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Mrf">

      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mrf"/>

      <gml:name>Earthquake Moment Tensor component Mrf</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Mtf">

      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mtf"/>

      <gml:name>Earthquake Moment Tensor component Mtf</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="MolWt">

      <gml:description/>

      <gml:name>Molecular weight</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="MolVol">

      <gml:description/>

      <gml:name>Molecular volume</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="OrganismCount">

      <gml:description>Number of organisms</gml:description>

      <gml:name>Organism count</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="OriginTime">

      <gml:description>The time instant corresponding to the initiation of the event.</gml:description>

      <gml:name>Origin Time</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="PeakWavelength">

      <gml:description>Centre of wavelength sensitivity band</gml:description>

      <gml:name>Peak Wavelength</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Radiation">

      <gml:name>Radiation</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="RelativeHumidity">

      <gml:description>Amount of water vapour in a gas measured as a fraction of full saturation</gml:description>

      <gml:name>Relative Humidity</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Species">

      <gml:name>Species</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Speed">

      <gml:description>Scalar rate of movement</gml:description>

      <gml:name>Speed</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:CompositePhenomenon gml:id="DiscreteSpectrumTM">

      <gml:name>Landsat Thematic Mapper spectrum</gml:name>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand1">

          <gml:name>Landsat TM band 1</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.45 0.52</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand2">

          <gml:name>Landsat TM band 2</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.52 0.60</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand3">

          <gml:name>Landsat TM band 3</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.63 0.69</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand4">

          <gml:name>Landsat TM band 4</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.76 0.90</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand5">

          <gml:name>Landsat TM band 5</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">1.55 1.75</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand6">

          <gml:name>Landsat TM band 6</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">10.4 12.5</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

      <om:componentPhenomenon>

        <om:ParameterisedPhenomenon gml:id="TMBand7">

          <gml:name>Landsat TM band 7</gml:name>

          <om:basePhenomenon xlink:href="#Radiation"/>

          <om:constraint>

            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">2.08 2.35</om:TypedQuantityExtent>

          </om:constraint>

        </om:ParameterisedPhenomenon>

      </om:componentPhenomenon>

    </om:CompositePhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:CompositePhenomenon gml:id="TM">

      <gml:description>Landsat Thematic Mapper all bands</gml:description>

      <gml:name codeSpace="#OWS1">Landsat TM</gml:name>

      <om:basePhenomenon xlink:href="http://www.opengis.net/componentPhenomena#Radiation"/>

      <om:constraintSet>

        <om:TypedValueArray axis="http://www.opengis.net/componentPhenomena#Wavelength">

          <gml:valueComponents>

            <gml:QuantityExtent uom="#um">0.45 0.52</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">0.52 0.60</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">0.63 0.69</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">0.76 0.90</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">1.55 1.75</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">10.4 12.5</gml:QuantityExtent>

            <gml:QuantityExtent uom="#um">2.08 2.35</gml:QuantityExtent>

          </gml:valueComponents>

        </om:TypedValueArray>

      </om:constraintSet>

    </om:CompositePhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="SurfaceWaterTemperature2">

      <gml:name>Surface Water Temperature 2</gml:name>

      <om:basePhenomenon xlink:href="#Temperature"/>

      <om:constraint>

        <om:TypedCategory axis="#Medium" codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory>

      </om:constraint>

      <om:constraint>

        <om:TypedQuantityExtent axis="#Depth" uom="./units.xml#m">0.0 1.5</om:TypedQuantityExtent>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="SurfaceWaterTemperature">

      <gml:name>Surface Water Temperature</gml:name>

      <om:basePhenomenon xlink:href="#WaterTemperature"/>

      <om:constraint>

        <om:TypedQuantityExtent axis="#Depth" uom="./units.xml#m">0.0 1.5</om:TypedQuantityExtent>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Temperature">

      <gml:description/>

      <gml:name>Temperature</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:CompositePhenomenon gml:id="uSpectrum">

      <gml:description>Simple spectrum with uniform spacing of bands</gml:description>

      <gml:name>UniformSpectrum</gml:name>

      <om:basePhenomenon xlink:href="#Radiation"/>

      <om:constraintSet>

        <om:TypedQuantitySeries>

          <om:limits>0 512</om:limits>

          <om:axis>http://www.opengis.net/componentPhenomena#Wavelength</om:axis>

          <om:origin uom="#um">0.30</om:origin>

          <om:offset uom="#um">0.004</om:offset>

          <om:structure>post</om:structure>

        </om:TypedQuantitySeries>

      </om:constraintSet>

    </om:CompositePhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:CompositePhenomenon gml:id="Velocity">

      <gml:description>Vector rate of movement relative to a reference frame</gml:description>

      <gml:name>Velocity</gml:name>

      <om:componentPhenomenon xlink:href="#Speed"/>

      <om:componentPhenomenon xlink:href="#Direction"/>

    </om:CompositePhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="WaterTemperature">

      <gml:name>Water Temperature</gml:name>

      <om:basePhenomenon xlink:href="#Temperature"/>

      <om:constraint>

        <om:TypedCategory axis="#Medium" codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:Phenomenon gml:id="Wavelength">

      <gml:description>Distance between peak values of a wave</gml:description>

      <gml:name>Wavelength</gml:name>

    </om:Phenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="WindDirection">

      <gml:name>Wind Direction</gml:name>

      <om:basePhenomenon xlink:href="#Direction"/>

      <om:constraint>

        <om:TypedCategory axis="#Medium">Wind</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="WindSpeed">

      <gml:name>Wind Speed</gml:name>

      <om:basePhenomenon xlink:href="#Speed"/>

      <om:constraint>

        <om:TypedCategory axis="#Medium">Wind</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

  <gml:dictionaryEntry>

    <om:ParameterisedPhenomenon gml:id="WindVelocity">

      <gml:name>Wind Velocity</gml:name>

      <om:basePhenomenon xlink:href="#Velocity"/>

      <om:constraint>

        <om:TypedCategory axis="#Medium">Wind</om:TypedCategory>

      </om:constraint>

    </om:ParameterisedPhenomenon>

  </gml:dictionaryEntry>

</gml:Dictionary>

Informative References


[FOW1998] Fowler, M. Analysis Patterns: reusable object models.  Addison Wesley Longman, Menlo Park, CA. 1998.  


[ISO11404] Information technology – Programming languages, their environments and system software interfaces – Language-independent datatypes. ISO/IEC 11404:1996 (E)


[KRALST] Krantz, D. H., Luce, R. D., Suppes, P., and Tversky, A. (1971), Foundations of measurement, Vol. I: Additive and polynomial representations, New York: Academic Press. ; Suppes, P., Krantz, D. H., Luce, R. D., and Tversky, A. (1989), Foundations of measurement, Vol. II: Geometrical, threshold, and probabilistic respresentations, New York: Academic Press. ; Luce, R. D., Krantz, D. H., Suppes, P., and Tversky, A. (1990), Foundations of measurement, Vol. III: Representation, axiomatization, and invariance, New York: Academic Press.


[NIE2001] Nieva, T. Remote data acquisition of embedded systems using internet technologies: a role-based generic system specification. Thesis, Ecole Polytech. Fed. Lausanne  2001. available http://icawww.epfl.ch/nieva/thesis/Report/PhD.pdf.


 [NRC1995] National Research Council. Expanding the Vision of Sensor Materials. 
Committee on New Sensor Technologies: Materials and Applications. National Academy Press. http://books.nap.edu/books/0309051754/html/index.html 1995.


 [PAT1995] Gamma, E., Helm, R., Johnson, R., Vlissides, J. Design Patterns: Elements of Reusable Object-Oriented Software. 395pp. Addison Wesley, 1995. 


[SAR1995] Sarle, W.S., Measurement theory: frequently asked questions. Originally published in the Disseminations of the International Statistical Applications Institute, 4th edition, 1995, Wichita: ACG Press, pp. 61-66. Revised 1996, 1997. Available at ftp://ftp.sas.com/pub/neural/measurement.html

[VIM] International Vocabulary of Basic and General Terms in Metrology. BIPM/ISO 1993.  


 [YOD] Yoder, J. W., Balaguer, F. and Johnson, R. From analysis to design of the observation pattern.  http://www.joeyoder.com/Research/metadata/Observation/ObservationModel.pdf

Feature 3





X1





X2





X3





Ai





Aj





Ak





Domain





Range Set





A=C(X)








� e.g. a member of the units dictionary shown in Annex D.1 and posted at http://www.opengis.net/dictionaries/units.xml.


� e.g. a member of the dictionary of phenomena shown in Annex D.2 and posted at http://www.opengis.net/dictionaries/phenomena.xml.





		File name: OGC-03-022r3

		





		ii

		© OGC 2003 – All rights reserved





		© OGC 2003 – All rights reserved

		iii







_1019542545.doc




Association between classes







role-1







role-2







Association Name







Class #1







Class #2







Association Cardinality







Class







Only one







Class







Zero or more







Class







Optional (zero or one )







1..*







Class







One or more







n







Class







Specific number







Aggregation between classes







Aggregate







Class







Component







Class #1







Component







Class #2







Component







Class #n







……….







0..*







0..1







Class Inheritance (subtyping of classes)







Superclass







Subclass #1







…………..







Subclass #2







Subclass #n















03-022r3/03-022r3.pdf


OGC 03-022r3 


File name: OGC-03-022r3  
 


 


Open GIS Consortium Inc.  
Date:   2003-02-04 


Reference number of this OpenGIS® Project Document:    OGC 03-022r3 


Version: 0.9.2 


Category: OpenGIS® Discussion Paper 


Editor:   Simon Cox 


 


 


 


Observations and Measurements 


 


 


Copyright Notice 


This OGC document is a draft and is copyright-protected by OGC. While the reproduction of drafts in any form for use by 
participants in the OGC Interoperability Program is permitted without prior permission from OGC, neither this document nor 
any extract from it may be reproduced, stored or transmitted in any form for any other purpose without prior written 
permission from OGC. 


Warning 


This document is not an OGC Standard. It is distributed for review and comment. It represents work in progress being 
completed through the OGC Interoperability Program and Specification Program. This document does not represent the 
official position of the OGC nor of the OGC Technical Committee. It is subject to change without notice and may not be 
referred to as an OGC Standard or Specification. However, the intent of the authors is to evolve the document until it 
becomes an OpenGIS Implementation Specification. The authors welcome feedback. Recipients of this document are invited 
to submit their comments, and if applicable, notification and supporting documentation pertaining to relevant patent rights. 


 


Document type:     OpenGIS® Discussion Paper 
Document subtype:    Engineering Specification 
Document stage:     Publicly  Available 
Document language:  English 







OGC 03-022r3           Observations and Measurements 


ii © OGC 2003 – All rights reserved 
 


Table of Contents 


i. Preface ............................................................................................................................... v 
ii. Submitting Organizations ................................................................................................ v 
iii. Document Contributor Contact Points........................................................................... v 
iv. Revision history................................................................................................................ vi 
v. Changes to OpenGIS Specifications...........................................................................viii 
1. Scope .................................................................................................................................. 1 
2. Conformance ..................................................................................................................... 2 
3. Normative References ...................................................................................................... 2 
4. Terms and Definitions ...................................................................................................... 3 
5. Conventions ....................................................................................................................... 4 
5.1 Symbols (and abbreviated terms).................................................................................... 4 
5.2 UML Notation ................................................................................................................... 5 
6 A model for Observations and Measurements............................................................... 7 
6.1 The Feature Model ........................................................................................................... 7 
6.2 The Coverage model ......................................................................................................... 8 
6.2.1 Definition of coverage....................................................................................................... 8 
6.2.2 Representation of coverage .............................................................................................. 9 
6.2.2.1 Discrete coverage ................................................................................................. 9 
6.2.2.2 Continuous coverage ........................................................................................... 9 
6.2.3 Relationship between Feature and Coverage views..................................................... 10 
6.2.3.1 A coverage is a feature ...................................................................................... 10 
6.2.3.2 A coverage is a feature collection ..................................................................... 10 
6.2.3.3 Using feature and coverage views .................................................................... 11 
6.2.4 Coverage types ................................................................................................................ 12 
6.3 Observation Model ......................................................................................................... 13 
6.3.1 Basic model...................................................................................................................... 13 
6.3.2 Feature model for an observation ................................................................................. 13 
6.3.3 Observation types ........................................................................................................... 15 
6.3.3.1 Typing according to the representation of the result ..................................... 15 
6.3.3.2 Semantic typing.................................................................................................. 16 
6.3.4 Relationships within the observation model................................................................. 16 
6.3.5 Observation Collections ................................................................................................. 18 
6.3.5.1 Collections and arrays....................................................................................... 18 
6.3.5.2 Coverage view .................................................................................................... 19 
6.4 Value Model .................................................................................................................... 20 
6.4.1 Representation of the result ........................................................................................... 20 
6.4.2 Scalar Values................................................................................................................... 20 
6.4.3 Scalar Value Lists ........................................................................................................... 20 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved iii
 


6.4.4 Scalar Value Objects ...................................................................................................... 21 
6.4.5 Aggregate Values ............................................................................................................ 22 
6.4.6 Semantically typed values: Typed Values .................................................................... 23 
6.5 Model for observable phenomena and measurands .................................................... 24 
6.5.1 Representation vs meaning ............................................................................................ 24 
6.5.2 Description of a phenomenon ........................................................................................ 25 
6.5.3 Phenomenon .................................................................................................................... 26 
6.5.4 Parameterised Phenomenon .......................................................................................... 26 
6.5.5 Composite Phenomenon................................................................................................. 27 
6.6 Sensor Web and the Information Model ...................................................................... 27 
6.6.1 Using observations .......................................................................................................... 27 
6.6.2 Measurements from a Sensor Collection Service......................................................... 28 
6.6.3 Reference systems or scales for Values ......................................................................... 28 
6.6.4 Sensor Instances and Other Descriptions of Observation Methodology ................... 29 
7 XML Encoding of the Observation and Measurement Models.................................. 31 
7.1 GML Mapping of Model Components into XML........................................................ 31 
7.2 XML for Values .............................................................................................................. 33 
7.2.1 Basic value objects .......................................................................................................... 33 
7.2.2 Typed values.................................................................................................................... 33 
7.2.3 Observed values .............................................................................................................. 34 
7.3 XML for phenomenon descriptions .............................................................................. 35 
7.3.1 Basic phenomena ............................................................................................................ 35 
7.3.2 Parameterised phenomena for scalar values................................................................ 35 
7.3.3 Composite Phenomena for aggregate values................................................................ 36 
7.3.3.1 Explicit Composite pattern ............................................................................... 36 
7.3.3.2 Using a ConstraintSet........................................................................................ 38 
7.3.3.3 Mapping values to meaning - applying CompositePhenomenon................... 39 
7.3.4 Phenomenon dictionary.................................................................................................. 40 
7.4 XML for Observations ................................................................................................... 40 
7.4.1 Simple Observation – Single Value ............................................................................... 41 
7.4.2 Observation Collection – Heterogeneous Observed Values........................................ 43 
7.4.3 Observation Array – Time Series.................................................................................. 44 
7.4.4 Observation Array – Spatial Sampling......................................................................... 45 
7.4.5 Extended Examples ........................................................................................................ 46 
7.5 Typed Observations and Observed Values .................................................................. 46 
7.5.1 Methods for strong-typing ............................................................................................. 46 
7.5.2 Typing strategies ............................................................................................................. 47 
8 Guidelines for using the observations and measurements model and encoding ....... 48 
8.1 Observations, Observation collections, Observation arrays....................................... 48 
8.1.1 Constraints on the formation of various tpes of aggregation ..................................... 48 
8.1.2 A generalised example, showing many possibilities..................................................... 49 
8.1.3 Reasons to select a particular aggregation type ........................................................... 50 
8.2 Reference system/units ................................................................................................... 51 
8.3 Observable phenomenon/Measurand ........................................................................... 52 
9 Harmonisation with WCS, SensorML .......................................................................... 53 
10 Issues Outstanding and Future Work........................................................................... 54 
Annex A: Conformance (normative).......................................................................................... 56 







OGC 03-022r3           Observations and Measurements 


iv © OGC 2003 – All rights reserved 
 


Annex B: XML Schemas for Observations (normative) .......................................................... 57 
B.1 Utility Schemas................................................................................................................ 57 
B.2 Value Schemas ................................................................................................................ 57 
B.2.1 valueObjects .................................................................................................................... 57 
B.2.2 typedValue....................................................................................................................... 63 
B.2.3 observedValue ................................................................................................................. 66 
B.3 Phenomenon Schemas .................................................................................................... 68 
B.3.1 phenomenon .................................................................................................................... 68 
B.4 Observation Schemas ..................................................................................................... 71 
B.4.1 observation ...................................................................................................................... 71 
B.4.2 richObservation .............................................................................................................. 73 
B.4.3 fowler ............................................................................................................................... 77 
Annex C: Extended examples (informative).............................................................................. 82 
C.1 SAIC Weather Station Observations ............................................................................ 82 
C.2 Polexis Air Monitoring System...................................................................................... 84 
C.3 Gravity Survey ................................................................................................................ 87 
C.4 Assay Samples from a Drillhole..................................................................................... 89 
C.5 Ecological Survey............................................................................................................ 92 
C.5.1 ObservationArray........................................................................................................... 92 
C.5.2 Single observation with complex target (a.k.a. Coverage) .......................................... 96 
C.5.3 Single observation with remote metadata components ............................................... 98 
C.5.4 Transposed results .......................................................................................................... 99 
C 5.5 Indexing the components of the result ........................................................................ 100 
C 5.5.1 Use component phenomena as “column headings” ...................................... 100 
C 5.5.2 Explicit iterators .............................................................................................. 102 
Annex D: Useful definitions and dictionaries (informative) .................................................. 105 
D.1 units.xsd ......................................................................................................................... 105 
D.2 phenomena.xsd.............................................................................................................. 121 
Informative References ............................................................................................................. 129 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved v
 


 


i. Preface 


This draft specification is one of five engineering specifications produced under OGC’s 
Sensor Web Enablement (SWE) activity, which is being executed under OGC’s 
Interoperability Program. This latest version was produced under the OGC Web Services 
(OWS) 1.2 Initiative, conducted June 2002 - January 2003.  


ii. Submitting Organizations 


This Interoperability Program Report, Engineering Specification, is being submitted to the OGC 
Interoperability Program by the following organizations: 


CSIRO Australia 


iii. Document Contributor Contact Points 


All questions regarding this submission should be directed to the editor or the submitters: 


CONTACT COMPANY ADDRESS PHONE/FAX EMAIL 


Simon Cox CSIRO 
Australia 


ARRC 
PO Box 1130 
Bentley 
WA  6102 
Australia 


+61 (8) 6436 8639 Simon.Cox@csiro.
au 


Harry 
Niedzwiadek 


Image Matters 
 


 +1 (703) 669-5510 harryn@imagem.cc 


 







OGC 03-022r3           Observations and Measurements 


vi © OGC 2003 – All rights reserved 
 


iv. Revision history 


Date Release Author Paragraph modified Description 


2001-12-20 0.3 SJDC   


2001-12-24 0.4 SJDC Clauses 6, 7 and Annex A Big reorganisation – separated model 
from XML, more and better examples, 
simpleContent schemas included 


2002-01-02 0.5 SJDC Clauses 6, 7 and Annex 
A, B 


Small changes in terminology; some 
parameters promoted (optionally) to 
collection containers; fixed the 
“redefine” structure in 
Y3observation.xsd; explicit 
“recommendation” clause  


2002-01-04 0.6 SJDC, RL Clauses 6, 7 and Annex 
A, B 


Measurement promoted to be used for 
the measurement-event feature.  
Observed value used for an abstract 
typed value.  Definitions inserted in 
clause 4.   


2002-01-10 0.65 SJDC Clauses 6, 7 and Annex 
A, B 


Measurand changed to observable.  
Members parameter added to 
measurementArray.  ValueBase moved 
into gml namespace.  Placeholders for 
Galdos ObservableType dictionary 
inserted   


2002-01-17 0.7 SJDC   Reintroduce simpleContent encoding of 
scalar values.   
Various fixes to arrays and collections – 
some impacting on content-model 
sequences.   
Make most element declarations global, 
attribute declarations local.   
Change namespace “swe” to “ows”.   


2002-01-30 0.76 SJDC  Introduce _ValueList form for 
homogeneous arrays.   


2002-01-31 0.76.1 SJDC Clause 7, Annex B Corrected schemaLocation values 


2002-04-04 0.8-0.85 SJDC  Replaced XML with “simpleContent” 
version  
Conforms with draft GML3 
Emphasised weak typing approach 
Added more and more diverse instance 
examples to Annex B 
Added issues and future work clause 
Extensive rewriting 


2002-04-19 02-027 
(.86) 


HAN Various Final OWS-1 review and edit; minor 
changes. Produced OGC 02-027. 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved vii
 


2002-08-09 1.0.1 SJDC Many Amended Measurement model: 
measuredOn property, Target feature;  
New Observed Value encoding: map 
encoding, quality, observable name, 
composite observable, parameterised 
observable, observable grid; 
New schemas measurement.xsd, 
value.xsd, observedValue,xsds  


2002-08-19 1.1.0 SJDC Various Add “observable” property to 
Measurement.   
Add “base” property to 
ParameterisedObservable, 
ObservableGrid 
Clean text 


2002-09-04 1.2.0 SJDC Many Rename Measurement to “Observation” 
and associated changes throughout; 
clarify ParameterisedObservable 
structure.   


2003-01-15 1.3.0 SJDC All Rename “Observable” to 
“Phenomenon”.  Enhance Feature vs 
Coverage discussion.  Add discussion 
of WCS requirements.  Revise 
phenomenon model and description.  
GML3 harmonisation.  Refactor 
schemas.  Revise all examples.   


18 Jan 2003 v0.9.0 


(03-022) 


Harry 
Niedzwiade
k 


Various The final OWS 1.2 review and edit. 
Produced OGC 03-022. Version level 
fixed to be consistent with new OGC 
versioning scheme and incremented 
from v0.8.6 under OWS 1.1 to v0.9.0 to 
reflect successful implementation under 
OWS 1.2. 


2003-01-23 V0.9.1 SJDC Clause 8 – Guidelines 
Annex C.5 


First complete version of guidelines. A 
few additional examples.   General 
scrub.   


2003-02-04 V 0.9.2 SJDC Annex C.5 Additions to C.5 and cross references to 
this discussion added.   


 


The issues in this specification are captured in the following format: 


Issue Name: [Issue Name goes here. (Your Initials, Date)]  
Issue Description: [Issue Description.]  
Resolution: [Insert Resolution Details and History.] (Your Initials, Date)] 


 







OGC 03-022r3           Observations and Measurements 


viii © OGC 2003 – All rights reserved 
 


v. Changes to OpenGIS Specifications 


The OpenGIS© Specification requires changes to accommodate the technical contents of this 
document.  


The following is a list of the required changes:  


1.  GML3 – in observation.xsd, the content model of the “resultOf” property should be changed 
to a choice of gml:_Object and gml:Null.    


 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved ix
 


Foreword 


Attention is drawn to the possibility that some of the elements of this document may be subject to 
patent rights claims. The Open GIS Consortium Inc. shall not be held responsible for identifying 
any or all such patent rights. 


This report replaces the Observations and Measurements IPR prepared during OWS 1.1, and an 
earlier version was published by OGC as a Discussion Paper, specifically OGC document 02-027. 
The following changes have been made to the model presented in the first version: 


1. The schemas are fully harmonised with GML version 3.00 (OGC document 02-023r4) 


2. The feature type named “Measurement” in 02-027 is now named “RichObservation” 


3. The RichObservation feature is now based on GML Observation.  RichObservation now 
adds an observable property and supports some quality description.   


4. Observation Collections have been simplified.  


5. Geometry and Temporal Objects have been added to the set of datatypes available as 
Values. 


6. The hierarchy of aggregate Values has been simplified.  


7. The encoding of observable phenomena (aka measurand) has been significantly enhanced 
and now supports description of parameterised phenomena and composite phenomena.  
Note that the enhancements primarily concern the definition of derived phenomena types, 
for which the base or primitive values are defined elsewhere.   


8. Observed Values and Rich Observations may now have one or more quality measures 
associated with them; for composite values, the quality indicators can be applied at any 
level of aggregation.  


A revised set of XML schemas implementing the model is provided in Annex B.   


This specification was developed under the OWS 1.2 initiative.  It assumes the existence of a 
number of additional resources:  descriptions of measurement procedures or sensors, normally 
using Sensor Model Language as defined in OGC 03-005r1; a source (e.g. a registry) for 
definitions of reference systems, such as units of measure and codelists, and coordinate reference 
systems; a source for definitions of observable types and related information.  The measurement 
model described in this specification relates particularly to the Sensor Collection Service, as 
defined in OGC 03-023, and includes some discussion concerning the design of SCS, and also to 
measurement Coverages which might be delivered by a WCS as described in OGC 02-024.   


Annex A (Conformance) and Annex B (XML Schemas) are normative.   







OGC 03-022r3           Observations and Measurements 


x © OGC 2003 – All rights reserved 
 


Introduction 


OGC’s Sensor Web Enablement (SWE) activity, which is being executed through the OGC Web 
Services (OWS) initiatives (under the Interoperability Program), is establishing the interfaces and 
protocols that will enable a “Sensor Web” through which applications and services will be able to 
access sensors of all types over the Web. These initiatives have defined, prototyped and tested 
several foundational components needed for a Sensor Web, namely: 


1. Sensor Model Language (SensorML) – The general models and XML encodings for 
sensors. SensorML originated under OWS 1.1, was significantly enhanced under OWS 
1.2 and is now available as a public discussion paper. 


2. Observations & Measurements (O&M) - The general models and XML encodings for 
sensor observations and measurements. O&M originated under OWS 1.1 and was 
significantly enhanced under OWS 1.2. 


3. Sensor Collection Service (SCS) – A service by which a client can obtain observations 
from one or more sensors/platforms (can be of mixed sensor/platform types). Clients can 
also obtain information that describes the associated sensors and platforms. This service 
originated under OWS 1.1 and was significantly enhanced under OWS 1.2. 


4. Sensor Planning Service (SPS) – A service by which a client can determine collection 
feasibility for a desired set of collection requests for one or more mobile 
sensors/platforms, or a client may submit collection requests directly to these 
sensors/platforms. This service was defined under OWS 1.2. 


5. Web Notification Service (WNS) – A service by which a client may conduct 
asynchronous dialogues (message interchanges) with one or more other services. This 
service is useful when many collaborating services are required to satisfy a client request, 
and/or when significant delays are involved is satisfying the request. This service was 
defined under OWS 1.2 in support of SPS operations. WNS has broad applicability in 
many such multi-service applications. 


This document specifies Observations and Measurements. The other components are specified 
under separate cover. 


Herein we describe a framework and encoding for measurements and observations. This is 
required specifically for the Sensor Collection Service and related components of an OGC Sensor 
Web Enablement capability, and also for general support for OGC compliant systems dealing in 
technical measurements in science and engineering.  


The aim is to define a number of terms used for measurements, and the relationships between 
them.  This proposal discusses Observation, Measurement, Value, Observed Value, Coverage, 
SensorInstance, Observable, Measurand, Phenomenon, and related terms, presented using 
UML class diagrams and in equivalent GML conformant XML serialisations.  The scope is 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved xi
 


restricted to measurements whose results are expressed as quantities, categories, temporal and 
geometry values, and composites and arrays of these.   


A discussion regarding how the observation and measurement model is used in the context of 
SensorWeb Enablement is included.  The discussion notes how different parts of the information 
model would be provided by different services.  However, the details remain to be resolved and 
might depend on specific use-cases.   


This report is a major revision of a report prepared during the first OGC Web Services 1.1 
initiative.   


This work was supported by OGC through the OWS-1.2 Interoperability project, and by the 
XMML project based at CSIRO Australia.   











Discussion Paper - Observations and Measurements OGC 03-022r3


 


© OGC 2003 – All rights reserved 1
 


Observations and Measurements: A Draft Implementation 
Specification 


1. Scope 


We describe a conceptual model and encoding for observations and measurements.   


We define an Observation to be an event with a result which is a value describing some 
phenomenon.  This is modelled as a Feature within the context of the OGC Feature Model.  An 
observation feature binds the result to the (spatiotemporal) location where it was made.  An 
observation involves a procedure to determine the value, which may involve a sensor or observer, 
analytical procedure, simulation or other numerical process.   


An observation results in an estimate of the Value of a property or phenomenon related to the 
target of the observation.  Values are of various datatypes,  including the primitive types category, 
quantity, count and boolean, time, location and geometry.  The value normally requires a 
reference system to provide the context for its interpretation and valid operations on it.  Common 
reference systems are the unit of measure for a quantity, a dictionary or “code space” for a 
category, a spatial reference system for location and geometry, and a temporal reference system 
for time values.  A value may be constructed by aggregating primitive values, to build tuples, 
arrays and lists, and composite values such as vectors and tensors.  An observed value may be 
semantically typed according to the phenomenon being observed or observable, sometimes called 
measurand.  Observed values may have other properties, such as quality indicators.   


We discuss how the observation and measurement model is used in the context of SensorWeb, 
noting that different parts of the information model may be provided by different services, though 
details remain to be resolved and might depend on specific use-cases.   


Used, but not described in this report are: 


• Sensor Model Language (SensorML) & Sensor Instance/Sensor Type registries,  


• Reference System definitions (CRS, frames, units of measure, dictionaries & category 
lists),  


• Semantic definition of observable types, observable registries, and 


• Geometry and temporal objects.  







OGC 03-022r3           Observations and Measurements 


2                                       © OGC 2003 – All rights reserved 
 


2. Conformance 


Conformance and Interoperability Testing for this specification may be checked using all the 
relevant tests specified in Annex A (normative). The framework, concepts, and methodology for 
testing, and the criteria to be achieved to claim conformance are specified in ISO 19105: 
Geographic information — Conformance and Testing. 


3. Normative References 


The following normative documents contain provisions which, through reference in this text, 
constitute provisions of this part of this document. For dated references, subsequent amendments 
to, or revisions of, any of these publications do not apply. However, parties to agreements based 
on this part of this document are encouraged to investigate the possibility of applying the most 
recent editions of the normative documents indicated below. For undated references, the latest 
edition of the normative document referred to applies. 


[Guidelines]  Guidelines for Successful OGC Interface Specifications, OGC document 00-014r1 


[Filter]  Filter Encoding Implementation Specification. OGC Document 02-047 
http://www.opengis.org/ 


[GML3]  Geography Markup Language, version 3. OGC Document Number: 02-023r4  
http://www.opengis.org/ 


[ISO1000]  SI units and recommendations for the use of their multiples and of certain other units 
- ISO 1000.  See also http://www.bipm.fr/en/3_SI 


[ISO19103]  ISO TC 211Geographic Information – Conceptual Schema Language ISO 19103  
http://www.isotc211.org/pow.htm  


[ISO19107]  ISO TC 211Geographic Information – Spatial Schema ISO 19107  
http://www.isotc211.org/pow.htm  


[ISO19108]  ISO TC 211Geographic Information – Temporal Schema ISO 19108  
http://www.isotc211.org/pow.htm  


[ISO19109]  ISO TC 211Geographic Information – Rules for Application Schema ISO 19109  
http://www.isotc211.org/pow.htm  


[ISO19110]  ISO TC 211Geographic Information – Feature cataloguing methodology ISO 19110  
http://www.isotc211.org/pow.htm  


[ISO19112]  ISO TC 211Geographic Information – Spatial referencing by identifier ISO 19112  
http://www.isotc211.org/pow.htm  


[ISO19115]  ISO TC 211Geographic Information – Metadata ISO 19115  
http://www.isotc211.org/pow.htm  







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 3
 


[ISO19123]  ISO TC 211 Geographic Information – Schema for coverage geometry and functions 
ISO 19123  http://www.isotc211.org/pow.htm  


[OGCAS0]  The OpenGIS Abstract Specification.  Topic 0: Overview, OGC document 99-100r1 
http://www.opengis.org/public/abstract/99-100r1.pdf  


[OGCAS2]  The OpenGIS Abstract Specification.  Topic 2: Spatial referencing by coordinates, 
OGC document 02-102 http://www.opengis.org/public/abstract/02-102.pdf  


[OGCAS5]  The OpenGIS Abstract Specification.  Topic 5: Features.  OGC Document 99-105r2.  
http://www.opengis.org/public/abstract/99-105r2.pdf  


[OGCAS6]  The OpenGIS Abstract Specification.  Topic 6: The coverage type and its subtypes.  
OGC Document 00-106.  http://www.opengis.org/public/abstract/00-106.pdf  


[SCS]  Sensor Collection Service IPR, OGC 03-023. 
http://member.opengis.org/tc/archive/arch03/03-023r1.pdf 


[SensorML]  Sensor Model Language IPR, OGC 03-005. 
http://member.opengis.org/tc/archive/arch03/03-005r2.pdf 


[UOM2001]  Units of Measure and Quantity Datatypes. OGC Project Document 01-044r3 
http://feature.opengis.org/members/archive/arch01/01-044r3.pdf 


[WCS]  Web Coverage Service Implementation Specification. OGC Document 02-024  
http://www.opengis.org/techno/discussions/02-024.pdf 


[WFS]  Web Feature Service Implementation Specification. OGC Document 02-058  
http://www.opengis.org/techno/specs/02-058.pdf 


[XPointer]  XML Pointer Language (XPointer) Version 1.0. World Wide Web Consortium. 
2001.  http://www.w3.org/TR/xptr/ 


4. Terms and Definitions 


The following terms and definitions apply. 


4.1  
Measurand 
Is a member of the subset of observables, whose values are given as quantities [NRC1995].   


4.2  
Measurement (noun) 
Is an observation using a single sensor or procedure, whose result is a quantity [FOW1998, VIM].   







OGC 03-022r3           Observations and Measurements 


4                                       © OGC 2003 – All rights reserved 
 


4.3  
Observable 
The particular phenomenon which is the subject of the observation and to which values are 
assigned, such as temperature, gravity, chemical concentration, orientation, number-of-
individuals.   


4.4  
Observation (noun) 
An instance of a procedure to assign numbers or other symbols to phenomena in such a way that 
relationships of the numbers or symbols reflect relationships of the attributes of the phenomena 
being observed [FOW1998, SAR1995].  An observation frequently involves an instrument or 
sensor.  An observation feature effectively binds a value to a time, location, and to the instrument 
or procedure used.   


4.5  
Observed Value 
An estimate of a value describing a natural phenomenon, which is characterised by its observable 
and may include other properties such as quality measures. The term is used regardless of 
whether the value is due to an instrumental observation, a theoretical model, subjective 
assignment or some other method of estimation or assignment.  The value may be scalar or 
aggregate.   


4.6  
Scale 
A particular way of assigning numbers or symbols to measure something is called a scale of 
measurement [SAR1995]. 


4.7  
Value 
A value is a member of the value-space of a datatype.  It may use one of a variety of scales 
including nominal, ordinal, ratio and interval, spatial and temporal.  Primitive datatypes may be 
combined to form aggregate datatypes with aggregate values, including vectors, tensors and 
images [ISO11404].   


5. Conventions 


5.1 Symbols (and abbreviated terms) 


The following symbols and abbreviated terms are used in this document. 


GML OGC Geography Markup Language 


ISO International Organization for Standardization 


OGC Open GIS Consortium 


OWS  OGC Web Services 


O&M  Observations and Measurements 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 5
 


PSVI Post schema-validated information set (for XML documents) 


SCS  Sensor Collection Service 


SensorML  Sensor Model Language  


SWE  Sensor Web Enablement 


UML Unified Modeling Language 


XML eXtensible Markup Language 


XSD W3C XML Schema Definition Language 


1D One Dimensional 


2D Two Dimensional 


3D Three Dimensional 


5.2 UML Notation 


The diagrams that appear in this document are presented using the Unified Modeling Language 
(UML) static structure diagram.  The UML notations used in this document are described in the 
diagram below. 


Association between classes


role-1 role-2


Association Name
Class #1 Class #2


Association Cardinality


Class Only one


Class Zero or more


Class Optional (zero or one )


1..* Class One or more


n Class Specific number


Aggregation between classes


Aggregate
Class


Component
Class #1


Component
Class #2


Component
Class #n


……….


0..*


0..1


Class Inheritance (subtyping of classes)
Superclass


Subclass #1


…………..


Subclass #2 Subclass #n


 


Figure 1. UML notation 







OGC 03-022r3           Observations and Measurements 


6                                       © OGC 2003 – All rights reserved 
 


In this document, the following stereotypes of UML classes are used: 


a) <<Abstract>> class (or other classifier) that cannot be directly instantiated. UML notation for 
this to show the name in italics. 


b) <<DataType>> A descriptor of a set of values that lack identity (independent existence and 
the possibility of side effects). A DataType is a class with no operations whose primary 
purpose is to hold the information. 


c) <<Union>> describes a selection of one of the specified types. This is useful to specify a set 
of alternative classes/types that can be used, without the need to create a common super-
type/class. 


d) <<Enumeration>> data type whose instances form a list of named literal values.  Both the 
enumeration name and its literal values are declared.  Enumeration means a short list of well-
understood potential values within a class. 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 7
 


6 A model for Observations and Measurements 


In this Clause, we describe a model for observations and associated components.  The analysis is 
presented as an information model using UML static class diagrams.   


We start in Clause 6.1 with a summary of the “Feature” which is the basic item in the OGC model 
for geographic information.  This is followed in Clause 6.2 with a brief discussion of a 
complementary view of geographic information based on the Coverage, focussing particularly on 
the shared information content between these views.  Understanding this equivalence allows us to 
base the subsequent analysis on the Feature model with a clear understanding of how to transform 
the same information into a Coverage.   


We follow in Clause 0 with descriptions of models for Observations and Observation Collections.  
The results of observations are held in Values which are described in Clause 6.4.  In Clause 6.5 
we describe some structures which may be used for descriptions of the Phenomena that are the 
topic of observations.   


Finally, in Clause 6.6, we review the complete model, and introduce some associated 
components: sensors and reference systems.  This supports a discussion of some operational 
factors of a Sensor Collection Service, particularly focussing on the supply of different 
information items by different services through various interfaces.   


6.1 The Feature Model 


The feature model underlies the ISO/OGC view of geographic information [OGCAS5, 
ISO19109].  The OGC abstract model defines a feature as “an abstraction of a real world 
phenomenon”.  The term Feature, as used here (Figure 2 – see also Figure 7.4-1 in GML3), is 
used for a software representation of an identifiable object located in geographic space.  A 
Feature will have a number of properties, some of which may be geometric and spatial.   


The latter is important.  In traditional GIS an item of interest is usually defined as a single 
geometry – often a point, line or polygon – with attributes.  In the Feature model the item of 
interest is a conceptually meaningful phenomenon within the domain of discourse – such as a 
Mine, Road or Land-Parcel – for which one or more properties may be geometric.   


In a specific feature, the generic “_property” shown in the model would be replaced by several 
named properties, the values of which would be constrained to be of particular types.  A specific 
Feature Type is defined in terms of this set of named properties that are associated with that type 
[ISO19110].  A Feature instance is thus the functional map of its property values. 







OGC 03-022r3           Observations and Measurements 


8                                       © OGC 2003 – All rights reserved 
 


 


Figure 2. The Generic Feature Model 


6.2 The Coverage model 


6.2.1 Definition of coverage 


Coverage is an important model of spatial data.  A Coverage is “… a set of attribute values (its 
range) associated to position within a bounded space (its spatiotemporal domain) …” 
[ISO19123].  Coverage is thus a special case of a functional mapping, where the domain or index 
set is restricted to be spatiotemporal (Figure 3).   


 


Figure 3. Coverage model 


The attributes of a coverage (its range) are of homogeneous type throughout its domain.  A 
coverage may be evaluated for any location in its domain, with the result being the set of attribute 
values of the coverage at that location.  Nevertheless, in general the domain of a coverage does 
not have to be continuous, and a coverage may not have a value at every position within the 
envelope of the domain.   


X1 


X2 


X3 


Ai 
Aj 


Ak 


Domain 
Range Set 


A=C(X) 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 9
 


Imagery is a common way of collecting information associated with a coverage, by which the 
value of a continuous phenomenon is sampled at regular but discrete locations (pixels).   


6.2.2 Representation of coverage 


6.2.2.1 Discrete coverage 


A discrete coverage may be represented: 


i. as a set of homogeneous features, where for each feature its location is a member of the 
discrete geometry set composing the domain, and the other properties of the feature are 
the coverage attributes at that location.  The “rule” that defines the mapping from the 
domain to the range is simply that the location and the other properties are properties of 
the same feature instance.  Note that “location” is not necessarily a point.  If the location 
of each member feature is extensive and the attributes scalar-valued, then value(s) of the 
coverage will be piecewise-constant; according to (for example) the polygon-patch 
collection that comprises the coverage domain;   


ii. by collecting the description of the members of domain set (which may be implicit, such 
as a grid) and the values in the range separately, and providing a mapping between these 
so that each member of the domain is associated with a single (set of) value(s) from the 
range. The procedure or rule defining the functional mapping from the domain to the 
range is a required component of this representation.   


The homogeneous feature collection and functional map representations of the information might 
be considered alternative views or interfaces to a discrete coverage.   The conventional 
representation of large Coverages, such as imagery, describes the domain (e.g., a grid) separately 
from the range (i.e., the attribute values) and thus corresponds to a functional map.  A “pixel 
collection” would be the feature collection equivalent of an image.   


6.2.2.2 Continuous coverage 


For a continuous coverage, the values at all arbitrary positions within the domain are not stored, 
but defined by an operation.  Thus a continuous coverage may only be represented as a functional 
mapping.   


The operation may be described using a regular or analytic function such as a polynomial.  Or if 
the values in a coverage are related to a known governing phenomenon, a process simulation may 
be used to compute an estimate of the value at any location.  Failing these, a statistical 
interpolation or a rule (e.g. “nearest neighbour”) may be used.  For most of these cases, 
constraints for the operation are provided by an associated discrete coverage, which samples a 
domain with the same footprint.  


An auxiliary data structure, such as a spatial partitioning of the domain, may also be required.  
For example, a 2-D domain might be partitioned into polygonal patches, each sampled at one 
point and within each of which the values are known to behave in some regular manner (e.g. 
constant), with discontinuities between the patches.  Evaluation of the coverage at any position 
then requires information about the patch within which the position falls, the values and positions 
of the constraining values from the associated discrete coverage, and a model for how the values 
vary.   







OGC 03-022r3           Observations and Measurements 


10                                       © OGC 2003 – All rights reserved 
 


6.2.3 Relationship between Feature and Coverage views 


The OGC Abstract Specification Topic 6 [OGCAS6] discusses relationships between the feature 
and coverage representation of information in some detail in clause 1.2.  Several relationships are 
possible.   


6.2.3.1 A coverage is a feature 


At the simplest level, a coverage may be modeled as a single gross feature, whose “location” 
attribute is the coverage domain, with another attribute holding the set of values in the range.  The 
mapping from locations within the domain to values in the range (e.g., sequence rule, function) is 
an essential attribute of the coverage-feature.   


 


Figure 4. Coverage modelled as a Feature 


This view is particularly appropriate for coverages such as images from frame cameras, where the 
values in the range are assigned through what is (apparently) a single homogeneous act.  The 
image is then a feature, whose location corresponds with its footprint, and whose array of pixel 
values are the complex value of one attribute.   


6.2.3.2 A coverage is a feature collection 


The information associated with a discrete coverage may be represented in a table.  In the 
example shown in Figure 5,  the set of locations which enumerate the discrete domain of the 
coverage occur in one column (dark grey), and the other columns (light grey) contain the values 
of the range on each member of the domain set.  The mapping from the domain to the range is 
given by the organisation of the rows of the table.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 11
 


Properties Location 


Property 1 Property 2 … Property m 


(x1, y1) Value11 Value12 …  Value1m 


(x2, y2) Value21 Value22 …  Value2m 


(x3, y3) Value31 Value32 …  Value3m 


     


(xn, yn) Valuen1 Valuen2 …  Valuenm 


Figure 5. Tabular representation of information associated with a discrete coverage.  
(N.B. the locations may be a geometry such as a “cell” rather than a point position.)   


Each row, therefore, holds information that describes a Feature from a corresponding feature 
collection.  The feature type is implied by the set of properties {Property 1, Property 2, … 
Property m}.  For example, the row outlined by the dotted box, gives the information related to 
Feature 3, whose location is (x3, y3), and value of Property 1 is Value31,  Property 2 is Value32, etc.  
The entire coverage is thus equivalent to a homogeneous feature collection.  This view is 
appropriate when a coverage is compiled by aggregating values which may have been collected 
separately.   


These views of a coverage are related through simple transposition.  The feature-collection view 
focuses on gathering the information concerning a single location at a time, while the functional 
map view describes the column of locations as a group, and then the set of attribute values as a 
separate group or groups.   


This feature-collection - coverage equivalence means that we can analyse and model both at the 
same time.  A model for a particular feature type can be expressed in a map view by simply 
taking the non-location properties of a feature collection as the range of the coverage.  
Alternatively, a Feature is simply a coverage with only one member in the domain.  This 
equivalence allows us to focus on the most appropriate or convenient view during analysis, 
knowing that conversion to the other view is straightforward.   


This form of equivalence is discussed further in Clause 6.3.5.2 and illustrated in Figure 9.  For the 
purposes of the discussion in this document, we assume a method for transforming any 
homogeneous Feature Collection into a discrete Coverage is available, and vice versa.   


6.2.3.3 Using feature and coverage views 


The Feature and Coverage representations of the information are both required.  Typically they 
are important in different phases of the data-processing cycle:   


• The feature view is important during data collection when an observation or measurement 
event causes values for all the properties of a single feature to be determined, and during 
data entry when the data-store is updated by inserting a new feature; 


7 Featur
e 3 







OGC 03-022r3           Observations and Measurements 


12                                       © OGC 2003 – All rights reserved 
 


• The map view is often more important during analysis, when the requirement is to find 
patterns in the values of a property over a collection of features; at this stage it is 
necessary to have access to a complete “column” of values over all features at once. 


OGC AS Topic 6 comments: “we should be comfortable moving back and forth between any of 
the [different representations of the same information] whenever it makes sense to do so”.   


6.2.4 Coverage types 


It is common to define the type of a discrete coverage by the structure of its domain 
representation (e.g., “polygon coverage”, “gridded coverage”).  The domain structure may also 
constrain the interpolation method used to evaluate the coverage at general positions (e.g., point 
samples often lead to a “TIN coverage”; a “polygon coverage” is most often piecewise constant).   


However, the natural type of a continuous coverage is in terms of the semantics of the attributes 
in the range (e.g., radiance, mineral grade, property ownership).  This is related to the approach 
used for typing Features: based on their semantics and properties, rather than on their geometric 
realisation.   


Following the equivalence relationship between features and coverages described above, we may 
apply a “semantic” typing to a discrete coverage that follows the type of features in the 
corresponding homogeneous feature collection.  For example, a collection of classified roads that 
composes a “segmented-curve coverage” when considered in terms of the domain structure, is a 
“road-classification coverage” when considered in terms of its range; a collection of remotely 
sensed pixels composes a “gridded coverage” using structural typing, or a “radiance image” using 
semantic typing.   


Typing coverages according to the structure of the representation is required for processing and 
portrayal, but typing coverages according to the attribute in the range is the key to comprehension 
and utility.  The relationship between Representation and Meaning is discussed in relation to 
Observations in clause 6.3.3 below, and generally in clause 6.5.1. 


Issue Name: [Moving towards a coherent, complete semantic framework for feature-related 
information. (SJDC, Dec 2002)]  
Issue Description: [Additional discussion of the relationship between feature types and 
feature catalogues, and reference-systems or value-spaces for their properties is needed. 
Comprehension requires the ability to do comparison and ordering operations using the 
values of attributes. In turn, this requires not only that the features are typed in the same 
way, but also that the values of their properties are expressed on scales that can be related to 
each other.]  
Resolution: [Insert Resolution Details and History.] (Your Initials, Date)] 


 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 13
 


6.3  Observation Model 


6.3.1 Basic model 


We follow Fowler [FOW1998] and consider an observation to be an act or event through which 
a number, term or other symbol is assigned to a phenomenon.  An observation has a timestamp.  
The observation uses a procedure, which is often an instrument or sensor [NRC1995].  The 
phenomenon may be associated with an identifiable object, which is thus the target or subject of 
the observation, or may simply be sampled at some convenient location.   


In conventional measurement theory [e.g. KRALST, SAR1995, VIM] the term “measurement” is 
used for the same concept.  However, Fowler’s distinction between measurement and category- 
observation has been adopted in more recent work [NIE2001, YOD] so the term “observation” is 
used here for the general concept, with “measurement” reserved for cases where the result is a 
scalar quantity.   


6.3.2 Feature model for an observation 


We define an Observation as a Feature type, in which one of its properties is resultOf, the 
value of which is a Value Object describing some phenomenon (Figure 6).  Value Object is an 
abstract datatype, which is replaced in a data instance by a concrete type, such as quantity, 
category, count, etc, or by an aggregate of these primitives.  The structure of various forms of 
value object is described in detail in clause 6.4.  A Measurement is a specialisation of observation 
made using a sensor or instrument which results in a scalar quantitative value.  This may be 
implemented as a subclass of Observation with a constraint to specify the result type.  However, 
in the model and encoding presented in this report, we describe the general case which covers all 
result types.   







OGC 03-022r3           Observations and Measurements 


14                                       © OGC 2003 – All rights reserved 
 


 


Figure 6. The Observation Feature 


An observation has a timeStamp, since the Observation feature describes an act or “observation 
event”.  An observation has a using property, the value of which is a description of a procedure 
such as an instrument or observer.  A model and encoding for the functional description of 
sensors is given in the OGC document describing Sensor Model Language [SensorML].  An 
observation may be semantically typed using an observable property, which identifies the 
Phenomenon being sampled.   


An observation will frequently be related to other features, such as an observation collection, a 
survey tie-point, a previous observation from the same location, a previous observation which is 
the basis for a new observation (e.g., a classification may be based on an earlier set of 
measurements), etc.   We model this general association with other Features using a 
relatedFeature association class, with a role attribute, allowing the association to be (weakly) 
typed.  A common related feature is the subject of the observation, such as a Station or Specimen, 
so this is promoted to having a fixed role target.  Finally, an observation may have several 
quality indicators associated with it.   


An observation has a single procedure and observable, and a single result.  The description of the 
procedure provides important metadata to support the interpretation of the result.  If it is a sensor, 
then it may be a “sensor package” (such as a weather station, or multi-band radiance sensor) 
measuring an “aggregate observable” (weather, multi-band radiance), and producing a resulting 
“aggregate value” (the corresponding set of weather parameters, or a radiance spectrum).  But 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 15
 


when associated with an observation, the sensor, observable and result are each single logical 
entities.   


It is through its association with an observation feature that a Value is bound to a feature of 
interest or a geospatial location, to a time instant or period, and to the Sensor Instance 
responsible for the observation.   


Note that we indicate that the result of an observation may be an Image.  In this case, the 
observation feature is essentially a vehicle that binds the image “metadata” to the image.  The 
value of the target property will be the image extent and its structure.  For images this is usually 
a grid so may be described using an implicit encoding.   


In common with other features, Observation has a location property and a metadataProperty.  
However, some caution is required concerning location, especially when considering whether the 
procedure or instrument used and whether it operates in-situ or remote.  For example:   


1. if the sensor is a fixed in-situ instrument, or it is a mobile in-situ sensor for which the 
position at the time of the Observation is available, the sensor location is sufficient.  


2. if the observation is on a specimen or station, and uses an in-situ instrument, the location 
of the specimen or station is sufficient.  


3. if the observation is made using a remote sensor, the location of interest is described or 
computed separately. 


In the context of GML, all features inherit the standard properties id, metadataProperty, 
description, name, location, and boundedBy from gml:AbstractFeatureType.  The GML 
feature Observation adds timeStamp, resultOf, using, and target.  The RichObservation 
feature introduced here adds observable, quality and relatedFeature properties.     


6.3.3 Observation types 


Observations may be classified or typed in several ways.   


6.3.3.1 Typing according to the representation of the result 


Fowler’s classification of observations [FOW1998] focuses on the representation of the result.  A 
“measurement” is distinguished from a “category-observation” depending on whether the result is 
a number or a term.  Our interest here also extends to observations whose results are geometry, 
temporal, Boolean and frequency, so we specialise the observation model to generate the six sub-
classes of observations shown in figure Figure 7, based on the representation of the result.  







OGC 03-022r3           Observations and Measurements 


16                                       © OGC 2003 – All rights reserved 
 


 


Figure 7. Specialised observation classes. 


6.3.3.2 Semantic typing 


Alternatively, the value of the observable, i.e., the phenomenon being sampled, may be used to 
classify an observation.  This is the primary constraint on whether the results of observations may 
be compared.  Thus we might be interested in discovering and compiling a set of “vegetation 
observations”, regardless initially of whether the results are boolean (vegetated or not), 
quantitative (percentage vegetation cover) or categorical (vegetation type).   


The second, practical requirement for comparison is that the results are available on the same 
scale, or that a conversion to a common scale is possible [SAR1995]. We discuss the relationship 
between representation and meaning below (clause 6.5.1) 


If the result of the observation is an aggregate value, then the definition of the phenomenon 
should indicate the structure of the aggregate, in order that the components can be disambiguated.  
Furthermore, in most cases parameters are required to refine the definition of a phenomenon.  
Further discussion of models for the description of phenomena are given in Clause 6.5, and an 
XML encoding in Clause 7.2.2.   


Note that classification of observations raises similar issues to the discussion of Coverage types 
above (clause 6.2.4).   


6.3.4 Relationships within the observation model 


Some further associations in the model for Observations are shown in Figure 8.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 17
 


 


Figure 8. Observation Model showing additional associations and validation 
dependencies 


The observable may be indicated in several positions in the information structure.    


1. The definitive description of the observable is available through the description of the 
procedure responsible for the observation.  If the procedure is a sensor, then the description 
will use the sensor model language SensorML [SensorML].  One of the properties of a 
sensor is measures, whose value is a detailed description of the Phenomenon also 
encompassing the sensitivity of the instrument.  However, using this method, the mapping 
from the semantics of the observation to its value is quite indirect, as it requires traversal of 
two associations.   


2. Alternatively, the observation may carry an observable property directly.  This points to a 
definition of the Phenomenon, usually available from a dictionary or catalog.  Using this 
method, the mapping from the semantics of the observation to its value is through them 
both being properties of the Observation feature.    


3. Finally, in place of a Value, the resultOf property may contain a Typed Value which has 
an axis property to indicate the Phenomenon.  Using this method, the mapping from the 
semantics to the value is bound within the Typed Value, the model for which is described 
in Clause 0.   







OGC 03-022r3           Observations and Measurements 


18                                       © OGC 2003 – All rights reserved 
 


If the phenomenon is indicated in more than one place, the processing system may check that it is 
consistent.   


The location of the observation may be provided indirectly.  The Procedure (which might be a 
SensorInstance) will normally indicate its sample.  The subject of the Observation may be 
provided directly as the value of the target property, in which case its location defines the 
location relevant to the result.  For in-situ sensors, the location of Platform or Station to which 
the Sensor Instance is attached defines the location of the observation.  For remote sensors, the 
target Region will be at a different location to the Platform.  Various opportunities for 
information normalisation exist.   


Note that it may be useful for using to identify objects other than “sensors”.  For example, a 
person may carry out a field survey.  A commercial laboratory, using one of several procedures 
pre-defined according to standards applicable at the time the measurement is made, usually 
carries out an assay of a rock sample.  Estimates of values of phenomena may be made by 
software such as a numerical simulation system or differential equation solvers, using finite 
elements, finite differences, etc.  To cover each of these cases, it will be necessary to define 
additional descriptors for the procedures.   


Note that the models from Fowler and Yoder et al. consider processing and validation, as well as 
the static information model.  In the OGC context, this overlaps the interaction between the 
information and service models.   


6.3.5 Observation Collections 


6.3.5.1 Collections and arrays 


Observations may be aggregated into a Collection (Figure 9).  Using the composite pattern 
[PAT1995], an Observation Collection may itself be treated as an Observation.   


Certain items may be common to all of the members of the collection.  Thus we allow a general 
ObservationCollection to carry the relatedFeature, timeStamp and target properties.   


An Observation Collection consisting of ordered, homogeneously typed Observations is an 
Observation Array.  The array may carry an observable property, which is inherited by all of 
its members.  In some cases, all the observations in an array may be using a single sensor, so this 
property may optionally be attached to the array and inherited by all of the members.  







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 19
 


 


Figure 9. Observation Collection and Observation Coverage 


6.3.5.2 Coverage view 


Following the analysis presented in clause 6.2.3, an ObservationArray is a representation of a 
discrete observation coverage.  The values of the set of location and timeStamp properties 
defines the domain set of the coverage.  Any or all of the values of the other properties of the 
Observation features may comprise the range set, provided that the same properties are used from 
all the member Observations.  The most common case would be where the range of the coverage 
is composed of the values of the resultOf properties from all the observations.   


Alternatively, a single “Observation” may have an extensive location as its target, and the value 
of its resultOf property be composite.  This view may be useful when the phenomenon is sampled 
instantaneously, such as when a frame-camera samples the light arriving from across a target 
region.   


A temporal coverage or time-series is usually associated with observations made by a single 
sensor.  A spatial coverage may be collected using a spatial array of similar sensors sampled at a 
single instant, or using a spatial array of similar sensors or a single sensor sampling a set of 
locations measuring a time-invariant phenomenon.   







OGC 03-022r3           Observations and Measurements 


20                                       © OGC 2003 – All rights reserved 
 


6.4 Value Model 


6.4.1 Representation of the result 


In engineering and natural sciences, “value” refers to the magnitude of a quantity expressed as a 
unit of measure multiplied by a number [VIM].  Measurement theory generalises this notion to 
include positions or ordinates on interval scales, and terms and other symbols, which may have 
nominal and ordinal scales [KRALST, SAR1995].  Here we also consider observations whose 
result may be related to positions within a frame, time instants within a particular calendar, and 
aggregate values.  The components of aggregates may be primitive (scalar) values, or may 
themselves be aggregates.  We refer to any of these as Value Objects.   


Note that values are usually expressed using a small number of representations (numbers, 
character-strings, and composites of these), but the details of the measurement scale determine 
what operations are valid on the results [KRALST, SAR1995].  For example, values of mass and 
temperature may both be expressed as real numbers, but while both ratios and differences are 
meaningful for mass which is expressed on a ratio scale, only differences are valid for 
temperature which is expressed on an interval scale.  Rank is often expressed as a number, but 
neither ratios nor differences are significant, only order.  The valid operations are highly 
important when performing analysis.   


Issue Name: [Valid operations summary. (SJDC, Dec 2002)]  
Issue Description: [A summary (table?) of values/scales and valid operations should be 
prepared and provided as part of the abstract spec here. This may be based on material from 
SAR1995, KRALST, etc.]  
Resolution: [Insert Resolution Details and History.] (Your Initials, Date)] 


 


6.4.2  Scalar Values 


Primitive or scalar values can occur on several scales, including nominal, ordinal, interval and 
ratio scales [KRALST].  We model these as a small number of generic DataTypes Category, 
Quantity, Count and Boolean, derived from an abstract superclass Scalar Value (Figure 10).   


A similar pattern is used for each of the scalar value objects, comprising a numerator or value 
using the appropriate simple data type, and a denominator indicating the scale for the value. The 
model for Quantity is the same as Measure discussed in the OGC recommendation on Units of 
Measure [UOM2001] and ISO 19103 [19103].    


6.4.3 Scalar Value Lists 


In some contexts, we find an ordered set of values using the same scale, such as a set of radiance 
amplitudes, which are the value of multiband radiance or a spectrum.  We model Category List, 
Quantity List, Count List and Boolean List following the equivalent scalar values by simply 
extending the cardinality of the value attribute to [1..*] (Figure 10).  [Alternatively, the lists could 
be considered as the primitive type, with scalar values simply being lists of unity length.]   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 21
 


 


Figure 10. Generic scalar value model (left), and model for ordered lists of scalar values 
(right). 


6.4.4 Scalar Value Objects 


The results of certain observations are values of geometry or time.  Spatial position and time 
instant are special forms of ordinates, which use an interval scale or coordinate system, and thus 
are similar to some of the scalar datatypes already described.  However, these datatypes are 
conventionally managed using special components [ISO19107, ISO19108].  In order to 
accommodate the appearance of spatial and time objects within the same context as the scalar 
values, we group the components into a generalised class Value and a union class Value Object 
as shown in Figure 11.   


Finally, in order to support a case that occurs frequently in practical situations where a value is 
expected but not present for some reason, a Null object may appear as a value object.  The null 
object may carry some explanation for the absence of a valid value.   


 


Figure 11. Class diagram showing scalar value substitutability 







OGC 03-022r3           Observations and Measurements 


22                                       © OGC 2003 – All rights reserved 
 


6.4.5 Aggregate Values 


Some observations result in values with a more complex structure, in particular aggregate values 
composed of multiple components.  The components of these aggregates may be strongly 
coupled, such as vectors and tensors where the values of the individual components are related 
and will be simultaneously changed by transformation of the reference system, or they may not be 
directly coupled.  In general, the components may be scalar values or other aggregates 
[ISO11404].  Aggregate values correspond to the record datatype [ISO19103].   


The composite pattern [PAT1995] provides a flexible method for constructing general aggregates 
by recursively attaching components.  Here it is necessary to make a small adaptation to 
accommodate Geometry objects and Time Objects acting as primitives alongside the simple 
scalar values (clause 6.4.4).  Thus, while a Composite Value may be composed of any of these, it 
is only substitutable for one member of the union class, i.e., Value (Figure 12).  Note also that the 
components of a composite may be primitive values or aggregates.  An aggregate value built in 
this way has a tree structure, which ultimately resolves to leaf nodes each bearing a Scalar
Value, Scalar Value List, Geometry or Time Object, possibly at varying levels.   


 


Figure 12. Composite model for aggregate value types 


We define one special case of aggregate values.  A Value Array is an ordered collection in 
which each member is of the same type.  Arrays of Composite Values may form a Value Array, 
such as a series of vector values.  Arrays themselves may be nested, so a set of values 
corresponding to time-series of the same Value from different locations can form an array of 
Value Arrays.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 23
 


When the members of the array are Scalar Values, the reference system may be indicated on the 
container. The optional attribute referenceSystem is abstract: this is substituted by codeSpace or 
unitOfMeasure as appropriate.   


Note that an array whose members are scalars is more efficiently represented using a Scalar
Value List.   


6.4.6 Semantically typed values: Typed Values 


As discussed in Clause 6.3.3, the meaning of the result of an observation is intrinsically 
determined by the procedure (sensor) used to make the observation, or the phenomenon may be 
indicated as a direct property of the observation.  So when the result is provided in the context of 
the rest of the information associated with the observation the semantics of the result are available 
by inspecting the description of the sensor instance.   


However, there are circumstances in which it may be convenient to indicate the meaning of a 
value directly. To accomplish this we add an attribute axis to the Scalar Values, scalar value 
lists, Composite Value, and Value Array with an additional property, whose value indicates a 
Phenomenon.  These are named Typed Values (figure Figure 13).     


Typed Values act as a mapping from the semantic space (Phenomenon) to a Value.  It is necessary 
that the Phenomenon and the Value class are consistent: for example it would be an error if a 
“Quantity” were associated with the observable “species Name”.   


The model is a generalisation of the DQ_QuantitativeResult datatype defined in ISO 19115 
[ISO19115].    


 


Figure 13. Model for a typed value 


One further refinement is to associate one or more quality descriptions with an observed value.  A 
provisional model for this is shown in Figure 14. 


Various methods for encoding a quality description are available.  Five specific methods 
(“Description” – a textual description; “Rank” – a value on an ordinal scale; “Error” – a single 
quantity; “Bounds” – a pair of quantities, “Errors” – a set of quantities) are described in the 
implementation in clause 7.2.3. 







OGC 03-022r3           Observations and Measurements 


24                                       © OGC 2003 – All rights reserved 
 


 


Figure 14. Model for an observed value 


6.5 Model for observable phenomena and measurands 


6.5.1 Representation vs meaning 


The value of the observable indicates the phenomenon being sampled by an observation, and thus 
provides the conceptual type of the observation and its result.  An observation may be typed at 
various levels of generalisation, which may support different operations.  For example, 
measurements of chloride ion concentration in ground-water may be available within a small 
area, while over a broader area only total dissolved solids are recorded.  Both of these might be 
useful within a study of water quality distribution, but direct quantitative comparison is not valid.   


A single phenomenon may afford description on various scales: for example, height may be 
{short, medium, tall} or may be given using a quantitative measure of length such as metres.  
Furthermore, the same scale may be used for observations of different phenomena: for example, 
metres may be used to measure height, depth, wavelength, etc.  Thus, although there is a strong 
assocation between the scale or reference system and the phenomenon such that only certain 
combinations are permitted, the correspondence is not one-to-one.  Both must be available as part 
of a description of an observed value.   


In general the phenomenon will be defined separately from scale or reference system, and needs a 
semantic definition which is ultimately grounded in natural language.   


An important characterisation of a measurand (i.e., scalar observable type whose value is a 
quantity) is its dimensionality with respect to fundamental quantities, expressed in the form 
LaMbTc, etc.  This dimensionality must be reflected by the scale used for the result.  A detailed 
classification of measurands using physical principles is presented in the report on sensor 
technology from US National Research Council [NRC1995].  However, the basis for 
classification of phenomena whose value is either non-quantitative or aggregate (e.g., Water 
Quality, Earthquake Parameters, Species) is not simple, and raises significant ontological and 
philosophical questions.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 25
 


A system(s) of classification for phenomena/measurands is critical to allow comparison of and 
composition of the results of observations in analysis.   


Issue Name: [Classification of observables/measurands/phenomena]  


Issue Description: [The NRC classification, which deals with scalar phenomena that 
afford measurement using sensors is a useful start.  Insert a table summarising the 
NRC classification.]  
Resolution: [Insert Resolution Details and History.] (Your Initials, Date)] 


 


6.5.2 Description of a phenomenon 


There are many techniques available to represent aspects of the required semantics, including the 
XML languages XML Schema, RDF/XML, DAML-S.  We make no recommendation about 
implementation of the fundamental definitions.   For the purposes of the discussion here we will 
simply assume that an appropriate definition of each basic phenomenon is available, and may be 
referenced using a URI.   


A simple phenomenon will in many cases be sufficient to characterise the type of the observation.  
However, for some observable types additional information is required.  Combinations of 
phenomena are often required to define an observable.  For example: in remote sensing radiance 
is usually characterised by wavelength band, as fixed by the wavelength dependent sensitivity of 
the sensor; concentration may be considered a basic observable, which needs to be combined 
with another classifier such as substance, analyte or chemical species to get a useful observable 
phenomenon.   


Furthermore, in cases where the phenomenon has an aggregate value, each component of the 
value plays a role within the aggregate that may itself be classified with an phenomenon.  For 
example, the horizontal component of wind-speed has two components: speed and azimuth, or 
two vector components such as speed-north and speed-east.  A spectrum is a set of values of a 
homogeneous phenomenon, such as reflectance, distinguished by variation on a secondary axis, 
such as frequency.  An aggregate result implies an aggregate observable.   


The primitive phenomena may be refined or combined in systematic ways to generate an 
unlimited number of derived phenomena.  Figure 15 shows a basic model for constructing 
parameterised and composite phenomena, starting from the assumption that definitions of scalar 
or primitive phenomena are available and sufficient.   







OGC 03-022r3           Observations and Measurements 


26                                       © OGC 2003 – All rights reserved 
 


 


Figure 15. Structure of derived phenomena 


6.5.3 Phenomenon 


A basic definition of a phenomenon may be provided as a text description or using some 
knowledge representation language. 


6.5.4 Parameterised Phenomenon 


A Parameterised Phenomenon takes a base Phenomenon and applies one or more constraints, 
the content of each of which is a Typed Value, and thus defines an axis and a value.  This is 
interpreted as specifying a restriction of the base observable on a set of orthogonal axes.  For 
example, the base may be radiance with the constraints wavelength and polarisation direction.   


The resulting parameterised phenomenon is derived from a set of more primitive phenomena: one 
identified as the base Phenomenon, and one indicated by the value of the axis on each of the 
constraints.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 27
 


6.5.5 Composite Phenomenon 


A Composite Phenomenon may be constructed from component Phenomena using the composite 
pattern.  For example, Earthquake parameters may have the components Origin Time, Epicentre 
(a 2D location), depth, and moment tensor (the size of the event), the latter being another 
composite.   


Alternatively, a Composite Phenomenon may be constructed by taking a base Phenomenon and 
applying one or more constraintSets, each comprising an (equal length) array or series of  
typed values.  For example, a Radiance Spectrum may have a base of Radiance and a constraint 
set of typed quantity extents describing the wavelengths.  This set might be expressed explicitly 
as a TypedValueArray, or implicitly as a TypedQuantitySeries.   


The TypedValueArray follows the ValueArray pattern described in clause 6.4.5, extended with a 
typing axis as described in clause 0.  The TypedQuantitySeries is an implicitly defined array of 
quantities described using the parameters 


axis indicates the phenomenon being varied,  


limits gives the integer index of the low and high positions in the grid,   


origin gives the absolute location of the grid position with zero index, and  


offsets gives the separation between adjacent positions in the grid.   


structure indicates how the positions in the grid should be used to construct the members 
of the grid, with the values: 


point if the members have zero width, with the grid positions used directly, giving a 
total count of (high-low+1), 


post if the members have a width equal to the offset, and grid positions delimit cells, 
with a total count of (high-low), or 


center if the members have a width equal to the offset, and grid cells are centered on 
the grid positions, with a total count of (high-low+1).   


Note that a Composite Phenomenon corresponds with the ISO 19103 RecordType.   


When considering aggregate values, the mapping from the components of the composite 
phenomenon to the components of the aggregate value must be clear (e.g. see example in C.5.2).   


6.6 Sensor Web and the Information Model 


6.6.1 Using observations 


Observations are frequently used in signal or feature detection, which involves comparison of 
values between one place or time and another.  Thus a requirement for most observations is that 
they may be assembled into an observation coverage.   


The homogeneity requirement might be satisfied to various levels of rigour.  For example, perfect 
homogeneity amongst the values strictly requires that the same measuring device or sensor, with 
the same calibrations, be used for all observations.  If the sensor does not vary, then its 







OGC 03-022r3           Observations and Measurements 


28                                       © OGC 2003 – All rights reserved 
 


description (or the method used to estimate the value) is a property of (or metadata for) the whole 
coverage.   


In practice, a useful coverage can be built from the results of observations providing the values 
sample the same phenomenon, and that the results may be converted into a common scale.  This 
requires that the phenomenon is identified or described in a way that supports comparison at a 
semantic level.  Evaluation of suitability may involve tests of the phenomena from which the 
derived phenomenon is composed (i.e., the values of the basePhenomenon and axis properties).   
If the sensor varies, then the sensor identity or description comprises a separate component of the 
coverage, or may be represented separately as a “sensor coverage” complementing the “observed 
value coverage”.   


6.6.2 Measurements from a Sensor Collection Service 


Measurement results may be encapsulated within Observation Features, Observation Collections 
and Observation Arrays, and within Discrete Observation Coverages.  Since Observations and 
Coverages are Features, then these can be delivered through the general OGC service interfaces 
Web Feature Service [WFS], and Web Coverage Service [WCS].  However, the Sensor 
Collection Service [SCS] interface is optimised for access to observations and associated 
information.    


Valid XML documents may also be constructed which contain only “disembodied” or context-
free Values, Composite Values and Typed Values – i.e., a Value or Typed Value element can 
occur as the root element of a document which is valid according to the value.xsd or 
observedValue.xsd schema.  Since Values and Observed Values are not Features, then such XML 
documents cannot be delivered by a WFS.  Nevertheless, there may still be some utility in such a 
service:  provided the client which invokes the service stores the parameters of the request (the 
sensor identity, the time of interest, etc.), then a “disembodied value” could be used to complete 
an observation feature, the other properties of which are predefined.  Provision of “disembodied 
values” might be a very lightweight service, which may be suitable for fast streaming data, or 
over a low-bandwidth connection.  It is not yet clear if a SCS should return Values not contained 
within Observation Features, as discussed here.   


6.6.3 Reference systems or scales for Values 


The scale for each value is indicated by the value of the relevant attribute of the value object – 
i.e., the unit of measure, code space, spatial reference system, frame.    In a serialisation, 
the scale is included through an association with a value instance; its complete description will 
usually be held elsewhere.  Thus, the model is not strongly dependent on the mechanisms used to 
describe reference systems for values.   


A number of models and encodings for reference systems are available.  


The description of the International System of Units [ISO1000] establishes a convenient 
terminology that can be used to define a unit-of-measure for a quantity.  This includes the 
concepts of Base Units, Derived Units, quantity types, symbols, etc (see also Figure 6 in YOD).  
The XML schema units.xsd described in the GML3 specification [GML3] describes a 
convenient serialization of this, also adding Conventional Units, which are related to other units 
through scaling and offset.  A sample dictionary of units encoded using this model is included in 
Annex D. 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 29
 


ISO 19108 [ISO19108] describes a model for certain types of temporal reference systems.  A 
subset of these is implemented in the XML schema temporal.xsd described in the GML3 
specification [GML3].   


OGC Abstract Specification Topic 2 [OGCAS2] describes a set of models covering coordinate 
reference systems and transformations.  These are implemented as a set of XML schemas in 
GML3 [GML3].  These provide a reasonably a comprehensive solution in the area of spatial 
reference systems.   


We have not yet explored or implemented general solutions proposed for the other classes of 
"reference systems" required for generalised observed-values.  These are:  


• Nominal scale or dictionary ("code space"), which may need to be cross-referenced 
through a thesaurus.  Note that a gazetteer is a specialised dictionary that binds a code to 
a location.   


• Ordinal scale or ordered dictionary ("code frame") which is very complex when 
considering all the ways in which things can be ordered (relative, numerical, 
fuzzy/partial) and also the relationships between code-frames which purport to cover the 
same space.   


A number of resources address the issue of terms and identifiers.  Within GML3 a generic 
Definition and Dictionary is provided, which supports the binding of a description to a name, with 
a handle that may be used to construct a URI that identifies the definition.  ISO standards 2788 
and 5694 describe guidelines for monolingual and multilingual thesauri.  ISO 19112 [ISO19112] 
describes spatial referencing by identifier (gazetteer) which is essentially a special case of a term 
list, and OGC document 02-076r2 describes an implementation of this as a profile of WFS.   


The Reference System must be consistent with the Phenomenon:  e.g., Temperature should use 
Celsius, Fahrenheit or Kelvin; Speed should use Metres per second or Miles per Hour, etc.  This 
is managed within the definition of the units-of-measure through the quantityType parameter.  
Validation will be supported providing the quantityType used in the units directory relates to the 
definitions used for the Phenomenon, with suitable allowance for generalisation.  For example, an 
observation with the observable “Water Temperature” for which the basePhenomenon is 
“Temperature”, is valid using units of measure whose quantityType is simply “Temperature”.   


Note that we do not expect that this condition can or will be checked through XML Schema 
validation, so it is the responsibility of application processes to ensure validity using other 
methods.   Beyond these general model implications, the definition or syntax used for Reference 
Systems is outside scope here.   


In the rest of the report we assume that an appropriate definition is available, and may be 
referenced using a URI.   


6.6.4 Sensor Instances and Other Descriptions of Observation Methodology 


Information about the Sensor Instance, encoded using SensorML, would usually be available 
from a Sensor Instance registry, which would acquire this data when a related Sensor Web service 
is published.  The client would probably access this information prior to acquiring observations or 
measurements from a specific Sensor Web service.   







OGC 03-022r3           Observations and Measurements 


30                                       © OGC 2003 – All rights reserved 
 


The Sensor Instance description might also be available directly in response to a DescribeSensor 
request.  The description will include information about the sensor calibration and accuracy, the 
sensor frame, mount and platform.  Thus, the description of the sensor should allow an estimate 
of the error on the observation to be made.  The definition of SensorML, the model and language 
used to describe sensors, is the subject of another IPR [SensorML], so is not described further 
here.   


The Sensor Instance description should also include a description of the structure of results 
delivered by the sensor.  This will probably use the encoding for Phenomena discussed in this 
report.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 31
 


7 XML Encoding of the Observation and Measurement Models 


In this Clause we describe the implementation of the model for Observations, Values and 
Phenomena in XML.  The analysis is presented through reference to the XML Schema documents 
shown in Annex B, with example instances given embedded within the description and also in 
Annex C.   


We start in Clause 7.1 with a brief description of the XML idiom used to serialise the models 
presented in Clause 6.  Since the components for Values are required by the other components, 
these are described first in clause 7.2.  The encoding for definitions of Phenomena are described 
next in clause 7.2.2.  Clause 7.4 describes the encoding of observation features.  The examples 
focus particularly on Observation Collections and Value Collections, which will be important in 
building Coverages.  In Clause 7.5 we briefly describe a method for deriving strongly typed 
values, though this work is incomplete.   


The descriptions are primarily accomplished by showing examples of instance documents 
representing how data streams from sensor services and encoded as XML documents might 
appear.  These examples show a useful variety of instances, but the normative capabilities are the 
XML schemas for these components, given in Annex B.   


The Observations and Measurements schemas have been developed to be consistent with GML3, 
and re-use many GML components, which can be identified by their namespace prefix gml:.  The 
new components developed for Observations and Measurements are assigned to a namespace 
with the identifier http://www.opengis.net/om, for which the prefix om: is used in the examples 
shown here.   


XML Schema 1.0 is used in this document to define the syntax and vocabulary of XML 
documents.  It is not assumed that XML documents will be fully validated against their respective 
schemas for normal service invocation.  It is assumed, however, that XML parsing and validation 
will follow normal XML syntax rules, for example regarding XML Namespaces and their 
definition within XML documents.  Specific namespace URI’s are suggested and their 
standardization is encouraged.  Specific namespace prefixes area used, but their standardization is 
not suggested in order to maintain maximum flexibility in aggregating XML from different 
namespaces.  


7.1 GML Mapping of Model Components into XML 


OGC’s Geography Markup Language [GML3] defines a consistent XML serialisation for 
information modelled in UML. The style used results in very explicit XML instance documents:  
UML attribute names and association rolenames are used for the names of XML elements 
representing properties.  UML class names are used for the names of XML elements representing 
objects which may have identity.   


Consider a simple Feature modeled according to Figure 16.   







OGC 03-022r3           Observations and Measurements 


32                                       © OGC 2003 – All rights reserved 
 


 


Figure 16. Simple feature model 


Following the GML encoding rules, this appears: 


Code sample (i)  


<Feature id=”ACB123”> 
  <metadataProperty><Metadata>Some structured metadata </Metadata></metadataProperty> 
  <description>A basic located feature for illustration</description> 
  <name>Fred</name> 
  <location xlink:href="http://your.domain.org/locations#point3"/> 
  <simpleProperty>Some property value</simpleProperty> 
</Feature> 


The components “id”, “metadataProperty”, “description”, “name”, “location”, and 
“simpleProperty” are all properties of this feature.  In this example, three properties have a value 
that is encoded as a text-string, id is an XML ID and is carried as an XML attribute,  
metadataProperty contains an element which would contain some structured metadata, and 
location uses href to make an association with the description of a Point or other locator 
available elsewhere.   


The encoding used in this recommendation generally follows the GML idiom, so the default 
mapping is that properties are encoded as elements in content models.  Thus “location”, “target”, 
“using” and “resultOf”, etc., are XML elements.  Exceptions are made:  


(i) for components used for identity and in building links and relations (whose values have 
XSD type ID, anyURI, etc),  


(ii) for a few parameters that indicate refined semantics of element types without affecting 
the content model.  These are encoded as XML attributes on the parent element.   


(iii) in the context of UML classes with the stereotype <<DataType>>, instances of which are 
not identifiable objects, and are represented using customised encodings which may take 
advantage of specific XML capabilities.    


For other details of GML, consult the GML3 specification [GML3].   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 33
 


7.2 XML for Values 


7.2.1 Basic value objects 


The Value model presented in Clause 6.3.3 is the basis for the GML Schema valueObjects.xsd.  
This contributes components to the GML namespace.  The normative description of the schema 
document valueObjects.xsd is provided in clause 7.10.4 of the GML3 specification [GML3].   


Note that in our use of reference systems, we have followed the OGC Units of Measure 
recommendation [UOM2001] so the scale is bound directly to each value.   


The model described in clause 6.4 above makes two enhancements to the basic value model.  
These are implemented in two new schema documents typedValue.xsd described in clause 7.2.2, 
and observedValue.xsd described in clause Code sample (viii).   


7.2.2 Typed values 


The schema document typedValue.xsd is presented in Annex B.  The components in this 
document essentially reproduce the components defined in the GML schema valueObjects.xsd, 
but add an additional XML attribute axis, whose value is a URI.  The intention is that axis will 
identify a phenomenon, from a phenomenon dictionary or service (see clause 7.3 for a proposed 
encoding).   


This use of an XML attribute axis to sub-type the value is an example of “soft-typing” applied at 
a datatype level.   


The following shows a series of examples of typed values using the soft-typing approach.  The 
first three are straightforward extensions of the corresponding value objects:   


Code sample (ii)  


<om:TypedCategory  
axis="http://my.big.org/phenomena #animalSpecies"  
codeSpace="http://my.zoo.org/referenceSystems/classifications/marsupials">Quokka</om:TypedCategory> 
 


Code sample (iii)  


<om:TypedQuantity  
axis="http://my.big.org/phenomena#waterTemperature"  
uom="http://my.big.org/referenceSystems/units#Celsius">21.2</om:TypedQuantity> 
 


Code sample (iv)  


<om:TypedQuantityExtent  
uom="http://my.big.org/referenceSystems/units#um"  
axis="http://my.big.org/phenomena#wavelength">0.45 0.52</om:TypedQuantityExtent > 
 
Note that the order of XML attributes is not significant.   


In the next example, values from an ordinal scale are used to describe values from a phenomenon 
which is often described using numeric values: 







OGC 03-022r3           Observations and Measurements 


34                                       © OGC 2003 – All rights reserved 
 


Code sample (v)  


<om:TypedCategoryList  
codeSpace="http://my.big.org/referenceSystems/classifications/weight" 
axis="http://my.big.org/phenomena#weight">heavy light withheld medium</om:TypedCategoryList> 
 
Note that one of the values in the list is absent.  Its place is marked by the GML null value 
“withheld”.   


The final pair of examples give values for the composite phenomenon Moment Tensor from 
earthquake seismology.  In the first example, the components are disambiguated through 
additional axis attributes.   


Code sample (vi)  


<om:TypedCompositeValue axis="http://my.big.org/phenomena#MomentTensor"> 
  <gml:valueComponents> 
    <om:TypedQuantity axis="http://my.big.org/phenomena#Mrr" uom="#Nm_19">-1.00</om:TypedQuantity> 
    <om:TypedQuantity axis="http://my.big.org/phenomena#Mtt" uom="#Nm_19">0.92</om:TypedQuantity> 
    <om:TypedQuantity axis="http://my.big.org/phenomena#Mff" uom="#Nm_19">0.09</om:TypedQuantity> 
    <om:TypedQuantity axis="http://my.big.org/phenomena#Mrt" uom="#Nm_19">-1.69</om:TypedQuantity> 
    <om:TypedQuantity axis="http://my.big.org/phenomena#Mrf" uom="#Nm_19">-0.09</om:TypedQuantity> 
    <om:TypedQuantity axis="http://my.big.org/phenomena#Mtf" uom="#Nm_19">-0.37</om:TypedQuantity> 
  </gml:valueComponents> 
</om:TypedCompositeValue> 
 
In the second example, a scalar value list is used, so there is an implied mapping between the 
sequence of components described in the definition of the composite phenomenon Moment 
Tensor (see clause 7.3.3), and the values in the QuantityList.   


Code sample (vii)  


<om:TypedQuantityList axis="http://my.big.org/phenomena#MomentTensor" uom="#Nm_19">-1.00 0.92 
0.09 -1.69 -0.09 -0.37</om:TypedQuantityList> 
 
The method of carrying the type information as the value of the axis attribute is designed to 
support applications where it is desired to reserve typing until run-time.  It is also used as part of 
the derived phenomena descriptions, where it is useful to have the axis explicit within the 
instance.     


As an alternative to soft-typing, for applications that deal with a limited number of value types, it 
may be more desirable to create a local application schema, and declare a named element whose 
name indicates the phenomenon.  Given the necessary schema declarations, the following might 
represent equivalent information: 


Code sample (viii)  


<om:TypedQuantity axis="phenomena.xml#Temperature” 
uom="units.xml#degC">35.5</om:TypedQuantity> 
 
<my:Temperature uom="units.xml#degC">35.5</my:Temperature> 
 
 
7.2.3 Observed values 


The schema document observedValue.xsd is presented in Annex B.  This schema is 
experimental and is provided for information only and will not be discussed further at this time.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 35
 


7.3 XML for phenomenon descriptions 


The Phenomenon model presented in Clause 6.5 is used as the basis for a GML conformant XML 
Schema phenomenon.xsd (Annex B.2.4).  This schema document <include>s typedValue.xsd 
(Annex B.2.5).   


7.3.1 Basic phenomena 


The element om:Phenomenon uses gml:DefinitionType, which supports a generic definition 
consisting of a name (and aliases) and a description.  Thus basic phenomena can be defined as 
shown in the following examples.   


Code sample (ix)  


    <om:Phenomenon gml:id="Age"> 
      <gml:description>Time duration since creation</gml:description> 
      <gml:name>Age</gml:name> 
    </om:Phenomenon> 


Code sample (x)  


    <om:Phenomenon gml:id="AtmosphericPressure"> 
      <gml:description>fluid pressure exerted due to the gravitational effect on the column of atmosphere 
above the position of interest</gml:description> 
      <gml:name>Atmospheric Pressure</gml:name> 
    </om:Phenomenon> 
 
If a definitive definition is available from a source that can be identified using a URI, then this 
can be indicated using a link on the description element, instead of having the description of the 
term inline: 


Code sample (xi)  


    <om:Phenomenon gml:id="Mrr"> 
      <gml:description xlink:href="http://big.geophysics.org/parameters/earthquakes/moment/Mrr"/> 
      <gml:name>Earthquake Moment Tensor component Mrr</gml:name> 
    </om:Phenomenon> 
 
7.3.2 Parameterised phenomena for scalar values 


A value of radiance measured in one band from Landsat’s Thematic Mapper can be expressed 
using a ParameterisedPhenomenon element, which applies a constraint to a basePhenomenon: 


Code sample (xii)  


        <om:ParameterisedPhenomenon gml:id="TMBand1"> 
          <gml:name>Landsat TM band 1</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.45 
0.52</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
 
This description assumes the existence of definitions of the phenomena Radiation and 
Wavelength elsewhere in the context, and dictionary of units-of-measure.   







OGC 03-022r3           Observations and Measurements 


36                                       © OGC 2003 – All rights reserved 
 


A ParameterisedPhenomenon can have an arbitrary length sequence of constraint properties.  
For example, the phenomenon associated with a channel on a radar scanner might be 
characterized as:  


Code sample (xiii)  


    <om:ParameterisedPhenomenon gml:id="_19V"> 
      <gml:description>19 GHz radiation Vertical Polarisation</gml:description> 
      <gml:name>19V</gml:name> 
      <om:basePhenomenon xlink:href="#Radiation"/> 
      <om:constraint> 
        <om:TypedQuantity axis="#PeakWavelength" uom="./units.xml#GHz">19.35</om:TypedQuantity> 
      </om:constraint> 
      <om:constraint> 
        <om:TypedCategory axis="http://www.opengis.net/componentPhenomenonType#PolarisationDirection" 
codeSpace="http://www.opengis.net/sensorGlossary">V</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
 


Alternatively, any previously defined Phenomenon can be subject to additional constraints.  
These might be applied consecutively as follows: 


Code sample (xiv)  


    <om:ParameterisedPhenomenon gml:id="WaterTemperature"> 
      <gml:name>Water Temperature</gml:name> 
      <om:basePhenomenon xlink:href="#Temperature"/> 
      <om:constraint> 
        <om:TypedCategory axis="#Medium" 
codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
 
    <om:ParameterisedPhenomenon gml:id="SurfaceWaterTemperature"> 
      <gml:name>Surface Water Temperature</gml:name> 
      <om:basePhenomenon xlink:href="#WaterTemperature"/> 
      <om:constraint> 
        <om:TypedQuantityExtent axis="#Depth" uom="./units.xml#m">0.0 0.5</om:TypedQuantityExtent> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
 


7.3.3 Composite Phenomena for aggregate values  


Composite Phenomena may be defined according to two patterns.   


7.3.3.1 Explicit Composite pattern 


The composite pattern may be used to describe a composite in which the components are 
explicitly enumerated.  For example, the NEIC site (http://neic.usgs.gov/neis/FM/) reports 
descriptions of earthquakes through a set of parameters that could be described (in part) as 
follows: 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 37
 


Code sample (xv)  


    <om:CompositePhenomenon gml:id="EarthquakeParameters"> 
      <gml:name>Earthquake Parameters</gml:name> 
      <om:componentPhenomenon> 
        <om:CompositePhenomenon gml:id="EarthquakeLocation"> 
          <gml:name>Earthquake Location</gml:name> 
          <om:componentPhenomenon xlink:href="#Epicentre"/> 
          <om:componentPhenomenon xlink:href="#Depth"/> 
          <om:componentPhenomenon xlink:href="#OriginTime"/> 
        </om:CompositePhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:CompositePhenomenon gml:id="MomentTensor"> 
          <gml:name>Earthquake Moment Tensor</gml:name> 
          <om:componentPhenomenon xlink:href="#Mrr"/> 
          <om:componentPhenomenon xlink:href="#Mtt"/> 
          <om:componentPhenomenon xlink:href="#Mff"/> 
          <om:componentPhenomenon xlink:href="#Mrt"/> 
          <om:componentPhenomenon xlink:href="#Mrf"/> 
          <om:componentPhenomenon xlink:href="#Mtf"/> 
        </om:CompositePhenomenon> 
      </om:componentPhenomenon> 
    </om:CompositePhenomenon> 
 
This example illustrates nesting of composite phenenomena.  Earthquake Parameters are 
comprised of Earthquake Location and Moment Tensor, each of which has further structure.  In 
this definition, the phenomena Epicentre, Depth, OriginTime and the components of the Moment 
Tensor are treated as the base values, defined elsewhere.   


Following the definition of a LandsatTM band above, the complete LandsatTM spectrum can be 
described explicitly as a CompositePhenomenon as follows: 


Code sample (xvi)  


    <om:CompositePhenomenon gml:id="DiscreteSpectrumTM"> 
      <gml:name>Landsat Thematic Mapper spectrum</gml:name> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand1"> 
          <gml:name>Landsat TM band 1</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.45 0.52</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand2"> 
          <gml:name>Landsat TM band 2</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.52 0.60</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand3"> 
          <gml:name>Landsat TM band 3</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.63 0.69</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 







OGC 03-022r3           Observations and Measurements 


38                                       © OGC 2003 – All rights reserved 
 


      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand4"> 
          <gml:name>Landsat TM band 4</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.76 0.90</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand5"> 
          <gml:name>Landsat TM band 5</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">1.55 1.75</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand6"> 
          <gml:name>Landsat TM band 6</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">10.4 12.5</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand7"> 
          <gml:name>Landsat TM band 7</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">2.08 2.35</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
    </om:CompositePhenomenon> 
 


7.3.3.2 Using a ConstraintSet 


For composites where the basePhenomenon is uniform, and the constraints applied on one or 
more uniform axes, it is more efficient to use another pattern to build a description of the 
composite phenomena.  This uses a variation of the method used for ParameterisedPhenomenon, 
with one or more uniform length constraintSets.  For example, the Landsat spectrum can be 
described: 


Code sample (xvii)  


    <om:CompositePhenomenon gml:id="TM"> 
      <gml:description>Landsat Thematic Mapper all bands</gml:description> 
      <gml:name>Landsat TM</gml:name> 
      <om:basePhenomenon xlink:href="#Radiation"/> 
      <om:constraintSet> 
        <om:TypedValueArray axis="#Wavelength"> 
          <gml:valueComponents> 
            <gml:QuantityExtent uom="#um">0.45 0.52</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">0.52 0.60</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">0.63 0.69</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">0.76 0.90</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">1.55 1.75</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">10.4 12.5</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">2.08 2.35</gml:QuantityExtent> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 39
 


          </gml:valueComponents> 
        </om:TypedValueArray> 
      </om:constraintSet> 
    </om:CompositePhenomenon> 
 
If the components also vary according to another axis, for example polarization, then the values 
on the additional axes should be listed in the same sequence in additional constraintSets.   


Finally, if the values of a constraintSet form a uniform series, this may be described using the 
implicit notation afforded by a TypedQuantitySeries.  For example, a 512 channel spectrum 
with 4 nm wavelength channels might be described as follom: 


Code sample (xviii)  


    <om:CompositePhenomenon gml:id="uSpectrum"> 
      <gml:description>Simple spectrum with uniform spacing of bands</gml:description> 
      <gml:name>UniformSpectrum</gml:name> 
      <om:basePhenomenon xlink:href="#Radiation"/> 
      <om:constraintSet> 
        <om:TypedQuantitySeries> 
          <om:limits>0 512</om:limits> 
          <om:axis>http://www.opengis.net/componentPhenomena#Wavelength</om:axis> 
          <om:origin uom="#um">0.30</om:origin> 
          <om:offset uom="#um">0.004</om:offset> 
          <om:structure>post</om:structure> 
        </om:TypedQuantitySeries> 
      </om:constraintSet> 
    </om:CompositePhenomenon> 
 
7.3.3.3 Mapping values to meaning - applying CompositePhenomenon 


A CompositePhenomenon can be used by a TypedCompositeValue. In the first example, the 
component phenomena from the explicit form of the composite are shown on all the components 
of the typed value:   


Code sample (xix)  


<om:TypedCompositeValue axis="phenomena.xml#EarthquakeParameters"> 
  <gml:valueComponents> 
    <om:TypedCompositeValue axis="phenomena.xml#EarthquakeLocation"> 
      <gml:valueComponents> 
        <om:TypedValue axis="phenomena.xml#Epicentre"> 
          <gml:valueProperty> 
            <gml:Point srsName="epsg:4326"> 
              <gml:pos>-67.563 -13.834</gml:pos> 
            </gml:Point> 
          </gml:valueProperty> 
        </om:TypedValue> 
        <om:TypedQuantity axis="phenomena.xml#Depth" uom="#km">632.</om:TypedQuantity> 
        <om:TypedValue axis="phenomena.xml#OriginTime"> 
          <gml:valueProperty> 
            <gml:TimeInstant frame="#ISO-8601"> 
              <gml:timePosition>1994-06-09T00:33:16.4</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:valueProperty> 
        </om:TypedValue> 
      </gml:valueComponents> 
    </om:TypedCompositeValue> 







OGC 03-022r3           Observations and Measurements 


40                                       © OGC 2003 – All rights reserved 
 


    <om:TypedCompositeValue axis="phenomena.xml#MomentTensor"> 
      <gml:valueComponents> 
        <om:TypedQuantity axis="phenomena.xml#Mrr" uom="Nm_21">-1.00</om:TypedQuantity> 
        <om:TypedQuantity axis="phenomena.xml#Mtt" uom="Nm_21">0.92</om:TypedQuantity> 
        <om:TypedQuantity axis="phenomena.xml#Mff" uom="Nm_21">0.09</om:TypedQuantity> 
        <om:TypedQuantity axis="phenomena.xml#Mrt" uom="Nm_21">-1.69</om:TypedQuantity> 
        <om:TypedQuantity axis="phenomena.xml#Mrf" uom="Nm_21">-0.09</om:TypedQuantity> 
        <om:TypedQuantity axis="phenomena.xml#Mtf" uom="Nm_21">-0.37</om:TypedQuantity> 
      </gml:valueComponents> 
    </om:TypedCompositeValue> 
  </gml:valueComponents> 
</om:TypedCompositeValue> 
 
The composite value and the composite phenomenon have exactly the same structure.   


Alternatively, the axis might only be indicated on the container element, and the value can be 
expressed using a simple list of components where the sequence of components of the 
CompositePhenomenon and in the CompositeValue are mapped to each other.  For example, the 
information from the previous example could be expressed: 


Code sample (xx)  


    <om:TypedCompositeValue axis="phenomena.xml#EarthquakeParameters"> 
      <gml:valueComponents> 
        <gml:Point srsName="epsg:4326"> 
          <gml:pos>-67.563 -13.834</gml:pos> 
        </gml:Point> 
        <gml:Quantity uom="#km">632.</gml:Quantity> 
        <gml:TimeInstant frame="#ISO-8601"><gml:timePosition>1994-06-
09T00:33:16.4</gml:timePosition></gml:TimeInstant> 
        <gml:Quantity uom="Nm_21">-1.00</gml:Quantity> 
        <gml:Quantity uom="Nm_21">0.92</gml:Quantity> 
        <gml:Quantity uom="Nm_21">0.09</gml:Quantity> 
        <gml:Quantity uom="Nm_21">-1.69</gml:Quantity> 
        <gml:Quantity uom="Nm_21">-0.09</gml:Quantity> 
        <gml:Quantity uom="Nm_21">-0.37</gml:Quantity> 
      </gml:valueComponents> 
    </om:TypedCompositeValue> 
 
This implements a mapping from the semantic domain to the value at the level of the composite, 
rather than the component, and results in a more compact encoding.  However, it imposes an 
additional burden on processing software, which must resolve and then analyse the definition of 
the Phenomenon.   


7.3.4 Phenomenon dictionary 


The elements om:ParameterisedPhenomenon and om:CompositePhenomenon are in a substitution 
group headed by om:Phenomenon, which in turn is in the substitution group gml:Definition.  
Thus a list of descriptions of observable phenomena may be assembled in a gml:Dictionary.  An 
example of such a dictionary is included in Annex D.   


7.4 XML for Observations 


A basic observation model has been implemented in GML3 in the schema document 
observation.xsd.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 41
 


The model described in clause 6.3 extends this with the additional properties observable, 
quality and relatedFeature, and also introduces a structure for aggregate observations.  This 
model is implemented in the GML conformant XML Schema richObservation.xsd (Annex 
B.2.2).  This schema <import>s components from GML via the observationAndValue.xsd, 
which in turn <include>s the observation.xsd and valueObjects.xsd schema documents.  
The richObservation schema <include>s the components from the observedValue.xsd schema 
document directly.   


In the schema presented here, the property gml:using is replaced in om:RichObservation (and 
in all observation types derived from it) by om:using.  The property om:using has a more 
restricted content model, consisting of a om:Procedure rather than just a gml:Feature.  The 
element om:Procedure is implemented merely as a concrete feature without any additional 
properties, but is intended to act as the head of a substitution group which will contain various 
procedure types, including sensors and instruments.  This restriction may have consequences for 
the SensorML schema.  Note, however, that when the “by-reference” form of the property is used, 
there is no restriction on the type of the associated object.   


7.4.1 Simple Observation – Single Value 


To illustrate some alternative uses of the encoding, consider an observation of Dissolved Solids 
made at a particular sampling station.  Using the element gml:Observation from GML3 directly 
we can encode the following: 


Code sample (xxi)  


    <gml:Observation gml:id="OD653"> 
      <gml:timeStamp> 
        <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant> 
      </gml:timeStamp> 
      <gml:using xlink:href="sensors.xml#TDS"/> 
      <gml:target xlink:href="stations.xml#s432"/> 
      <gml:resultOf> 
        <gml:Quantity uom="units.xml#gpL">72.1</gml:Quantity> 
      </gml:resultOf> 
    </gml:Observation> 
 
In this description of the Observation, the description of the sensor that the observation is using 
will indicate the phenomenon that is being observed, and a station is identified as the target of 
the Observation.   


Using the enhanced form om:RichObservation, which is declared in the schema document 
richObservation.xsd (Annex B.4.2) we can indicate the observable directly, record some 
quality information, and also the fact that there is a previous observation available as a 
relatedFeature:   


Code sample (xxii)  


    <om:RichObservation gml:id="OD654"> 
      <gml:timeStamp> 
        <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="sensors.xml#TDS"/> 
      <gml:target xlink:href="stations.xml#s432"/> 







OGC 03-022r3           Observations and Measurements 


42                                       © OGC 2003 – All rights reserved 
 


      <gml:resultOf> 
        <gml:Quantity uom="units.xml#gpL">72.1</gml:Quantity> 
      </gml:resultOf> 
      <om:observable xlink:href="phenomena.xml#DissolvedSolids"/> 
      <om:quality method="quality.xml#confidence95percent"> 
        <om:Bounds uom="units.xml#gpL">65.2 75.2</om:Bounds> 
      </om:quality> 
      <om:relatedFeature xlink:role="previous observation" xlink:href="archive/observations.xml#OD321"/> 
    </om:RichObservation> 
 
Note that the value of the observable and the value of the measures property of the sensor 
description should match.  This should be the same as the observable property of the observation.   


There are several alternative ways to store certain components of the information.  In the next 
example, the phenomenon is indicated on a typed value, and the location is recorded directly 
(though here we use an XPointer to make it clear that the location is that of the station):   


Code sample (xxiii)  


    <gml:Observation gml:id="OD655"> 
      <gml:location xlink:href="locations.xml#xpointer(id(‘s432’)/location)"/> 
      <gml:timeStamp> 
        <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant> 
      </gml:timeStamp> 
      <gml:using xlink:href="sensors.xml#TDS"/> 
      <gml:resultOf> 
        <om:TypedQuantity axis="phenomena.xml#DissolvedSolids" 
uom="units.xml#gpL">72.1</om:TypedQuantity> 
      </gml:resultOf> 
    </gml:Observation> 
 
Note that om:TypedQuantity may be substituted anywhere that a gml:Quantity is valid.   


Finally, we may use the strongly typed om:Measurement, which is declared in the schema 
document fowler.xsd (Annex B.4.3):   


Code sample (xxiv)  


    <om:Measurement gml:id="OD654f"> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2001-12-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="sensors.xml#TDS"/> 
      <gml:target xlink:href="stations.xml#s432"/> 
      <om:quantityResult> 
        <gml:Quantity uom="units.xml#gpL">72.1</gml:Quantity> 
      </om:quantityResult> 
      <om:measurand xlink:href="phenomena.xml#DissolvedSolids"/> 
      <om:quality method="quality.xml#confidence95percent"> 
        <om:Bounds uom="units.xml#gpL">65.2 75.2</om:Bounds> 
      </om:quality> 
      <om:relatedFeature xlink:role="previous observation" xlink:href="archive/observations.xml#OD321"/> 
    </om:Measurement> 
 
This form signals to the consuming application that the result will be a gml:Quantity.  







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 43
 


7.4.2 Observation Collection – Heterogeneous Observed Values 


Three Observations of different Phenomena, may be recorded in an 
om:ObservationCollection: 


Code sample (xxv)  


    <om:ObservationCollection gml:id="c234"> 
      <gml:boundedBy> 
        <gml:Null>unknown</gml:Null> 
      </gml:boundedBy> 
      <om:observationMember> 
        <gml:Observation gml:id="OD656"> 
          <gml:location xlink:href="locations.xml#p432"/> 
          <gml:timeStamp> 
            <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant> 
          </gml:timeStamp> 
          <om:using xlink:href="sensors.xml#TDS"/> 
          <gml:resultOf> 
            <om:TypedQuantity axis="phenomena.xml#DissolvedSolids" 
uom="units.xml#gpL">72.1</om:TypedQuantity> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMember> 
      <om:observationMember> 
        <gml:Observation gml:id="OD657"> 
          <gml:timeStamp> 
            <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant> 
          </gml:timeStamp> 
          <om:using xlink:href="sensors.xml#WVL"/> 
          <gml:resultOf> 
            <om:TypedCompositeValue axis="phenomena.xml#windVelocity"> 
              <gml:valueComponent> 
                <gml:Quantity uom="units.xml#m_s">14.7</gml:Quantity> 
              </gml:valueComponent> 
              <gml:valueComponent> 
                <gml:Quantity uom="frames.xml#degreesEast">315.</gml:Quantity> 
              </gml:valueComponent> 
            </om:TypedCompositeValue> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMember> 
      <om:observationMember> 
        <gml:Observation gml:id="OD658"> 
          <gml:timeStamp> 
            <gml:TimeInstant><gml:timePosition>2001-12-12</gml:timePosition></gml:TimeInstant> 
          </gml:timeStamp> 
          <om:using xlink:href="sensors.xml#TEMPC"/> 
          <gml:resultOf> 
            <om:TypedQuantity axis="phenomena.xml#waterTemperature" 
uom="units.xml#Celsius">21.2</om:TypedQuantity> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMember> 
      <gml:target xlink:href="stations.xml#s432"/> 
    </om:ObservationCollection> 
 
Note that since the observations were all made on the same station, the gml:target property is 
promoted to the ObservationCollection.   







OGC 03-022r3           Observations and Measurements 


44                                       © OGC 2003 – All rights reserved 
 


7.4.3 Observation Array – Time Series 


A set of observations of a single phenomenon, made on a single station using the same sensor, 
comprising a time-series, may be recorded in an om:ObservationArray: 


Code sample (xxvi)  


    <om:ObservationArray gml:id="a567"> 
      <gml:boundedBy> 
        <gml:EnvelopeWithTimePeriod srsName="http://opengis.org/epsg#4326"> 
          <gml:pos>-92.0 33.0</gml:pos> 
          <gml:pos>-91.0 34.0</gml:pos> 
          <gml:timePosition>2001-12-03</gml:timePosition> 
          <gml:timePosition>2001-12-05</gml:timePosition> 
        </gml:EnvelopeWithTimePeriod> 
      </gml:boundedBy> 
      <om:observationMembers> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant><gml:timePosition>2001-12-03</gml:timePosition></gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#degC">16.5</gml:Quantity> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant><gml:timePosition>2001-12-04</gml:timePosition></gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#degC">17.2</gml:Quantity> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant><gml:timePosition>2001-12-05</gml:timePosition></gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#degC">18.3</gml:Quantity> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMembers> 
      <gml:target xlink:href="stations.xml#s432"/> 
      <om:using xlink:href="sensors.xml#TEMPCb6"/> 
      <om:observable> 
        <om:ParameterisedPhenomenon gml:id="WaterTemperature"> 
          <gml:name>Water Temperature</gml:name> 
          <om:basePhenomenon xlink:href="phenomena.xml#Temperature"/> 
          <om:constraint> 
            <om:TypedCategory axis="phenomena.xml#Medium" 
codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:observable> 
    </om:ObservationArray> 


Since this is a time series of measurements at the same location using the same sensor, the values 
of the target, using, and observable properties are promoted to the container, but each 
member Observation has a specific timeStamp.  Note that, in this example, we exploit the GML 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 45
 


“property” pattern [GML3], and record the description of the ParameterisedPhenomenon inline, 
rather than by reference.   


7.4.4 Observation Array – Spatial Sampling 


A spatial array of Observations of the same Phenomenon (O2 concentration in water samples) 
can be recorded in an om:ObservationArray: 


Code sample (xxvii)  


    <om:ObservationArray gml:id="a568"> 
      <gml:boundedBy> 
        <gml:Envelope srsName="http://opengis.org/epsg#4326"> 
          <gml:pos>-92.0 33.0</gml:pos> 
          <gml:pos>-91.0 34.0</gml:pos> 
        </gml:Envelope> 
      </gml:boundedBy> 
      <om:observationMembers> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-12-03</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="samples.xml#s432"/> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#percent">0.05</gml:Quantity> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-12-03</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href=" samples.xml#s434"/> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#percent">0.17</gml:Quantity> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-12-03</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href=" samples.xml#s532"/> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#percent">0.075</gml:Quantity> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMembers> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2001-12-03</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="http://www.opengis.net/ows/sensors#DOXP"/> 
      <om:observable xlink:href="phenomena.xml#DOX"/> 







OGC 03-022r3           Observations and Measurements 


46                                       © OGC 2003 – All rights reserved 
 


    </om:ObservationArray> 


In this example, since the stations for the measurements are all different, the target element is on 
each of the member Observations.  The timestamp, using and observable properties are 
promoted to the container, though since the timeStamp property is required on an Observation, 
it also appears on each member even though it does not vary  


7.4.5 Extended Examples 


In Annex C we present some additional examples.  These show the flexibility of the Observation 
and Value schemas, and illustrate some patterns for applying them to specific examples.  The 
examples include:  


C.1   Observations of several weather parameters made at an array of stations 


C.2   Time series of observations of air quality made at an array of stations 


C.3   Spatial survey of gravity observations 


C.4   Set of multi-element assays on samples from an exploration drillhole 


C.5   A multi-species ecological survey. 


Note that in C.5 we show two alternative encodings of a uniform set of observations over a set of 
targets:  


• as an array, which highlights the separate observations on each target region; and  


• as a single complex observation, which highlights the fact that the results describe a 
phenomenon distributed over a complex target.   


7.5 Typed Observations and Observed Values 


7.5.1 Methods for strong-typing 


It is possible to derive more strongly typed observations and observed values from the generic 
components.  Standard XML Schema methods may be used in order to:  


• declare elements with useful names in new namespace(s), that use the XML Schema 
types defined here: e.g.  


<xs:element name="Temperature" type="gml:MeasureType" substitutionGroup="gml:Quantity"/> 
 
<xs:element name="GravityMeasurement" type="om:MeasurementType" 
substitutionGroup="gml:Observation"/> 
 
<xs:element name="EcoSurvey" type="om:ObservationArrayType" 
substitutionGroup="om:ObservationArray"/> 
 


• restrict or extend the content models relative to what has been defined in the schemas 
provided here, then use these in the declaration of new elements (e.g. see the method used 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 47
 


to restrict om:RichObservation to om:GeometryObservation in the schema document 
fowler.xsd).   


If the new components are required to be substitutable for elements in the gml or om namespaces, 
then the necessary XML Schema type derivation and element substitution group rules must be 
followed;  


Several of the components in the om namespace that have a “soft-typing” mechanism (e.g. using 
the axis attribute or observable property).  These may be used in type derivation by restriction 
where the parameter is given a “fixed” value in a schema.  This means that an element using the 
new type has the value of the typing parameter fixed in a schema-validated instance, even if (as in 
the case of “observable”) the component is optional and does not appear in the instance.   


7.5.2 Typing strategies 


A service provider might define an exquisitely specific model and deliver XML data in which 
every element is very specifically typed. A data instance encoded in a strongly typed language 
will often be more compact and apparently descriptive.  However, the desirability of strong 
typing must be assessed carefully.  In a service deployment, the primary issues are  


• which models and schemas are known in advance by a client, and  


• whether it is reasonable, or even possible, to expect a client to be configurable in real-
time when supplied with a new schema, even if that schema mostly uses components that 
are already known by the client.   


The usefulness of information items depends on whether the client can classify the items sensibly.  
This means that either there is an agreement about the meaning of the specific terms in advance (a 
strategy which may be available only within small or very well-organised communities), or that 
the links from the data instance to the necessary definitions are provided in a form that allows 
them to be analysed to enable semantic comparison.   


The connection from the data instance to its explanation is accomplished using a couple of basic 
strategies: 


• through reference to its schema, where all the components used are described using the 
schema language – this method is required if the elements are strongly-typed; 


• using links from certain components to an explanation or gloss provided by another 
service – this method is used for soft-typing.   


In the examples in this report we use strong typing to define generalised observation and 
measurement features and arrays, and basic value structures.  Following the approach of the 
standard feature-definition model [ISO19110], the semantics of these features are implied by their 
structure, rather than explicitly described using some KR language.  The assumption is that the 
community interested in “sensor-webs” will agree that the general model for observations and 
measurements presented here is suitably expressive, and they will configure their software to 
process the named components sensibly.   







OGC 03-022r3           Observations and Measurements 


48                                       © OGC 2003 – All rights reserved 
 


However, we use soft-typing to further refine observation types and their results.  The main 
reason for our use of soft-typing is that, given the huge variety of phenomena that might be the 
topic of observations, of reference systems that can be used to characterise the results, and 
procedures that are used in accomplishing the task, in a general sensor-web there is almost 
unlimited scope for new types of values and observation.  Interoperability amongst a general 
community requires that they use common components, and reserve additional typing to 
secondary mechanisms that do not impede the processing of basic data streams using generic 
(sensor-web) software.   


In the model described in this report, we identify a small set of key places where typing 
parameters may be attached: namely reference-systems, observables, procedures.   While there 
is not a one-to-one correspondence between each specific scale, phenomenon, and procedure, 
these must be consistent with each other within a single service or analysis.  Thus, methods of 
classification are required so that comparisons may be made.  In some cases these comparisons 
must be made at run time.  We discussed approaches to populating these slots.  While many of the 
issues have now been discovered, the classifications are not yet mature, and further work is 
needed to address the classification problem.   


Note, however, that the XML mechansism used to associate these classifiers with objects (i.e. 
they may be included inline, but more often will be indicated through links and URI’s) allows us 
to defer resolution of the details of the problem, while providing a solution that is consistent with 
the general XML and web service model, and that can be used in a limited way now.   


8 Guidelines for using the observations and measurements model and encoding 


The model for Observations presented here is very general.  The examples in the body and Annex 
C provide an illustration of many common cases.  Most users will find an example similar to their 
specific case so may use one of these as a pattern.  However, there are some general principles 
that apply, which determine some of the choices.   


In this Clause we first describe some considerations to guide the selection of the particular 
encoding which applies in a specific observation situation.  We follow this with a sketch of the 
procedures to followed to define the reference system(s) used to scope the resulting values, and 
the Phenomenon(s) which are the topic of the observation.    


8.1 Observations, Observation collections, Observation arrays 


A single observation is defined as a single act to sample a single phenomenon using a single 
procedure regarding a single target.  However, in many practical cases we are interested in 
information contained in an aggregation of results.  The model and encoding described here 
allows an aggregation to be formed in a number of ways: as a collection or array of observations, 
or as a single observation with a composite value as its result.   


8.1.1 Constraints on the formation of various tpes of aggregation 


The option of which representation to use in a particular situation is constrained by the actual 
information content and various opportunities for normalization of components within this.  
Specifically:  







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 49
 


• if it is required to form an arbitrary set of Observations, ObservationArrays or 
ObservationCollections, or a mixture of these, then you must use an 
ObservationCollection.  A collection is merely a convenient bag for a set of items whose 
descriptions are largely independent of each other;  


• if it is required to form a set whose members observe different phenomena, then you 
must use an ObservationCollection.  However, if all the member observations are 
regarding a common target, then this may be promoted to be a property of the 
ObservationCollection.  An ObservationCollection may carry a timestamp that applies to 
whole collection, but a timestamp is required on each member as well;  


• if it is required to form a set whose members are homogeneously typed, an 
ObservationArray may be used.  Homogeneity is defined such that the value of the 
observable property on the members is constant.  The value of the observable property 
may then be promoted to the ObservationArray.  In most cases a common observable is 
associated with a common procedure, so the using property may also be promoted to the 
ObservationArray.  If all the member observations are regarding a common target, then 
this may be promoted to be a property of the ObservationArray.  An ObservationArray 
may carry a timestamp that applies to whole array, but a timestamp is required on each 
member as well;  


• if a set of results are components of a value which describes a single conceptual 
phenomenon, and furthermore were collected in a single act, they may be described with 
a single Observation.  The “single observation” option is available because of the way 
that we allow extensive or composite objects to act as values of some of the properties of 
an observation.  For example:  


o if the phenomenon of interest are essentially invariant over a time period, the 
TimeObject, which is the value of the timeStamp that describes of the time of 
the act, may be extensive (a day or a week or a year, etc);   


o a single Phenomenon may be a vector (e.g. wind velocity) or tensor (e.g. stress 
in the solid earth), or another composite which carries a single name (e.g. 
“vegetation” which is composed of densities of a set of species).  This requires 
more than one scalar value in the result, and more then one element in the sensor 
or procedure;  


o the target might describe a region or collection of geospatial objects (e.g. a 
swath, consisting of millions of pixels; a survey domain consisting of many 
paddocks).  


8.1.2 A generalised example, showing many possibilities 


To illustrate the possibilities, consider the following scenario.  An operator involved in a field 
survey may during the course of one day visit several sites and make a uniform set of 
observations at each one.  Let us denote each Observation as a set of properties (t,T,u,o,r) 
representing the timeStamp, target, using, observable, result, each of which may have components 
(a1,a2, … ai, … an).  We use brackets [] to indicate iteration or summation over the members of a 
set.   







OGC 03-022r3           Observations and Measurements 


50                                       © OGC 2003 – All rights reserved 
 


The results from a single site might be considered in 


i. an ObservationCollection, with member Observations for each independent component – 
(T,[t,u,o,r]);  


ii. a single Observation with a CompositeValue as its result, if the results are related to each 
other such that they all describe components of a phenomenon that can be given a single 
name – (t,T,u,o,[r]).   


The results from the whole day might be considered in 


iii. an ObservationArray over the set of target sites, whose members are 
ObservationCollections, each containing a set of Observations corresponding to the 
components of the result for a single site, as described in i. above.  There is very little 
opportunity for normalization of common metadata, such as observable, procedure, etc 
since these are fully disaggregated and interleaved amongst the properties of the member 
Observations  – ([T,[t,u,o,r]]);   


iv. an ObservationArray over the set of target sites, whose members are a set of Observations 
each of which has a CompositeValue in its result, as described in ii above.  The 
observable and procedure may be carried on the array and inherited by the members, but 
each member observation will carry its own target and timestamp – (u,o,[t,T,[r]]);  


v. a single Observation whose target is a composite object corresponding to the set of sites, 
whose timestamp is the whole day, and whose result will be described in a set of arrays or 
lists.  Both target and observable are single elements but contain composite objects, 
whose members are convolved with the values in the result.  This representation is only 
valid if the phenomenon is invariant over the day, so that the survey may be considered to 
be a single event using a single procedure  – (t,[T],[u],[o],[[r]]);  


vi. an ObservationCollection, whose members are a set of ObservationArrays, each 
containing a set of Observations corresponding to one component of the phenomenon 
sampled over the set of sites.  The observable of each array is a single component of the 
phenomenon, but the target sites are interleaved amongst the member observations  –  
([u,o,[t,T,r]]);   


vii. an ObservationCollection, whose members are a set of Observations, the result of each of 
which is a list of values describing a single component of the phenomenon as sampled 
over the set of sites.  The observable of each Observation is a single component of the 
phenomenon, and its target is a composite which is convolved with the value – 
([t,u,o,[T],[r]]).    


Note that this set of permutations is not exhaustive.   


8.1.3 Reasons to select a particular aggregation type 


We see that several alternatives are valid and each contains the complete information, 
transformed or transposed in some way with respect to the other representations.  The choice of 
which one to use should be based on analyzing the context or purpose to which the information 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 51
 


will be put.  This will often relate to the stage within a data processing sequence, as described 
briefly in clause 6.2.3.3.   


For example, in the scenario sketched here: 


• During data collection, and the primary interaction with a information service will be 
insertion into a data-store.  To reduce risk of data loss, the information should be 
managed so that it tracks the operational sequence, which is on a site by site basis.   


o If all the data is being collected for a single purpose, then the results should 
probably be treated as in (ii). above - single observations from each site, with a 
composite value as a result (see the example in Annex C 5.1).   


o If the results are being collected for different purposes, and inserted into different 
data-stores, then it will probably be more convenient to encode each result in a 
separate observation, as in (i) above;  


• During an analysis phase, it is likely that the information about the observed phenomenon 
will be examined as it varies across the set of sites, in order to discern patterns or 
anomalies within a phenomenon.  In this case it will be most convenient if a report from 
the data-store is organized to support this.   


o If the phenomena are coupled, so that an analysis must access the value of more 
than one for each site at once, then a representation that collects the values in this 
form, such as (iv) or (v) should be used (see the examples in Annex C 5.2, C 5.3, 
C 5.5.2).   


o If interest is in the variation of a single phenomenon, then a representation that 
collects the values of a single component over all sites is appropriate, such as (vi) 
or (vii) above (see the example in Annex C 5.4, C 5.5.1).   


• Finally, if the analysis is focusing on details of the procedure used, such as in a quality 
control exercise, then it might be necessary to disaggregate the components completely 
such as in representation (iii).   


This example assumes a time-invariant phenomenon.  If time variation is of interest, then arrays 
and composites that reflect this variation must be constructed.    


8.2 Reference system/units 


For each component of the result: 


What is the representation of the result?  Is it a number or a term, or something else?   


If it is a number, then do we know the units of scale?  Is a description of the scale available at a 
location that can be identified using a URI1?  If so, note this URI – it will be used as the value of 


                                                      


1 e.g. a member of the units dictionary shown in Annex D.1 and posted at 
http://www.opengis.net/dictionaries/units.xml. 







OGC 03-022r3           Observations and Measurements 


52                                       © OGC 2003 – All rights reserved 
 


the uom attribute of a Quantity or QuantityList.  If not, create a new definition as a 
UnitDefinition, BaseUnit, DerivedUnit or ConventionalUnit using components from the 
GML schema units.xsd, and put it in a place that can be addressed using a URI, which will be 
used as the value of the uom attribute of a Quantity or QuantityList.  


If it is a term, then do we know the vocabulary from which it is drawn?  Is a description of the 
vocabulary available at a location that can be identified using a URI?  If so, note this URI – it 
may be used as the value of the codeSpace attribute of a Category or CategoryList.   


If it is a geometry, then do we know its spatial reference system?  Is a description of the SRS 
available at a location that can be identified using a URI?  If so, note this URI – it may be used as 
the value of the srsName attribute of a Geometry.   


If it is a temporal quantity, then do we know its frame of reference?  Is a description of the frame 
available at a location that can be identified using a URI?  If so, note this URI – it may be used as 
the value of the frame attribute of a TimeObject.   


8.3 Observable phenomenon/Measurand 


What is the phenomenon being sampled by this observation?  Is a description of the phenomenon 
available from a source that allows it to be addressed using a URI2?   If so, note this URI – it will 
be used as the value of the xlink:href attribute of a observable element, or as the value of an 
axis attribute.   


If not, then is the result of an observation a scalar value or a composite?   


If a scalar, then is this a primitive phenomenon that requires a new description?   Create a new 
phenomenon description using the Phenomenon element from the OM schema phenomena.xsd.  
This Phenomenon element will used as the content of an observable element, or it should be put 
in a place that can be addressed using a URI, in which case the URI will be used as the value of 
the xlink:href attribute of a observable element, or as the value of an axis attribute.   


Or is the phenomenon related to a phenomena whose description can be addressed through a 
URI?  Can a description of the phenomenon take the form of a ParameterisedPhenomenon?  
Create a new phenomenon description.  This ParameterisedPhenomenon element will be used as 
the content of an observable element, or it should be put in a place that can be addressed using a 
URI, in which case the URI will be used as the value of the xlink:href attribute of a 
observable element, or as the value of an axis attribute.   


If it is a composite, then is the phenomenon a simple composite of phenomena?  If any of the 
components are not available using a URI, then create entries for these as described above.  When 
all the components are described, then create a new CompositePhenomenon using a 
componentPhenomenon element for each component.  This CompositePhenomenon element will 
be used as the content of an observable element, or it should be put in a place that can be 


                                                      


2 e.g. a member of the dictionary of phenomena shown in Annex D.2 and posted at 
http://www.opengis.net/dictionaries/phenomena.xml. 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 53
 


addressed using a URI, in which case the URI will be used as the value of the xlink:href 
attribute of a observable element, or as the value of an axis attribute.   


Else is the composite phenomenon related to another phenomenon through a set of constraints?  
Can these constraints be expressed as a series?  If so, then create a new CompositePhenomenon 
with one or more constraints parameters containing a TypedQuantitySeries.  If not, create a new 
CompositePhenomenon with one or more constraints parameters containing a TypedValueArray.    
This CompositePhenomenon element will be used as the content of an observable element, or it 
should be put in a place that can be addressed using a URI, in which case the URI will be used as 
the value of the xlink:href attribute of a observable element, or as the value of an axis 
attribute.   


9 Harmonisation with WCS, SensorML 


In both WCS and SensorML there is a requirement to describe measurement “channels”, each of 
which combines a description of the meaning of the value (the phenomenon) and its 
representation (number, text, etc, with a reference system).  This information is often found in the 
“column headings” of data represented as a table, and may be considered as essential “metadata” 
for individual values.  The example given in Annex C.5 illustrates this.  In this case a single 
representation is used for many channels, but in general there will be a unique phenomenon and a 
unique representation for each channel.   


In the proposed WCS interface [WCS] these are given within the RangeComponentDescription 
so that Observable has two sub-elements docURL which points to a primitive (scalar?) observable 
definition, and referenceSystem which binds a scale to the observable.  One possible encoding 
for compound observables is provided, using a set of RangeAxis elements each of  which allows 
the specification of a RangeExtent, being either a SingleValue or an Interval.  The other 
alternative for supporting compound values is provided through the fact that multiple 
RangeComponentDescription’s can be specified.   


The WCS approach is consistent with the models described in this report, in that the ultimate 
definition of an phenomenon or measurand is provided elsewhere, and is attached to a description 
by-reference (a URI).  This allows the full definition of the observable type to made using some 
appropriate semantic language, which may be prose.  Furthermore, there is a common 
requirement for an XML description of derived phenomena in a form that can effectively act as a 
descriptor for a (possibly compound) value.   


The approach in WCS diverges from O&M in two ways: 


(i) the method for describing parameterized and compound observables using the primitive base 
observables does not follow a consistent model;  


(ii) the reference system is bound to the observable rather than to the result.   


Resolving the former is relatively straightforward – in clause 6.5 here we have made significant 
progress towards a more general and consistent model.   


Regarding the latter, in the XML representation of the results of observations as “features” there 
is no need to separate the scale from the value.  However, in a coverage description the 







OGC 03-022r3           Observations and Measurements 


54                                       © OGC 2003 – All rights reserved 
 


representation of the value and its scale is part of the metadata, it is necessarily stored separately, 
as a descriptor rather than as part of a direct representation.   


It is necessary for us to explore the development of a generalised way to combine descriptors or 
classifiers, such that the full description of a single data item is through a product of components 
stored in some convenient set.  Conversely, in some of the examples in this report we do 
extensive normalisation of the data, pulling out common components such as observable, target, 
etc where it applies uniformly to a collection.  We should examine whether this approach might 
also be applied to additional descriptors such as scale.   


10 Issues Outstanding and Future Work 


The model and schemas that have been developed are suitable for deployment as is.  However, 
they do not cover the full range of requirements, and a number of associated components are 
outstanding.  Briefly some of these are as follows: 


1. Full harmonisation of O&M with SensorML and WCS is an urgent requirement.  These 
specifications describe complementary aspects of the information and service model, so it is 
necessary that they use a consistent terminology and encoding.   


2. The definition and encoding for reference systems and key concepts and terms is very 
limited. Some reference systems (classifications, non-spatial frames) are not yet covered. 
Some have proposed standard, online glossaries, dictionaries, schema repositories for this 
purpose. The present thinking is to use the registry framework for this function. 


3. A consistent approach to the classification of reference systems and phenomena is 
required, to support validation, discovery and selection.  The method must be consistent with 
or implementable within the registry framework.   


4. Methods to describe observation methodologies other than instruments and sensors are 
needed.  Estimates of values may be generated by instruments, computational simulators or 
numerical process modeling system, and by human observers.  All of these may be combined 
in an analysis.  These non-sensor systems may require a different parameterisation than 
sensors, but the basis for this is not well understood.   


5. In many situations we are using high-dimensional data, which is traditionally represented in 
tables with column and row descriptors. However, the XML data model is a tree, and its 
representation is serial.  It is usually convenient to normalise aspects of the data and 
represent it in lists and arrays (e.g. a set of phenomena and units, a set of locations, a set of 
time instants or periods), which are mapped onto one another and onto the data in “dot” and 
“cross” products to generate the complete description.  Within the data stream, XML list 
structures can be used for both tuples (rows) and channels (columns). Indexing and sequence 
methods need to be established (see examples and further discussion in Annex C.5).    


6. The mechanisms introduced to allow recording of quality indicators and measures are very 
rudimentary and need to be developed further.   


7. A more explicit description of relationships between “observations” that are intermediate 
stages in a processing chain needs to be developed.  For example, many category 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 55
 


observations are based on applying a procedure to a more primitive (set of) numerical data, 
the result of an earlier “observation”.  Keeping track of the audit-trail is highly important.   







OGC 03-022r3           Observations and Measurements 


56                                       © OGC 2003 – All rights reserved 
 


Annex A: Conformance 
(normative) 


 


Not needed for DIPR, IPR or Discussion Paper. 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 57
 


Annex B: XML Schemas for Observations 
(normative) 


B.1 Utility Schemas 


The utility schema observationAndValue.xsd includes two component schema documents from 
GML.  It is used to import the required components from the GML namespace into derived 
schemas such as richObservation.xsd.   


The target namespace for components from this schema is the GML namespace, identified  
http://www.opengis.net/gml.   


<?xml version="1.0" encoding="UTF-8"?> 
<xs:schema targetNamespace="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" version="1.0"> 
  <xs:annotation> 
    <xs:documentation> 
    observatioAndValue.xsd 
    Utility schema which simply includes both observation and valueObjects</xs:documentation> 
  </xs:annotation> 
  <!-- ============================================================== 
       includes and imports 
 ============================================================== --> 
  <xs:include schemaLocation="../gml/base/observation.xsd"/> 
  <xs:include schemaLocation="../gml/base/valueObjects.xsd"/> 
</xs:schema> 
 


B.2 Value Schemas 


B.2.1 valueObjects 


The GML schema valueObjects.xsd defines XML components for generic value objects and 
composites used in observations and measurements.   Elements declared in this schema may be 
used as components of Observations, or in other data instances.  Note that the definitions of 
several primitive simpleContent types used in valueObjects, such as MeasureType, are found in 
the GML 3 schema basicTypes.xsd.  For more documentation, refer to the GML3 specification 
[GML3].   


The target namespace for components from this schema is the GML namespace, identified  
http://www.opengis.net/gml.   


<?xml version="1.0" encoding="UTF-8"?> 
<schema targetNamespace="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:sch="http://www.ascc.net/xml/schematron" xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="3.00"> 
  <annotation> 
    <appinfo source="urn:opengis:specification:gml:schema-
xsd:valueObjects:v3.00">valueObjects.xsd</appinfo> 







OGC 03-022r3           Observations and Measurements 


58                                       © OGC 2003 – All rights reserved 
 


    <documentation>     Copyright (c) 2002 OGC, All Rights Reserved.  GML conformant schema for Values 
in which the  * scalar Value types and lists have their values recorded in simpleContent elements * complex 
Value types are built recursively  
    </documentation> 
  </annotation> 
  <!-- ====================================================================== --> 
  <!-- geometry and temporal included so that _Geometry and _TimeObject can be added to Value choice 
group --> 
  <include schemaLocation="geometryBasic0d1d.xsd"/> 
  <include schemaLocation="temporal.xsd"/> 
  <!-- ====================================================================== --> 
  <group name="Value"> 
    <choice> 
      <element ref="gml:_Value"/> 
      <element ref="gml:_Geometry"/> 
      <element ref="gml:_TimeObject"/> 
      <element ref="gml:Null"/> 
      <element ref="gml:measure"/> 
    </choice> 
    <!--   <xs:documentation>       <xs:annotation>Utility choice group which unifies generic Values defined in 
this schema document with Geometry and Temporal objects and the Measures described above, so that any 
of these may be used within aggregate Values.     </xs:annotation>     </xs:documentation> --> 
  </group> 
  <!-- ====================================================================== --> 
  <element name="_Value" abstract="true" substitutionGroup="gml:_Object"> 
    <annotation> 
      <documentation>Abstract element which acts as the head of a substitution group which contains 
_ScalarValue, _ScalarValueList and CompositeValue and (transitively) the elements in their substitution 
groups.  This element may be used in an application schema as a variable, so that in an XML instance 
document any member of its substitution group may occur.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!-- ================== Scalar Values ========================= --> 
  <element name="_ScalarValue" abstract="true" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Abstract element which acts as the head of a substitution group which contains 
Boolean, Category, Count and Quantity, and (transitively) the elements in their substitution groups.  This 
element may be used in an application schema as a variable, so that in an XML instance document any 
member of its substitution group may occur.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <element name="_ScalarValueList" abstract="true" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Abstract element which acts as the head of a substitution group which contains the 
compact encodings BooleanList, CategoryList, CountList and QuantityList, and (transitively) the elements in 
their substitution groups.  This element may be used in an application schema as a variable, so that in an 
XML instance document any member of its substitution group may occur.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!-- ======================= Boolean ======================== --> 
  <element name="Boolean" type="boolean" substitutionGroup="gml:_ScalarValue"> 
    <annotation> 
      <documentation>A value from two-valued logic, using the XML Schema boolean type.  An instance may 
take the values {true, false, 1, 0}.  </documentation> 
    </annotation> 
  </element> 
  <element name="BooleanList" type="gml:booleanOrNullList" substitutionGroup="gml:_ScalarValueList"> 
    <annotation> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 59
 


      <documentation>XML List based on XML Schema boolean type.  An element of this type contains a 
space-separated list of boolean values {0,1,true,false}</documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!-- ======================= Category ========================== --> 
  <element name="Category" type="gml:CodeType" substitutionGroup="gml:_ScalarValue"> 
    <annotation> 
      <documentation>A term representing a classification.  It has an optional XML attribute codeSpace, 
whose value is a URI which identifies a dictionary, codelist or authority for the term.  </documentation> 
    </annotation> 
  </element> 
  <element name="CategoryList" type="gml:CodeOrNullListType" 
substitutionGroup="gml:_ScalarValueList"> 
    <annotation> 
      <documentation>A space-separated list of terms or nulls.  A single XML attribute codeSpace may be 
provided, which authorises all the terms in the list.    </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!-- =========================== Quantity ============================ --> 
  <element name="Quantity" type="gml:MeasureType" substitutionGroup="gml:_ScalarValue"> 
    <annotation> 
      <documentation>A numeric value with a scale.  The content of the element is an amount using the XML 
Schema type double which permits decimal or scientific notation.  An XML attribute uom (“unit of measure”) 
is required, whose value is a URI which identifies the definition of the scale or units by which the numeric 
value must be multiplied.  </documentation> 
    </annotation> 
  </element> 
  <element name="QuantityList" type="gml:MeasureOrNullListType" 
substitutionGroup="gml:_ScalarValueList"> 
    <annotation> 
      <documentation>A space separated list of amounts or nulls.  The amounts use the XML Schema type 
double.  A single XML attribute uom (“unit of measure”) is required, whose value is a URI which identifies the 
definition of the scale or units by which all the amounts in the list must be multiplied.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!-- ========================== Count ========================== --> 
  <element name="Count" type="integer" substitutionGroup="gml:_ScalarValue"> 
    <annotation> 
      <documentation>An integer representing a frequency of occurrence. </documentation> 
    </annotation> 
  </element> 
  <element name="CountList" type="gml:integerOrNullList" substitutionGroup="gml:_ScalarValueList"> 
    <annotation> 
      <documentation>A space-separated list of integers or nulls.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!--                    aggregate Value types                      --> 
  <!-- ====================================================================== --> 
  <!-- ===================== ValueCollection ========================== --> 
  <complexType name="CompositeValueType"> 
    <annotation> 
      <documentation>Aggregate value built from other Values using the Composite pattern. It contains zero 
or an arbitrary number of valueComponent elements, and zero or one valueComponents elements.  It may 
be used for strongly coupled aggregates (vectors, tensors) or for arbitrary collections of 
values.</documentation> 
    </annotation> 
    <complexContent> 







OGC 03-022r3           Observations and Measurements 


60                                       © OGC 2003 – All rights reserved 
 


      <extension base="gml:AbstractGMLType"> 
        <sequence> 
          <element ref="gml:valueComponent" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="gml:valueComponents" minOccurs="0"/> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
  <element name="CompositeValue" type="gml:CompositeValueType" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Aggregate value built using the Composite pattern.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <!-- ========================= ValueArray ========================== --> 
  <complexType name="ValueArrayType"> 
    <annotation> 
      <documentation>A Value Array is used for homogeneous arrays of primitive and aggregate values.  The 
member values may be scalars, composites, arrays or lists.  ValueArray has the same content model as 
CompositeValue, but the member values must be homogeneous.  The element declaration contains a 
Schematron constraint which expresses this restriction precisely.            Since the members are 
homogeneous, the referenceSystem (uom, codeSpace) may be specified on the ValueArray itself and 
implicitly inherited by all the members if desired.    Note that a_ScalarValueList is preferred for arrays of 
Scalar Values since this is a more efficient encoding.  </documentation> 
    </annotation> 
    <complexContent> 
      <extension base="gml:CompositeValueType"> 
        <attributeGroup ref="gml:referenceSystem"/> 
      </extension> 
    </complexContent> 
  </complexType> 
  <element name="ValueArray" type="gml:ValueArrayType" substitutionGroup="gml:CompositeValue"> 
    <annotation> 
      <appinfo> 
        <sch:pattern name="Check either codeSpace or uom not both"> 
          <sch:rule context="gml:ValueArray"> 
            <sch:report test="@codeSpace and @uom">ValueArray may not carry both a reference to a 
codeSpace and a uom</sch:report> 
          </sch:rule> 
        </sch:pattern> 
        <sch:pattern name="Check components are homogeneous"> 
          <sch:rule context="gml:ValueArray"> 
            <sch:assert test="count(gml:valueComponent/*) = count(gml:valueComponent/*[name() = 
name(../../gml:valueComponent[1]/*[1])])">All components of <sch:name/> must be of the same 
type</sch:assert> 
            <sch:assert test="count(gml:valueComponents/*) = count(gml:valueComponents/*[name() = 
name(../*[1])])">All components of <sch:name/> must be of the same type</sch:assert> 
          </sch:rule> 
        </sch:pattern> 
      </appinfo> 
      <documentation>A Value Array is used for homogeneous arrays of primitive and aggregate values.   
_ScalarValueList is preferred for arrays of Scalar Values since this is more efficient.  Since "choice" is not 
available for attribute groups, an external constraint (e.g. Schematron) would be required to enforce the 
selection of only one of these through schema validation </documentation> 
    </annotation> 
  </element> 
  <!-- attribute group required for ValueArray --> 
  <attributeGroup name="referenceSystem"> 
    <attribute name="codeSpace" type="anyURI" use="optional"/> 
    <attribute name="uom" type="anyURI" use="optional"/> 
  </attributeGroup> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 61
 


  <!-- ====================================================================== --> 
  <!-- ====================== Typed ValueExtents ============================ --> 
  <element name="QuantityExtent" type="gml:QuantityExtentType" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Utility element to store a 2-point range of numeric values. If one member is a null, then 
this is a single ended interval. </documentation> 
    </annotation> 
  </element> 
  <!-- --> 
  <complexType name="QuantityExtentType"> 
    <annotation> 
      <documentation>Restriction of list type to store a 2-point range of numeric values. If one member is a 
null, then this is a single ended interval. </documentation> 
    </annotation> 
    <simpleContent> 
      <restriction base="gml:MeasureOrNullListType"> 
        <length value="2"/> 
      </restriction> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="CategoryExtent" type="gml:CategoryExtentType" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Utility element to store a 2-point range of ordinal values. If one member is a null, then 
this is a single ended interval. </documentation> 
    </annotation> 
  </element> 
  <!-- --> 
  <complexType name="CategoryExtentType"> 
    <annotation> 
      <documentation>Restriction of list type to store a 2-point range of ordinal values. If one member is a null, 
then this is a single ended interval. </documentation> 
    </annotation> 
    <simpleContent> 
      <restriction base="gml:CodeOrNullListType"> 
        <length value="2"/> 
      </restriction> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="CountExtent" type="gml:CountExtentType" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Utility element to store a 2-point range of frequency values. If one member is a null, 
then this is a single ended interval. </documentation> 
    </annotation> 
  </element> 
  <!-- --> 
  <simpleType name="CountExtentType"> 
    <annotation> 
      <documentation>Restriction of list type to store a 2-point range of frequency values. If one member is a 
null, then this is a single ended interval. </documentation> 
    </annotation> 
    <restriction base="gml:integerOrNullList"> 
      <length value="2"/> 
    </restriction> 
  </simpleType> 
  <!-- ====================================================================== --> 
  <!-- ===================== pieces needed for compositing ==================== --> 
  <element name="valueProperty" type="gml:ValuePropertyType"> 
    <annotation> 
      <documentation>Element which refers to, or contains, a Value</documentation> 







OGC 03-022r3           Observations and Measurements 


62                                       © OGC 2003 – All rights reserved 
 


    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <element name="valueComponent" type="gml:ValuePropertyType"> 
    <annotation> 
      <documentation>Element which refers to, or contains, a Value.  This version is used in 
CompositeValues.  </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <complexType name="ValuePropertyType"> 
    <annotation> 
      <documentation>GML property which refers to, or contains, a Value</documentation> 
    </annotation> 
    <sequence> 
      <group ref="gml:Value" minOccurs="0"/> 
    </sequence> 
    <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  </complexType> 
  <!-- ====================================================================== --> 
  <!-- ====================================================================== --> 
  <element name="valueComponents" type="gml:ValueArrayPropertyType"> 
    <annotation> 
      <documentation>Element which refers to, or contains, a set of homogeneously typed Values. 
</documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <complexType name="ValueArrayPropertyType"> 
    <annotation> 
      <documentation>GML property which refers to, or contains, a set of homogeneously typed Values. 
</documentation> 
    </annotation> 
    <sequence> 
      <group ref="gml:Value" maxOccurs="unbounded"/> 
    </sequence> 
  </complexType> 
  <!-- ====================== utility typed valueProperty types ===================  --> 
  <complexType name="BooleanPropertyType"> 
    <annotation> 
      <documentation>Property whose content is a Boolean value.</documentation> 
    </annotation> 
    <complexContent> 
      <restriction base="gml:ValuePropertyType"> 
        <sequence> 
          <element ref="gml:Boolean" minOccurs="0"/> 
        </sequence> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <complexType name="CategoryPropertyType"> 
    <annotation> 
      <documentation>Property whose content is a Category.</documentation> 
    </annotation> 
    <complexContent> 
      <restriction base="gml:ValuePropertyType"> 
        <sequence> 
          <element ref="gml:Category" minOccurs="0"/> 
        </sequence> 
      </restriction> 
    </complexContent> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 63
 


  </complexType> 
  <complexType name="QuantityPropertyType"> 
    <annotation> 
      <documentation>Property whose content is a Quantity.</documentation> 
    </annotation> 
    <complexContent> 
      <restriction base="gml:ValuePropertyType"> 
        <sequence> 
          <element ref="gml:Quantity" minOccurs="0"/> 
        </sequence> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <complexType name="CountPropertyType"> 
    <annotation> 
      <documentation>Property whose content is a Count.</documentation> 
    </annotation> 
    <complexContent> 
      <restriction base="gml:ValuePropertyType"> 
        <sequence> 
          <element ref="gml:Count" minOccurs="0"/> 
        </sequence> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
</schema> 
 


B.2.2 typedValue 


The schema typedValue.xsd defines XML components for augmenting values with properties 
for semantic typing indicators. The value type is indicated using an XML attribute “axis”.   


Elements declared in this schema are generally substitutable for valueObjects and thus may be 
used in the results of of Observations.  Typed values are also an important component of 
phenomenon descriptions as described in the phenomenon schema.   


The target namespace for components from this schema is identified  
http://www.opengis.net/om.   


<?xml version="1.0" encoding="UTF-8"?> 
<schema targetNamespace="http://www.opengis.net/om" xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:gml="http://www.opengis.net/gml" xmlns:om="http://www.opengis.net/om" 
xmlns:xlink="http://www.w3.org/1999/xlink" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="0.4"> 
  <annotation> 
    <appinfo>TypedValue.xsd</appinfo> 
    <documentation> 
GML conformant schema for Typed Values  
Compact form for scalar values, adds an "axis" attribute for soft-typing.   
 
The value of the axis attribute should point to a description of the phenomenon which this value describes 
 
SJDC  2003-01-13 
</documentation> 
  </annotation> 
  <!-- ====================================================================== --> 







OGC 03-022r3           Observations and Measurements 


64                                       © OGC 2003 – All rights reserved 
 


  <import namespace="http://www.opengis.net/gml" schemaLocation="../gml/base/valueObjects.xsd"/> 
  <!-- ====================================================================== --> 
  <element name="_TypedValue" substitutionGroup="gml:_Value"> 
    <annotation> 
      <documentation>Typed values have a semantic indicator "axis" added to the value.   
      The abstract element TypedValue is added to the gml:_Value substitution group in order that it may be 
used in place of the standard values.   
</documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <element name="TypedValue" type="om:TypedValueType" substitutionGroup="gml:_Value"/> 
  <complexType name="TypedValueType"> 
    <annotation> 
      <documentation>Typed values have a semantic indicator "axis" added to the value.   
      The abstract element TypedValue is added to the gml:_Value substitution group in order that it may be 
used in place of the standard values.   
</documentation> 
    </annotation> 
    <sequence> 
      <element ref="gml:valueProperty"/> 
    </sequence> 
    <attribute name="axis" type="anyURI" use="required"/> 
  </complexType> 
  <!-- ====================================================================== --> 
  <!-- ====================================================================== --> 
  <element name="_TypedScalarValue" substitutionGroup="gml:_ScalarValue"/> 
  <!-- ====================================================================== --> 
  <element name="TypedBoolean" type="om:TypedBooleanType" 
substitutionGroup="om:_TypedScalarValue"/> 
  <complexType name="TypedBooleanType"> 
    <simpleContent> 
      <extension base="boolean"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedCategory" type="om:TypedCategoryType" 
substitutionGroup="om:_TypedScalarValue"/> 
  <complexType name="TypedCategoryType"> 
    <simpleContent> 
      <extension base="gml:CodeType"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedCount" type="om:TypedCountType" substitutionGroup="om:_TypedScalarValue"/> 
  <complexType name="TypedCountType"> 
    <simpleContent> 
      <extension base="integer"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedQuantity" type="om:TypedQuantityType" 
substitutionGroup="om:_TypedScalarValue"/> 
  <complexType name="TypedQuantityType"> 
    <simpleContent> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 65
 


      <extension base="gml:MeasureType"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="_TypedScalarValueList" substitutionGroup="gml:_ScalarValueList"/> 
  <!-- ====================================================================== --> 
  <element name="TypedBooleanList" type="om:TypedBooleanListType" 
substitutionGroup="om:_TypedScalarValueList"/> 
  <complexType name="TypedBooleanListType"> 
    <simpleContent> 
      <extension base="gml:booleanOrNullList"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedCategoryList" type="om:TypedCategoryListType" 
substitutionGroup="om:_TypedScalarValueList"/> 
  <complexType name="TypedCategoryListType"> 
    <simpleContent> 
      <extension base="gml:CodeOrNullListType"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedCountList" type="om:TypedCountListType" 
substitutionGroup="om:_TypedScalarValueList"/> 
  <complexType name="TypedCountListType"> 
    <simpleContent> 
      <extension base="gml:integerOrNullList"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedQuantityList" type="om:TypedQuantityListType" 
substitutionGroup="om:_TypedScalarValueList"/> 
  <complexType name="TypedQuantityListType"> 
    <simpleContent> 
      <extension base="gml:MeasureOrNullListType"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </simpleContent> 
  </complexType> 
  <!-- ======================================================================  --> 
  <element name="_TypedScalarValueExtent" substitutionGroup="om:_TypedValue"/> 
  <!-- ====================================================================== --> 
  <element name="TypedCategoryExtent" type="om:TypedCategoryExtentType" 
substitutionGroup="om:_TypedScalarValueExtent"/> 
  <complexType name="TypedCategoryExtentType"> 
    <simpleContent> 
      <restriction base="om:TypedCategoryListType"> 
        <length value="2"/> 
      </restriction> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 







OGC 03-022r3           Observations and Measurements 


66                                       © OGC 2003 – All rights reserved 
 


  <element name="TypedCountExtent" type="om:TypedCountExtentType" 
substitutionGroup="om:_TypedScalarValueExtent"/> 
  <complexType name="TypedCountExtentType"> 
    <simpleContent> 
      <restriction base="om:TypedCountListType"> 
        <length value="2"/> 
      </restriction> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedQuantityExtent" type="om:TypedQuantityExtentType" 
substitutionGroup="om:_TypedScalarValueExtent"/> 
  <complexType name="TypedQuantityExtentType"> 
    <simpleContent> 
      <restriction base="om:TypedQuantityListType"> 
        <length value="2"/> 
      </restriction> 
    </simpleContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <!-- ====================================================================== --> 
  <element name="TypedCompositeValue" type="om:TypedCompositeValueType" 
substitutionGroup="gml:CompositeValue"/> 
  <complexType name="TypedCompositeValueType"> 
    <complexContent> 
      <extension base="gml:CompositeValueType"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="TypedValueArray" type="om:TypedValueArrayType" 
substitutionGroup="gml:ValueArray"/> 
  <complexType name="TypedValueArrayType"> 
    <complexContent> 
      <extension base="gml:ValueArrayType"> 
        <attribute name="axis" type="anyURI" use="required"/> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
</schema> 
 


B.2.3 observedValue 


The schema observedValue.xsd defines XML components for augmenting values with 
properties for semantic typing (observable) and quality indicators. The value type is indicated 
using an XML element “observable”.  Quality is indicated using one or more XML elements 
“quality”.   


Elements declared in this schema are generally substitutable for valueObjects.   


The target namespace for components from this schema is identified  
http://www.opengis.net/om.   


<?xml version="1.0" encoding="UTF-8"?> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 67
 


<schema targetNamespace="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:om="http://www.opengis.net/om" xmlns:gml="http://www.opengis.net/gml" 
xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="0.5"> 
  <annotation> 
    <appinfo>ObservedValue.xsd</appinfo> 
    <documentation> 
GML conformant schema for Observed Values  
Adds "quality" and “observable” to a Value.    
 
SJDC  2002-12-24 
</documentation> 
  </annotation> 
  <!-- ====================================================================== --> 
  <include schemaLocation="./phenomenon.xsd"/> 
  <!-- ====================================================================== --> 
  <element name="observable" type="om:PhenomenonPropertyType" substitutionGroup="om:axis"/> 
  <!-- ====================================================================== --> 
  <element name="ObservedValue" type="om:ObservedValueType" 
substitutionGroup="gml:CompositeValue"> 
    <annotation> 
      <documentation>Observed value has optional semantic and quality indicators.   
      The concrete element ObservedValue is added to the gml:_Value substitution group in order that it may 
be used in place of the standard value types.   
The semantic property "axis" or "observable" may be useful in disaggregating the members of a 
valueCollection. </documentation> 
    </annotation> 
  </element> 
  <!-- --> 
  <complexType name="ObservedValueType"> 
    <annotation> 
      <documentation>Observed value has optional semantic and quality indicators.   
Observed Value is a "mapping" from the semantic domain (axis) to the sample range (value) plus some 
metadata (quality).  </documentation> 
    </annotation> 
    <sequence> 
      <element ref="gml:valueProperty"/> 
      <element ref="om:observable"/> 
      <element ref="om:quality" maxOccurs="unbounded"> 
        <annotation> 
          <documentation>Observed value has optional quality indicators.   
              Using this component, the components of an aggregate value may have independent quality 
indicators.</documentation> 
        </annotation> 
      </element> 
    </sequence> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="quality"> 
    <annotation> 
      <documentation> 
    Intended to store information concerning the quality of the value.   
    An attribute "method" allows the user to indicate what kind of quality indicator this is: absolute limits, SD, 
95% confidence, qualitative code, etc.  </documentation> 
    </annotation> 
    <complexType> 
      <choice> 
        <element name="Description" type="gml:StringOrRefType"> 
          <annotation> 
            <documentation>Descriptive assessment of data quality</documentation> 
          </annotation> 







OGC 03-022r3           Observations and Measurements 


68                                       © OGC 2003 – All rights reserved 
 


        </element> 
        <element name="Rank" type="gml:CodeType"> 
          <annotation> 
            <documentation>Qualitative assessment of data quality</documentation> 
          </annotation> 
        </element> 
        <element name="Error" type="gml:MeasureType"> 
          <annotation> 
            <documentation>Used for error measurements requiring one quantity</documentation> 
          </annotation> 
        </element> 
        <element name="Bounds" type="gml:QuantityExtentType"> 
          <annotation> 
            <documentation>Used for error measurements requiring two quantities on the same 
scale</documentation> 
          </annotation> 
        </element> 
        <element name="Errors" type="gml:MeasureListType"> 
          <annotation> 
            <documentation>Used for error measurements requiring multiple quantities on the same 
scale</documentation> 
          </annotation> 
        </element> 
      </choice> 
      <attribute name="method" type="anyURI" use="required"/> 
    </complexType> 
  </element> 
  <!-- ====================================================================== --> 
</schema> 
 


B.3 Phenomenon Schemas 


B.3.1 phenomenon 


The schema phenomenon.xsd defines XML components for constructing descriptions of 
phenomena.  The structures defined in phenomena.xsd are primarily concerned with descriptions 
derived from primitive types defined using some descriptive technology.   


Elements declared in this schema can be used directly in data instances, or may be used as 
components of Observed Values, of Observations, and in descriptions of sensors using 
SensorML.   


The target namespace for components from this schema is identified  
http://www.opengis.net/om.   


<?xml version="1.0" encoding="UTF-8"?> 
<schema targetNamespace="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:om="http://www.opengis.net/om" xmlns:gml="http://www.opengis.net/gml" 
xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="0.5"> 
  <annotation> 
    <appinfo>observable.xsd</appinfo> 
    <documentation> 
GML conformant schema for definining Phenomenon Types.   
A phenomenon may be derived from other phenomena through constraints.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 69
 


A composite phenomenon may be derived by simple composition or by applying constraint set(s).   
                       
SJDC  2002-12-24 
</documentation> 
  </annotation> 
  <!-- ====================================================================== --> 
  <import namespace="http://www.opengis.net/gml" schemaLocation="../gml/base/dictionary.xsd"/> 
  <include schemaLocation="./typedValue.xsd"/> 
  <!-- ====================================================================== --> 
  <complexType name="PhenomenonPropertyType"> 
    <sequence minOccurs="0"> 
      <element ref="om:Phenomenon"/> 
    </sequence> 
    <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="axis" type="om:PhenomenonPropertyType"> 
    <annotation> 
      <documentation>Property containing a description of, or reference to, an Phenomenon 
Type.</documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <element name="componentPhenomenon" type="om:PhenomenonPropertyType" 
substitutionGroup="om:axis"> 
    <annotation> 
      <documentation>Property containing a description of, or reference to, an Phenomenon Type.   
      Alternative name for axis. </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <element name="basePhenomenon" type="om:PhenomenonPropertyType"> 
    <annotation> 
      <documentation>Property containing a description of, or reference to, an Phenomenon Type.  
</documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <complexType name="PhenomenonReferenceType"> 
    <complexContent> 
      <restriction base="om:PhenomenonPropertyType"> 
        <sequence/> 
        <attributeGroup ref="gml:AssociationAttributeGroup"/> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <element name="phenomenonRef" type="om:PhenomenonReferenceType" substitutionGroup="om:axis"> 
    <annotation> 
      <documentation>Property carrying a reference to an Phenomenon Type definition. No 
content.</documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <element name="Phenomenon" type="gml:DefinitionType" substitutionGroup="gml:Definition"/> 
  <!-- ====================================================================== --> 
  <element name="ParameterisedPhenomenon" type="om:ParameterisedPhenomenonType" 
substitutionGroup="om:Phenomenon"> 
    <annotation> 
      <documentation>single component phenomenon - either 
      1.  simple definition 
      2.  reference to a definition available elsewhere 







OGC 03-022r3           Observations and Measurements 


70                                       © OGC 2003 – All rights reserved 
 


      3.  parameterised by a single value on one or more auxilliary axes to be applied simultaneously 
      </documentation> 
    </annotation> 
  </element> 
  <!-- ====================================================================== --> 
  <complexType name="ParameterisedPhenomenonType"> 
    <complexContent> 
      <extension base="gml:DefinitionType"> 
        <sequence> 
          <element ref="om:basePhenomenon"/> 
          <element name="constraint" maxOccurs="unbounded"> 
            <complexType> 
              <choice> 
                <element ref="om:_TypedScalarValue"/> 
                <element ref="om:_TypedScalarValueExtent"/> 
              </choice> 
            </complexType> 
          </element> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ======================================================================   --> 
  <element name="CompositePhenomenon" type="om:CompositePhenomenonType" 
substitutionGroup="om:Phenomenon"> 
    <annotation> 
      <documentation>phenomenon composed of several components 
      3.  composite of discrete non-homogeneous component phenomena 
      4.  parameterised by an explicit set of values on each of one or more axes to be applied simultaneously 
to generate a set of component phenomena 
      5.  parameterised by an implicit set of values on each of one or more axes to be applied simultaneously 
to generate a set of component phenomena 
      </documentation> 
    </annotation> 
  </element> 
  <!-- ======================================================================   --> 
  <complexType name="CompositePhenomenonType"> 
    <complexContent> 
      <extension base="gml:DefinitionType"> 
        <choice minOccurs="0"> 
          <element ref="om:componentPhenomenon" maxOccurs="unbounded"/> 
          <sequence> 
            <element ref="om:basePhenomenon"/> 
            <element name="constraintSet" maxOccurs="unbounded"> 
              <complexType> 
                <choice> 
                  <element ref="om:TypedValueArray"/> 
                  <element ref="om:_TypedScalarValueList"/> 
                  <element ref="om:TypedQuantitySeries"/> 
                </choice> 
              </complexType> 
            </element> 
          </sequence> 
        </choice> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ======================================================================   --> 
  <element name="TypedQuantitySeries" type="om:TypedQuantitySeriesType"/> 
  <complexType name="TypedQuantitySeriesType"> 
    <annotation> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 71
 


      <documentation>A series of equally spaced quantities described using an implicit form.   
      limits - gives the low and high indices of the segment of the series        
      axis - indicates the phenomenon which this series of values describes  
      origin - gives the base position corresponding to the value with index=0 
      offset - gives the span increment used to generate the other values 
      structure - indicates whether the positions in the series relate to point values or intervals 
</documentation> 
    </annotation> 
    <sequence> 
      <element name="limits" type="gml:CountExtentType"/> 
      <element name="axis" type="anyURI"/> 
      <element name="origin" type="gml:MeasureType"/> 
      <element name="offset" type="gml:MeasureType"/> 
      <element name="structure" type="om:GridStructureType" default="point" minOccurs="0"/> 
    </sequence> 
  </complexType> 
  <simpleType name="integerPair"> 
    <restriction base="gml:integerList"> 
      <length value="2"/> 
    </restriction> 
  </simpleType> 
  <simpleType name="GridStructureType"> 
    <annotation> 
      <documentation>structure indicates how the positions in the grid should be used to construct the 
members of the grid, with the values:  
    point if the members have zero width, with the grid positions used directly, giving a total count of (high-
low+1) 
post if the members have a width equal to the offset, and grid positions delimit cells, with a total count of 
(high-low) 
center if the members have a width equal to the offset, and grid cells are centered on the grid positions, with 
a total count of (high-low+1).   
    </documentation> 
    </annotation> 
    <restriction base="string"> 
      <enumeration value="point"/> 
      <enumeration value="post"/> 
      <enumeration value="center"/> 
    </restriction> 
  </simpleType> 
  <!-- ======================================================================   --> 
</schema> 
 


B.4 Observation Schemas 


B.4.1 observation 


The GML schema observation.xsd defines XML components for simple observations.   For 
more documentation, refer to the GML3 specification [GML3].   


The target namespace for components from this schema is the GML namespace, identified  
http://www.opengis.net/gml.   


<?xml version="1.0" encoding="UTF-8"?> 
<schema targetNamespace="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" 
xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" version="3.00"> 
  <annotation> 







OGC 03-022r3           Observations and Measurements 


72                                       © OGC 2003 – All rights reserved 
 


    <appinfo source="urn:opengis:specification:gml:schema-
xsd:observation:v3.00">observation.xsd</appinfo> 
    <documentation>Observation schema for GML 3.0      
    </documentation> 
  </annotation> 
  <!-- =================================================================== --> 
  <!-- ===       includes and imports ============================================ --> 
  <include schemaLocation="feature.xsd"/> 
  <include schemaLocation="direction.xsd"/> 
  <!-- =================================================================== --> 
  <!-- =================== properties =================================== --> 
  <element name="using" type="gml:FeaturePropertyType"> 
    <annotation> 
      <documentation>This element contains or points to a description of a sensor, instrument or procedure 
used for the observation</documentation> 
    </annotation> 
  </element> 
  <!-- =================================================================== --> 
  <element name="target" type="gml:TargetPropertyType"> 
    <annotation> 
      <documentation>This element contains or points to the specimen, region or station which is the object of 
the observation</documentation> 
    </annotation> 
  </element> 
  <!-- =================================================================== --> 
  <element name="subject" type="gml:TargetPropertyType" substitutionGroup="gml:target"> 
    <annotation> 
      <documentation>Synonym for target - common word used for photographs</documentation> 
    </annotation> 
  </element> 
  <!-- =================================================================== --> 
  <complexType name="TargetPropertyType"> 
    <annotation> 
      <documentation>Container for an object representing the target or subject of an 
observation.</documentation> 
    </annotation> 
    <choice minOccurs="0"> 
      <element ref="gml:_Feature"/> 
      <element ref="gml:_Geometry"/> 
    </choice> 
    <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  </complexType> 
  <!-- =================================================================== --> 
  <element name="resultOf" type="gml:AssociationType"> 
    <annotation> 
      <documentation>The result of the observation: an image, external object, etc</documentation> 
    </annotation> 
  </element> 
  <!-- =================================================================== --> 
  <!-- ===================== Features =========================== --> 
  <element name="Observation" type="gml:ObservationType" substitutionGroup="gml:_Feature"/> 
  <!-- =========================================================== --> 
  <complexType name="ObservationType"> 
    <complexContent> 
      <extension base="gml:AbstractFeatureType"> 
        <sequence> 
          <element ref="gml:timeStamp"/> 
          <element ref="gml:using" minOccurs="0"/> 
          <element ref="gml:target" minOccurs="0"/> 
          <element ref="gml:resultOf"/> 
        </sequence> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 73
 


      </extension> 
    </complexContent> 
  </complexType> 
  <!-- =========================================================== --> 
  <element name="DirectedObservation" type="gml:DirectedObservationType" 
substitutionGroup="gml:_Feature"/> 
  <!-- =========================================================== --> 
  <complexType name="DirectedObservationType"> 
    <complexContent> 
      <extension base="gml:ObservationType"> 
        <sequence> 
          <element ref="gml:direction"/> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- =========================================================== --> 
</schema> 
 


B.4.2 richObservation 


The schema richObservation.xsd enhances the GML observation schema in two areas: 


1. the feature type RichObservation has additional properties to allow typing of the 
observation, some indication of quality, and links to related features; 


2. components for ObservationCollection and ObservationArray are defined. 


The main elements declared in this schema are generally substitutable for gml:Observation and 
gml:FeatureCollection.   


Also included in this schema are a set of convenience features  


• Station, Specimen and Region, may be used to provide brief descriptions of the targets 
of observations;  


• Procedure, does the same for sensors and procedures.   


These elements may be considered placeholders for more elaborate feature types that may be 
defined elsewhere.    


Also, the element om:using is substituted for gml:using.  om:using has a content model 
restricted relative such that it must contain a Procedure, rather than an arbitrary Feature.   


The target namespace for components from this schema is identified  
http://www.opengis.net/om.   


<?xml version="1.0" encoding="UTF-8"?> 
<schema targetNamespace="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:om="http://www.opengis.net/om" xmlns:gml="http://www.opengis.net/gml" 
xmlns="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified" 
attributeFormDefault="unqualified" version="1.25"> 
  <annotation> 
    <documentation> 







OGC 03-022r3           Observations and Measurements 


74                                       © OGC 2003 – All rights reserved 
 


SWEobservation.xsd 
 
A GML conformant schema for rich Observations and Measurements 
                                
SJDC  2003-01-30 
</documentation> 
  </annotation> 
  <!-- ====================================================================== --> 
  <!-- bring in other schemas --> 
  <import namespace="http://www.opengis.net/gml" schemaLocation="./observationAndValue.xsd"/> 
  <include schemaLocation="./observedValue.xsd"/> 
  <!-- ====================================================================== --> 
  <!-- Observation --> 
  <element name="RichObservation" type="om:RichObservationType" 
substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <complexType name="RichObservationBaseType"> 
    <annotation> 
      <documentation>   base gml:Observation  
            restricts  
            using - must contain or point to a Procedure or Sensor 
</documentation> 
    </annotation> 
    <complexContent> 
      <restriction base="gml:ObservationType"> 
        <sequence> 
          <element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="gml:description" minOccurs="0"/> 
          <element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="gml:boundedBy" minOccurs="0"/> 
          <element ref="gml:location" minOccurs="0"/> 
          <element ref="gml:timeStamp"/> 
          <element ref="om:using" minOccurs="0"/> 
          <element ref="gml:target" minOccurs="0"/> 
          <element ref="gml:resultOf"/> 
        </sequence> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <complexType name="RichObservationType"> 
    <annotation> 
      <documentation>    
            add  
            observable - identifes the phenomenon being sampled 
            quality - some basic quality indications on the result 
            relatedFeature - is a pointer to any other arbitrary feature 
</documentation> 
    </annotation> 
    <complexContent> 
      <extension base="om:RichObservationBaseType"> 
        <sequence> 
          <element ref="om:observable" minOccurs="0"/> 
          <element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <!-- Observation Collections --> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 75
 


  <element name="ObservationCollection" type="om:ObservationCollectionType" 
substitutionGroup="gml:FeatureCollection"/> 
  <!-- --> 
  <complexType name="ObservationCollectionBaseType"> 
    <annotation> 
      <documentation>restrict member types</documentation> 
    </annotation> 
    <complexContent> 
      <restriction base="gml:FeatureCollectionType"> 
        <sequence> 
          <element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="gml:description" minOccurs="0"/> 
          <element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="gml:boundedBy"/> 
          <element ref="gml:location" minOccurs="0"> 
            <annotation> 
              <documentation>use the location property on a collection if all the members have the same 
location</documentation> 
            </annotation> 
          </element> 
          <element ref="om:observationMember" minOccurs="0" maxOccurs="unbounded"/> 
          <element ref="om:observationMembers" minOccurs="0"/> 
        </sequence> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <!-- --> 
  <complexType name="ObservationCollectionType"> 
    <annotation> 
      <documentation>add timeStamp, target and relatedFeature</documentation> 
    </annotation> 
    <complexContent> 
      <extension base="om:ObservationCollectionBaseType"> 
        <sequence> 
          <element ref="gml:timeStamp" minOccurs="0"> 
            <annotation> 
              <documentation>use the timeStamp property on a collection if all the member observations have 
the same timeStamp</documentation> 
            </annotation> 
          </element> 
          <element ref="gml:target" minOccurs="0"> 
            <annotation> 
              <documentation>use single target property on a collection if all the member observations have the 
same target</documentation> 
            </annotation> 
          </element> 
          <element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="ObservationArray" type="om:ObservationArrayType" 
substitutionGroup="om:ObservationCollection"/> 
  <!-- --> 
  <complexType name="ObservationArrayType"> 
    <annotation> 
      <documentation> 
      As observationCollection, except has homogeneous member observations  
      Thus the array may carry the observable and using .   
      </documentation> 







OGC 03-022r3           Observations and Measurements 


76                                       © OGC 2003 – All rights reserved 
 


    </annotation> 
    <complexContent> 
      <extension base="om:ObservationCollectionType"> 
        <sequence> 
          <element ref="om:using" minOccurs="0"> 
            <annotation> 
              <documentation>use the using property on an array if all the member observations use the same 
procedure</documentation> 
            </annotation> 
          </element> 
          <element ref="om:observable" minOccurs="0"> 
            <annotation> 
              <documentation>use the observable property on an array to indicate the phenomenon of 
interest</documentation> 
            </annotation> 
          </element> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <element name="observationProperty" type="om:ObservationPropertyType" 
substitutionGroup="gml:featureProperty"/> 
  <!-- --> 
  <complexType name="ObservationPropertyType"> 
    <complexContent> 
      <restriction base="gml:FeaturePropertyType"> 
        <choice minOccurs="0"> 
          <element ref="gml:Observation"/> 
          <element ref="om:ObservationCollection"/> 
        </choice> 
        <attributeGroup ref="gml:AssociationAttributeGroup"/> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <!-- components of observation Collections --> 
  <element name="observationMember" type="om:ObservationPropertyType" 
substitutionGroup="gml:featureMember"/> 
  <!-- ====================================================================== --> 
  <element name="observationMembers" type="om:ObservationArrayPropertyType" 
substitutionGroup="gml:featureMembers"/> 
  <!-- --> 
  <complexType name="ObservationArrayPropertyType"> 
    <complexContent> 
      <restriction base="gml:FeatureArrayPropertyType"> 
        <choice minOccurs="0" maxOccurs="unbounded"> 
          <element ref="gml:Observation"/> 
          <element ref="om:ObservationCollection"/> 
        </choice> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <!-- ====================================================================== --> 
  <!-- Related Features --> 
  <element name="relatedFeature" type="gml:FeaturePropertyType"/> 
  <!-- --> 
  <element name="relatedObservation" type="om:ObservationPropertyType" 
substitutionGroup="om:relatedFeature"/> 
  <!-- ===================================================================== --> 
  <complexType name="TargetObjectType"> 
    <annotation> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 77
 


      <documentation>Concrete feature type.</documentation> 
    </annotation> 
    <complexContent> 
      <extension base="gml:AbstractFeatureType"/> 
    </complexContent> 
  </complexType> 
  <element name="Station" type="om:TargetObjectType" substitutionGroup="gml:_Feature"/> 
  <element name="Region" type="om:TargetObjectType" substitutionGroup="gml:_Feature"/> 
  <element name="Specimen" type="om:TargetObjectType" substitutionGroup="gml:_Feature"/> 
  <!-- ===================================================================== --> 
  <complexType name="ProcedureType"> 
    <annotation> 
      <documentation>Concrete feature type.</documentation> 
    </annotation> 
    <complexContent> 
      <extension base="gml:AbstractFeatureType"/> 
    </complexContent> 
  </complexType> 
  <element name="Procedure" type="om:ProcedureType" substitutionGroup="gml:_Feature"/> 
  <!-- ====================================================================== --> 
  <element name="using" type="om:ProcedurePropertyType" substitutionGroup="gml:using"> 
    <annotation> 
      <documentation>This element contains or points to a description of a sensor, instrument or procedure 
used for the observation</documentation> 
    </annotation> 
  </element> 
  <complexType name="ProcedurePropertyType"> 
    <complexContent> 
      <restriction base="gml:FeaturePropertyType"> 
        <sequence> 
          <element ref="om:Procedure" minOccurs="0"/> 
        </sequence> 
        <attributeGroup ref="gml:AssociationAttributeGroup"/> 
      </restriction> 
    </complexContent> 
  </complexType> 
  <!-- =================================================================== --> 
</schema> 
 
 B.4.3 fowler 


The schema fowler.xsd defines certain specialised observations Measurement, 
CategoryObservation, CountObservation, BooleanObservation, GeometryObservation and 
TemporalObservation, whose results are constrained to be either quantity, category, boolean, 
count, geometry, or time objects.  The classification is inspired by Fowlers analysis [FOW1998].   


These special observations are all substitutable for gml:Observation.   


The target namespace for components from this schema is identified  
http://www.opengis.net/om.   


<?xml version="1.0" encoding="UTF-8"?> 
<xs:schema targetNamespace="http://www.opengis.net/om" 
xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" 
xmlns:om="http://www.opengis.net/om" xmlns:xlink="http://www.w3.org/1999/xlink" 
elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.3"> 
  <xs:annotation> 
    <xs:documentation> 







OGC 03-022r3           Observations and Measurements 


78                                       © OGC 2003 – All rights reserved 
 


fowler.xsd 
 
Typed observations, using Fowler's [1998] Analysis Patterns terminology 
 
2003-01-30 
 
</xs:documentation> 
  </xs:annotation> 
  <!-- ====================================================================== --> 
  <!-- bring in other schemas --> 
  <xs:include schemaLocation="./richObservation.xsd"/> 
  <!-- ====================================================================== --> 
  <!-- Measurement --> 
  <xs:element name="Measurement" type="om:MeasurementType" substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <xs:complexType name="MeasurementType"> 
    <xs:annotation> 
      <xs:documentation> Restrict resultOf to be quantityResult, observable to be measurand 
</xs:documentation> 
    </xs:annotation> 
    <xs:complexContent> 
      <xs:restriction base="om:RichObservationType"> 
        <xs:sequence> 
          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:description" minOccurs="0"/> 
          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:boundedBy" minOccurs="0"/> 
          <xs:element ref="gml:location" minOccurs="0"/> 
          <xs:element ref="gml:timeStamp"/> 
          <xs:element ref="om:using" minOccurs="0"/> 
          <xs:element ref="gml:target" minOccurs="0"/> 
          <xs:element ref="om:quantityResult"/> 
          <xs:element ref="om:measurand" minOccurs="0"/> 
          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </xs:sequence> 
      </xs:restriction> 
    </xs:complexContent> 
  </xs:complexType> 
  <!-- --> 
  <xs:element name="measurand" type="om:PhenomenonPropertyType" 
substitutionGroup="om:observable"> 
    <xs:annotation> 
      <xs:documentation>Substitute measurand for observable if the result is a quantity and the observation is 
made using a sensor with a single element.</xs:documentation> 
    </xs:annotation> 
  </xs:element> 
  <!-- --> 
  <xs:element name="quantityResult" type="gml:QuantityPropertyType" substitutionGroup="gml:resultOf"/> 
  <!-- ====================================================================== --> 
  <!-- CategoryObservation --> 
  <xs:element name="CategoryObservation" type="om:CategoryObservationType" 
substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <xs:complexType name="CategoryObservationType"> 
    <xs:annotation> 
      <xs:documentation> Restrict resultOf to be categoryResult 
</xs:documentation> 
    </xs:annotation> 
    <xs:complexContent> 
      <xs:restriction base="om:RichObservationType"> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 79
 


        <xs:sequence> 
          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:description" minOccurs="0"/> 
          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:boundedBy" minOccurs="0"/> 
          <xs:element ref="gml:location" minOccurs="0"/> 
          <xs:element ref="gml:timeStamp"/> 
          <xs:element ref="om:using" minOccurs="0"/> 
          <xs:element ref="gml:target" minOccurs="0"/> 
          <xs:element ref="om:categoryResult"/> 
          <xs:element ref="om:observable" minOccurs="0"/> 
          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </xs:sequence> 
      </xs:restriction> 
    </xs:complexContent> 
  </xs:complexType> 
  <!-- --> 
  <xs:element name="categoryResult" type="gml:CategoryPropertyType" substitutionGroup="gml:resultOf"/> 
  <!-- ====================================================================== --> 
  <!-- CountObservation --> 
  <xs:element name="CountObservation" type="om:CountObservationType" 
substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <xs:complexType name="CountObservationType"> 
    <xs:annotation> 
      <xs:documentation> Restrict resultOf to be countResult 
</xs:documentation> 
    </xs:annotation> 
    <xs:complexContent> 
      <xs:restriction base="om:RichObservationType"> 
        <xs:sequence> 
          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:description" minOccurs="0"/> 
          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:boundedBy" minOccurs="0"/> 
          <xs:element ref="gml:location" minOccurs="0"/> 
          <xs:element ref="gml:timeStamp"/> 
          <xs:element ref="om:using" minOccurs="0"/> 
          <xs:element ref="gml:target" minOccurs="0"/> 
          <xs:element ref="om:countResult"/> 
          <xs:element ref="om:observable" minOccurs="0"/> 
          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </xs:sequence> 
      </xs:restriction> 
    </xs:complexContent> 
  </xs:complexType> 
  <!-- --> 
  <xs:element name="countResult" type="gml:CountPropertyType" substitutionGroup="gml:resultOf"/> 
  <!-- ====================================================================== --> 
  <!-- BooleanObservation --> 
  <xs:element name="BooleanObservation" type="om:BooleanObservationType" 
substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <xs:complexType name="BooleanObservationType"> 
    <xs:annotation> 
      <xs:documentation> Restrict resultOf to be booleanResult 
</xs:documentation> 
    </xs:annotation> 
    <xs:complexContent> 







OGC 03-022r3           Observations and Measurements 


80                                       © OGC 2003 – All rights reserved 
 


      <xs:restriction base="om:RichObservationType"> 
        <xs:sequence> 
          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:description" minOccurs="0"/> 
          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:boundedBy" minOccurs="0"/> 
          <xs:element ref="gml:location" minOccurs="0"/> 
          <xs:element ref="gml:timeStamp"/> 
          <xs:element ref="om:using" minOccurs="0"/> 
          <xs:element ref="gml:target" minOccurs="0"/> 
          <xs:element ref="om:booleanResult"/> 
          <xs:element ref="om:observable" minOccurs="0"/> 
          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </xs:sequence> 
      </xs:restriction> 
    </xs:complexContent> 
  </xs:complexType> 
  <!-- --> 
  <xs:element name="booleanResult" type="gml:BooleanPropertyType" substitutionGroup="gml:resultOf"/> 
  <!-- ====================================================================== --> 
  <!-- GeometryObservation --> 
  <xs:element name="GeometryObservation" type="om:GeometryObservationType" 
substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <xs:complexType name="GeometryObservationType"> 
    <xs:annotation> 
      <xs:documentation> Restrict resultOf to be geometryResult 
</xs:documentation> 
    </xs:annotation> 
    <xs:complexContent> 
      <xs:restriction base="om:RichObservationType"> 
        <xs:sequence> 
          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:description" minOccurs="0"/> 
          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:boundedBy" minOccurs="0"/> 
          <xs:element ref="gml:location" minOccurs="0"/> 
          <xs:element ref="gml:timeStamp"/> 
          <xs:element ref="om:using" minOccurs="0"/> 
          <xs:element ref="gml:target" minOccurs="0"/> 
          <xs:element ref="om:geometryResult"/> 
          <xs:element ref="om:observable" minOccurs="0"/> 
          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </xs:sequence> 
      </xs:restriction> 
    </xs:complexContent> 
  </xs:complexType> 
  <!-- --> 
  <xs:element name="geometryResult" type="gml:GeometryPropertyType" 
substitutionGroup="gml:resultOf"/> 
  <!-- ====================================================================== --> 
  <!-- TemporalObservation --> 
  <xs:element name="TemporalObservation" type="om:TemporalObservationType" 
substitutionGroup="gml:Observation"/> 
  <!-- --> 
  <xs:complexType name="TemporalObservationType"> 
    <xs:annotation> 
      <xs:documentation> Restrict resultOf to be temporalResult 
</xs:documentation> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 81
 


    </xs:annotation> 
    <xs:complexContent> 
      <xs:restriction base="om:RichObservationType"> 
        <xs:sequence> 
          <xs:element ref="gml:metaDataProperty" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:description" minOccurs="0"/> 
          <xs:element ref="gml:name" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="gml:boundedBy" minOccurs="0"/> 
          <xs:element ref="gml:location" minOccurs="0"/> 
          <xs:element ref="gml:timeStamp"/> 
          <xs:element ref="om:using" minOccurs="0"/> 
          <xs:element ref="gml:target" minOccurs="0"/> 
          <xs:element ref="om:temporalResult"/> 
          <xs:element ref="om:observable" minOccurs="0"/> 
          <xs:element ref="om:quality" minOccurs="0" maxOccurs="unbounded"/> 
          <xs:element ref="om:relatedFeature" minOccurs="0" maxOccurs="unbounded"/> 
        </xs:sequence> 
      </xs:restriction> 
    </xs:complexContent> 
  </xs:complexType> 
  <!-- --> 
  <xs:element name="temporalResult" type="gml:TimePrimitivePropertyType" 
substitutionGroup="gml:resultOf"/> 
  <!-- ====================================================================== --> 
</xs:schema> 
 







OGC 03-022r3           Observations and Measurements 


82                                       © OGC 2003 – All rights reserved 
 


Annex C: Extended examples 
(informative) 


C.1 SAIC Weather Station Observations 


This example is an ObservationArray, containing a set of member Observations made at 
weather stations.  The result of each of each of these is a CompositeValue.  The structure of the 
composite value is described by the CompositePhenomenon that is the value of the observable 
property on the array.  The Stations are listed in a FeatureCollection in a relatedFeature, 
and then indicated by reference on the individual Observations.  In this example the sensor is not 
identified.   


    <om:ObservationArray gml:id="SAICw1"> 
      <gml:name>SAIC Weather Monitoring System</gml:name> 
      <gml:boundedBy> 
        <gml:Envelope> 
          <gml:pos>-116.96666666666667 32.626111111111108</gml:pos> 
          <gml:pos>-116.46833333333333 32.833333333333336</gml:pos> 
        </gml:Envelope> 
      </gml:boundedBy> 
      <om:observationMembers> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-01-18T20:47:00.000</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#KSEE"/> 
          <gml:resultOf> 
            <gml:CompositeValue> 
              <gml:valueComponents> 
                <gml:Category codeSpace="terms.xml#cloudcovercode">BKN</gml:Category> 
                <gml:Quantity uom="units.xml#Celsius">21.0</gml:Quantity> 
                <gml:Quantity uom="units.xml#RHpercent">23</gml:Quantity> 
                <gml:Null>missing</gml:Null> 
                <gml:Quantity uom="units.xml#eastOfNorth">270</gml:Quantity> 
                <gml:Quantity uom="units.xml#mps">6.0</gml:Quantity> 
              </gml:valueComponents> 
            </gml:CompositeValue> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-01-18T20:52:00.000</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#KCZZ"/> 
          <gml:resultOf> 
            <gml:CompositeValue> 
              <gml:valueComponents> 
                <gml:Null>missing</gml:Null> 
                <gml:Quantity uom="units.xml#Celsius">13.0</gml:Quantity> 
                <gml:Quantity uom="units.xml#RHpercent">23</gml:Quantity> 
                <gml:Quantity uom="units.xml#hPa">1018.0</gml:Quantity> 
                <gml:Quantity uom="units.xml#eastOfNorth">70</gml:Quantity> 
                <gml:Quantity uom="units.xml#mps">18.0</gml:Quantity> 
              </gml:valueComponents> 
            </gml:CompositeValue> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 83
 


          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMembers> 
      <om:relatedFeature xlink:role="stations"> 
        <gml:FeatureCollection gml:id="SAICSamplingStations"> 
          <gml:description>List of stations used</gml:description> 
          <gml:boundedBy> 
            <gml:Envelope> 
              <gml:pos>-116.96666666666667 32.626111111111108</gml:pos> 
              <gml:pos>-116.46833333333333 32.833333333333336</gml:pos> 
            </gml:Envelope> 
          </gml:boundedBy> 
          <gml:featureMembers> 
            <om:Station gml:id="KSEE"> 
              <gml:name>San Diego / Gillespie, United States</gml:name> 
              <gml:location> 
                <gml:Point> 
                  <gml:pos>-116.96666666666667 32.833333333333336</gml:pos> 
                </gml:Point> 
              </gml:location> 
            </om:Station> 
            <om:Station gml:id="KCZZ"> 
              <gml:name>Campo, United States</gml:name> 
              <gml:location> 
                <gml:Point> 
                  <gml:pos>-116.46833333333333 32.626111111111108</gml:pos> 
                </gml:Point> 
              </gml:location> 
            </om:Station> 
          </gml:featureMembers> 
        </gml:FeatureCollection> 
      </om:relatedFeature> 
      <om:observable> 
        <om:CompositePhenomenon gml:id="weather"> 
          <gml:name>Weather</gml:name> 
          <om:componentPhenomenon xlink:href="phenomena.xml#cloudcover"/> 
          <om:componentPhenomenon xlink:href="phenomena.xml#temperature"/> 
          <om:componentPhenomenon xlink:href="phenomena.xml#humidity"/> 
          <om:componentPhenomenon xlink:href="phenomena.xml#pressure"/> 
          <om:componentPhenomenon xlink:href="phenomena.xml#windDirection"/> 
          <om:componentPhenomenon xlink:href="phenomena.xml#windSpeed"/> 
        </om:CompositePhenomenon> 
      </om:observable> 
    </om:ObservationArray> 
 







OGC 03-022r3           Observations and Measurements 


84                                       © OGC 2003 – All rights reserved 
 


C.2 Polexis Air Monitoring System 


This example is an ObservationCollection, containing several member 
ObservationCollections, in turn containing a different set of ObservationArrays of time-
series of Observations of several air quality parameters.  The station descriptions are collected in 
a FeatureCollection in a relatedFeature.   


    <om:ObservationCollection gml:id="NYSair1"> 
      <gml:name>New York State Ambient Air Monitoring System</gml:name> 
      <gml:boundedBy> 
        <gml:Null>unknown</gml:Null> 
      </gml:boundedBy> 
      <om:observationMember> 
        <om:ObservationCollection> 
          <gml:boundedBy> 
            <gml:Null>unknown</gml:Null> 
          </gml:boundedBy> 
          <om:observationMember> 
            <om:ObservationArray> 
              <gml:boundedBy> 
                <gml:Null>unknown</gml:Null> 
              </gml:boundedBy> 
              <om:observationMembers> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T12:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ppm">0.016</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T13:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ppm">0.016</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T14:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ppm">0.014</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
              </om:observationMembers> 
              <om:observable xlink:href="http://www.opengis.net/ows/observableTypes#SO2"/> 
            </om:ObservationArray> 
          </om:observationMember> 
          <om:observationMember> 
            <om:ObservationArray> 
              <gml:boundedBy> 
                <gml:Null>unknown</gml:Null> 
              </gml:boundedBy> 
              <om:observationMembers> 
                <gml:Observation> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 85
 


                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T23:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ppm">0.015</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-15T00:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ppm">0.015</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-15T01:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ppm">0.015</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
              </om:observationMembers> 
              <om:observable xlink:href="http://www.opengis.net/ows/observableTypes#24HrSO2"/> 
            </om:ObservationArray> 
          </om:observationMember> 
          <gml:target xlink:href="#_709310"/> 
        </om:ObservationCollection> 
      </om:observationMember> 
      <om:observationMember> 
        <om:ObservationCollection> 
          <gml:boundedBy> 
            <gml:Null>unknown</gml:Null> 
          </gml:boundedBy> 
          <om:observationMember> 
            <om:ObservationArray> 
              <gml:boundedBy> 
                <gml:Null>unknown</gml:Null> 
              </gml:boundedBy> 
              <om:observationMembers> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T12:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ugperm3">17.62</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
                <gml:Observation> 
                  <gml:timeStamp> 
                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T13:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ugperm3">13.9</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
                <gml:Observation> 
                  <gml:timeStamp> 







OGC 03-022r3           Observations and Measurements 


86                                       © OGC 2003 – All rights reserved 
 


                    <gml:TimeInstant> 
                      <gml:timePosition>2002-01-14T14:00:00Z</gml:timePosition> 
                    </gml:TimeInstant> 
                  </gml:timeStamp> 
                  <gml:resultOf> 
                    <gml:Quantity uom="#ugperm3">18.37</gml:Quantity> 
                  </gml:resultOf> 
                </gml:Observation> 
              </om:observationMembers> 
              <om:observable xlink:href="http://www.opengis.net/ows/observableTypes#PM2.5"/> 
            </om:ObservationArray> 
          </om:observationMember> 
          <om:observationMember xlink:href="anotherArraySomewhere"/> 
          <gml:target xlink:href="#_709315"/> 
        </om:ObservationCollection> 
      </om:observationMember> 
      <om:relatedFeature xlink:role="stations"> 
        <gml:FeatureCollection gml:id="NYSairSamplingStations"> 
          <gml:description>List of stations used</gml:description> 
          <gml:boundedBy> 
            <gml:Envelope> 
              <gml:pos>-73.96708 40.75982</gml:pos> 
              <gml:pos>-73.93094 40.84886</gml:pos> 
            </gml:Envelope> 
          </gml:boundedBy> 
          <gml:featureMembers> 
            <om:Station gml:id="_709310"> 
              <gml:description xlink:href="http://www.dec.state.ny.us/website/dar/bts/airmon/709310site.htm"/> 
              <gml:name>P.S. 59</gml:name> 
              <gml:location> 
                <gml:Point srsName="epsg:4256"> 
                  <gml:pos>-73.96708 40.75982</gml:pos> 
                </gml:Point> 
              </gml:location> 
            </om:Station> 
            <om:Station gml:id="_709315"> 
              <gml:description xlink:href="http//www.dec.state.ny.us/website/dar/bts/airmon/709315site.htm"/> 
              <gml:name>IS 143</gml:name> 
              <gml:location> 
                <gml:Point srsName="epsg:4256"> 
                  <gml:pos>-73.93094 40.84886</gml:pos> 
                </gml:Point> 
              </gml:location> 
            </om:Station> 
          </gml:featureMembers> 
        </gml:FeatureCollection> 
      </om:relatedFeature> 
    </om:ObservationCollection> 
 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 87
 


C.3 Gravity Survey 


A Gravity Survey is packaged as an observationArray, whose members are Observations of 
gravity at different locations.  In this case it is a requirement to record the error for each 
measurement separately, so the RichObservation is used.  The locations are defined through 
Stations, a collection of which is collected in a relatedFeature of the survey.  All 
measurement used the same instrument, so the using (and observable) property is on the array.  
A reference station is recorded in another relatedFeature.   


    <om:ObservationArray gml:id="GravitySurvey2001"> 
      <gml:description>Small Gravity Survey</gml:description> 
      <gml:name>2001 Survey 1</gml:name> 
      <gml:boundedBy> 
        <gml:EnvelopeWithTimePeriod> 
          <gml:pos>115.88 -32.20 23.</gml:pos> 
          <gml:pos>115.95 -31.95 40.</gml:pos> 
          <gml:timePosition>2001-09-22</gml:timePosition> 
          <gml:timePosition>2001-09-22</gml:timePosition> 
        </gml:EnvelopeWithTimePeriod> 
      </gml:boundedBy> 
      <om:observationMembers> 
        <om:RichObservation gml:id="OG1"> 
          <gml:description> ... comments - information on processing history, etc ... </gml:description> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-09-22</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#GravityStation1"/> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#m_s2">9.87001</gml:Quantity> 
          </gml:resultOf> 
          <om:quality method="methods.xml#gravError"> 
            <om:Error uom="units.xml#m_s2">0.00002</om:Error> 
          </om:quality> 
          <om:relatedFeature xlink:role="previous observation" 
xlink:href="http://www.ned.dem.csiro.au/XMML/gravity/surveys/99#OG32"/> 
          <om:relatedFeature xlink:role="Parent Survey" xlink:href="#GravitySurvey2001"/> 
        </om:RichObservation> 
        <om:RichObservation gml:id="OG2"> 
          <gml:description> ... comments - information on processing history, etc ... </gml:description> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-09-22</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#GravityStation2"/> 
          <gml:resultOf> 
            <gml:Quantity uom="units.xml#m_s2">9.86678</gml:Quantity> 
          </gml:resultOf> 
          <om:quality method="methods.xml#gravError"> 
            <om:Error uom="units.xml#m_s2">0.000022</om:Error> 
          </om:quality> 
          <om:relatedFeature xlink:role="Parent Survey" xlink:href="#GravitySurvey2001"/> 
        </om:RichObservation> 
      </om:observationMembers> 
      <om:relatedFeature xlink:role="locations"> 
        <gml:FeatureCollection gml:id="GravityStations2001"> 
          <gml:description>List of stations occupied in this survey</gml:description> 
          <gml:boundedBy> 
            <gml:Envelope> 
              <gml:pos>115.88 -32.20 23.</gml:pos> 
              <gml:pos>115.95 -31.95 40.</gml:pos> 
            </gml:Envelope> 







OGC 03-022r3           Observations and Measurements 


88                                       © OGC 2003 – All rights reserved 
 


          </gml:boundedBy> 
          <gml:featureMember> 
            <om:Station gml:id="GravityStation1"> 
              <gml:description>road junction</gml:description> 
              <gml:location> 
                <gml:Point srsName="SRS1" gml:id="point1"> 
                  <gml:pos>115.88 -31.95 23.</gml:pos> 
                </gml:Point> 
              </gml:location> 
            </om:Station> 
          </gml:featureMember> 
          <gml:featureMember> 
            <om:Station gml:id="GravityStation2"> 
              <gml:description>benchmark outside Post Office</gml:description> 
              <gml:location> 
                <gml:Point srsName="SRS1" gml:id="point2"> 
                  <gml:pos>115.95 -32.20 40.</gml:pos> 
                </gml:Point> 
              </gml:location> 
            </om:Station> 
          </gml:featureMember> 
        </gml:FeatureCollection> 
      </om:relatedFeature> 
      <om:relatedFeature xlink:role="Reference Station" xlink:href="http://www.agso.gov.au/gravity/stations#ref045"/> 
      <om:using xlink:href="sensors.xml#gm1"/> 
      <om:observable xlink:href="phenomena.xml#gravity"/> 
    </om:ObservationArray> 
 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 89
 


C.4 Assay Samples from a Drillhole 


A set of multi-element assays, made on samples taken from a drillhole.  The results were using a 
particular laboratory using a specified procedure.  Each result is a CompositeValue, whose 
structure is defined by a CompositePhenomenon, each of whose members is a 
ParameterisedPhenomenon defining the concentration of the chemical species of interest.  The 
list of Specimens is collected in a relatedFeature.  The location of each Specimen is given as 
an interval within the spatial reference system represented by the drillhole survey.   


    <om:ObservationArray gml:id="ANA-67403"> 
      <gml:description>Composite assays for a set of samples</gml:description> 
      <gml:boundedBy> 
        <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722"> 
          <gml:pos>35.2</gml:pos> 
          <gml:pos>36.7</gml:pos> 
        </gml:Envelope> 
      </gml:boundedBy> 
      <om:observationMembers> 
        <gml:Observation gml:id="SR722410"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-10-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#DR722410"/> 
          <gml:resultOf> 
            <gml:CompositeValue> 
              <gml:valueComponents> 
                <gml:Quantity uom="#ppm">185</gml:Quantity> 
                <gml:Quantity uom="#percent">0.86</gml:Quantity> 
                <gml:Quantity uom="#ppm">159</gml:Quantity> 
              </gml:valueComponents> 
            </gml:CompositeValue> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="SR722411"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-10-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#DR722411"/> 
          <gml:resultOf> 
            <gml:CompositeValue> 
              <gml:valueComponents> 
                <gml:Quantity uom="#ppm">190</gml:Quantity> 
                <gml:Quantity uom="#percent">0.86</gml:Quantity> 
                <gml:Quantity uom="#ppm">159</gml:Quantity> 
              </gml:valueComponents> 
            </gml:CompositeValue> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="SR722412"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2001-10-13</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target xlink:href="#DR722412"/> 
          <gml:resultOf> 
            <gml:CompositeValue> 
              <gml:valueComponents> 
                <gml:Quantity uom="#ppm">17</gml:Quantity> 
                <gml:Null>missing</gml:Null> 







OGC 03-022r3           Observations and Measurements 


90                                       © OGC 2003 – All rights reserved 
 


                <gml:Quantity uom="#ppm">5</gml:Quantity> 
              </gml:valueComponents> 
            </gml:CompositeValue> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMembers> 
      <om:relatedFeature xlink:role="Specimens"> 
        <gml:FeatureCollection gml:id="SpecimenCollectionA"> 
          <gml:boundedBy> 
            <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722"> 
              <gml:pos>35.2</gml:pos> 
              <gml:pos>36.7</gml:pos> 
            </gml:Envelope> 
          </gml:boundedBy> 
          <gml:featureMembers> 
            <om:Specimen gml:id="DR722410"> 
              <gml:location> 
                <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722"> 
                  <gml:pos>35.2</gml:pos> 
                  <gml:pos>35.7</gml:pos> 
                </gml:Envelope> 
              </gml:location> 
            </om:Specimen> 
            <om:Specimen gml:id="DR722411"> 
              <gml:location> 
                <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722"> 
                  <gml:pos>35.7</gml:pos> 
                  <gml:pos>36.2</gml:pos> 
                </gml:Envelope> 
              </gml:location> 
            </om:Specimen> 
            <om:Specimen gml:id="DR722412"> 
              <gml:location> 
                <gml:Envelope srsName="http://www.ned.dem.csiro.au/drillholes/surveys#d722"> 
                  <gml:pos>36.2</gml:pos> 
                  <gml:pos>36.7</gml:pos> 
                </gml:Envelope> 
              </gml:location> 
            </om:Specimen> 
          </gml:featureMembers> 
        </gml:FeatureCollection> 
      </om:relatedFeature> 
      <om:using xlink:href="http://my.analytical.lab.com#procedure54"/> 
      <om:observable> 
        <om:CompositePhenomenon gml:id="assaySuite54"> 
          <gml:name>Assay Suite number 54</gml:name> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="AsConcentration"> 
              <gml:name>Arsenic concentration</gml:name> 
              <om:basePhenomenon xlink:href="#ChemicalConcentration"/> 
              <om:constraint> 
                <om:TypedCategory axis="phenomena.xml#chemicalSpecies">As</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="CuConcentration"> 
              <gml:name>Copper concentration</gml:name> 
              <om:basePhenomenon xlink:href="#ChemicalConcentration"/> 
              <om:constraint> 
                <om:TypedCategory axis="phenomena.xml#chemicalSpecies">Cu</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="NiConcentration"> 
              <gml:name>Nickel concentration</gml:name> 
              <om:basePhenomenon xlink:href="#ChemicalConcentration"/> 
              <om:constraint> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 91
 


                <om:TypedCategory axis="phenomena.xml#chemicalSpecies">Ni</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
        </om:CompositePhenomenon> 
      </om:observable> 
    </om:ObservationArray> 
 







OGC 03-022r3           Observations and Measurements 


92                                       © OGC 2003 – All rights reserved 
 


C.5 Ecological Survey 


A survey of percent cover of certain species in a grassland community.  Several alternative 
encodings are given, which conveniently illustrate several of the options discussed in clause 8.1.2, 
and expose some outstanding issues particularly concerning the encoding of multi-component 
results.   


The dataset is summarised in the following table, supplied by Phillip Dibner (Ecosystem 
Associates).   


Grassland Species Composition of a Coastal Terrace Prairie   (as defined by Holland, 1986) 


  as %cover by species (totals > 100% are allowed) 


 Quadrat #: 1 2 3 4 5 6 7 8 9 10 


Average 
% Cover 
by Species 


Scientific name Common name            


Danthonia 
californica 


California oat 
grass 75 60 60 75 40 5 5 10 10 15 35.5


Nassella pulchra 
Purple needle 
grass 25 25 25 10 20 25 5 5 10 10 16


Camissonia 
ovata Suncups 0 2 0 5 0 2 0 0 0 0 0.9


Solidago 
canadensis ssp. 
elongata Canada goldenrod 0 10 15 5 0 0 0 0 0 0 3


Avena barbata Slender oats 0 0 0 5 25 30 50 60 40 40 25


Vulpia bromoides Six-weeks fescue 5 10 5 5 10 40 35 25 25 40 20


Plantago 
lanceolata English plantain 0 0 0 0 2 5 10 10 15 10 5.2


 


C.5.1 ObservationArray 


The first form considers the observation on each component of the sampling domain separately 
and uses an ObservationArray to aggregate them.  The target of each observation is a Region 
(known in this user-community as a Quadrat).  The result of each Observation is a list of 
percentages of each species.  A brief description of the uniform method used is provided in the 
description of a generic Procedure which is attached to the array (though it could have been 
attached to each observation independently).  The list of species is recorded in a 
CompositePhenemenon, described as the observable for the entire array (though again it could 
have been attached to each observation independently).   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 93
 


This representation emphasizes the properties of each element of the sampling domain or quadrat.  
In each QuantityList the list members scan across the set of species.  Note that it is only 
possible to use a QuantityList because the datatype of the results is homogeneous across the 
elements of the composite phenomenon (i.e. a quantity, measured in percent).  In the general case 
the components may not be represented by a homogeneous datatype, so the compact 
representation of the result-tuple may not be available.   


    <om:ObservationArray gml:id="Grassland56"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie (supplied by Phillip
Dibner)</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:boundedBy> 
        <gml:Null>unknown</gml:Null> 
      </gml:boundedBy> 
      <om:observationMembers> 
        <gml:Observation gml:id="GO1"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q1"> 
              <gml:name>Quadrat 1</gml:name> 
              <gml:location xlink:href="regions.xml#l1"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0</gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO2"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q2"> 
              <gml:name>Quadrat 2</gml:name> 
              <gml:location xlink:href="regions.xml#l2"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO3"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q3"> 
              <gml:name>Quadrat 3</gml:name> 
              <gml:location xlink:href="regions.xml#l3"/> 
            </om:Region> 
          </gml:target> 







OGC 03-022r3           Observations and Measurements 


94                                       © OGC 2003 – All rights reserved 
 


          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO4"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q4"> 
              <gml:name>Quadrat 4</gml:name> 
              <gml:location xlink:href="regions.xml#l4"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO5"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q5"> 
              <gml:name>Quadrat 5</gml:name> 
              <gml:location xlink:href="regions.xml#l5"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO6"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q6"> 
              <gml:name>Quadrat 6</gml:name> 
              <gml:location xlink:href="regions.xml#l6"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO7"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q7"> 
              <gml:name>Quadrat 7</gml:name> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 95
 


              <gml:location xlink:href="regions.xml#l7"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO8"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q8"> 
              <gml:name>Quadrat 8</gml:name> 
              <gml:location xlink:href="regions.xml#l8"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO9"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q9"> 
              <gml:name>Quadrat 9</gml:name> 
              <gml:location xlink:href="regions.xml#l9"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
        <gml:Observation gml:id="GO10"> 
          <gml:timeStamp> 
            <gml:TimeInstant> 
              <gml:timePosition>2002-12</gml:timePosition> 
            </gml:TimeInstant> 
          </gml:timeStamp> 
          <gml:target> 
            <om:Region gml:id="Q10"> 
              <gml:name>Quadrat 10</gml:name> 
              <gml:location xlink:href="regions.xml#l10"/> 
            </om:Region> 
          </gml:target> 
          <gml:resultOf> 
            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList> 
          </gml:resultOf> 
        </gml:Observation> 
      </om:observationMembers> 
      <om:using> 
        <om:Procedure gml:id="p1"> 
          <gml:description>as %cover by species (totals > 100% are allowed)</gml:description> 
        </om:Procedure> 
      </om:using> 







OGC 03-022r3           Observations and Measurements 


96                                       © OGC 2003 – All rights reserved 
 


      <om:observable> 
        <om:CompositePhenomenon gml:id="gs1"> 
          <gml:description>A suite of grassland species, as defined by Holland, 1986</gml:description> 
          <gml:name>Grassland Species</gml:name> 
          <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
          <om:constraintSet> 
            <om:TypedValueArray axis="species"> 
              <gml:valueComponents> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Danthonia californica</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Nassella pulchra</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Camissonia ovata</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Solidago canadensis ssp. 
elongata</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Avena barbata</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Vulpia bromoides</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Plantago lanceolata</gml:Category> 
              </gml:valueComponents> 
            </om:TypedValueArray> 
          </om:constraintSet> 
        </om:CompositePhenomenon> 
      </om:observable> 
    </om:ObservationArray> 
 


C.5.2 Single observation with complex target (a.k.a. Coverage) 


In the second form, this is encoded more compactly as a single  RichObservation.  A brief 
description of the method used is provided in the description of a generic procedure.  The field 
of the observation (its target) is a FeatureCollection which describes a set of Regions termed 
Quadrats.  The result is a ValueArray, composed of a set of lists of percentages of each species.  
The list of species is recorded in a CompositePhenemenon, described as the observable for the 
entire array.  Thus, the interpretation of the results requires that the values be convolved with (i) 
the list of target regions; (ii) the components of the composite phenomenon.   


This representation more clearly shows the relationship with a discrete coverage, whose domain 
is the set of locations of the Quadrats, and whose range is the set of results with a range 
description of the composite phenomenon.   


This representation emphasizes the variation of species within each single element of the 
sampling domain (quadrat).  As in the previous example, each QuantityList applies to a single 
quadrat, while its list members scan across the set of species.   


    <om:RichObservation gml:id="Grassland57"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using> 
        <om:Procedure gml:id="p1"> 
          <gml:description>as %cover by species (totals > 100% are allowed)</gml:description> 
        </om:Procedure> 
      </om:using> 
      <gml:target> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 97
 


        <gml:FeatureCollection gml:id="quadrats56"> 
          <gml:description>Quadrats used in grassland survey</gml:description> 
          <gml:boundedBy> 
            <gml:Null>unknown</gml:Null> 
          </gml:boundedBy> 
          <gml:featureMembers> 
            <om:Region gml:id="Q1"> 
              <gml:name>Quadrat 1</gml:name> 
              <gml:location xlink:href="regions.xml#l1"/> 
            </om:Region> 
            <om:Region gml:id="Q2"> 
              <gml:name>Quadrat 2</gml:name> 
              <gml:location xlink:href="regions.xml#l2"/> 
            </om:Region> 
            <om:Region gml:id="Q3"> 
              <gml:name>Quadrat 3</gml:name> 
              <gml:location xlink:href="regions.xml#l3"/> 
            </om:Region> 
            <om:Region gml:id="Q4"> 
              <gml:name>Quadrat 4</gml:name> 
              <gml:location xlink:href="regions.xml#l4"/> 
            </om:Region> 
            <om:Region gml:id="Q5"> 
              <gml:name>Quadrat 5</gml:name> 
              <gml:location xlink:href="regions.xml#l5"/> 
            </om:Region> 
            <om:Region gml:id="Q6"> 
              <gml:name>Quadrat 6</gml:name> 
              <gml:location xlink:href="regions.xml#l6"/> 
            </om:Region> 
            <om:Region gml:id="Q7"> 
              <gml:name>Quadrat 7</gml:name> 
              <gml:location xlink:href="regions.xml#l7"/> 
            </om:Region> 
            <om:Region gml:id="Q8"> 
              <gml:name>Quadrat 8</gml:name> 
              <gml:location xlink:href="regions.xml#l8"/> 
            </om:Region> 
            <om:Region gml:id="Q9"> 
              <gml:name>Quadrat 9</gml:name> 
              <gml:location xlink:href="regions.xml#l9"/> 
            </om:Region> 
            <om:Region gml:id="Q10"> 
              <gml:name>Quadrat 10</gml:name> 
              <gml:location xlink:href="regions.xml#l10"/> 
            </om:Region> 
          </gml:featureMembers> 
        </gml:FeatureCollection> 
      </gml:target> 
      <gml:resultOf> 
        <gml:ValueArray> 
          <gml:valueComponents> 
            <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList> 







OGC 03-022r3           Observations and Measurements 


98                                       © OGC 2003 – All rights reserved 
 


            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList> 
          </gml:valueComponents> 
        </gml:ValueArray> 
      </gml:resultOf> 
      <om:observable> 
        <om:CompositePhenomenon gml:id="gs1"> 
          <gml:description>A suite of grassland species, as defined by Holland, 1986</gml:description> 
          <gml:name>Grassland Species</gml:name> 
          <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
          <om:constraintSet> 
            <om:TypedValueArray axis="species"> 
              <gml:valueComponents> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Danthonia californica</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Nassella pulchra</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Camissonia ovata</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Solidago canadensis ssp. 
elongata</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Avena barbata</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Vulpia bromoides</gml:Category> 
                <gml:Category codeSpace="taxonomy.xml#holland1986">Plantago lanceolata</gml:Category> 
              </gml:valueComponents> 
            </om:TypedValueArray> 
          </om:constraintSet> 
        </om:CompositePhenomenon> 
      </om:observable> 
    </om:RichObservation> 
 


C.5.3 Single observation with remote metadata components 


If the description of the Procedure used, the target Region, and observable Phenomenon are 
recorded elsewhere, then the observation may be recorded more compactly still by indicating 
these “metadata” items by reference.  The following example is identical to the previous one, 
except that the explicit description of the procedure, and enumeration of the target and composite 
phenomenon is replaced by xlink:href associations on the om:using, gml:target and 
om:observable properties, respectively.   


As in the previous example, this representation emphasizes the variation of species within each 
single element of the sampling domain (quadrat).   


    <om:RichObservation gml:id="Grassland58"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="#p1"/> 
      <gml:target xlink:href="#quadrats56"/> 
      <gml:resultOf> 
        <gml:ValueArray> 
          <gml:valueComponents> 
            <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 99
 


            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList> 
          </gml:valueComponents> 
        </gml:ValueArray> 
      </gml:resultOf> 
      <om:observable xlink:href="#gs1"/> 
    </om:RichObservation> 
 


Since the components of the result have homogeneous type and uom, the array of lists may be 
consolidated into a single QuantityList, as follows: 


    <om:RichObservation gml:id="Grassland58"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="#p1"/> 
      <gml:target xlink:href="#quadrats56"/> 
      <gml:resultOf> 
        <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0 60 25 2 10 0 10 0 60 25 0 15 0 5 0 75 10 5 
5 5 5 0 40 20 0 0 25 10 2 5 25 2 0 30 40 5  5 5 0 0 50 35 10 10 5 0 0 60 25 10 10 10 0 0 40 25 15 15 10 0 0 
40 40 10 </gml:QuantityList> 
      </gml:resultOf> 
      <om:observable xlink:href="#gs1"/> 
    </om:RichObservation> 
 


C.5.4 Transposed results 


The result may also be expressed with the results transposed, so the lists each represent the result 
of one component of the phenomenon.  This representation emphasizes the variation across the 
sampling domain of each species.  Each QuantityList applies to a single species, while the list 
members scan across the set of quadrats.  Note that it is always possible to use a QuantityList in 
this way because each list describes a single component of the phenomenon.   


    <om:RichObservation gml:id="Grassland58"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="#p1"/> 
      <gml:target xlink:href="#quadrats56"/> 
      <gml:resultOf> 
        <gml:ValueArray> 
          <gml:valueComponents> 
            <gml:QuantityList uom="units.xml#percent">75 60 60 75 40 5 5 10 10 15</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">25 25 25 10 20 25 5 5 10 10</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">0 2 0 5 0 2 0 0 0 0</gml:QuantityList> 







OGC 03-022r3           Observations and Measurements 


100                                       © OGC 2003 – All rights reserved 
 


            <gml:QuantityList uom="units.xml#percent">0 10 15 5 0 0 0 0 0 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">0 0 0 5 25 30 50 60 40 40</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">5 10 5 5 10 40 35 25 25 40</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">0 0 0 0 2 5 10 10 15 10</gml:QuantityList> 
          </gml:valueComponents> 
        </gml:ValueArray> 
      </gml:resultOf> 
      <om:observable xlink:href="#gs1"/> 
    </om:RichObservation> 
 


As in the previous example, a single QuantityList may be used for the result: 


    <om:RichObservation gml:id="Grassland58"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="#p1"/> 
      <gml:target xlink:href="#quadrats56"/> 
      <gml:resultOf> 
        <gml:QuantityList uom="units.xml#percent">75 60 60 75 40 5 5 10 10 15 25 25 25 10 20 25 5 5 10 10 
0 2 0 5 0 2 0 0 0 0 0 10 15 5 0 0 0 0 0 0 0 0 0 5 25 30 50 60 40 40 5 10 5 5 10 40 35 25 25 40 0 0 0 0 2 5 10 
10 15 10</gml:QuantityList> 
      </gml:resultOf> 
      <om:observable xlink:href="#gs1"/> 
    </om:RichObservation> 
 


C 5.5 Indexing the components of the result 


The results in the previous three examples are composed of one or a set of QuantityLists.  The 
result set here has two dimensions, but the mapping from the components of the result to the 
components of the target and the components of the observable is not explicit.  When arrays of 
lists are used, and since the number of components of the target and observable are not equal, the 
dimensions of the result set implies the appropriate mapping.  However, this is not really 
satisfactory, and of course would fail if the lengths of the two sets happened to be equal.   


A number of strategies may be used to describe an explicit mapping.  A few of these are 
discussed below.   


C 5.5.1 Use component phenomena as “column headings” 


The CompositePhenomenon described above using a constraintSet may be described more 
explicitly with a set of componentPhenomenon elements.  This allows each component to have its 
own handle. 


        <om:CompositePhenomenon gml:id="gs1"> 
          <gml:description>A suite of grassland species, as defined by Holland, 1986</gml:description> 
          <gml:name>Grassland Species</gml:name> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1D"> 
              <gml:name>California oat grass</gml:name> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 101
 


              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Danthonia 
californica</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1N"> 
              <gml:name>Purple needle grass</gml:name> 
              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Nassella 
pulchra</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1C"> 
              <gml:name>Suncups</gml:name> 
              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Camissonia 
ovata</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1S"> 
              <gml:name>Canada goldenrod</gml:name> 
              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Solidago 
canadensis ssp. elongata</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1A"> 
              <gml:name>Slender oats</gml:name> 
              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Avena 
barbata</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1V"> 
              <gml:name>Six-weeks fescue</gml:name> 
              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 
              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Vulpia 
bromoides</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
          <om:componentPhenomenon> 
            <om:ParameterisedPhenomenon gml:id="gs1P"> 
              <gml:name>English plantain</gml:name> 
              <om:basePhenomenon xlink:href="phenomena.xml#organismFrequency"/> 







OGC 03-022r3           Observations and Measurements 


102                                       © OGC 2003 – All rights reserved 
 


              <om:constraint> 
                <om:TypedCategory axis="species" codeSpace="taxonomy.xml#holland1986">Plantago 
lanceolata</om:TypedCategory> 
              </om:constraint> 
            </om:ParameterisedPhenomenon> 
          </om:componentPhenomenon> 
        </om:CompositePhenomenon> 
 


Given handles for the components of the observable phenomenon, the QuantityLists from 
example C.5.4 may be replaced by TypedQuantityLists which are labelled with these 
components.  The fact that each list iterates over the members of the target remains implicit.   


<om:RichObservation gml:id="Grassland59"> 
  <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
  <gml:name>Grassland survey</gml:name> 
  <gml:timeStamp> 
    <gml:TimeInstant> 
      <gml:timePosition>2002-12</gml:timePosition> 
    </gml:TimeInstant> 
  </gml:timeStamp> 
  <om:using xlink:href="#p1"/> 
  <gml:target xlink:href="#quadrats56"/> 
  <gml:resultOf> 
    <om:TypedValueArray axis="#gs1"> 
      <gml:valueComponents> 
        <om:TypedQuantityList axis="#gs1D" uom="units.xml#percent">75 60 60 75 40 5 5 10 10 
15</om:TypedQuantityList > 
        <om:TypedQuantityList axis="#gs1N" uom="units.xml#percent">25 25 25 10 20 25 5 5 10 
10</om:TypedQuantityList > 
        <om:TypedQuantityList axis="#gs1C" uom="units.xml#percent">0 2 0 5 0 2 0 0 0 
0</om:TypedQuantityList > 
        <om:TypedQuantityList axis="#gs1S" uom="units.xml#percent">0 10 15 5 0 0 0 0 0 
0</om:TypedQuantityList > 
        <om:TypedQuantityList axis="#gs1A" uom="units.xml#percent">0 0 0 5 25 30 50 60 40 
40</om:TypedQuantityList > 
        <om:TypedQuantityList axis="#gs1V" uom="units.xml#percent">5 10 5 5 10 40 35 25 25 
40</om:TypedQuantityList > 
        <om:TypedQuantityList axis="#gs1P" uom="units.xml#percent">0 0 0 0 2 5 10 10 15 
10</om:TypedQuantityList > 
      </gml:valueComponents> 
    </om:TypedValueArray> 
  </gml:resultOf> 
</om:RichObservation> 
 


This method is robust and does not require any extension to the current model and schemas.  It 
relies on segregating the set of results relating to each component of the observable phenomenon 
in a separate list element.  At present this is the recommended encoding for a multi-
dimensional result-set relating to observations over a multi-component target.   


C 5.5.2 Explicit iterators 


A more general solution might be to explicitly indicate the set over which the iteration is made at 
each level.  For example, we might add “for” attributes to the array containers, and use Xpath (or 
Xpointer) expressions to indicate the components.  The data in C.5.3 might appear: 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 103
 


    <om:RichObservation gml:id="Grassland58"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="#p1"/> 
      <gml:target xlink:href="#quadrats56"/> 
      <gml:resultOf> 
        <gml:ValueArray> 
          <gml:valueComponents for="../../../gml:target/gml:FeatureCollection/gml:featureMembers"> 
            <gml:QuantityList uom="units.xml#percent" 
for="../../../../om:observable/om:CompositePhenomenon/om:constraintSet/om:TypedValueArray/gml:valueCo
mponents">75 25 0 0 0 5 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">60 25 2 10 0 10 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">60 25 0 15 0 5 0</gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">75 10 5 5 5 5 0 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">40 20 0 0 25 10 2 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">5 25 2 0 30 40 5 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">5 5 0 0 50 35 10 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">10 5 0 0 60 25 10 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">10 10 0 0 40 25 15 </gml:QuantityList> 
            <gml:QuantityList uom="units.xml#percent">15 10 0 0 40 40 10 </gml:QuantityList> 
          </gml:valueComponents> 
        </gml:ValueArray> 
      </gml:resultOf> 
      <om:observable xlink:href="#gs1"/> 
    </om:RichObservation> 
 


For convenience, or perhaps by convention, the iterator “for” is only shown on the first of the 
QuantityLists.   


If the results are in a singleQuantityList, then iterators must be applied to the same element in 
sequence.  In order to support an arbitrary number of dimensions, this suggests a solution using 
XML elements, rather than XML attributes.  For example 


    <om:RichObservation gml:id="Grassland58"> 
      <gml:description>Grassland Species Composition of a Coastal Terrace Prairie</gml:description> 
      <gml:name>Grassland survey</gml:name> 
      <gml:timeStamp> 
        <gml:TimeInstant> 
          <gml:timePosition>2002-12</gml:timePosition> 
        </gml:TimeInstant> 
      </gml:timeStamp> 
      <om:using xlink:href="#p1"/> 
      <gml:target xlink:href="#quadrats56"/> 
      <gml:resultOf> 
        <om:iterate over="../../../gml:target/gml:FeatureCollection/gml:featureMembers"/> 
        <om:iterate 
over="../../../../om:observable/om:CompositePhenomenon/om:constraintSet/om:TypedValueArray/gml:value
Components"/> 
        <gml:QuantityList uom="units.xml#percent">75 25 0 0 0 5 0 60 25 2 10 0 10 0 60 25 0 15 0 5 0 75 10 5 
5 5 5 0 40 20 0 0 25 10 2 5 25 2 0 30 40 5  5 5 0 0 50 35 10 10 5 0 0 60 25 10 10 10 0 0 40 25 15 15 10 0 0 
40 40 10 </gml:QuantityList> 
      </gml:resultOf> 
      <om:observable xlink:href="#gs1"/> 







OGC 03-022r3           Observations and Measurements 


104                                       © OGC 2003 – All rights reserved 
 


    </om:RichObservation> 
 


Note that the attribute “for” and element om:iterate shown in these examples are introduced for 
discussion only and have not been implemented in the schemas given in Annex B.   


This issue – of developing a convention for convolving descriptions of axes with a 
multidimensional array of results in XML – is an important area for future work.   







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 105
 


Annex D: Useful definitions and dictionaries 
(informative) 


D.1 units.xsd 


This XML document encodes a set of units of measure using the encoding defined GML3.   


<?xml version="1.0" encoding="UTF-8"?> 
<gml:Dictionary xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml 
../gml/base/units.xsd" gml:id="unitsDictionary"> 
  <gml:description>A dictionary of units of measure</gml:description> 
  <gml:name>OWS-1.2 Units</gml:name> 
  <gml:dictionaryEntry> 
    <gml:DefinitionCollection gml:id="SIBaseUnits"> 
      <gml:description xlink:href="http://www.bipm.fr/en/3_SI/base_units.html">The Base Units from the SI 
units system.</gml:description> 
      <gml:name>SI Base Units</gml:name> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="m"> 
          <gml:description>The metre is the length of the path travelled by light in vacuum during a time interval 
of 1/299 792 458 of a second.</gml:description> 
          <gml:name>metre</gml:name> 
          <gml:name>meter</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">m</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="kg"> 
          <gml:description>The kilogram is the unit of mass; it is equal to the mass of the international prototype 
of the kilogram. </gml:description> 
          <gml:name>kilogram</gml:name> 
          <gml:quantityType>Mass</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">kg</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="s"> 
          <gml:description>The second is the duration of 9 192 631 770 periods of the radiation corresponding 
to the transition between the two hyperfine levels of the ground state of the caesium 133 
atom.</gml:description> 
          <gml:name>second</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">s</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="A"> 
          <gml:description>The ampere is that constant current which, if maintained in two straight parallel 
conductors of infinite length, of negligible circular cross-section, and placed 1 metre apart in vacuum, would 
produce between these conductors a force equal to 2 × 10-7 newton per metre of length. 







OGC 03-022r3           Observations and Measurements 


106                                       © OGC 2003 – All rights reserved 
 


</gml:description> 
          <gml:name>Ampere</gml:name> 
          <gml:quantityType>Electric current</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">A</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="K"> 
          <gml:description>The kelvin, unit of thermodynamic temperature, is the fraction 1/273.16 of the 
thermodynamic temperature of the triple point of water.</gml:description> 
          <gml:name>kelvin</gml:name> 
          <gml:quantityType>Thermodynamic temperature</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">K</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="mol"> 
          <gml:description>1. The mole is the amount of substance of a system which contains as many 
elementary entities as there are atoms in 0.012 kilogram of carbon 12.  
2. When the mole is used, the elementary entities must be specified and may be atoms, molecules, ions, 
electrons, other particles, or specified groups of such particles. </gml:description> 
          <gml:name>mole</gml:name> 
          <gml:quantityType>Amount of substance</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">mol</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:BaseUnit gml:id="cd"> 
          <gml:description> The candela is the luminous intensity, in a given direction, of a source that emits 
monochromatic radiation of frequency 540 × 1012 hertz and that has a radiant intensity in that direction of 
1/683 watt per steradian.</gml:description> 
          <gml:name>candela</gml:name> 
          <gml:quantityType>Luminous intensity</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">cd</gml:catalogSymbol> 
          <gml:unitsSystem xlink:href="http://www.bipm.fr/en/3_SI"/> 
        </gml:BaseUnit> 
      </gml:dictionaryEntry> 
    </gml:DefinitionCollection> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <gml:DefinitionCollection gml:id="SIDerivedUnits"> 
      <gml:description xlink:href="http://www.bipm.fr/enus/3_SI/si-derived.html">The Derived Units from the SI 
units system.  These are all derived as a product of SI Base Units, except degrees Celsius in which the 
conversion formaula to the SI Base Unit (kelvin) involves an offset.  </gml:description> 
      <gml:name>SI Derived Units</gml:name> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="rad"> 
          <gml:name>radian</gml:name> 
          <gml:quantityType>plane angle</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">rad</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#m" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="sr"> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 107
 


          <gml:name>steradian</gml:name> 
          <gml:quantityType>solid angle</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">sr</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#m" exponent="2"/> 
            <gml:unitTerm uom="#m" exponent="-2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Hz"> 
          <gml:name>hertz</gml:name> 
          <gml:quantityType>frequency</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Hz</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#s" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="N"> 
          <gml:name>newton</gml:name> 
          <gml:quantityType>force</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">N</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#m" exponent="1"/> 
            <gml:unitTerm uom="#kg" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="-2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Pa"> 
          <gml:name>pascal</gml:name> 
          <gml:quantityType>pressure, stress</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Pa</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#N" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="J"> 
          <gml:name>joule</gml:name> 
          <gml:quantityType>energy, work, quantity of heat</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">J</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#N" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="W"> 
          <gml:name>watt</gml:name> 
          <gml:quantityType>power, radiant flux</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">W</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#J" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="-1"/> 







OGC 03-022r3           Observations and Measurements 


108                                       © OGC 2003 – All rights reserved 
 


          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="C"> 
          <gml:name>coulomb</gml:name> 
          <gml:quantityType>electric charge, quantity of electricity</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">C</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#s" exponent="1"/> 
            <gml:unitTerm uom="#A" exponent="1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="V"> 
          <gml:name>volt</gml:name> 
          <gml:quantityType>electric potential difference, electromotive force</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">V</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#W" exponent="1"/> 
            <gml:unitTerm uom="#A" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="F"> 
          <gml:name>farad</gml:name> 
          <gml:quantityType>capacitance</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">F</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#C" exponent="1"/> 
            <gml:unitTerm uom="#V" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="ohm"> 
          <gml:name>ohm</gml:name> 
          <gml:quantityType>electric resistance</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Ω</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#V" exponent="1"/> 
            <gml:unitTerm uom="#A" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="S"> 
          <gml:name>siemens</gml:name> 
          <gml:quantityType>electric conductance</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">S</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#A" exponent="1"/> 
            <gml:unitTerm uom="#V" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Wb"> 
          <gml:name>weber</gml:name> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 109
 


          <gml:quantityType>magnetic flux</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Wb</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#V" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="T"> 
          <gml:name>tesla</gml:name> 
          <gml:quantityType>magnetic flux density</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">T</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#Wb" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="H"> 
          <gml:name>henry</gml:name> 
          <gml:quantityType>inductance</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">H</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#Wb" exponent="1"/> 
            <gml:unitTerm uom="#A" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="degC"> 
          <gml:name>degree Celsius</gml:name> 
          <gml:quantityType>Celsius temperature</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">°C</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#K"> 
            <gml:formula> 
              <gml:a>273.16</gml:a> 
              <gml:b>1</gml:b> 
              <gml:c>1</gml:c> 
            </gml:formula> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="lm"> 
          <gml:name>lumen</gml:name> 
          <gml:quantityType>luminous flux</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">lm</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#cd" exponent="1"/> 
            <gml:unitTerm uom="#sr" exponent="1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="lx"> 
          <gml:name>lux</gml:name> 
          <gml:quantityType>illuminance</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">lx</gml:catalogSymbol> 
          <gml:unitDerivation> 







OGC 03-022r3           Observations and Measurements 


110                                       © OGC 2003 – All rights reserved 
 


            <gml:unitTerm uom="#lm" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Bq"> 
          <gml:name>becquerel</gml:name> 
          <gml:quantityType>activity (referred to a radionuclide)</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Bq</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#s" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Gy"> 
          <gml:name>gray</gml:name> 
          <gml:quantityType>absorbed dose, specific energy (imparted), kerma</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Gy</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#J" exponent="1"/> 
            <gml:unitTerm uom="#kg" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Sv"> 
          <gml:name>sievert</gml:name> 
          <gml:quantityType>dose equivalent, ambient dose equivalent, directional dose equivalent, personal 
dose equivalent, organ equivalent dose</gml:quantityType> 
          <gml:catalogSymbol codeSpace="http://www.bipm.fr/en/3_SI">Sv</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#J" exponent="1"/> 
            <gml:unitTerm uom="#kg" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
    </gml:DefinitionCollection> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <gml:DefinitionCollection gml:id="ConventionalUnitsDictionary"> 
      <gml:description>A collection of Conventional Units.  These are units of measure which are either widely 
used or important within a specific community.  For most of these there is  
1. a known derivation from more primitive units, which may or may not be SI Base Units, or  
2. a known conversion to a preferred unit, which may or may not be an SI Base or Derived unit, through 
rescaling and offset,  
or both.  </gml:description> 
      <gml:name>Conventional units.</gml:name> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="deg"> 
          <gml:name>degree</gml:name> 
          <gml:quantityType>plane angle</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#rad"> 
            <gml:factor>0.0174533</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="m2"> 
          <gml:name>metre squared</gml:name> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 111
 


          <gml:quantityType>area</gml:quantityType> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="m" exponent="2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="acre"> 
          <gml:name>acre</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>4046.86</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="hare"> 
          <gml:name>hare</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>0.000610609</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ft2"> 
          <gml:name>square foot</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>0.092903</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#ft" exponent="2"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ha"> 
          <gml:name>hectare</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>10000</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="yd2"> 
          <gml:name>square yard</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>0.836127</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#yd" exponent="2"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="in2"> 
          <gml:name>square inch</gml:name> 
          <gml:quantityType>area</gml:quantityType> 







OGC 03-022r3           Observations and Measurements 


112                                       © OGC 2003 – All rights reserved 
 


          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>0.00064516</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#in" exponent="2"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="cm2"> 
          <gml:name>square centimetre</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>0.0001</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#cm" exponent="2"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="mm2"> 
          <gml:name>square millimetre</gml:name> 
          <gml:quantityType>area</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m2"> 
            <gml:factor>1.e-6</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#mm" exponent="2"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="km"> 
          <gml:name>kilometre</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>km</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1.e3</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="cm"> 
          <gml:name>centimetre</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>cm</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1.e-2</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="mm"> 
          <gml:name>millimetre</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>mm</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1.e-3</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 113
 


      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="um"> 
          <gml:name>micrometre</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1.e-6</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="nm"> 
          <gml:name>nanometre</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>nm</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1.e-9</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="pm"> 
          <gml:name>picometre</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>pm</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1.e-12</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="yd"> 
          <gml:name>yard</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>yd</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>0.9144</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ft"> 
          <gml:name>foot</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>'</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>0.3048</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="in"> 
          <gml:name>inch</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>"</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>0.0254</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 







OGC 03-022r3           Observations and Measurements 


114                                       © OGC 2003 – All rights reserved 
 


        <gml:ConventionalUnit gml:id="mile"> 
          <gml:name>mile</gml:name> 
          <gml:quantityType>length</gml:quantityType> 
          <gml:catalogSymbol>mi</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#m"> 
            <gml:factor>1609.34</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="Tonne"> 
          <gml:name>tonne</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>T</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>1.e3</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="g"> 
          <gml:name>gram</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>1.e-3</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="mg"> 
          <gml:name>milligram</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>mg</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>1.e-6</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ug"> 
          <gml:name>microgram</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>1.e-9</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="lb"> 
          <gml:name>pound</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>lb</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>0.453592</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="oz"> 
          <gml:name>ounce</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 115
 


          <gml:catalogSymbol>oz</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>0.0283495</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="sack"> 
          <gml:name>sack</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>sack</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>45.3592</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="sk94"> 
          <gml:name>sk94</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>sk94</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>42.6377</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="USton"> 
          <gml:name>US ton</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>ton</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>907.185</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="Ma"> 
          <gml:name>million year</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>Ma</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>3.15569e13</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="yr"> 
          <gml:name>year</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>yr</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>3.15569e7</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="wk"> 
          <gml:name>week</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>wk</gml:catalogSymbol> 







OGC 03-022r3           Observations and Measurements 


116                                       © OGC 2003 – All rights reserved 
 


          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>604800</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="day"> 
          <gml:name>day</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>d</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>86400</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="hr"> 
          <gml:name>hour</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>hr</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>3600</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="min"> 
          <gml:name>minute</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>min</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>60</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ms"> 
          <gml:name>millsecond</gml:name> 
          <gml:quantityType>Time</gml:quantityType> 
          <gml:catalogSymbol>ms</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#s"> 
            <gml:factor>0.001</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="m_s"> 
          <gml:name>metres per second</gml:name> 
          <gml:quantityType>velocity</gml:quantityType> 
          <gml:catalogSymbol>m/s</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#m" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="m_s2"> 
          <gml:name>metres per second per second</gml:name> 
          <gml:quantityType>acceleration</gml:quantityType> 
          <gml:catalogSymbol>m/m2</gml:catalogSymbol> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 117
 


          <gml:unitDerivation> 
            <gml:unitTerm uom="#m" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="-2"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="gu"> 
          <gml:name>Gravity units</gml:name> 
          <gml:quantityType>acceleration</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m_s2"> 
            <gml:factor>1.e-6</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="hPa"> 
          <gml:name>hectoPascal</gml:name> 
          <gml:quantityType>pressure</gml:quantityType> 
          <gml:catalogSymbol>hPa</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa"> 
            <gml:factor>1.e-2</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="bar"> 
          <gml:name>bar</gml:name> 
          <gml:quantityType>pressure</gml:quantityType> 
          <gml:catalogSymbol>bar</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa"> 
            <gml:factor>1.e5</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="mbar"> 
          <gml:name>milliBar</gml:name> 
          <gml:quantityType>pressure</gml:quantityType> 
          <gml:catalogSymbol>mbar</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa"> 
            <gml:factor>1.e-1</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="atm"> 
          <gml:name>Atmosphere</gml:name> 
          <gml:quantityType>pressure</gml:quantityType> 
          <gml:catalogSymbol>atm</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa"> 
            <gml:factor>101325</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="psi"> 
          <gml:name>Pound per square inch</gml:name> 
          <gml:quantityType>pressure</gml:quantityType> 
          <gml:catalogSymbol>psi</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa"> 







OGC 03-022r3           Observations and Measurements 


118                                       © OGC 2003 – All rights reserved 
 


            <gml:factor>6894.76</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="hp"> 
          <gml:name>horsepower</gml:name> 
          <gml:quantityType>power</gml:quantityType> 
          <gml:catalogSymbol>hp</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#W"> 
            <gml:factor>746</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="GHz"> 
          <gml:name>GigaHertz</gml:name> 
          <gml:quantityType>frequency</gml:quantityType> 
          <gml:catalogSymbol>GHz</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Hz"> 
            <gml:factor>1.e9</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="cal"> 
          <gml:name>Calorie</gml:name> 
          <gml:quantityType>energy</gml:quantityType> 
          <gml:catalogSymbol>cal</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#J"> 
            <gml:factor>4.1868</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="kJ"> 
          <gml:name>kiloJoule</gml:name> 
          <gml:quantityType>energy</gml:quantityType> 
          <gml:catalogSymbol>kJ</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#J"> 
            <gml:factor>1.e3</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="kJ_Nm3"> 
          <gml:name>kilojoules per Newton metre</gml:name> 
          <gml:quantityType>Point of evaporation</gml:quantityType> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#kJ" exponent="1"/> 
            <gml:unitTerm uom="#N" exponent="-1"/> 
            <gml:unitTerm uom="#m" exponent="-3"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="g_l"> 
          <gml:name>grams per litre</gml:name> 
          <gml:quantityType>w/v concentration</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#kg_m3"> 
            <gml:factor>1.</gml:factor> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 119
 


          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#g" exponent="1"/> 
            <gml:unitTerm uom="#l" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ug_m3"> 
          <gml:name>micrograms per cubic metre</gml:name> 
          <gml:quantityType>w/v concentration</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#kg_m3"> 
            <gml:factor>1.e-9</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#ug" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-3"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="kg_m3"> 
          <gml:name>kilograms per cubic metre</gml:name> 
          <gml:quantityType>Density</gml:quantityType> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#kg" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-3"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="T_m3"> 
          <gml:name>Tonnes per cubic metre</gml:name> 
          <gml:quantityType>Density</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#kg_m3"> 
            <gml:factor>1000.</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#T" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-3"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:UnitDefinition gml:id="ratio"> 
          <gml:name>Ratio</gml:name> 
          <gml:quantityType>fraction</gml:quantityType> 
        </gml:UnitDefinition> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="percent"> 
          <gml:name>percent</gml:name> 
          <gml:quantityType>fraction</gml:quantityType> 
          <gml:catalogSymbol>%</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="ratio"> 
            <gml:factor>0.01</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ppm"> 







OGC 03-022r3           Observations and Measurements 


120                                       © OGC 2003 – All rights reserved 
 


          <gml:name>parts per million</gml:name> 
          <gml:quantityType>fraction</gml:quantityType> 
          <gml:catalogSymbol>ppm</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="ratio"> 
            <gml:factor>1.e-6</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="ppb"> 
          <gml:name>parts per billiion</gml:name> 
          <gml:quantityType>fraction</gml:quantityType> 
          <gml:catalogSymbol>ppb</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="ratio"> 
            <gml:factor>1.e-9</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="m3"> 
          <gml:name>cubic metre</gml:name> 
          <gml:quantityType>Volume</gml:quantityType> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#m" exponent="3"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="l"> 
          <gml:name>litre</gml:name> 
          <gml:quantityType>Volume</gml:quantityType> 
          <gml:conversionToPreferredUnit uom="#m3"> 
            <gml:factor>0.001</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="kappa"> 
          <gml:name>kappa</gml:name> 
          <gml:quantityType>kinematic viscosity </gml:quantityType> 
          <gml:catalogSymbol>k</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#Pa" exponent="1"/> 
            <gml:unitTerm uom="#m" exponent="-3"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:DerivedUnit gml:id="Pas"> 
          <gml:name>poiseuille</gml:name> 
          <gml:quantityType>dynamic viscosity</gml:quantityType> 
          <gml:catalogSymbol> Pa.s</gml:catalogSymbol> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#Pa" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="1"/> 
          </gml:unitDerivation> 
        </gml:DerivedUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="poise"> 
          <gml:name>poise</gml:name> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 121
 


          <gml:quantityType>dynamic viscosity</gml:quantityType> 
          <gml:catalogSymbol>po</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa.s"> 
            <gml:factor>0.1</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#cm" exponent="-1"/> 
            <gml:unitTerm uom="#g" exponent="1"/> 
            <gml:unitTerm uom="#s" exponent="1"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="slug_fts"> 
          <gml:name>slugs/foot-second</gml:name> 
          <gml:quantityType>dynamic viscosity</gml:quantityType> 
          <gml:catalogSymbol>slug/fts</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#Pa.s"> 
            <gml:factor>47.9</gml:factor> 
          </gml:conversionToPreferredUnit> 
          <gml:unitDerivation> 
            <gml:unitTerm uom="#slug" exponent="1"/> 
            <gml:unitTerm uom="#ft" exponent="-1"/> 
            <gml:unitTerm uom="#s" exponent="-1"/> 
          </gml:unitDerivation> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
      <gml:dictionaryEntry> 
        <gml:ConventionalUnit gml:id="slug"> 
          <gml:name>slug</gml:name> 
          <gml:quantityType>mass</gml:quantityType> 
          <gml:catalogSymbol>slug</gml:catalogSymbol> 
          <gml:conversionToPreferredUnit uom="#kg"> 
            <gml:factor>14.593903</gml:factor> 
          </gml:conversionToPreferredUnit> 
        </gml:ConventionalUnit> 
      </gml:dictionaryEntry> 
    </gml:DefinitionCollection> 
  </gml:dictionaryEntry> 
</gml:Dictionary> 
 


D.2 phenomena.xsd 


This XML document encodes a set of observable phenomena using the encoding defined in 
clause 7.3.   


<?xml version="1.0" encoding="UTF-8"?> 
<gml:Dictionary xmlns:gml="http://www.opengis.net/gml" xmlns:om="http://www.opengis.net/om" 
xmlns:sch="http://www.ascc.net/xml/schematron" xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/om 
../OM/phenomenon.xsd" gml:id="phenomena"> 
  <gml:description>A dictionary of phenomena, thrown together for illustation. 
SJDC 2002-12-24</gml:description> 
  <gml:name>OWS Phenomena</gml:name> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="_19V"> 
      <gml:description>19 GHz radiation Vertical Polarisation</gml:description> 
      <gml:name>19V</gml:name> 
      <om:basePhenomenon xlink:href="#Radiation"/> 







OGC 03-022r3           Observations and Measurements 


122                                       © OGC 2003 – All rights reserved 
 


      <om:constraint> 
        <om:TypedQuantity axis="#PeakWavelength" uom="./units.xml#GHz">19.35</om:TypedQuantity> 
      </om:constraint> 
      <om:constraint> 
        <om:TypedCategory axis="http://www.opengis.net/componentPhenomenonType#PolarisationDirection" 
codeSpace="http://www.opengis.net/sensorGlossary">V</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="_19H"> 
      <gml:description>19 GHz radiation Horizontal Polarisation</gml:description> 
      <gml:name>19H</gml:name> 
      <om:basePhenomenon xlink:href="#Radiation"/> 
      <om:constraint> 
        <om:TypedQuantity axis="http://www.opengis.net/componentPhenomenonType#peakWavelength" 
uom="#GHz">19.35</om:TypedQuantity> 
      </om:constraint> 
      <om:constraint> 
        <om:TypedCategory axis="http://www.opengis.net/componentPhenomenonType#PolarisationDirection" 
codeSpace="http://www.opengis.net/sensorGlossary">H</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Age"> 
      <gml:description>Time duration since creation</gml:description> 
      <gml:name>Age</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="AtmosphericPressure"> 
      <gml:description>fluid pressure exerted due to the gravitational effect on the column of atmosphere 
above the position of interest</gml:description> 
      <gml:name>Atmospheric Pressure</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="CloudCover"> 
      <gml:description>fraction of sky occupied by visible cloud</gml:description> 
      <gml:name>Cloud Cover</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Density"> 
      <gml:description/> 
      <gml:name>Density</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Depth"> 
      <gml:description>Linear distance measured vertically downwards from a reference 
surface</gml:description> 
      <gml:name>Depth</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Direction"> 
      <gml:description>Orientation of a vector relative to a reference frame.</gml:description> 
      <gml:name>Direction</gml:name> 
    </om:Phenomenon> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 123
 


  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="DissolvedSolids"> 
      <gml:description>Amount of solids remaining after evaporation</gml:description> 
      <gml:name>Dissolved Solids</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="DOX"> 
      <gml:name>Dissolved Oxygen</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:CompositePhenomenon gml:id="EarthquakeParameters"> 
      <gml:name>Earthquake Parameters</gml:name> 
      <om:componentPhenomenon> 
        <om:CompositePhenomenon gml:id="EarthquakeLocation"> 
          <gml:name>Earthquake Location</gml:name> 
          <om:componentPhenomenon xlink:href="#Epicentre"/> 
          <om:componentPhenomenon xlink:href="#Depth"/> 
          <om:componentPhenomenon xlink:href="#OriginTime"/> 
        </om:CompositePhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:CompositePhenomenon gml:id="MomentTensor"> 
          <gml:name>Earthquake Moment Tensor</gml:name> 
          <om:componentPhenomenon xlink:href="#Mrr"/> 
          <om:componentPhenomenon xlink:href="#Mtt"/> 
          <om:componentPhenomenon xlink:href="#Mff"/> 
          <om:componentPhenomenon xlink:href="#Mrt"/> 
          <om:componentPhenomenon xlink:href="#Mrf"/> 
          <om:componentPhenomenon xlink:href="#Mtf"/> 
        </om:CompositePhenomenon> 
      </om:componentPhenomenon> 
    </om:CompositePhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Elevation"> 
      <gml:description>Linear distance measured vertically upwards from a reference 
surface</gml:description> 
      <gml:name>Elevation</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Epicentre"> 
      <gml:description>The location on the surface of the earth directly above the position of the origin of an 
earthquake</gml:description> 
      <gml:name>Epicentre</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Medium"> 
      <gml:description>Material of which an object is constructed or within which a phenomenon 
occurs</gml:description> 
      <gml:name>Medium</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Mrr"> 
      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mrr"/> 
      <gml:name>Earthquake Moment Tensor component Mrr</gml:name> 







OGC 03-022r3           Observations and Measurements 


124                                       © OGC 2003 – All rights reserved 
 


    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Mtt"> 
      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mtt"/> 
      <gml:name>Earthquake Moment Tensor component Mtt</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Mff"> 
      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mff"/> 
      <gml:name>Earthquake Moment Tensor component Mff</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Mrt"> 
      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mrt"/> 
      <gml:name>Earthquake Moment Tensor component Mrt</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Mrf"> 
      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mrf"/> 
      <gml:name>Earthquake Moment Tensor component Mrf</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Mtf"> 
      <gml:description xlink:href="http://biggeophysicsdictionary.org/parameters/earthquakes/moment/Mtf"/> 
      <gml:name>Earthquake Moment Tensor component Mtf</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="MolWt"> 
      <gml:description/> 
      <gml:name>Molecular weight</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="MolVol"> 
      <gml:description/> 
      <gml:name>Molecular volume</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="OrganismCount"> 
      <gml:description>Number of organisms</gml:description> 
      <gml:name>Organism count</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="OriginTime"> 
      <gml:description>The time instant corresponding to the initiation of the event.</gml:description> 
      <gml:name>Origin Time</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="PeakWavelength"> 
      <gml:description>Centre of wavelength sensitivity band</gml:description> 
      <gml:name>Peak Wavelength</gml:name> 
    </om:Phenomenon> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 125
 


  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Radiation"> 
      <gml:name>Radiation</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="RelativeHumidity"> 
      <gml:description>Amount of water vapour in a gas measured as a fraction of full 
saturation</gml:description> 
      <gml:name>Relative Humidity</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Species"> 
      <gml:name>Species</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Speed"> 
      <gml:description>Scalar rate of movement</gml:description> 
      <gml:name>Speed</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:CompositePhenomenon gml:id="DiscreteSpectrumTM"> 
      <gml:name>Landsat Thematic Mapper spectrum</gml:name> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand1"> 
          <gml:name>Landsat TM band 1</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.45 
0.52</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand2"> 
          <gml:name>Landsat TM band 2</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.52 
0.60</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand3"> 
          <gml:name>Landsat TM band 3</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.63 
0.69</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand4"> 
          <gml:name>Landsat TM band 4</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 







OGC 03-022r3           Observations and Measurements 


126                                       © OGC 2003 – All rights reserved 
 


          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">0.76 
0.90</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand5"> 
          <gml:name>Landsat TM band 5</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">1.55 
1.75</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand6"> 
          <gml:name>Landsat TM band 6</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">10.4 
12.5</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
      <om:componentPhenomenon> 
        <om:ParameterisedPhenomenon gml:id="TMBand7"> 
          <gml:name>Landsat TM band 7</gml:name> 
          <om:basePhenomenon xlink:href="#Radiation"/> 
          <om:constraint> 
            <om:TypedQuantityExtent axis="#Wavelength" uom="./units.xml#um">2.08 
2.35</om:TypedQuantityExtent> 
          </om:constraint> 
        </om:ParameterisedPhenomenon> 
      </om:componentPhenomenon> 
    </om:CompositePhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:CompositePhenomenon gml:id="TM"> 
      <gml:description>Landsat Thematic Mapper all bands</gml:description> 
      <gml:name codeSpace="#OWS1">Landsat TM</gml:name> 
      <om:basePhenomenon xlink:href="http://www.opengis.net/componentPhenomena#Radiation"/> 
      <om:constraintSet> 
        <om:TypedValueArray axis="http://www.opengis.net/componentPhenomena#Wavelength"> 
          <gml:valueComponents> 
            <gml:QuantityExtent uom="#um">0.45 0.52</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">0.52 0.60</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">0.63 0.69</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">0.76 0.90</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">1.55 1.75</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">10.4 12.5</gml:QuantityExtent> 
            <gml:QuantityExtent uom="#um">2.08 2.35</gml:QuantityExtent> 
          </gml:valueComponents> 
        </om:TypedValueArray> 
      </om:constraintSet> 
    </om:CompositePhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="SurfaceWaterTemperature2"> 
      <gml:name>Surface Water Temperature 2</gml:name> 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 127
 


      <om:basePhenomenon xlink:href="#Temperature"/> 
      <om:constraint> 
        <om:TypedCategory axis="#Medium" 
codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory> 
      </om:constraint> 
      <om:constraint> 
        <om:TypedQuantityExtent axis="#Depth" uom="./units.xml#m">0.0 1.5</om:TypedQuantityExtent> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="SurfaceWaterTemperature"> 
      <gml:name>Surface Water Temperature</gml:name> 
      <om:basePhenomenon xlink:href="#WaterTemperature"/> 
      <om:constraint> 
        <om:TypedQuantityExtent axis="#Depth" uom="./units.xml#m">0.0 1.5</om:TypedQuantityExtent> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Temperature"> 
      <gml:description/> 
      <gml:name>Temperature</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:CompositePhenomenon gml:id="uSpectrum"> 
      <gml:description>Simple spectrum with uniform spacing of bands</gml:description> 
      <gml:name>UniformSpectrum</gml:name> 
      <om:basePhenomenon xlink:href="#Radiation"/> 
      <om:constraintSet> 
        <om:TypedQuantitySeries> 
          <om:limits>0 512</om:limits> 
          <om:axis>http://www.opengis.net/componentPhenomena#Wavelength</om:axis> 
          <om:origin uom="#um">0.30</om:origin> 
          <om:offset uom="#um">0.004</om:offset> 
          <om:structure>post</om:structure> 
        </om:TypedQuantitySeries> 
      </om:constraintSet> 
    </om:CompositePhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:CompositePhenomenon gml:id="Velocity"> 
      <gml:description>Vector rate of movement relative to a reference frame</gml:description> 
      <gml:name>Velocity</gml:name> 
      <om:componentPhenomenon xlink:href="#Speed"/> 
      <om:componentPhenomenon xlink:href="#Direction"/> 
    </om:CompositePhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="WaterTemperature"> 
      <gml:name>Water Temperature</gml:name> 
      <om:basePhenomenon xlink:href="#Temperature"/> 
      <om:constraint> 
        <om:TypedCategory axis="#Medium" 
codeSpace="http://www.opengis.net/ows/media">water</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:Phenomenon gml:id="Wavelength"> 







OGC 03-022r3           Observations and Measurements 


128                                       © OGC 2003 – All rights reserved 
 


      <gml:description>Distance between peak values of a wave</gml:description> 
      <gml:name>Wavelength</gml:name> 
    </om:Phenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="WindDirection"> 
      <gml:name>Wind Direction</gml:name> 
      <om:basePhenomenon xlink:href="#Direction"/> 
      <om:constraint> 
        <om:TypedCategory axis="#Medium">Wind</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="WindSpeed"> 
      <gml:name>Wind Speed</gml:name> 
      <om:basePhenomenon xlink:href="#Speed"/> 
      <om:constraint> 
        <om:TypedCategory axis="#Medium">Wind</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
  <gml:dictionaryEntry> 
    <om:ParameterisedPhenomenon gml:id="WindVelocity"> 
      <gml:name>Wind Velocity</gml:name> 
      <om:basePhenomenon xlink:href="#Velocity"/> 
      <om:constraint> 
        <om:TypedCategory axis="#Medium">Wind</om:TypedCategory> 
      </om:constraint> 
    </om:ParameterisedPhenomenon> 
  </gml:dictionaryEntry> 
</gml:Dictionary> 
 







Observations and Measurements                                                                       OGC 03-022r3 


© OGC 2003 – All rights reserved 129
 


Informative References 


[FOW1998] Fowler, M. Analysis Patterns: reusable object models.  Addison Wesley Longman, 
Menlo Park, CA. 1998.   


[ISO11404] Information technology – Programming languages, their environments and system 
software interfaces – Language-independent datatypes. ISO/IEC 11404:1996 (E) 


[KRALST] Krantz, D. H., Luce, R. D., Suppes, P., and Tversky, A. (1971), Foundations of 
measurement, Vol. I: Additive and polynomial representations, New York: Academic 
Press. ; Suppes, P., Krantz, D. H., Luce, R. D., and Tversky, A. (1989), Foundations of 
measurement, Vol. II: Geometrical, threshold, and probabilistic respresentations, New 
York: Academic Press. ; Luce, R. D., Krantz, D. H., Suppes, P., and Tversky, A. (1990), 
Foundations of measurement, Vol. III: Representation, axiomatization, and invariance, 
New York: Academic Press. 


[NIE2001] Nieva, T. Remote data acquisition of embedded systems using internet technologies: a 
role-based generic system specification. Thesis, Ecole Polytech. Fed. Lausanne  2001. 
available http://icawww.epfl.ch/nieva/thesis/Report/PhD.pdf. 


 [NRC1995] National Research Council. Expanding the Vision of Sensor Materials.  
Committee on New Sensor Technologies: Materials and Applications. National Academy 
Press. http://books.nap.edu/books/0309051754/html/index.html 1995. 


 [PAT1995] Gamma, E., Helm, R., Johnson, R., Vlissides, J. Design Patterns: Elements of Reusable 
Object-Oriented Software. 395pp. Addison Wesley, 1995.  


[SAR1995] Sarle, W.S., Measurement theory: frequently asked questions. Originally published in the 
Disseminations of the International Statistical Applications Institute, 4th edition, 1995, 
Wichita: ACG Press, pp. 61-66. Revised 1996, 1997. Available at 
ftp://ftp.sas.com/pub/neural/measurement.html 


[VIM] International Vocabulary of Basic and General Terms in Metrology. BIPM/ISO 1993.   


 [YOD] Yoder, J. W., Balaguer, F. and Johnson, R. From analysis to design of the observation 
pattern.  http://www.joeyoder.com/Research/metadata/Observation/ObservationModel.pdf 


 






