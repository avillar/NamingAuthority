
OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 1 
 

 

Open Geospatial Consortium 
Publication Date: 2015-03-26 

Approval Date: 2014-12-05 

Submitted Date: 2014-10-08 

Reference number of this document: OGC 14-057 

External identifier of this OGC® document: http://www.opengis.net/doc/PER/UKIAP2014 

Category: Public Engineering Report 

Editor(s): Bart De Lathouwer, Peter Cotroneo, Paul Lacey 

OGC® and Ordnance Survey - UK Interoperability 
Assessment Plugfest (UKIAP) Engineering Report  

Copyright © 2015 Open Geospatial Consortium. 
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

Warning 

This document is not an OGC Standard. This document is an OGC Public 
Engineering Report created as a deliverable in an OGC Interoperability Initiative 
and is not an official position of the OGC membership. It is distributed for review 
and comment. It is subject to change without notice and may not be referred to as 
an OGC Standard. Further, any OGC Engineering Report should not be referenced 
as required or mandatory technology in procurements.  

 

 

Document type:  OGC® Public Engineering Report 
Document subtype: NA 
Document stage:  Approved for public release 
Document language:  English 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 2 

Abstract 

The Open Geospatial Consortium (OGC), the UK Ordnance Survey, AGI and Dstl 
conducted a first of a series of events called the United Kingdom Interoperability 
Assessment Plugfest (UKIAP) 2014. The purpose of UKIAP 2014 is to advance the 
interoperability of geospatial products and services based on OGC standards within the 
UK geospatial information (GI) community.  The results of the Plugfest will allow 
Ordnance Survey to provide best practice guidance to those who want to consume or 
implement geospatial web services or products based on OGC standards.  UKIAP 2014 is 
open to open- and closed source vendors and to all GI organizations in the UK to involve 
as many participants in the initiative as possible. 

Keywords 
ogcdoc, OGC documents, sprint, plugfest, os, dstl, aig, ogc, gml, wfs, wmts,wms 
  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 3 

 

License Agreement 

Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, 
to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property 
without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, 
distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to 
do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual 
Property is furnished agrees to the terms of this Agreement. 

If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above 
copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR. 

THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS 
THAT MAY BE IN FORCE ANYWHERE IN THE WORLD. 

THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED 
IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL 
MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE 
UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT 
THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF 
INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY 
DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING 
FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF 
CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH 
THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY. 

This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all 
copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as 
provided in the following sentence, no such termination of this license shall require the termination of any third party end-user 
sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual 
Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, 
copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license 
without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or 
cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party. 

Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual 
Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without 
prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may 
authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any 
LICENSOR standards or specifications. 

This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United 
Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this 
Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, 
and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be 
construed to be a waiver of any rights or remedies available to it. 

None of the Intellectual Property or underlying information or technology may be downloaded or otherwise exported or reexported in 
violation of U.S. export laws and regulations. In addition, you are responsible for complying with any local laws in your jurisdiction 
which may impact your right to import, export or use the Intellectual Property, and you represent that you have complied with any 
regulations or registration procedures required by applicable law to make this license enforceable 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 4 

Contents Page 

1	   Introduction ................................................................................................................... 6	  
1.1	   Scope .................................................................................................................. 6	  
1.2	   The Open Geospatial Consortium ...................................................................... 6	  
1.3	   Ordnance Survey ................................................................................................ 7	  
1.4	   Association of Geographic Information (AGI) .................................................. 7	  
1.5	   Defence Science and Technology Laboratory (Dstl) ......................................... 7	  
1.6	   Document contributor contact points ................................................................. 8	  
1.7	   Revision history .................................................................................................. 8	  
1.8	   Future work ........................................................................................................ 8	  
1.9	   Forward .............................................................................................................. 8	  

2	   References ..................................................................................................................... 9	  

3	   Conventions ................................................................................................................ 10	  
3.1	   Abbreviated terms ............................................................................................ 10	  

4	   Overview ..................................................................................................................... 13	  
4.1	   Objectives of the Plugfest Sprint 2 ................................................................... 13	  
4.2	   Plugfest Process, Activities, Procedures, and Artefacts ................................... 14	  

4.2.1	   Scenarios ...................................................................................................... 15	  
4.2.1.1	   Scenario 1 ......................................................................................................... 15	  
4.2.1.2	   Scenario 2 ......................................................................................................... 22	  
4.2.1.3	   Scenario 3 ......................................................................................................... 30	  
4.2.1.4	   Scenario 4 ......................................................................................................... 32	  
4.2.1.5	   Scenario 5 ......................................................................................................... 33	  
5	   Summary of Recommendations and conclusion ......................................................... 38	  

6	   Sprint 1 and Sprint 2 GML ......................................................................................... 41	  
6.1	   Simple Features Profile in general (level 0) ..................................................... 41	  

6.1.1	   Geometry / spatial property types ................................................................ 41	  
6.1.2	   Coordinate space .......................................................................................... 43	  
6.1.3	   Spatial reference system .............................................................................. 43	  

6.1.3.1	   Referencing the srsName .................................................................................. 44	  
6.1.3.2	   Recognising spatial reference systems ............................................................. 44	  

6.1.4	   Schema design ............................................................................................. 45	  
6.1.5	   Measures ...................................................................................................... 45	  
6.1.6	   Code lists and dictionaries ........................................................................... 46	  

6.2	   Simple Features Profile compliance level 1 ..................................................... 46	  
6.2.1	   User defined property types ......................................................................... 46	  
6.2.2	   Use of nillable and xsi:nil ............................................................................ 47	  
6.2.3	   Maximum multiplicity > 1 ........................................................................... 47	  

6.3	   Aspects of GML 3.3 ......................................................................................... 47	  
6.3.1	   LanguageStringType .................................................................................... 47	  
6.3.2	   Dictionaries as gml:ReferenceType ............................................................. 47	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 5 

6.3.3	   Reference data .............................................................................................. 47	  
6.3.3.1	   OS VectorMap District ..................................................................................... 47	  
6.3.3.2	   OS Terrain 5, OS Terrain 50 vector ................................................................. 48	  
6.3.3.3	   OS MasterMap Sites Layer .............................................................................. 48	  
7	   OS Terrain: Coverages ................................................................................................ 50	  

7.1	   OS Terrain: Vector Elements ........................................................................... 51	  
7.2	   OS MasterMap Site Layer ................................................................................ 52	  
7.3	   OS VectorMap District ..................................................................................... 53	  

 

 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 6 

OGC® and Ordnance Survey - UK Interoperability 
Assessment Plugfest (UKIAP) Engineering Report  

 

1 Introduction 

1.1 Scope 

This OGC Engineering Report (ER) describes scenarios and the results of Sprint 21 of the 
UKIAP. Results and conclusion provided in this ER based on participant feedback from 
Sprint 2. Sprint 2 was held on March 3rd 2014 in Southampton, UK. The Sprint was 
designed to allow participants to measure the level of interoperability of their software 
(client or server/service) against the relevant OGC standards (see scenarios). 

1.2 The Open Geospatial Consortium  
The Open Geospatial Consortium (OGC) is an international, not for profit voluntary 
consensus standards organization that provides a forum and proven processes for the 
collaborative development of free and publicly available open standards. OGC standards 
enable easier access to and use of geospatial information and provide improved 
interoperability of geospatial technologies (across any device, platform, system, network 
or enterprise) to meet the needs of the global community.  OGC standards have been 
implemented broadly in the marketplace and are helping to foster distributed and 
component technology solutions that geo-enable web, wireless, and location based 
services as well as broader government and business IT enterprises worldwide. 

To accomplish the mission of the Consortium, the OGC conducts four programs: 

• OGC’s Standards Program facilitates formal consensus-based committees and 
working groups that establish a forum for OGC’s industry, academic/research and 
user community members to collaboratively identify, prioritize and advance solutions 
to meet standards needs of the global community.   

• OGC’s Interoperability Program promotes rapid prototyping, testing and validation of 
emerging standards through fast paced testbeds, plugfests, experiments, pilot 
initiatives and related feasibility studies.   

• OGC’s Communications and Outreach Program conducts programs (training, articles 
in publications, workshops, conferences, etc.) to promote awareness and 
implementation of OGC standards across the global community.  

• OGC’s Compliance Program provides a free online testing facility, a process for 
certification of compliant products, and coordination of a vibrant community of 

                                                

1 The results of Sprint 1 are not publically available – Sprint 1 ran in a non-blame environment 
2 http://cite.opengeospatial.org/teamengine/ 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 7 

developers.  The purpose of the OGC Compliance Program is to increase system 
interoperability while reducing technology risks. Vendors gain confidence that they 
are providing a product compliant with OGC standards, which will be easier to 
integrate and easier to market. Buyers gain confidence that a compliant product will 
work with another compliant product based on the same OGC standard, regardless of 
which company developed the product. 

 

1.3 Ordnance Survey  

The Ordnance Survey is a government department founded in 1791 and is the national 
mapping agency of Great Britain.  Ordnance Survey maintains the definitive geographic 
framework of Great Britain and is responsible for the surveying, production, maintenance 
and marketing of a wide range of geographic information, relied on by government, 
business and individuals. 

A dynamic, self-financing £120-million-a-year civilian organization, Ordnance Survey is 
at the forefront of the digital economy, producing digital mapping products and paper 
maps for business, leisure, administrative and educational use. 

1.4 Association of Geographic Information (AGI) 

The mission of the AGI is to maximise the use of geographic information (GI) for the 
benefit of the citizen, good governance and commerce. 

The AGI exists to represent the interests of the UK's GI industry; a wide-ranging group of 
public and private sector organisations, suppliers of GI software, hardware, data and 
services, consultants, academics and interested individuals. The AGI, by way of its 
unique membership forum, brings together this previously disparate GI community to 
share ideas on best practice, experience and innovation, and offers access to unparalleled 
networking opportunities with significant business benefits. As such it acts on behalf of 
the community as whole. Since its formal inception in 1989, it has built up a significant 
membership base and established itself as the respected voice in GI. It is THE 
membership body for everyone in the UK with an interest or involvement with GI. 

AGI is an INSPIRE Spatial Data Interest Community (SDIC) and provides logistical and 
expert support to the British Standards Committee for Geographic Information (IST36), 
amongst its many other activities. The AGI aim to bring you the latest industry and AGI 
news, information about AGI's many Special Interest Groups (SIGs), Regional Groups, 
events programme, Continuing Professional Development (CPD), plus our highly 
acclaimed annual AGI GeoCommunity conference, which is the largest independent 
geospatial event in the UK. 

1.5 Defence Science and Technology Laboratory (Dstl)  

Dstl is a trading fund of the Ministry of Defence of the United Kingdom. Dstl´s purpose 
is to maximise the impact of science and technology for the defence and security of the 
UK - giving the right science and technology advice at the right time. Dstl provides the 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 8 

government with a wide programme of research and scientific and technical support, 
delivered from internal and external resources. 
Dstl’s work is funded by customer contracts from MOD, primarily the Defence Science 
and Technology (DST) Programme that is owned by MOD’s Chief Scientific Adviser 
(CSA), Defence Equipment and Support, Defence Intelligence and other government 
departments, collectively known as funding from other sources. Dstl carries out a broad 
range of work from high-level analysis to support policy and procurement decisions, to 
technical research in defence areas including geospatial information and technology. 

 
This ER was developed as part of the UKIAP Sprint 2 initiative as an element of the 
OGC Interoperability Program.  The initiative was based upon interest and contributions 
from several OGC Member and Non-member organizations. 

1.6 Document contributor contact points 

All questions regarding this document should be directed to the editor or the contributors: 

 

 

1.7 Revision history 

Date Release Editors Primary clauses 
modified 

Description 

     
 

1.8 Future work 

No future work is planned.  

1.9 Forward 

Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The Open Geospatial Consortium shall not be held 
responsible for identifying any or all such patent rights. 

Recipients of this document are requested to submit, with their comments, notification of 
any relevant patent claims or other intellectual property rights of which they may be 

Name Organization 
Bart De Lathouwer Open Geospatial Consortium 
Peter Cotroneo Ordnance Survey  
Peter Parslow Ordnance Survey  
Paul Lacey Defence Science & Technology 

Laboratory 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 9 

aware that might be infringed by any implementation of the standard set forth in this 
document, and to provide supporting documentation. 

2 References 

The following documents are referenced in this document. For dated references, 
subsequent amendments to, or revisions of, any of these publications do not apply. For 
undated references, the latest edition of the normative document referred to applies. 

OGC 01-068r3, OpenGIS® Web Map Service (WMS) Implementation Specification, 
 version 1.1.1 

OGC 02-070, Styled Layer Descriptor Implementation Specification (SLD), version 1.0.0   

OGC 03-105r1, OpenGIS® Geography Markup Language (GML) Encoding 
Specification,   version 3.1.1 

OGC 04-016r3, OWS Common Implementation Specification, version 0.3.0 

OGC 04-094 OpenGIS® Web Feature Server (WFS) Implementation Specification,  
 version 1.1.0 

OGC 04-095, OpenGIS® Filter Encoding Implementation Specification, version 1.1.0 

OGC 05-008, OpenGIS® Web Services Common Specification, version 1.0.0 

OGC 05-078r4, Styled Layer Descriptor (SLD) profile of the WMS Implementation 
Specification, version 1.1.0 (revision 4)   

OGC 06-023r1, Definition Identifier URNs in OGC namespace, Best Practices Paper 

OGC 06-042, OpenGIS® Web Map Server Implementation Specification, version 1.3.0 

OGC 06-049r1, Geography Markup Language Simple Features Profile 

OGC 06-083r8 OpenGIS® Web Coverage Service Implementation Specification,  
 version 1.1.0 

OGC 06-121r3, OpenGIS® Web Services Common Standard 

NOTE  This OWS Common Specification contains a list of normative references that are also 
applicable to this Implementation Specification. 

OGC 07-006r1, OpenGIS® Catalog Services Specification, Version 2.0.2, Corrigendum 2   

OGC 07-036, OpenGIS® Geography Markup Language (GML) Encoding Standard, 
 version 3.2.1 

OGC 07-045, OpenGIS® Catalogue Services Specification 2.0.2 - ISO Metadata 
 Application Profile 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 10 

OGC 07-092r3 Definition Identifier URNs in OGC Namespace 

OGC 07-107r3 (IETF) A Uniform Resource Name (URN) namespace for the                 
 Open Geospatial Consortium (OGC)  

OGC 08-038r5 Axis Order Policy and Recommendations 

OGC 10-100r3 Geography Markup Language GML simple features profile (with 
Corrigendum) 

OGC 06-103r3 OpenGIS Implementation Specification for Geographic information – 
Simple feature access – Part 1: Common architecture 

ISO 19125-1:2004 Geographic information – Simple feature access – Part 1: Common 
architecture 

OGC 10-129r1 OCG® Geography Markup Language (GML) – Extended schemas and 
encoding rules 

ISO 19106, Geographic Information – Profiles 

ISO 19115, Geographic Information – Metadata 

Department of Defense Discovery Metadata Specification 
 http://metadata.dod.mil/mdr/ns/DDMS/2.0/  

Extensible Markup Language (XML) 1.0 (Fifth Edition) 

 http://www.w3.org/TR/xml/  

In addition to this document, this report includes several XML Schema Document files as 
specified in Annex A. 

3 Conventions 

3.1 Abbreviated terms 

CITE Compliance & Interoperability Test & Evaluation 

CAT Catalog Service 

CONOPS Concept of Operations 

CSW Catalog Services for the Web 

CRS Coordinate Reference System 

DCS Data Content Specifications 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 11 

DDMS DoD Discovery Metadata Specification 

DISR      DoD Information Technology Standards and Profile Registry 

DoD Department of Defense 

DSTL Defence Science and Technology Laboratory 

EC Entity Catalog 

EPSG European Petroleum Survey Group 

ER Engineering Report  

GEOINT  Geospatial Intelligence 

GML Geography Markup Language 

GWG Geospatial Working Group 

HTTP HyperText Transfer Protocol 

IE OGC Interoperability Experiment 

IP OGC Interoperability Program 

KML (was Keyhole Markup Language, now just KML) 

NEC NSG Entity Catalog 

NFDD NSG Feature Data Dictionary 

NGA National Geospatial-intelligence Agency  

NSG National System for Geospatial-Intelligence 

OASIS Organization for the Advancement of Structured Information Standards 

OGC  Open Geospatial Consortium  

OS Ordnance Survey 

OWS  OGC Web Services 

REGEX Regular Expression (for matching text strings) 

REST Representational State Transfer 

RFI  Request for Information  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 12 

SE Symbol Encoding 

SF-0 GML Simple Features Level 0 Profile 

SLD Style Layer Descriptor 

SOAP (was Simple Object Access Protocol, now just SOAP) 

SRS Spatial Reference System 

TBD To Be Determined 

TDS Topographic Data Store 

TFDM Topographic Features Data Management 

TIE Technology Integration Experiment 

URI Universal Resource Identifier 

URL Universal Resource Locator 

URN Universal Resource Name 

WCS Web Coverage Service 

WFS Web Feature Service  

WMS  Web Map Service 

XML Extensible Markup Language 

XSLT Extensible Stylesheet Language: Transformations 

 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 13 

4 Overview 

4.1 Objectives of the Plugfest Sprint 2 

The purpose of this interoperability initiative was to learn from participant’s experiences 
and knowledge and to identify areas of improvement in the use of specific OGC 
standards.  UKIAP consisted of two separate sprints. Sprint 1 tested GI data and web 
services in commercial and open source client software and set the baseline. The vendors’ 
engineering teams could then fix the client and/or server software to resolve any issues 
found during Sprint 1.  The results of Sprint 1 are documented in an internal Engineering 
Report that was not publically disseminated. The results will be available only to relevant 
OGC Standards Working Groups (SWGs) and will be treated as confidential. To the 
extent possible, issues will be described without identifying the vendors involved.  

In Sprint 2, the modified software was tested again against the same scenarios. Ordnance 
Survey will publish the results of the sprint in a best practice guide focused on the UK GI 
community.  The latter will be a more practical guide for using geospatial products and 
web services based on OGC Standards.  Both the ER and best practice guide will be 
publically available. 

Table 1 – Participating Organizations and Individuals 

British Geological Survey Marcus Sen 
Cadcorp Martin Daly (Remote) 
Envitia Brendan Mason 
ESRI UK Jim Sibbald 
Helyx Anneley McMillan 
Intergraph Colin Bertram 
Magellium Tobias Reinicke 
Pyxis Innovation Idan Shatz (Remote) 
Snowflake Software Matt Adams & Jonathan Baggott 
MET Office Ian Edwards 
Dstl  Paul Lacey 
Astun Technology Matt Walker (Remote) 
LinkNode Crispin Hoult (Remote) 
Table 3 – Client application 

ArcMap Esri 
QGIS 2.2.0 QGIS 
AutoCAD Map 3D 2014 Autodesk 
GeoMedia Professional 14.1 Intergraph 
MapGuide Open Source 2.5 Autodesk - OSGeo 
Envitia MapLink Envitia 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 14 

Cadcorp SIS Map Modeller Cadcorp 
PYXIS WorldView Pyxis Innovation 
GML Viewer Snowflake Software 
 

 

Table 4 – Services 

GeoServer running on Tomcat 
with PostreSQL/PostGIS, 
deployed using Amazon Web 
Services 

OS UK 

GeoServer  BGS 

4.2 Plugfest Process, Activities, Procedures, and Artefacts  

The OGC Plugfest was conducted on March 3, 2014  at the Ordnance Survey. Prior to the 
Plugfest, a Pre-Sprint 2 conference was organized for all participants for any last minute 
questions, observations and recommendations. 

The published agenda for the day: 

08:30 – 09:00 Arrival - coffee 
09:00 -  09:15 Introduction – Peter Cotroneo and Bart de Lathouwer 
09:15 - 11:00 GML (Including GML questionnaire) 
11:00 - 12:00 WMS 
12:00 – 12:30 Lunch break 
12:30 - 15:00 WMTS 
15:00 - 15:15 Break 
15:15 - 17:00 WFS 
17:00 - 18:00  Results and Pizza 

The timing of the agenda was initially followed. However, GML section took more time 
than planned as we took more time to go over the GML questionnaire. Timing was 
regained as we reduced the time allotted for the WMS sprint. WMS was very successful 
in Sprint 1, so we decided to rerun the scenario very quickly.  

The meeting room had a podium with a large projected screen – the participants sat at 
individual marked tables that faced the screen.   

In Sprint 1 the OS introduced the various OS products and that helped participants 
understand the scenarios and context and was appreciated by all, especially organisations 
dialling in from outside the UK who were not familiar with the available OS products. 
This was not repeated for Sprint 2. 

All 5 scenarios (described below) were run in order. Each scenario was projected on a 
large screen so participants could follow the current step as well as next steps. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 15 

A GoToMeeting session was available for remote participants and included 2 wide-angle 
Webcams. This was a request from Sprint 1 participants to feel more included in the 
event. 

A WIFI was available to the participants to access the OS services that ran in a cloud 
environment outside of the operational environment of the OS – this also allowed for the 
remote participants to access the services without having to be in the OS building and 
having the same interaction with the OS services. No WIFI or Internet connection issues 
were encountered during the Plugfest and WIFI performance was sufficient (no 
performance measuring was done). 

4.2.1 Scenarios 
4.2.1.1 Scenario 1 

In Scenario 1, participants from UK GI organisations tested their GML product(s) or data 
in a variety of commercial and open source GIS software.  Ordnance Survey tested three 
of its products (GML 3.2 format): OS VectorMap District (VMD), OS Terrain 5, OS 
Terrain 50 and OS MasterMap Sites Layer.  The goal of this use scenario was to 
understand which software supports which elements of GML. 

OS VectorMap District (VMD) GML Application Schema passed the GML tests against 
the OGC Compliance Program's TEAM Engine2. The OGC Compliance Program (or 
OGC Compliance & Interoperability Testing & Evaluation (CITE) program) is an on-
going program that develops tests for OGC standards and makes those tests available for 
online testing of correct implementation of OGC standards.  This web site is a resource 
for developers that are working with their software to make it OGC compliant, as well as 
for developers improving the testing scripts and software. It provides a summary of 
available tests, information about building the source code, reference implementation, 
etc. (see http://cite.opengeospatial.org). 

4.2.1.1.1 Test steps 

Connect	  to	  Ordnance	  Survey	  Network	  

What	  versions	  of	  GML	  does	  your	  application	  (officially)	  support	  (reading	  /	  writing)	  

Read	  OS	  VectorMap	  District	  into	  your	  client	  software	  (no	  query).	  SU28.gml	  ONLY.	  

Read	  OS	  VectorMap	  District	  into	  your	  client	  software	  (with	  query	  SU28,	  Surface_WaterLine	  3062,	  Building	  
3433	  (gml:id='os.vmd.su.215858'	  )).	  

                                                

2 http://cite.opengeospatial.org/teamengine/ 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 16 

Read	  OS	  VectorMap	  District	  into	  your	  client	  software	  (with	  query	  Query	  Building	  gmlid:	  215858,	  verify	  
featurecode	  is	  25014	  ).	  

Read	  OS	  VectorMap	  District	  into	  your	  client	  software	  (with	  query	  145742	  ).	  

Read	  OS	  Terrain	  5	  (query	  SU28NW.gml).	  Render	  as	  shaded	  model	  and	  contours	  in	  3D	  environment	  (zoom	  
in/out,	  Pan/…)	  

Does	  the	  application	  resolve	  the	  ASC	  from	  the	  GML	  automatically?	  (Applies	  only	  to	  OS	  Terrain	  Grid	  
products)	  

If	  multiple	  Geometry	  types	  are	  available,	  how	  are	  they	  reported	  in	  the	  client	  application	  

Can	  you	  overlay	  the	  terrain	  model	  with	  OS	  VectorMap	  District	  

Optional:	  Style	  shaded	  model	  (Hill	  shading)	  

Can	  SLD	  be	  provided	  as	  part	  of	  the	  GetMap	  request?	  

Read	  OS	  Terrain	  5	  (with	  query).	  Render	  as	  shaded	  model	  and	  contours	  in	  3D	  environment	  (zoom	  in/out,	  
Pan/…)	  

Read	  OS	  Terrain	  5	  (with	  query).	  Render	  as	  shaded	  model	  and	  contours	  in	  3D	  environment	  (zoom	  in/out,	  
Pan/…)	  

see	  Su28nw	  and	  SD71NE	  

Read	  OS	  Terrain	  50	  (query	  SU28NW.gml).	  Render	  as	  shaded	  model	  and	  contours	  in	  3D	  environment	  (zoom	  
in/out,	  Pan/…)	  

Can	  you	  overlay	  the	  terrain	  model	  with	  other	  vector	  and	  coverages?	  

Read	  OS	  Terrain	  5	  (With	  query).	  Render	  as	  shaded	  model	  and	  contours	  in	  3D	  environment	  (zoom	  in/out,	  
Pan/…)	  

	  	  

Read	  OS	  MapsterMap	  Sites	  Layer	  GML	  file	  (query	  Roads,	  England,	  functional	  sites:	  508	  (geomo	  type	  
unknown?),	  access	  points	  1251	  (points)	  routing	  points	  965	  (points))	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 17 

Verify:	  Feature	  Counts:	  Functional	  sites:508,	  access	  points:	  1251,	  routing	  points	  965.	  

(of	  the	  508,	  20	  are	  multipolygon,	  488	  are	  polygons)	  

Displaying	  all	  layers	  from	  osmmsites_ed_england.gml.	  

 

For each of the above steps, the participants were requested to indicate success or failure 
(elaborate on failure and indicate graceful exit), indication of response time and 
observations. 

Because of the lengthy GML questionnaire, not all OS GML files where tested in the 
script (see strike through items in list above). All issues raised during Sprint 1 were rerun 
and verified. 

4.2.1.1.2 Outcomes 

Based on the fact that not all client applications support the reading of GML (either 
directly or through an ETL tool), not all participants participated in Scenario1The 
organizations that did participate were able to read the GML files without difficulties. 
The OS Terrain 5 and OS Terrain 50 DTM GML files referenced an ASCII Grid file and 
these references where resolved correctly by all participating applications (there is 
uncertainty whether the ASCII files were read separately (so not reading the GML at all) 
or whether the ASCII file was resolved by software (not human interaction) when reading 
the GML file – Sprint 2 confirmed that the software did not resolve the GML file, but that 
the file was opened through human interaction).  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 18 

 

Illustration 1, Terrain 5 using Intergraph Geomedia . 

 

Read OS VectorMap District into client application. Some client applications do not 
visibly render the vectors on screen during loading, but only after loading (for 
performance reasons, not all information is read into memory at once, but only when 
referenced or queried). 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 19 

  
Illustration 2, Slope comparison using ArcMap (Esri) . 

 

The “Plugfest Bingo” (lookup a feature and call out attributes or summing groups of 
feature based on a query) gave a good indication that the query worked well (a group 
consensus on the queried attribute – e.g. lookup feature with gmlid 215858, verify 
featurecode as 25014). Disagreement on an attributes value was either due to passing 
different values than instructed or in some other kind of user error. When a number didn't 
match, all participants verified the initial query and asserted the desired value.  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 20 

 
Illustration 3, GML rendering using Pyxis Worldview . 

 
 

	  

Observations (Sprint 1) 

The following observations were gathered from : 1) comments in the Excel sheets 
containing the test steps, 2) comments in the GoToMeeting chat window and via email. 

No	  distinction	  in	  Geometry	  Type	  
No	  distinction	  in	  geometry	  type	  for	  multi-­‐polygons	  within	  the	  FunctionalSite	  
polygons	  layer,	  but	  is	  recognized	  as	  a	  multipart	  when	  queried.	  
	  
Multiple access type and nature of access values for a given feature are comma 
separated, would prefer distinct XML features. 

#### listed functionalSite layer as UNKNOWN geometry type but then loaded it 
as POLYGON. 

No	  distinction	  in	  layer	  but	  is	  recognised	  as	  multipart	  as	  required.	  Site	  for	  Roads	  
is	  shown	  as	  Polygon	  Z	  but	  Utilities	  is	  just	  Polygon	  

 
Source Data Issues 

distinctiveName1, distinctiveName2, etc. doesn’t always map well to features 
e.g. a station where distinctiveName1 is “Station Road” 

distinctiveName1 in Rail had several features with null values 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 21 

There are just under 10% of features in the functional site layer which have a null 
value for distinctivename1: 

select count(*) from osmm_sites.functionalsite where distinctivename1 is null; 
count | 2466 

OSTerrainContourProducts.xsd issue 

OSTerrainContourProducts.xsd was in error. 

Excerpt from the original xsd: 

  <complexType name="DataSetType"> 
    <complexContent> 
      <extension base="gml:AbstractFeatureType"> 
        <sequence> 
          <element name="metadata"/>  
          <element name="nominalScale"/> 
          <element name="elevationReference"/>  
          <element name="equidistance"/> 
          <sequence minOccurs="0" maxOccurs="unbounded"> 
            <element name="member"> 
              <complexType> 
                <choice> 
                  <element ref="os:LandWaterBoundary"/> 
                  <element ref="os:SpotHeight"/> 
                  <element ref="os:ContourLine"/> 
                </choice> 
              </complexType> 
            </element> 
          </sequence> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
 

Suggested fix: 

  <complexType name="DataSetType"> 
    <complexContent> 
      <extension base="gml:AbstractFeatureType"> 
        <sequence> 
          <element name="metadata"/>  
          <element name="nominalScale"/> 
          <element name="elevationReference"/>  
          <element name="equidistance"/> 
          <sequence minOccurs="0" maxOccurs="unbounded"> 
            <element name="member"> 
              <complexType> 
                <complexContent> 
                  <extension base="gml:AbstractFeatureMemberType"> 
                    <choice> 
                      <element ref="os:LandWaterBoundary"/> 
                      <element ref="os:SpotHeight"/> 
                      <element ref="os:ContourLine"/> 
                    </choice> 
                  </extension> 
                </complexContent> 
              </complexType> 
            </element> 
          </sequence> 
        </sequence> 
      </extension> 
    </complexContent> 
  </complexType> 
 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 22 

 

Note the added complexContent element so that the member element explicitly 
extends gml:AbstractFeatureMemberType. This is required by GML 3.2 for a 
feature collection (9.9.1 of OGC's 07-036 / ISO 19136). 

 
 

 

Manually changing the .xsd and having the .gml file point to the corrected .xsd 
solved the problem. The .xsd remained unchanged for Sprint 2. OS UK will 
correct the .xsd as a bug fix to the OS Terrain Contour Products. 

4.2.1.2 Scenario 2 

In Scenario 2, participants tested their implementations of the OGC WMS standard in a 
variety of commercial and open source GIS software.  (Services had to be WMS-
compliant.  See http://www.opengeospatial.org/compliance).  Ordnance Survey tested OS 
OnDemand, which is a national WMS for Great Britain that delivers raster and rasterised 
vector data to its customers.   

The following was tested for both WMS 1.1.1 and 1.3.0: 

• GetMap, at all zoom levels and for each layer (including transparency).   
• GetFeatureInfo, at all zoom levels and for specific layers (including transparency) 
• GetCapabilities   
• Coordinate systems that are used in the UK (e.g., ETRS89, WGS84, British 

National Grid, Irish Transverse Mercator, Irish Grid, etc.) 
• Test user-friendliness of server throwing exceptions 
• Bbox 
• Authentication with user name and password, using either HTTP or HTTPS 

The goal of this use case is to understand the success rate of interoperability across the 
various GIS platforms. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 23 

4.2.1.2.1 Test steps 

Connect	  to	  Ordnance	  Survey	  Network	  

What	  versions	  of	  WMS	  does	  the	  application	  (officially)	  support	  

http://betaosondemand.ordnancesurveyite.co.uk/ondemand/wms?REQUEST=GetCapabilities	  

Retrieve	  service	  capabilities	  using	  browser	  from	  endpoint	  (getCapabilities)	  (provide	  username	  &	  password)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (getCapabilities)	  (provide	  username	  &	  password)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  without	  KVP's	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  with	  WMS	  version	  mismatch	  (request	  version	  1.2)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  for	  non-­‐existing	  end-­‐point	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (service	  returns	  invalid	  XML)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (service	  returns	  valid	  XML,	  but	  containing	  invalid	  
capabilities)	  

Verify	  38	  layers	  

Retrieve	  map	  in	  area	  <>	  and	  make	  screenshot	  

Retrieve	  map	  in	  area	  <>	  (using	  different	  CRS)	  -­‐	  is	  the	  map	  reprojected?	  

Retrieve	  all	  layers	  in	  area	  <>	  and	  make	  screenshot	  

Retrieve	  all	  layer	  for	  entire	  UK	  and	  make	  screenshot	  

Retrieve	  only	  a	  number	  of	  selected	  layers	  -­‐	  can	  layers	  be	  individually	  selected	  and	  retrieved	  (unselected	  
layers	  are	  not	  retrieved)	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 24 

Retrieve	  multiple	  layers	  -­‐	  is	  transparency	  correctly	  visualized	  

Click	  on	  a	  feature	  on	  the	  map	  and	  retrieve	  feature	  info	  using	  GetFeatureInfo.	  	  

Make	  a	  screenshot	  how	  the	  Feature	  Information	  is	  displayed	  

Retrieve	  service	  capabilities	  using	  application	  from	  protected	  endpoint	  (Is	  user	  authentication	  supported	  
(OpenId,	  SAML2,	  Oauth)	  

  

Service	  Endpoint	  #2:	  http://ogc.bgs.ac.uk/cgi-­‐bin/BGS_Bedrock_and_Superficial_Geology/wms	  	  

	  

Verify	  x	  layers	  

Retrieve	  map	  in	  area	  <>	  and	  make	  screenshot	  

Retrieve	  map	  in	  area	  <>	  (using	  different	  CRS)	  -­‐	  is	  the	  map	  reprojected?	  

Retrieve	  all	  layers	  in	  area	  <>	  and	  make	  screenshot	  

Retrieve	  all	  layer	  for	  entire	  UK	  and	  make	  screenshot	  

Retrieve	  only	  a	  number	  of	  selected	  layers	  -­‐	  can	  layers	  be	  individually	  selected	  and	  retrieved	  (unselected	  
layers	  are	  not	  retrieved)	  

Retrieve	  multiple	  layers	  -­‐	  is	  transparency	  correctly	  visualized	  

Click	  on	  a	  feature	  on	  the	  map	  and	  retrieve	  feature	  info	  using	  GetFeatureInfo.	  	  

Make	  a	  screenshot	  how	  the	  Feature	  Information	  is	  displayed	  

 

For each of the above steps, the users were requested to indicate success or failure 
(elaborate on failure and indicate graceful exit), indication of response time and 
observations. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 25 

 

Illustration 4, BGS Bedrock using Envitia MapLink 

 

 

Illustration 5: WMS All Layers London (Cadcorp SIS Map Modeller) 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 26 

 

4.2.1.2.2 Outcomes 

Version issues (Sprint 1 only) 

"Expected: Open up Chrome and provide the following URL: 
http://betaosondemand.ordnancesurveyite.co.uk/ondemand/wms?REQUEST=GetCap
abilities&version=1.1.1. Get back WMT_MS_Capabilities version=""1.1.1"". 

http://betaosondemand.ordnancesurveyite.co.uk/ondemand/wms?REQUEST=GetCap
abilities&version=1.3.0. Get back WMS_Capabilities version=""1.3.0"". 

VERSION=1.2.0 => GetCaps for 1.1.1 returned, 

VERSION=1.10.0 => GetCaps for 1.3.0 returned 

Returns 1.3.0.  If less than 1.1.1 (e.g. 1.1.0)  returns 1.1.1 

Works without KVP and gives Version 1.3.0 

Actual: Seems to access 1.1.0 - may be appending this at the end as requesting this in 
Firefox without KVP gives back 1.3.0." 

"Findings: Any number <1.2 goes to 1.1.0, and number above 1.3 goes to 1.3. 

When requests were made for retrieving capabilities for differing versions e.g. 1.1.0, 
the service returned a capabilities document at version 1.1.1.   When requesting 
capabilities for an invalid version the service returned a capabilities document at 
1.3.0. 

Some services will return a ‘GetCapabilities’ response when the client omits to 
specify what request it is making.   

Graceful exit 

No un-graceful exists from applications were reported during Sprint 2. 

Transparency 

Transparency was correctly supported (portions of the bottom layers where visible, 
when added top most  layers with transparency) by all client applications.  

Performance 

No specific performance measurements were taking during Sprint 1 or Sprint 2. 
Merely an indication acceptable/ non-acceptable on the results sheets. During Sprint 
1 and Sprint 2, no specific performance issues were reported or signalled. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 27 

Feature implementation 

GetFeatureInfo not implemented by all applications. When it was implemented, it 
returned the correct attributes (using ‘Plugfest Bingo’) 

Observations (Sprint 1 feedback) 

Ideally WMS (and other OGC web services) would return appropriate HTTP status 
codes when an exception is returned. Currently a HTTP status code of 200 is returned 
when a service exception occurs. This approach does not work well with the wider 
web. We have had issues when caching tiled WMS data using HTTP caching 
software such as #### as by default responses with a HTTP response code of 200 are 
assumed to be successful and are hence cached. We do not want service exceptions to 
be cached so have had to do additional work to look at the MIME type of the 
response to know that they should not be cached. 

There is an issue with some client software ignoring 'layer limit' and subsequently 
brings in all layers. This could be important in bandwidth limited areas. The software 
can publish services compliant to our profile (using an external capabilities file), but 
cannot ingest in a totally compliant manner because of this. It is interesting the 
technicality of 'compliant' as far as publishing versus ingesting. Also, the potential to 
be compliant (based on changing xml files) versus 1-click compliance. 

Layer naming 

The layers were partitioned into a number of collections. The collections were 
unnamed. It might be worth considering whether or not the collections should be 
unnamed as depicted below. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 28 

 

Illustration 6, layer naming issue (Envitia MapLink) 

 

The individual layers had a very narrow display scale band. The capabilities do not 
advertise the min and max scale denominations. Therefore the client application could 
not determine the appropriate scales to display the layers. 

While it was possible to add all the layers in a single request, there were conflicts in 
display in the scales.  For instance, depending on the layer order, some of the products 
conflicted at particular scales.  This was especially true for the 1:10K scale products.  

Only IMA25 had GetFeatureInfo available.  It should be noted that the capabilities 
document had attribute entries of queryable=”false”. This is not compliant.  However, it 
was accepted by the application.   

Generally GetFeatureInfo is non-standardised. Some consideration should be given to 
best practice for return types and structures of GetFeatureInfo. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 29 

 

Illustration 7, BGS Hydrogeology (Envitia MapLink) 

 

Illustration 8, BGS Hydrogeology (Intergraph Geomedia) 

 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 30 

 

Illustration 9, London Topo (Snowflake) 

4.2.1.3 Scenario 3 

In Scenario 3, participants tested their implementations of the OGC WMTS standard in a 
variety of commercial and open source GIS software.  (Services had to be WMTS-
compliant.)  The goal of this use scenario was to understand the success rate of 
interoperability across the various GIS platforms. 

4.2.1.3.1 Test steps 

WMTS was run in Sprint 2 only – no WMTS was tested in Sprint 1. 

A very limited test plan was established for WMTS 

Connect	  to	  Ordnance	  Survey	  Network	  

Service	  Endpoint	  #1:	  
http://ondemandapi.ordnancesurveyite.co.uk/osmapapi/wmtsgc/P7UGF35T/GetCapabilities?SE
RVICE=WMTS&VERSION=1.0.0&REQUEST=GetCapabilities&URL=http://www.ogcplugfest.com	  
Does	  your	  application	  (officially)	  support	  version	  1.0	  

Indicate	  support	  for	  KVP,	  REST,	  SOAP	  

OS	  OnDemand	  WMTS	  uses	  an	  API	  Key/Referrer	  model	  of	  authentication	  -­‐	  as	  many	  GIS	  clients	  
assume	  a	  username/password	  model	  there	  may	  need	  to	  be	  some	  investigation	  of	  connection	  
functionality.	  

Layer	  count,	  name	  Layers,	  MatrixSet,	  LayerStyles,	  Identifiers,	  …	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 31 

Retrieve	  Tiles	  from	  osgb,	  Southampton	  

Zoom	  into	  Southampton	  

Is	  transparency	  supported?	  (if	  Tile	  has	  tranparency	  /	  alpha	  channel)	  

Retrieve	  Tiles	  from	  OS	  OpenData,	  Style:	  default	  TileMatrixSet	  "OS	  OpenData",	  Identifiers	  00,	  
01,…,10,	  Tile	  x,y.	  

What	  image	  encoding	  is	  supported	  by	  the	  client?	  

Click	  on	  a	  feature	  on	  the	  map	  and	  retrieve	  feature	  info	  using	  GetFeatureInfo	  (if	  supported	  by	  the	  
underlying	  WMS).	  	  

Make	  a	  screenshot	  how	  the	  Feature	  Information	  is	  displayed	  

Retrieve	  Legend	  image	  for	  the	  map	  

 

Service	  Endpoint	  #2	  (External):	  
http://datapoint.metoffice.gov.uk/public/data/inspire/view/wmts?REQUEST=GetCapabilities&k
ey=APIKEY	  

Access	  GetCapabilities	  

Connect	  and	  display	  available	  layers	  in	  Geospatial	  Portal	  

  

Service	  End-­‐Point	  3	  (External):	  	  
http://demo-­‐apollo.geospatial.intergraph.com/erdas-­‐iws/ogc/wmts	  

Display	  "bluemarble"	  layer	  

  

Service	  End-­‐Point	  4	  (External):	  
http://sampleserver6.arcgisonline.com/arcgis/rest/services/WorldTimeZones/MapServer/WMT
S/1.0.0/WMTSCapabilities.xml	  

Display	  layer	  "WorldTimeZones".	  

 

4.2.1.3.2 Outcomes 

Service	  end-­‐Point	  #1	  was	  protected	  by	  a	  “Referrer	  URL”	  –	  this	  caused	  confusion	  and	  
mixed	  results.	  Some	  application	  were	  able	  to	  get	  the	  capabilities	  document	  of	  the	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 32 

WMTS	  service.	  Some	  applications	  were	  not	  able	  to	  handle	  referrer	  URLs	  at	  all,	  resulting	  
in	  a	  service	  error	  indication.	  Some	  applications	  had	  a	  problem	  with	  the	  order	  of	  the	  
parameters	  (the	  location	  of	  the	  parameter	  in	  the	  URL	  key	  had	  an	  impact	  on	  the	  retrieval	  
of	  service	  information)	  and	  some	  applications	  needed	  the	  URL	  query	  string	  parameter	  
to	  be	  explicitly	  included.	  
	  
Scale	  denominators	  associated	  with	  the	  tile	  matrix	  sets	  are	  important	  when	  using	  
WMTS.	  The	  application	  understands	  the	  sparsely	  populated	  tilematrixsets	  and	  only	  
makes	  requests	  when	  the	  screen	  display	  is	  at	  the	  correct	  scale.	  Determining	  the	  actual	  
scale	  of	  the	  screen	  requires	  a	  good	  understanding	  of	  the	  physical	  capabilities	  of	  the	  
screen	  e.g.	  pixel	  size.	  	  In	  Windows	  environments,	  the	  rule	  of	  thumb	  is	  96dpi,	  however	  it	  
is	  better	  to	  query	  this	  than	  to	  assume	  it.	  	  Potentially	  WMTS	  should	  define	  the	  assumed	  
device	  pixel	  size	  in	  relation	  to	  the	  scale	  denominators	  
	  
Some	  application	  raised	  an	  issue,	  as	  the	  OS	  capabilities	  indicated	  floating	  point	  
MatrixWidth	  and	  MatrixHeight	  values	  as	  floating	  point,	  while	  the	  WMTS	  schema	  said	  
‘positiveInteger’.	  The	  application	  “hacked”	  the	  parsing	  value	  to	  make	  it	  work.	  	  
	  
When	  applications	  correctly	  received	  the	  referrer	  URL	  authentication,	  access	  to	  the	  tiles	  
was	  non	  trivial	  and	  limited	  tiles	  were	  returned.	  What	  the	  exact	  issue	  was	  could	  not	  be	  
determined	  during	  the	  execution	  of	  the	  test	  script	  and	  time	  was	  too	  limited	  to	  
investigate	  toughly.	  
	  
Service	  end-­‐Point	  #2	  was	  API-­‐key	  protected.	  An	  API-­‐key	  had	  to	  be	  requested	  by	  the	  
client	  –	  but	  no	  participants	  were	  able	  to	  obtain	  a	  key	  (2).	  One	  application	  was	  not	  able	  
to	  parse	  the	  capabilities	  document	  (and	  processing	  ended)	  and	  another	  application	  was	  
able	  to	  parse	  the	  capabilities	  document,	  but	  was	  unable	  to	  display	  layers	  in	  EPSG:27700	  
or	  EPSG:	  4326.	  

Service	  end-­‐Point	  #3	  was	  accessible,	  but	  not	  all	  applications	  were	  able	  to	  display	  tiles	  (1	  
application	  yielded	  an	  http	  500	  error	  –	  the	  application	  automatically	  appended	  the	  
version	  as	  part	  of	  the	  request,	  which	  caused	  the	  error)	   

Service	  end-­‐Point	  #4	  was	  accessible	  by	  all	  participating	  organisations	  (3)	  and	  displayed	  
the	  WorldTimeZones. 

4.2.1.4 Scenario 4 

In Scenario 4, web map services from UK GI organisations were combined to create a 
cascading WMS serving mapping data covering the whole of the UK.  Ordnance Survey 
added its OS OnDemand WMS to the cascading WMS.  The goal of this use case was to 
understand interoperability issues in cascading services that provide UK coverage, as 
well as the numbers of services that can be cascaded (i.e., performance, overhead on 
known and unknown server, etc.). 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 33 

4.2.1.4.1 Test steps 

In Sprint 2, this test plan was not executed, as Sprint 1 indicated that a Cascading WMS 
behaves absolutely the same a non-cascading WMS. From a client application point of 
view, there is no distinction between a cascading WMS and non-cascading WMS. 

4.2.1.4.2 Outcomes 

The outcomes of the test plan steps are identical to WMS. 

4.2.1.5 Scenario 5 

In Scenario 5, participants will test their implementations of the OGC WFS standard in a 
variety of commercial and open source GIS software.  (Services must be WFS-
compliant.)  The goal of this use case is to understand the success rate of interoperability 
across the various GIS platforms. 

4.2.1.5.1 Outcomes 

Connect	  to	  Ordnance	  Survey	  Network	  

What	  versions	  of	  WFS	  does	  the	  application	  (officially)	  support	  

Supported	  Encodings	  by	  the	  client?	  (KVP,	  XML,	  SOAP).	  Can	  the	  user	  select	  a	  preference?	  	  

Retrieve	  service	  capabilities	  using	  browser	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  without	  'GetCapabilities'	  

	  

Service	  Endpoint	  #1:	  http://ogc.bgs.ac.uk/digmap625k_gsml32_gs/wfs	  

	  

Count	  x	  layers	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 34 

Retrieve	  layer	  x	  in	  area	  y	  and	  make	  screenshot	  

Can	  the	  user	  see	  the	  Feature	  Description	  (from	  GetFeatureType)	  

Retrieve	  all	  layers	  in	  area	  y	  and	  make	  screenshot	  

Retrieve	  all	  layer	  for	  entire	  UK	  and	  make	  screenshot	  

Retrieve	  layers	  x	  in	  coordinate	  system	  x	  and	  make	  screenshot	  

Does	  the	  client	  support	  Transactional	  WFS?	  (Insert,	  Update,	  Delete)	  -­‐	  Is	  Locking	  supported?	  (at	  what	  
level?)	  

Retrieve	  service	  capabilities	  using	  browser	  from	  protected	  endpoint	  

 

Service	  Endpoint	  #2:	  http://www.snowflake-­‐
hydroview.com/proxy/activityregulation/2c7dc3634fcd6bfa6d93915dfd6a2096/?service=wfs&version=2.0
&request=GetCapabilities	  

	  

Layer	  count	  

Retrieve	  service	  capabilities	  using	  browser	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  without	  'GetCapabilities'	  

Count	  x	  layers	  

Retrieve	  layer	  x	  in	  area	  y	  and	  make	  screenshot	  

Can	  the	  user	  see	  the	  Feature	  Description	  (from	  GetFeatureType)	  

Retrieve	  all	  layers	  in	  area	  y	  and	  make	  screenshot	  

Retrieve	  all	  layer	  for	  entire	  UK	  and	  make	  screenshot	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 35 

Retrieve	  layers	  x	  in	  coordinate	  system	  x	  and	  make	  screenshot	  

 

Service	  Endpoint	  #3:	  
http://sedsh13.sedsh.gov.uk/ArcGIS/services/HS/Historic_Scotland/MapServer/WFSServer?service=WFS&
request=GetCapabilities&version=2.0	  

	  

Layer	  count	  

Retrieve	  service	  capabilities	  using	  browser	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  without	  'GetCapabilities'	  

Count	  x	  layers	  

Retrieve	  layer	  x	  in	  area	  y	  and	  make	  screenshot	  

Can	  the	  user	  see	  the	  Feature	  Description	  (from	  GetFeatureType)	  

Retrieve	  all	  layers	  in	  area	  y	  and	  make	  screenshot	  

Retrieve	  all	  layer	  for	  entire	  UK	  and	  make	  screenshot	  

Retrieve	  layers	  x	  in	  coordinate	  system	  x	  and	  make	  screenshot	  

 

Service	  Endpoint	  #4:	  
http://aws2.caris.com/sfs/services/ows/download/feature/UKHO_TS_DS?request=GetCapabilities&servic
e=WFS	  

	  

Layer	  count	  

Retrieve	  service	  capabilities	  using	  browser	  from	  endpoint	  (GetCapabilities)	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 36 

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  (GetCapabilities)	  

Retrieve	  service	  capabilities	  using	  client	  from	  endpoint	  without	  'GetCapabilities'	  

Count	  x	  layers	  

Retrieve	  layer	  x	  in	  area	  y	  and	  make	  screenshot	  

Can	  the	  user	  see	  the	  Feature	  Description	  (from	  GetFeatureType)	  

Retrieve	  all	  layers	  in	  area	  y	  and	  make	  screenshot	  

Retrieve	  all	  layer	  for	  entire	  UK	  and	  make	  screenshot	  

Retrieve	  layers	  x	  in	  coordinate	  system	  x	  and	  make	  screenshot	  

 

4.2.1.5.2 Outcomes 

The	  BGS	  service	  was	  difficult	  to	  test	  because	  of	  reliability	  issues	  (502	  error	  and	  the	  
service	  was	  overloaded	  after	  a	  full	  dataset	  retrieval	  (with	  a	  large	  BBOX	  or	  missing	  BBOX	  
(albeit	  BBOX	  is	  mandatory)));	  furthermore	  the	  BGS	  was	  a	  WFS	  2.0	  service.	  Applications	  
that	  did	  manage	  to	  get	  past	  the	  initial	  handshaking	  of	  GetCapabilities	  (V1.0.0	  client	  (only	  
Simple	  Feature	  Capable)	  to	  V2	  WFS	  (with	  Complex	  Feature),	  client	  support	  for	  WFS	  2.0.0	  
is	  behind)	  were	  unable	  to	  get	  access	  to	  layers	  or	  to	  display	  features.	  	  
	  
The	  server	  reported	  failing	  to	  map	  ComplexFeatureType	  to	  SimpleFeatureType	  when	  a	  
WFS	  v1.0.0	  request	  was	  made	  to	  get	  a	  complex	  feature.	  This	  is	  because	  complex	  
features	  cannot	  be	  encoded	  in	  the	  GML2	  format,	  which	  is	  the	  default	  for	  WFS	  v1.0.0	  
responses.	  The	  GeoServer	  software	  does	  allow	  retrieval	  of	  the	  features	  if	  GML3	  is	  
specified	  as	  the	  outputFormat	  which	  is	  a	  vendor	  specific	  additional	  format	  listed	  in	  the	  
capabilities.	  Listing	  a	  (complex)	  feature	  in	  the	  v1.0.0	  GetCapabilities	  response	  which	  
cannot	  actually	  be	  returned	  in	  the	  default	  GML2	  format	  is	  probably	  not	  standards	  
compliant	  but	  it	  does	  allow	  a	  workaround	  of	  including	  outputFormat=GML3	  in	  the	  base	  
service	  URL	  which	  can	  be	  used	  with	  some	  v1.0.0	  clients	  to	  retrieve	  the	  features.	  
(Whether	  this	  is	  helpful	  or	  confusing	  is	  debatable.)	  The	  QGIS	  WFS	  2.0	  Plugins	  was	  able	  to	  
display	  the	  polygons	  only.	  
	  
The	  Snowflake	  WFS	  also	  reported	  schema	  validation	  errors	  (e.g.	  ’non-­‐whitespace	  
characters	  are	  not	  allowed	  in	  schema	  declarations	  other	  than	  appinfo	  and	  
documentation	  (the	  URL	  provided	  by	  the	  server	  to	  the	  xsd	  is	  wrong)	  ’	  ).	  	  	  
	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 37 

Applications	  reported	  that	  the	  BBOX	  parameters	  must	  be	  included	  to	  avoid	  reading	  all	  
features	  from	  the	  layer	  (see	  also	  service	  reliability	  at	  the	  start	  of	  the	  paragraph).	  	  
	  
In	  order	  to	  continue	  testing,	  we	  took	  2	  WFS	  services	  from	  data.gov.uk	  –	  one	  serving	  
Historic	  Scotland,	  the	  other	  serving	  UKHO	  information.	  Plugfest	  bingo	  on	  both	  services	  
reported	  consistent	  numbers.	  
	  

 
Illustration 10, Historical Scotland (MapGuide) 

	  
We	  also	  tried	  WFS	  reference	  site	  implementations	  
(http://cite.opengeospatial.org/reference),	  but	  some	  of	  the	  links	  were	  broken.	  This	  was	  
reported	  to	  the	  OGC	  CITE	  team.	  
	  
When	  complex	  schemas	  (like	  GeoSciML)	  were	  served	  to	  a	  WFS	  client	  that	  was	  not	  
designed	  to	  accept	  a	  complex	  schema,	  no	  clients	  crashed	  but	  showed	  the	  feature	  
attributes	  without	  interpreting	  them.	  
	  
	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 38 

5 Summary of Recommendations and conclusion 

GML 

Not all organizations participated in this scenario. Reading GML files is not 100% 
widespread 

The organizations that participated in this scenario did not report any severe 
difficulties or problems. Since the fact that the GML specification is very broad and 
is perceived as a complex standard, more issues were expected. (The Geometry Type 
being wrongly represented in the UI did not cause any computational and 
misrepresentation in the map) 

Recommendation: The OS GML files (Simple Features level 0) used during Sprint 1 
and Sprint 2 can be used in an operational environment. 

Ordnance Survey prepared a questionnaire for Sprint 2 to investigate support for 
GML beyond SF-0. The questionnaire is at Annex A. It was not practical to complete 
this questionnaire during the Sprint; Ordnance Survey is interested in taking  this 
discussion forward, and would welcome any responses. 

WMS 

All organizations participated in this scenario. All applications were able to execute 
the scenario without difficulties and the queries resulted in the expected images from 
the services. Some minor non-blocking observations with WMS version number, 
when the number provide is not the returned version (will take this up with the WMS 
SWG). 

Not all client applications implement GetFeatureInfo. If this feature would be more 
widely implemented, it would benefit overall interoperability and increase a uniform 
user experience. 

Recommendation: raise awareness of ‘GetFeatureInfo’ with the organisations that 
build client software  

Performance of OS services was immediate or sub-second for the requested queries 
in the scenario and is according to market expectations.  

The various client software dealt with unexpected behaviour from the server by 
showing the error that was returned from the server (no software crashed or showed 
an internal message or stack trace). The messages from the server are however not 
very end user-friendly (subject to further investigation in Sprint 2) 

Recommendation: investigate with WMS SWG and software makers how to increase 
user feedback. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 39 

Sprint 1 demonstrated good results and it was deemed unnecessary to dive any 
deeper in Sprint 2. 

 

 

WMTS 

Service End-Point protection using referrer URL’s did not work (referrer URL’s are 
not part of the WMTS specification). 

API key protected site worked, but acquiring an API key was problematic, due to a 
BGS back-office problem. 

Recommendation: Adding security to in the service URL (either using the referrer 
URL or using API key) adds to the risk of service unavailability. Alternatives should 
be investigated. 

All WMTS clients had difficulties showing tiles - it was unclear where in the service 
capabilities document the issues were. Further investigation (on the service side) is 
needed to determine why titles did not show up. 

Recommendation: WMTS instances as serviced during the Plugfest were immature 
and not ready for operational deployment. 

WMTS Client implementation did not give a clear explanation why tiles could not be 
visualized. 

Recommendation: WMTS clients need to provide better user feedback as to why tiles 
cannot be visualized at specified zoom/scales levels 

WMS-Cascading 

Comments identical to WMS. 

Observation: Cascading had no effect on the WMS behaviour from a client software 
perspective. 

Recommendation: Using a Cascading WMS in an operational environment is likely 
not to cause any issues and give the OS the opportunity to add, update and remove 
layers at runtime, depending on customer requirements and needs.  

WFS 

Initial WFS services used during the Plugfest were not industrial strength and did not 
represent operational services. The WFS exposed through data.gov.uk  (Historic 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 40 

Scotland and UKHO) worked fine. There was limited client support for WFS v2.0.0. 
Generic WFS clients have a limited ability to display properties of complex features. 

Conclusions 

The Plugfest demonstrated that GML and WMS (including WMS in a cascading 
configuration) are very mature and can be deployed in an operational environment. 

WMTS service implementations needs further attention and should be better checked 
before using them in a Plugfest. It was hard to test he client against the service and give 
an indication of maturity.  

Service protection through referrer URL’s (most client did not support this) and API keys 
(insatiability of back-office issuing the keys) adds to the unavailability of WFS services. 
Alternative techniques must be investigated or better client support for referrer URL must 
be encouraged. 

Future Plugfests should focus on WFS and especially WMTS (which is getting a lot of 
traction and is a viable alternative to WMS when fast response times are required) and 
service security implementations. 

All participants to the Plugfest, “in-room” participants and online participants should use 
the virtual meeting chat functionality to log activities, errors and observations. The chat 
log is to be used to record errors, observations, comments, etc in the ER. 

 

 

  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 41 

Annex A 
 

GML 

6 Sprint 1 and Sprint 2 GML 

During Sprint 1, we demonstrated that the software could read the GML, which adhered 
to GML 3.2 Simple Features Profile level 0. Even within that specification, there are a 
number of design choices, the idea here is to probe support for the options, and look at 
the different user experience that data design choices provide. 

For the Ordnance Survey, this will be a valuable steer to our future data design. We hope 
to have the opportunity to introduce the output into the INSPIRE Maintenance & 
Implementation Framework, as a steer for simplifying some of their schemas and 
specifications. 

The questions below in the text were asked during Sprint 2 and the answered were 
collated by the OS. 

6.1 Simple Features Profile in general (level 0) 

6.1.1 Geometry / spatial property types 

GML Simple Features, following OGC Simple Feature Access, constrains the geometry 
types to Point, Curve (LineString), Surface (Polygon), ‘Geometry’, MultiPoint, 
MultiCurve, MultiSurface, MultiGeometry. 

During sprint 1, we noticed that one software raised a warning when presented with a 
MultiGeometry, but then successfully displayed the LineStrings that delimited the 
surface. 

Question : which geometry types are supported? What is the user experience with each 
geometry? 

See Table 6 in GML SF 

GML property 
type 

Values  OS Sample data 

PointPropertyType Point  OS Terrain Spot heights; 
VMD SpotHeight, 
NamedPlace 

CurvePropertyType LineString Linear 
interpolation 

VMD 
ElectricityTransmission



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 42 

Line 

 Curve with 
LineStringSegme
nt 

Linear 
interpolation 

- 

 Arc Non-linear 
interpolation 

- 

 Circle  - 

 CircleByCenterPo
int 

 - 

SurfacePropertyTyp
e 

Polygon Co-planar vertices - 

 Surface with 
PolygonPatch 
patches 

 VMD Ornament; 
FunctionalSite 

  Boundaries:  

  LinearRing FunctionalSite etc 

  Ring with single 
Curve with 
LineStringSegme
nt 

- 

  … Arc segment - 

  … Circle segment - 

  … 
CircleByCenterPo
int segment 

- 

GeometryPropertyT
ype 

Point  - 

 LineString  - 

 Curve  - 

 Polygon  - 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 43 

 Surface  - 

 MultiPoint  - 

 MultiCurve  - 

 MultiSurface  - 

 

Question: what does the software do with a feature that has a GeometryPropertyType, in 
particular if different instances of that feature have geometries of different types e.g. 
Point, LineString, Surface? 

Question: in a 2D coordinate space, is there any difference in user experience, or software 
performance, between a Polygon and a Surface with a single PolygonPatch? 

Note: GML SF allows non-linear interpolation, explicitly gml:Arc, gml:Circle, 
gml:CircleByCenterPoint 

Question: Are the geometry types restricted to those in OGC Simple Feature Access? 

Note: Ordnance Survey does not have any known requirement for non-linear 
interpolation, so is unable to make test data available to exercise this point. 

6.1.2 Coordinate space 

OGC simple geometry coordinates can be in 2D or 3D space. 

Note: Although otherwise the same, ISO 19125 Simple features are constrained to 2-
dimensional coordinate space. 

Question: given data with coordinates in a 3D space, what ‘3D’ functionality is available 
to the user? 

Test data: OS MasterMap Networks – Water Layer 

6.1.3 Spatial reference system 

GML SF allows the srsName to be specified once, on the gml:BoundedBy property of the 
feature collection, on the gml:boundedBy of each feature instance, or on each geometry 
object. It recommends that the srsName be specified at the highest possible level. 

Question: how does the software behave with this SF best practice, the srsName 
appearing only on the bounding box of the feature collection? Is it better to explicitly 
state it on each geometry? 

GML SF also allows geometry objects in different coordinate systems within the same 
feature collection. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 44 

Question: how does the software behave if it encounters geometry objects in different 
coordinate systems? Does it make a difference if different feature types use different 
systems, but they are consistent within the type? (e.g. 2D contours and 3D rivers?) 

6.1.3.1 Referencing the srsName 

Does the software accept references in URN form, e.g. urn:ogc:def:crs:EPSG::27700 ? 
(as given in examples in the GML 3.2.1 spec) 

Does the software accept references in URL form, e.g. 
http://www.opengis.net/def/crs/EPSG/0/27700 ? ( as given in examples in the GML 3.3 
spec) 

Does the software accept references in short ‘well known’ forms e.g. ‘EPSG::27700’, 
‘BNG’, ‘ETRS89-LAEA’ (as specified in INSPIRE CRS Guidance)?  

6.1.3.2 Recognising spatial reference systems 

In Sprint 1, we demonstrated that the software recognises 
http://www.opengis.net/def/crs/EPSG/0/27700 as British National Grid. 

Question: Which of the following other spatial reference systems does the software 
recognise:  

INSPIRE CRS Specification: 

 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 45 

UK Location CRS guidance:  

 

http://www.opengis.net/def/crs/EPSG/0/4258 2D ETRS 89 

http://www.opengis.net/def/crs/EPSG/0/4326   2d WGS84 

http://www.opengis.net/def/crs/EPSG/0/27700 OSGB 1936 / British National Grid 

http://www.opengis.net/def/crs/EPSG/0/29903 TM 75 / Irish Grid 

http://www.opengis.net/def/crs/EPSG/0/2157 ETRS89 / Irish Transverse Mercator 

http://www.opengis.net/def/crs/EPSG/0/3035  

 

ETRS89 Lambert Azimuthal Equal Area 
(ETRS89-LAEA) projection 

 
urn:ogc:def:crs:EPSG::7405 – compound (3D) reference system of British National Grid and 
Newlyn Datum (Sample data: Water network) 
 
Question: does it help to include either or both of srsDimension and count, e.g. in each 
posList? 

6.1.4 Schema design 

A GML application schema can declare the SF level to which it complies. It can also 
import other GML application schemas. There is nothing explicit about whether the 
imported schemas need to be ‘simple’. 

Question: if a GML application schema declares itself to be, say, SF-0, and then imports 
a schema that doesn’t specify conformance to any simple features level, what does the 
software do? 

Personal note: if/when I create a schema like this, I would intend it to mean that all my 
data instances will be simple, even if the generic schema doesn’t require them to be. 

6.1.5 Measures 

Simple Features allows properties to use gml:MeasureType, which is an extension of 
xs:double. It does not discuss subtypes of MeasureType, such as gml:LengthType 

Question: assuming properties can have a value that is a measure, what is the user 
experience of the ‘uom’ attribute? 

The GML 3.2.1 examples include  

<height uom=”m">1.4224</height>  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 46 

<height uom=”http://www.equestrian.org/units/hands">14</height> 

Question: does it matter what form the uom attribute takes – ‘well known’ symbol or 
URI? 

Question: how would an instance with uom=’unknown’ be handled (this is explicitly 
allowed in SF) 

Sample data: OS Terrain SpotHeight.propertyValue is a measure (uom=’m’); VMD 
SpotHeight.height is a simple number. No OS sample at present with URLs 

Question: is it acceptable to use a more specalised type in the application schema, such as 
gml:LengthType? (The instance data would look the same) 

6.1.6 Code lists and dictionaries 

GML SF allows elements with string content from a code list, where an instance looks 
like: 

<os:functionTheme 
codeSpace="http://www.ordnancesurvey.co.uk/xml/codelists/sitethemes.xml
">Education</os:functionTheme 

GML SF also allows ‘elements that reference other resources’. GML 3.3 deprecates the 
code list and states that all references to external dictionaries shall use the reference 
pattern. 

<water:reasonForChange 
xlink:href="http://www.ordnancesurvey.co.uk/xml/codelists/reasonforchan
ge.xml#new" xlink:title="new"/> 

Sample data: Sites uses code lists; Water uses a mix (external dictionary, except where 
inherited from INSPIRE Hydrography, which uses code list). 

Question: what difference does it make to the user experience? What use can a user make 
of the codeSpace and/or xlink:href URLs? The xlink:title? 

6.2 Simple Features Profile compliance level 1 

In general, software did not claim to support SF-1, but some of the software allowed the 
user to access data within user defined types.  

Question: which aspects of SF-1 would be difficult to support? 

6.2.1 User defined property types 

Question: What is the user experience if a data instance contains a complex type? 

Sample data: INSPIRE Address sample; new gazetteer? 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 47 

6.2.2 Use of nillable and xsi:nil 

Test data: although it doesn’t explicitly use xs:nillable in the schema (except if inherited 
from INSPIRE?), the water network does sometimes have data instances that use xsi:nil, 
and nilReason. 

6.2.3 Maximum multiplicity > 1 

Question: what is the user experience if a data instance contains a repeated XML 
element, representing more than one instance of the property? 

6.3 Aspects of GML 3.3 

GML3.3 introduces a number of optional additional clauses that can be used in 
conjunction with GML3.2. 

Overall Question: which of the GML 3.3 clauses are already supported in the software? 
Which would be difficult to support? 

6.3.1 LanguageStringType 

This is exactly the same as LanguageStringType described in GML SF (except that the 
GML SF definition has the xml:lang explicitly optional). GML SF requires it to be added 
to the application schema (which therefore has to import the W3C xml.xsd). 

Question: does the software behave the same if the application schema imports 
LanguageStringType from GML 3.3, which results in any localisable strings being in a 
different namespace? 

6.3.2 Dictionaries as gml:ReferenceType 

See 6.1.6 above 

6.3.3 Reference data 

During Sprint 1, the following simple Ordnance Survey products were tested, along with 
OS Terrain grid (which is not simple, as it imports a grid file for its geometry): 

6.3.3.1 OS VectorMap District  

VMD claims to be SF-0, but actually mistakenly defines its Feature Collection to 
substitute for gml:AbstractFeature (rather than gml:AbstractGML). This would not be 
apparent when looking at the data. That is, we could change the VMD schema to be 
properly conformant, and the data would still be valid. 

Also, several feature types have properties that take a user defined type: 

• Roundabout.classification:	  RoadClassificationValueType	  
• TidalBoundary.classifciation:	  TidalBoundaryClassificationValueType	  



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 48 

• AdministrativeBoundary.classification:AdministrativeBoundaryClassificationValueType	  
• RailwayTrack.classification:RailwayTrackClassificationValueType	  
• RailwayStation.classification:RailwayStationClassificationValueType	  
• PublicAmenity.classification:	  PublicAmenity	  ClassificationValueType	  

In each case, the user defined type is a restriction of string to an enumerated set of values; 
so the instance data will look simple. 

Instance geometries are Point, LineString, Surface with a single PolygonPatch which has 
an exterior and 0..* interiors, each of which is a LinearRing. 

6.3.3.2 OS Terrain 5, OS Terrain 50 vector 

Declares SF-0, but as with VMD defines its feature collection (DataSet) to substitute for 
gml:AbstractFeature. The DataSet contains several elements that are undefined 
(metadata, nominalScale, elevationReference, equidistance) 

The string values that are controlled enumerations do so by means of a globally defined 
simple type (e.g. WaterLevelValueType). 

The propertyValue properties on each feature type are of gml:LengthType (a subtype of 
Measure) – this is not explicitly allowed in GML SF 

None of these issues impact the GML instance data; that is the schema could be changed 
to conform more accurately to SF without needing to change the data. It would then be 
further from the INSPIRE schema on which it was based. 

Instance geometries are Point and LineString 

6.3.3.3 OS MasterMap Sites Layer 

Claims to be SF-0, but again mistakenly defines its Feature Collection to substitute for 
gml:AbstractFeature. 

Includes several user defined types: 

• ReasonForChangeValueType	  
• AccessTypeValueType	  
• AccessMechanismValueType	  
• AccessDirectionValueType	  
• AccessUseRestrictionValueType	  
• NaturOfAccessValueType	  

In each case, the user defined type is a restriction of string to an enumerated set of values; 
so the instance data will look simple. 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 49 

The schema also includes ‘PropertyType’ for each feature type, allowing ‘by reference’ 
containment (gml:AssociationAttributeGroup, gml:OwnershipAttributeGroup). This isn’t 
explicitly mentioned in SF, either to allow or deny. Also it is not used for the 
relationships between the features – explicit attributes carry the TOID of the target as a 
string. 

Instance geometries are Point; Surface, with one or more PolygonPatches, which may 
include holes; MultiSurface, within which each Surface is as above 



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 50 

Annex B 
 

UML 

7 OS Terrain: Coverages 

 

class Cov erages

«featureType»
Elev ationGridCov erage

+ interpolationType  :CV_InterpolationMethod = bil inear
+ propertyType  :ElevationPropertyTypeValue = height
+ surfaceType  :SurfaceTypeValue = DTM

«featureType»
gml:RectifiedGridCoverage

+ rectifiedGridDomain  :gml:RectifiedGrid
+ rangeSet  :gml:File

«enumeration»
CV_InterpolationMethod

 bil inear

«enumeration»
Elev ationPropertyTypeValue

 height
 depth

«enumerati...
SurfaceTypeValue

 DTM
 DSM

Exactly	  1	  in	  a	  Grid	  
data	  set



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 51 

7.1 OS Terrain: Vector Elements 

 

class Vector Elements

«featureType»
ContourLine

+ geometry  :GM_LineString
+ propertyValue  :Distance
+ contourLineType  :ContourTypeValue

«enumeration»
ContourTypeValue

 master
 ordinary
 auxiliary

«featureType»
SpotHeight

+ geometry  :GM_Point
+ propertyValue  :Distance
+ spotHeightType  :SpotHeightTypeValue = generic

«enumeration»
SpotHeightTypeValue

 formSpot
 generic
 mountainPass
 summit

«enumeration»
WaterLev elValue

 meanHighWater
 meanLowWater
 meanHighWaterSprings
 meanLowWaterSprings

«featureType»
LandWaterBoundary

+ geometry  :GM_LineString
+ propertyValue  :Distance
+ waterLevelCategory  :WaterLevelValue

«featureType»
OS Terrain::DataSet

+ metadata
+ nominalScale  :Integer
+ elevationReference
+ equidistance  :Distance [0..1]

+member 0..* +member 0..* +member 0..*



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 52 

7.2 OS MasterMap Site Layer 

 

class Product - Functional Sites

«featureType»
FunctionalSite

+ geometry  :GM_Object
+ toid  :CharacterString
+ version  :Integer
+ versionDate  :Date
+ reasonForChange  :ReasonForChangeValue
+ functionStatus  :FunctionStatusValue
+ functionTheme  :FunctionThemeValue
+ function  :FunctionValue
+ perimeter  :Length
+ area  :Real
+ distinctiveName1  :CharacterString [0..1]
+ distinctiveName2  :CharacterString [0..1]
+ distinctiveName3  :CharacterString [0..1]
+ distinctiveName4  :CharacterString [0..1]
+ primaryAddressBaseUPRN  :Integer [0..1]
+ stakeholder1  :CharacterString [0..1]
+ stakeholder2  :CharacterString [0..1]
+ stakeholder1Role  :StakeholderRoleValue [0..1]
+ stakeholder2Role  :StakeholderRoleValue [0..1]
+ extentDefinition  :ExtentDefinitionValue

«featureType»
AccessPoint

+ geometry  :GM_Point
+ toid  :CharacterString
+ version  :Integer
+ versionDate  :Date
+ reasonForChange  :ReasonForChangeValue
+ refToFunctionalSite  :CharacterString
+ accessType  :AccessTypeValue
+ accessMechanism  :AccessMechanismValue [0..1]
+ accessDirection  :AccessDirectionValue [0..1]
+ accessUseRestriction  :AccessUseRestrictionValue [0..1]
+ refToRoutingPoint  :CharacterString [0..1]
+ refToITNRoadNode  :CharacterString [0..1]
+ itnRoadNodeVersionDate  :Date [0..1]
+ dateTimeQualifier  :Real [0..1]
+ heightQualifier  :Distance [0..1]
+ widthQualifier  :Distance [0..1]
+ weightQualifier  :Real [0..1]
+ lengthQualifier  :Distance [0..1]
+ natureOfAccess  :NatureOfAccessValue

«featureType»
RoutingPoint

+ geometry  :GM_Point
+ toid  :CharacterString
+ version  :Integer
+ versionDate  :Date
+ reasonForChange  :ReasonForChangeValue
+ refToITNRoadLink  :CharacterString
+ itnRoadLinkVersionDate  :Date
+ startDistance  :Length

«codeList»
FunctionStatusValue

+ Operational
+ Out of Service

«dictionary»
FunctionThemeValue

+ Air Transport
+ Education
+ Medical Care
+ Rail Transport
+ Road Transport
+ Water Transport
+ Util ity or Industrial

«codeList»
StakeholderRoleValue

+ Administered By
+ Owner Of
+ Principal User Of
+ Religious Interest In

«codeList»
AccessTypeValue

+ Cycles
+ Horse Drawn Vehicles
+ Mopeds
+ Motorcycles
+ Motor Vehicles
+ Pedestrian
+ Ridden or Accompanied Horses
+ Undefined

«codeList»
AccessUseRestrictionValue

+ Disabled
+ Emergency Access
+ Guests
+ Official Business
+ Patrons
+ Residents
+ Through Traffic

«codeList»
AccessMechanismValue

+ Appointment
+ Official Pass
+ Pay and Display
+ Pay on Foot
+ Payment
+ Valid Ticket

«codeList»
ReasonForChangeValue

+ New
+ Modified
+ Reclassified
+ Attributes
+ Position
+ Software

«dictionary»
FunctionValue

+ Airfield
+ Airport
+ Helicopter Station
+ Heliport
+ Non State Primary Education
+ Non State Secondary Education
+ Special Needs Education
+ Primary Education
+ Secondary Education
+ Further Education
+ Higher or University Education
+ Hospice
+ Hospital
+ Medical Care Accommodation
+ Railway Station
+ Vehicular Rail Terminal
+ Vehicular Ferry Terminal
+ Passenger Ferry Terminal
+ Port Consisting of Docks and Nautical Berthing
+ Bus Station
+ Coach Station
+ Road User Services
+ Chemical Works
+ Electricity Distribution
+ Electricity Production
+ Gas Distribution or Storage
+ Oil Distribution or Storage
+ Oil Refining
+ Oil Terminal

«codeList»
NatureOfAccessValue

+ Door
+ Gate
+ Manned Barrier
+ Monitored Rising Barrier
+ Monitored Rising Bollards
+ Moveable Barrier
+ Opening
+ Revolving Door
+ Rising Barrier
+ Rising Bollards
+ Shutter
+ Steps
+ Turnstile
+ Unknown

«codeList»
AccessDirectionValue

+ In
+ Out
+ In and Out

«codeList»
ExtentDefinitionValue

+ Fully Defined
+ Partially Defined
+ Undefined

+toid

1..*

+refToFunctionalSite

1

+toid

0..1
{No ITN Node within tolerance}

+refToRoutingPoint

1



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 53 

7.3 OS VectorMap District 

class Administrativ e Boundaries

«codeList»
BoundaryType

+ National
+ Parish Or Community
+ District Or London Borough
+ County Or Region Or Island

VectorMapDistrictFeature

«featureType»
Administrativ eBoundary

+ geometry  :GM_LineString
+ classification  :BoundaryType
::VectorMapDistrictFeature
+ featureCode  :Integer

class Buildings & Structures

VectorMapDistrictFeature

«featureType»
HeritageSite

+ geometry  :GM_Point
+ name  :CharacterString
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
Glasshouse

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
ElectricityTransmissionLine

+ geometry  :GM_LineString
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
Building

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
Ornament

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer



OGC® Engineering Report OGC 14-057 

 

Copyright © 2015 Open Geospatial Consortium. 54 

 

 

 

class Hydrology

VectorMapDistrictFeature

«featureType»
SurfaceWater_Area

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
SurfaceWater_Line

+ geometry  :GM_LineString
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
TidalBoundary

+ geometry  :GM_LineString
+ classification  :WaterLevelType
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
TidalWater

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

«enumeration»
WaterLev elType

 High Water Mark
 Low Water Mark

class Land Cov er

VectorMapDistrictFeature

«featureType»
Foreshore

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
Land

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

VectorMapDistrictFeature

«featureType»
Woodland

+ geometry  :GM_Polygon
::VectorMapDistrictFeature
+ featureCode  :Integer

class Land Use

VectorMapDistrictFeature

«featureType»
PublicAmenity

+ geometry  :GM_Point
+ classification  :PublicAmenityType
::VectorMapDistrictFeature
+ featureCode  :Integer

«codeList»
PublicAmenityType

+ Education Facil ity
+ Place Of Worship
+ Leisure Or Sports Centre
+ Police Station
+ Hospital

class Terrain

VectorMapDistrictFeature

«featureType»
SpotHeight

+ geometry  :GM_Point
+ height  :Measure
::VectorMapDistrictFeature
+ featureCode  :Integer

class Named Places

VectorMapDistrictFeature

«featureType»
NamedPlace

+ geometry  :GM_Point
+ name  :CharacterString
+ fontColour  :Integer
+ textOrientation  :Measure
+ fontHeight  :Measure
+ fontType  :Integer
::VectorMapDistrictFeature
+ featureCode  :Integer


