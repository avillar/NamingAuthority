
  
 

 

Open Geospatial Consortium, Inc. 

Date: 2009-07-20 

Reference number of this document: OGC 09-037r1 

Version: 0.3.0 

Category: Engineering Report  

Editor: Clemens Portele 

OGC
®
 OWS-6 UTDS-CityGML Implementation Profile 

 

 

Copyright © 2009 Open Geospatial Consortium, Inc. 

To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

 

Warning 

This document is not an OGC Standard. This document is an OGC Public 

Engineering Report created as a deliverable in an OGC Interoperability Initiative 

and is not an official position of the OGC membership. It is distributed for review 

and comment. It is subject to change without notice and may not be referred to as 

an OGC Standard. Further, any OGC Engineering Report should not be referenced 

as required or mandatory technology in procurements. 

Document type:  OpenGIS
® 

Public Engineering Report 

Document subtype: NA 

Document stage:  Approved for public release 

Document language:  English 

http://www.opengeospatial.org/legal/


OGC 09-037r1 

ii Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Preface 

Suggested additions, changes, and comments on this draft report are welcome and 

encouraged. Such suggestions may be submitted by email message or by making 

suggested changes in an edited copy of this document. 

The changes made in this document version, relative to the previous version, are tracked 

by Microsoft Word, and can be viewed if desired. If you choose to submit suggested 

changes by editing this document, please first accept all the current changes, and then 

make your suggested changes with change tracking on. 

Forward 

Attention is drawn to the possibility that some of the elements of this document may be 

the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held 

responsible for identifying any or all such patent rights. 

Recipients of this document are requested to submit, with their comments, notification of 

any relevant patent claims or other intellectual property rights of which they may be 

aware that might be infringed by any implementation of the standard set forth in this 

document, and to provide supporting documentation. 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. iii 
 

OWS-6 Testbed 

OWS testbeds are part of OGC's Interoperability Program, a global, hands-on and 

collaborative prototyping program designed to rapidly develop, test and deliver 

Engineering Reports and Chnage Requests into the OGC Specification Program, where 

they are formalized for public release. In OGC's Interoperability Initiatives, international 

teams of technology providers work together to solve specific geoprocessing 

interoperability problems posed by the Initiative's sponsoring organizations. OGC 

Interoperability Initiatives include test beds, pilot projects, interoperability experiments 

and interoperability support services - all designed to encourage rapid development, 

testing, validation and adoption of OGC standards. 

In April 2008, the OGC issued a call for sponsors for an OGC Web Services, Phase 6 

(OWS-6) Testbed activity. The activity completed in June 2009. There is a series of on-

line demonstrations available here: 

http://www.opengeospatial.org/pub/www/ows6/index.html 

The OWS-6 sponsors are organizations seeking open standards for their interoperability 

requirements. After analyzing their requirements, the OGC Interoperability Team 

recommended to the sponsors that the content of the OWS-6 initiative be organized 

around the following threads: 

1. Sensor Web Enablement (SWE) 

2. Geo Processing Workflow (GPW) 

3. Aeronautical Information Management (AIM) 

4. Decision Support Services (DSS) 

5. Compliance Testing (CITE) 

The OWS-6 sponsoring organizations were: 

 U.S. National Geospatial-Intelligence Agency (NGA) 

 Joint Program Executive Office for Chemical and Biological Defense (JPEO-

CBD) 

 GeoConnections - Natural Resources Canada 

 U.S. Federal Aviation Agency (FAA) 

 EUROCONTROL 

 EADS Defence and Communications Systems 

 US Geological Survey  

 Lockheed Martin 



OGC 09-037r1 

iv Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 BAE Systems 

 ERDAS, Inc. 

 

The OWS-6 participating organizations were: 

52North, AM Consult, Carbon Project, Charles Roswell, Compusult, con terra, 

CubeWerx, ESRI, FedEx, Galdos, Geomatys, GIS.FCU, Taiwan, GMU CSISS, Hitachi 

Ltd., Hitachi Advanced Systems Corp, Hitachi Software Engineering Co., Ltd., iGSI, 

GmbH, interactive instruments, lat/lon, GmbH, LISAsoft, Luciad, Lufthansa, NOAA 

MDL, Northrop Grumman TASC, OSS Nokalva, PCAvionics, Snowflake, Spot 

Image/ESA/Spacebel, STFC, UK, UAB CREAF, Univ Bonn Karto, Univ Bonn IGG, 

Univ Bunderswehr, Univ Muenster IfGI, Vightel, Yumetech. 

 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. v 
 

Contents Page 

1 Introduction ....................................................................................................................1 
1.1 Scope ........................................................................................................................1 
1.2 Document contributor contact points .......................................................................1 
1.3 Revision history .......................................................................................................1 
1.4 Future work ..............................................................................................................2 

2 References ......................................................................................................................2 

3 Terms and definitions ....................................................................................................2 

4 Conventions ...................................................................................................................2 
4.1 Abbreviated terms ....................................................................................................2 
4.2 UML notation...........................................................................................................3 

5 Overview and general approach .....................................................................................4 

6 ISO 19109 application schema in UML ........................................................................7 
6.1 Overview and feature types .....................................................................................7 
6.2 Code lists ................................................................................................................13 

7 XML Schema with CityGML ADE .............................................................................27 

8 Mapping .......................................................................................................................27 
8.1 General remarks .....................................................................................................27 
8.2 For all Feature Types .............................................................................................28 
8.3 Buildings ................................................................................................................28 

8.3.1 AIRCRAFT_HANGAR_S ..............................................................................28 
8.3.2 BUILDING_S ..................................................................................................29 
8.3.3 BUILDING_P ..................................................................................................30 
8.3.4 CONTROL_TOWER_P ..................................................................................30 
8.3.5 TOWER_P .......................................................................................................31 
8.3.6 FUEL_STORAGE_FACILITY_S ...................................................................32 
8.3.7 STORAGE_TANK_S ......................................................................................33 
8.3.8 SURFACE_BUNKER_S .................................................................................33 

8.4 Transportation ........................................................................................................34 
8.4.1 APRON_S ........................................................................................................34 
8.4.2 ROAD_C..........................................................................................................34 
8.4.3 RUNWAY_S ...................................................................................................35 
8.4.4 STOPWAY_S ..................................................................................................35 
8.4.5 TAXIWAY_S ..................................................................................................35 

8.5 City Furniture .........................................................................................................36 
8.5.1 FENCE_C ........................................................................................................36 
8.5.2 GATE_P ...........................................................................................................36 
8.5.3 LIGHT_SUPPORT_STRUCTURE_P ............................................................37 
8.5.4 NON_BUILDING_STRUCTURE_P ..............................................................38 
8.5.5 VEHICLE_BARRIER_C ................................................................................39 



OGC 09-037r1 

vi Copyright © 2009 Open Geospatial Consortium, Inc. 
 

8.6 Summary of additions to the CityGML code lists .................................................39 
8.6.1 BuildingFunctionType / BuildingUsageType ..................................................39 
8.6.2 TransportationComplexFunction .....................................................................40 
8.6.3 TransportationUsageType ................................................................................40 
8.6.4 CityFurnitureFunctionType .............................................................................40 

9 XML instances .............................................................................................................40 

10 Conclusions ................................................................................................................49 
 

 



OpenGIS
®
 
 
Public Engineering Report OGC 09-037r1 

 

Copyright © 2009 Open Geospatial Consortium, Inc. 1 
 

OGC
®
 OWS-6 UTDS-CityGML Profile 

1 Introduction 

1.1 Scope 

This OGC™ document specifies a CityGML-based application schema for a subset of an 

Urban Topographic Data Store (UTDS) as specified by the US National Geospatial-

Intelligence Agency (NGA). 

The particular focus of this implementation profile was to test the applicability of 

CityGML to UTDS data.  

This document specifies the implementation profile as well as the findings. 

Attention is drawn to the possibility that some of the elements of this document may be 

the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held 

responsible for identifying any or all such patent rights. 

Recipients of this document are requested to submit, with their comments, notification of 

any relevant patent claims or other intellectual property rights of which they may be 

aware that might be infringed by any implementation of the standard set forth in this 

document, and to provide supporting documentation. 

1.2 Document contributor contact points 

All questions regarding this document should be directed to the editor or the contributors: 

Name Organization 

Clemens Portele interactive instruments GmbH 

Remi Koblenzer interactive instruments GmbH 

Dave Wesloh NGA 

Paul Birkel MITRE 

 

1.3 Revision history 

Date Release Editor Primary clauses 
modified 

Description 

04/17/2009 0.0.1 C. Portele all  

05/10/2009 0.0.2 C. Portele all Revision based on comments 



OGC 09-037r1 

2 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

06/03/2009 0.0.3 C. Portele 

P. Birkel 

all Minor edits for consistency 

 

1.4 Future work 

See Annex B. 

2 References 

The following documents are referenced in this document. For dated references, 

subsequent amendments to, or revisions of, any of these publications do not apply. For 

undated references, the latest edition of the normative document referred to applies. 

OpenGIS® City Geography Markup Language (CityGML) Encoding Standard, OGC 

document 08-007r1 

Intelligence Community Information Security Marking (IC ISM) version 2.1, Office of 

the Director of National Intelligence 

NOTE The schema is available at http://schemas.opengis.net/ic/2.1/IC-ISM-v2.1.xsd. 

3 Terms and definitions 

For the purposes of this report, the definitions specified in the CityGML standard and the 

NAS shall apply.  

4 Conventions 

4.1 Abbreviated terms 

ADE Application Domain Extension 

IC ISM Intelligence Community Information Security Marking 

LoD Level of Detail 

NAS NSG Application Schema 

NEC NSG Entity Catalog 

NGA National Geospatial-Intelligence Agency 

NSG National System for Geospatial-Intelligence 

OWS OGC Web Services 

UTDS Urban Topographic Data Store 

XML extensible Markup Language 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 3 
 

 

4.2 UML notation 

Diagrams that appear in this standard are presented using the Unified Modeling Language 

(UML) static structure diagram, as described in ISO/CD 19103. 



OGC 09-037r1 

4 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

5 Overview and general approach 

The Urban Topographic Data Store (UTDS) data content specification of NGA specifies 

an application schema & entity catalog (see Bibliography) with a significant number of 

feature types, feature properties, data types and listed values. For each of the these, a 

definition exists that is captured in a feature concept dictionary. 

In the current version of UTDS, spatial geometries are of dimensions 0, 1 or 2. Additional 

information about dimensional measures is optionally provided in attributes like "height 

above surface level", "highest elevation", "width", or "length or diameter". 

CityGML specifies an application schema with a relatively small number of feature types 

typically used in city models. A large number of listed values is provided to express 

additional information to the features. A difference between CityGML and UTDS is that 

in the CityGML standard there is no definition for any feature type, property or listed 

value. The only hint at the semantics of a model element is its name. The UTDS specifies 

a complete definition (and optionally an additional description) for each element. 

The two UTDS datasets used in OWS-6 (airport dataset and city dataset) use a restricted 

set of feature types (the columns in Table 1) and properties (the rows) from the complete 

UTDS application schema only. 

Table 1 — Scope of the UTDS data used in OWS-6 

Property  

A
IR

C
R

A
F

T
_

H
A

N
G

A
R

 

A
P

R
O

N
 

B
U

IL
D

IN
G

 

C
O

N
T

R
O

L
_
T

O
W

E
R

 

F
E

N
C

E
 

F
U

E
L

_
S

T
O

R
A

G
E

_
F

A
C

IL
IT

Y
 

G
A

T
E

 

L
IG

H
T

_
S

U
P

P
O

R
T

_
S

T
R

U
C

T
U

R
E

 

N
O

N
_
B

U
IL

D
IN

G
_
S

T
R

U
C

T
U

R
E

 

R
O

A
D

 

R
U

N
W

A
Y

 

S
T

O
P

W
A

Y
 

S
T

O
R

A
G

E
_
T

A
N

K
 

S
U

R
F

A
C

E
_
B

U
N

K
E

R
 

T
A

X
IW

A
Y

 

T
O

W
E

R
 

V
E

H
IC

L
E

_
B

A
R

R
IE

R
 

Accessibility Status ACS   X                 X X     X     

Aerodrome Pavement 
Information: Aerodrome 
Movement Surface 
Composition 

ZI019_ASU1, 
ZI019_ASU2, 
ZI019_ASU3 

  X                 X X     X     

Apron Type HAC   X                               

Basic Encyclopedia (BE) 
Number 

BEN                     X             

Condition of Facility FUN X X X X X X X X X X X X X X X X X 

Feature Function  FFN1, FFN2, 
FFN3 

    X X   X   X                   

Fence Type FTI         X                         



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 5 
 

Gate Use GTC             X                     

Height Above Surface 
Level 

HGT X   X X X X   X X       X X   X X 

Height Above Surface 
Level (height accuracy) 

HGT_AHO X   X X X X   X X       X X   X X 

Highest Elevation ZVH X X X X X X X X X X X X X X X X X 

Highest Elevation 
(absolute vertical 
accuracy) 

ZVH_AVA X X X X X X X X X X X X X X X X X 

Length or Diameter LEN X X X X X X X X X X X X X X X X X 

Located Underground LUN           X             X         

Manufacturing Information 
: Product 

ZI014_PPO1, 
ZI014_PPO2, 
ZI014_PPO3 

          X                       

Product  PPO1, 
PPO2,  
PPO3 

                        X         

Pylon Configuration PYC               X                   

Pylon Material PYM               X                   

Structure Shape SSC                         X         

Runway Direction (high 
end) : Runway Identifier 

GB052_RIDH                     X             

Runway Direction (low 
end) : Runway Identifier 

GB052_RIDL                     X             

Thickness THI         X   X                     

Tower Shape TOS               X                   

Tower Type TTC1, TTC2, 
TTC3 

                              X   

Track or Lane Count LTN                   X               

Transportation System 
Type 

TRS1, TRS2, 
TRS3 

      X     X                   X 

Vertical Construction 
Material 

VCM1, 
VCM2,  
VCM3 

X   X                             

Width WID X X X X   X   X X X X X X X X X X 

Geometry (Horizontal) : 
Absolute Horizontal 
Accuracy (90%) 

ZI010_AHA X X X X X X X X X X X X X X X X X 

Geometry (Vertical) : 
Absolute Vertical Accuracy 
(90%) 

ZI010_AVA X X X X X X X X X X X X X X X X X 

ICISM Security : Resource 
Classification 

ZR115_RS0 X X X X X X X X X X X X X X X X X 

ICISM Security : Resource 
Owner-Producer 

ZR115_RX4 X X X X X X X X X X X X X X X X X 

Note : Memorandum ZI006_MEM X X X X X X X X X X X X X X X X X 



OGC 09-037r1 

6 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Source Information : 
Spatial Source Type 

ZI001_SSY X X X X X X X X X X X X X X X X X 

Source Information : 
Vertical Source Category 

ZI001_VSC X X X X X X X X X X X X X X X X X 

 

Since the definition of the model elements in CityGML is unclear, the mapping from 

UTDS to CityGML is somewhat arbitrary. In all cases where a mapping could be done in 

several ways, it is essential to understand the goals of the UTDS-in-CityGML 

representation, so that the resulting application schema meets the requirements as close as 

possible. The goals for the UTDS-in-CityGML-experiment in OWS-6 are as follows:  

Test whether CityGML is the right choice for encoding urban data with a particular 

focus on supporting movement within an urban area. Two use cases are relevant - 

encoding for the transfer of data and visualization. Of these two, at this time 

visualization is the more important one. 

NOTE The lack of definitions for the concepts in CityGML would be an even bigger 

issue, if the intent was to take some existing CityGML data and transform it to UTDS 

data. 

The UTDS-CityGML application schema has been created based on the following design 

decisions: 

 Existing concepts in CityGML were used whenever possible. This includes all model 
elements (feature types, properties, listed values). For example, UTDS roads are 

mapped to CityGML roads (and not any of its supertypes) and "feature function" 

properties in UTDS are mapped to "usage" and "function" properties in CityGML - 

making reuse of existing code list values whenever possible. 

 The UTDS-CityGML application schema is modeled as an Application Domain 
Extension (ADE). The concept of generic attributes is not used to attach additional 

properties to CityGML feature types. 

o The reason for this approach is mainly to express at least some of the schema 
constraints captured in UTDS within the CityGML-based application schema. 

This simplifies validation (see also 09-038 GML Profile Validation Tool 

Guidelines ER).  

o Another reason is that for some aspects, particularly the reuse of the ICISM 
schema for security tagging, there is no way around creating an ADE including 

new feature elements in a new XML namespace. 

 CityGML has strict requirements on the contents of a data set depending on the 
intended level of detail (LoD)1. For example, it is stated that “in LOD1, the positional 

and height accuracy of points must be 5m or less, while all objects with a footprint of 

at least 6m by 6m have to be considered.” In general, these requirements are related 

to absolute geometric accuracy, spatial representation and data capturing rules. Based 

                                                 

1  However, the language in the OGC CityGML standard is contradictory and other parts of the standard could be 
interpreted that there are no such requirements. 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 7 
 

on the requirements, the UTDS data is on LoD 1 or lower. This is reflected in the 

application schema. Geometric accuracy requirements were ignored in this testbed. 

 The rules for creating the geometry of the CityGML-based feature from the source 
data is based on the LoD (see above), the available data and the goal to provide 

geometry in the maximum dimensionality in this context. 

 In UTDS, code lists and enumerations are typically feature type dependent 
prohibiting meaningless combinations. This is also the case in CityGML; however, 

since all building-like structures are mapped to the single feature type building class 

in CityGML, different code lists do not exist for subcategories of buildings. To mimic 

this approach in the ADE, only a single ConditionOfFacility code list is specified that 

is "shared" between the different feature types. Additional constraints could be 

specified (in OCL and Schematron), if needed. Also, they have been created as code 

lists instead of enumerations to follow the general approach taken by CityGML. 

 Code list values that were added to the existing CityGML code lists have been 
specified as extensions. While it might be the intention of the standard to allow 

ignoring the listed values specified in the CityGML standard, this does not seem to be 

a viable approach for two reasons: 

o Code lists can only be extended according to ISO/TS 19103, but this also 
implies that the provided pre-defined values cannot be ignored. 

o The code list encoding in CityGML provides no mechanism to point to the 
dictionary with the used code list values. i.e., CityGML does not provide a 

capability to interpret any code list values without prior knowledge unless 

only the pre-defined values are used - and those aren't actually defined, either. 

They are often reused from the German specifications ALKIS and ATKIS, 

which includes definitions for some of the values, but only in German. This 

makes CityGML difficult to use in an International Standards setting. 

 At least for now, the data types mostly reflect the types used in the actual data. For 
example, accuracy is expressed in a measure value and not a DQ element from ISO 

19115. 

 IC ISM security markings are mapped to the IC ISM specification. 
 

6 ISO 19109 application schema in UML 

6.1 Overview and feature types 

This clause illustrates the application schema using UML diagrams. Figure 1 provides an 

overview of the packages and their dependencies.  

The remaining figures show the features types and data types of the UTDS-CityGML 

ADE in detail. The definitions of the feature types and their properties defined by the 

ADE is documented in the UTDS Entity Catalogue of NGA (and not repeated here). 



OGC 09-037r1 

8 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 1 — Package overview of the UTDS-CityGML application schema  

 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 9 
 

 

Figure 2 — Base type with properties applicable to any feature from a UTDS data set  



OpenGIS
®
 
 
Implementation Specification OGC 09-037r1 

 

Copyright © 2009 Open Geospatial Consortium, Inc. 10 
 

 

Figure 3 — Building features 



OpenGIS
®
 
 
Implementation Specification OGC 09-037r1 

 

Copyright © 2009 Open Geospatial Consortium, Inc. 11 
 

 

Figure 4 — Transportation features 

 

Note that since several of the airport-related transportation features in UTDS have a 

similar pattern of properties, they are all represented by a single subtype of the CityGML 

feature type TransportationComplex, AircraftTransportationComplex. The function 

attribute specified for each CityGML transportation feature is used to distinguish the 

various types specified in UTDS; see 8.4 for details. 



OpenGIS
®
 
 
Implementation Specification OGC 09-037r1 

 

Copyright © 2009 Open Geospatial Consortium, Inc. 12 
 

 

Figure 5 — City furniture features 



OpenGIS
®
 
 
Implementation Specification OGC 09-037r1 

 

Copyright © 2009 Open Geospatial Consortium, Inc. 13 
 

 

 

Figure 6 — Data types 

6.2 Code lists 

The relevant UTDS code lists are shown in the figures in this sub-clause. The lists 

contain all values specified by UTDS even though the city and airport datasets used in 

OWS-6 usually use only a small subset of the values. 

Table 2 shows an overview how the code lists are represented in the UTDS-CityGML 

application schema. Details are provided in Clause 8. 

 



OGC 09-037r1 

14 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Table 2 — Representation of UTDS code lists in UTDS-CityGML 

UTDS code list UTDS-CityGML representation 

Accessibility Status same 

Aerodrome Movement Surface 

Composition 

same 

Apron Type mapped to usage attribute 

Condition of Facility same 

Feature Function  same, but also used to fill values of class, 

function and usage attributes 

Fence Type same 

Gate Use same 

Located Underground mapped to attribute with boolean value 

Product  same 

Pylon Configuration same 

Pylon Material same 

Structure Shape same 

Tower Shape same 

Tower Type same 

Transportation System Type same 

Vertical Construction Material same 

Spatial Source Type same 

Vertical Source Category same 

 

The definitions of the code list values are documented in the UTDS Entity Catalogue of 

NGA (and not repeated here). 

NOTE: GML dictionary representations of the code lists with an associated XSLT script 

to view them in a web browser are packaged together with this document. They can also 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 15 
 

be accessed online at “http://services.interactive-

instruments.de/ows6/data/codelists/NameOfCodelist.xml”.  

 

Figure 7 — Accessibility Status 



OGC 09-037r1 

16 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 8 — Aerodrome Movement Surface Composition 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 17 
 

 

Figure 9 — Aeronautical Apron Hardstand Category 



OGC 09-037r1 

18 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 10 — Condition of Facility 

The code list FeatureFunction is too large to be shown in this document. Please refer to 

the GML dictionary packaged with this document.  



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 19 
 

 

Figure 11 — FenceType 

 

Figure 12 — GateUse 

The code list Product is too large to be shown in this document. Please refer to the GML 

dictionary packaged with this document. 



OGC 09-037r1 

20 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 13 — Pylon Configuration 

 

Figure 14 — Pylon Material 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 21 
 

 

Figure 15 — Spatial Source Type 



OGC 09-037r1 

22 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 16 — Structure Shape 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 23 
 

 

Figure 17 — Tower Shape 



OGC 09-037r1 

24 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 18 — Tower Type 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 25 
 

 

Figure 19 — Transportation System Type 



OGC 09-037r1 

26 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 

Figure 20 — Vertical Construction Material 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 27 
 

 

Figure 21 — Vertical Source Category 

7 XML Schema with CityGML ADE 

The XML schema components in UTDS-CityGML.xsd has been derived from the 

application schema above by ShapeChange and represent version 0.3 the UTDS 

CityGML ADE. This version has been the basis for the data used in OWS-6. 

The XML Schema document UTDS-CityGML.xsd is packaged together with this 

document (i.e., in the same zip archive). 

In addition to the XML Schema, the code lists of the ADE are encoded as GML 

dictionaries by ShapeChange. The dictionaries reference an XSLT script that styles that 

code list content as a HTML document. These files are also packaged with this document 

(i.e., in the same zip archive). 

8 Mapping 

8.1 General remarks 

This clause describes the mapping from the features and fields in the UTDS datasets to 

UTDS-CityGML features. 

Only code list values that actually occur in the city/airport data sets are mapped below. 



OGC 09-037r1 

28 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

8.2 For all Feature Types 

Target property in UTDS-CityGML  

Field in 

source data 

geometryMetadata/GeometryMetadata/absoluteHorizontalAccuracy_90Percent ZI010_AHA 

geometryMetadata/GeometryMetadata/absoluteVerticalAccuracy_90Percent ZI010_AVA 

@icism:classification ZR115_RS0 

@icism:ownerProducer ZR115_RX4 

note/Note/memorandum ZI006_MEM 

sourceInfoMetadata/SourceInformation/spatialSourceType ZI001_SSY 

sourceInfoMetadata/SourceInformation/verticalSourceCategory ZI001_VSC 

 

8.3 Buildings 

8.3.1 AIRCRAFT_HANGAR_S 

Target Feature Type: AircraftHangar 

Target property in UTDS-CityGML  Source 

build:class 1170 (traffic) 

build:function 1540 (hangar) 

build:usage 1540 (hangar) 

build:lod1Solid solid from the given multi patch surface 

geometries in the source Shape file 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 

verticalConstructionMaterial Fields VCM1,  VCM2, VCM3 

NOTE To represent multiple values, the 

maximum multiplicity of the attributes in 

the UTDS-CityGML application has been 

set to unlimited. In case the values are 

ordered, such order is lost in the mapping. 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 29 
 

This same applies to other cases with 

multiple attributes in the UTDS-CityGML 

application schema. 

width Field WID 

 

8.3.2 BUILDING_S 

Target Feature Type: Building 

Target property in UTDS-CityGML  Source 

build:class see featureFunction 

build:function see featureFunction 

build:usage see featureFunction 

build:lod1Solid solid from the given multi patch surface 

geometries in the source Shape file 

featureFunction Fields FFN1, FFN2, FFN3 

810 (Administration) 
 class =1020 (administration); function =1970 
(administration building); usage = 1970 (administration 
building) 

 
520 (AirTransport) 

 class =1170 (traffic); function =3520 (AirTransport, 

NEW2) 

 
536 (CargoHandling) 
 class =1170 (traffic); function =3536 (CargoHandling, 
NEW) 
 
835 (DefenceActivities) 

 class =1140; function =3835 (DefenceActivities, NEW) 
 
560 (DetachedHouse) 

 class =1000 (habitation); function =1000 (residential 
building) 

 
850 (Education) 
 class =1100 (schools, education, research); function 
=2070 (building for education and research) 
 

845 (Firefighting) 
 class =1020 (administration); function =2410 (fire station) 
 

811 (Government) 
 class =1020 (administration) 

                                                 

2  New values added to the CityGML code lists for the UTDS-CityGML application schema are marked as “NEW”. 



OGC 09-037r1 

30 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

 
781 (Guard) 
 class =1140 (security); function =3781 (Guard, NEW) 

 
860 (HumanHealthActivities) 
 class =1120 (healthcare); function =3860 
(HumanHealthActivities, NEW) 
 

99 (Manufacturing) 
 class =1160 (industry); function =3099 (Manufacturing, 
NEW) 

 
931 (PlaceOfWorship) 

 class =1080 (church institution); function =3931 
(PlaceOfWorship, NEW) 

 
495 (RoadTransport) 
 class =1170 (traffic); function =3495 (RoadTransport, 
NEW) 
 

481 (Terminal) 
 class =1170 (traffic); function =3481 (Terminal, NEW) 
 

530 (WarehousingStorage) 
 class =1150 (storage); function =3530 
(WarehousingStorage, NEW)  

 

Remark: populate class only from FFN1 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 

verticalConstructionMaterial Fields VCM1,  VCM2, VCM3 

width Field WID 

 

8.3.3 BUILDING_P  

See BUILDING_S, except: 

Target property in UTDS-CityGML  Source 

build:lod1Solid box from surface geometry (as square 

around the point geometry with width WID) 

and height HGT; assumption: z coordinate 

value from the given geometry is the top 

height of the building; default width is 10m 

 

8.3.4 CONTROL_TOWER_P 

Target Feature Type: ControlTower 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 31 
 

Target property in UTDS-CityGML  Source 

build:class see featureFunction - should generally be 

1170 (traffic) 

build:function see featureFunction 

build:usage see featureFunction 

build:lod1Solid box from surface geometry (as square 

around the point geometry with width WID) 

and height HGT; assumption: z coordinate 

value from the given geometry is the top 

height of the tower; default width is 10m 

featureFunction Fields FFN1, FFN2, FFN3 

mapping see BUILDING_S 

Remark: populate class only from FFN1 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 

transportationSystemType Fields TRS1, TRS2, TRS3 

width Field WID 

 

8.3.5 TOWER_P 

Target Feature Type: Tower 

Target property in UTDS-CityGML  Sourc 

build:class see towerType  

build:function see towerType 

build:lod1Solid box from surface geometry (as square 

around the point geometry with width WID) 

and height HGT; assumption: z coordinate 

value from the given geometry is the top 

height of the tower; default width is 10m 

towerType Fields TTC1, TTC2, TTC3 



OGC 09-037r1 

32 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

20 (TelecommunicationTower) 
 class =1130 (communicating); function =3020 
(TelecommunicationTower, NEW) 

 
21 (GuardTower) 

 class =1140 (security); function =3021 (GuardTower, 
NEW) 

 

Remark: populate class only from TTC1 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 

width Field WID 

 

8.3.6 FUEL_STORAGE_FACILITY_S 

Target Feature Type: FuelStorageFacility 

Target property in UTDS-CityGML  Source 

build:class see featureFunction - should generally be 

1150 (storage) 

build:function see featureFunction 

build:usage see featureFunction 

build:lod1Solid box from surface geometry as base surface 

and height HGT 

featureFunction Fields FFN1, FFN2, FFN3 

mapping see BUILDING_S 

Remark: populate class only from FFN1 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 

locatedUnderground Field LUN 

1000  “false” 
1001  “true” 

 

width Field WID 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 33 
 

product Fields ZI014_PPO1, ZI014_PPO2, 

ZI014_PPO3 

 

8.3.7 STORAGE_TANK_S 

Target Feature Type: StorageTank 

Target property in UTDS-CityGML  Source 

build:class 1150 (storage) 

build:lod1Solid solid from the given multi patch surface 

geometries in the source Shape file 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 

locatedUnderground Field LUN 

1000  “false” 
1001  “true” 
 

width Field WID 

product Fields PPO1, PPO2, PPO3 

structureShape Field SSC 

 

8.3.8 SURFACE_BUNKER_S 

Target Feature Type: SurfaceBunker 

Target property in UTDS-CityGML  Source 

build:class 1140 (security) 

build:function 2430 (bunker) 

build:lod1Solid solid from the given multi patch surface 

geometries in the source Shape file 

conditionOfFacility Field FUN 

build:measuredHeight Field HGT 



OGC 09-037r1 

34 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

width Field WID 

 

8.4 Transportation 

8.4.1 APRON_S 

see STOPWAY_S, except: 

Target property in UTDS-CityGML  Source 

trans:function 2180 (apron) 

trans:usage Field HAC 

3 (HangarApron)  
 usage = 3003 (HangarApron, NEW) 

 
7 (DepotApron)  
 usage = 3007 (DepotApron, NEW) 

 
21 (PadApron)  
 usage = 3021 (PadApron , NEW) 

 

8.4.2 ROAD_C 

Target Feature Type: Road 

Target property in UTDS-CityGML  Source 

trans:function 1000 (road) 

trans:lod0Network curve geometry as composite curve 

trans:lod1MultiSurface multi surface with curve geometry 

segments as centerline and width WID 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

trackOrLaneCount Field LTN 

width Field WID 

  



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 35 
 

8.4.3 RUNWAY_S 

see STOPWAY_S, except: 

Target property in UTDS-CityGML  Source 

trans:function 2190 (runway) 

basicEncyclopediaNumber Field BEN 

runwayIdentifier Fields GB052_RIDH, GB052_RIDL 

NOTE Both fields are mapped to the 

multiple-occuring property. However, it is 

not clear if the high/low identifiers can still 

be clearly distinguished from their specified 

values. 

 

8.4.4 STOPWAY_S 

Target Feature Type: AircraftTransportationComplex 

Target property in UTDS-CityGML  Source 

trans:function 2191 (stopway, NEW) 

trans:lod1MultiSurface surface geometry 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

accessibilityStatus Field ACS 

width Field WID 

highestElevation Field ZVH 

aerodromeMovementSurfaceComposition Fields ZI019_ASU1, ZI019_ASU2, 

ZI019_ASU3  

 

8.4.5 TAXIWAY_S 

see STOPWAY_S, except: 



OGC 09-037r1 

36 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Target property in UTDS-CityGML  Source 

trans:function 2170 (taxiway) 

 

8.5 City Furniture 

8.5.1 FENCE_C 

Target Feature Type: Fence 

Target property in UTDS-CityGML  Source 

cfurn:class 1020 (others) 

cfurn:function 1440 (fence) 

cfurn:lod1Geometry the geometry depends on the existence of 

HGT and THI; if none is specified, the 

geometry is the curve; if only HGT is 

specified, a vertical surface is created; if 

only THI is specified, a horizontal surface 

is specified; if both are specified, a solid is 

created 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

measuredHeight Field HGT 

measuredHeightAccuracy Field HGT_AHO 

highestElevation Field ZVH 

 

8.5.2 GATE_P 

Target Feature Type: Gate 

Target property in UTDS-CityGML  Source 

cfurn:class 1020 (others) 

cfurn:function 1140 (gate) 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 37 
 

cfurn:lod1Geometry the geometry depends on the existence of 

THI; if not specified, the geometry is a 

vertical surface with 2m height and 10m 

length; if THI is specified, a horizontal 

surface is specified 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

highestElevation Field ZVH 

gateUse Field GTC 

transportationSystemType Fields TRS1, TRS2, TRS3 

  

8.5.3 LIGHT_SUPPORT_STRUCTURE_P 

Target Feature Type: LightSupportStructure 

Target property in UTDS-CityGML  Source 

cfurn:class see featureFunction 

cfurn:function see featureFunction 

cfurn:lod1Geometry box from surface geometry (as square 

around the point geometry with 0.4m 

width) and height HGT: assumption: z 

coordinate value from the given geometry is 

the top height of the building/structure 

featureFunction Fields FFN1, FFN2, FFN3 

495 (RoadTransport)  
 class = 1000 (traffic); function = 1170 (lamp post) 
 

Remark: populate class only from FFN1 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

measuredHeight Field HGT 

measuredHeightAccuracy Field HGT_AHO 



OGC 09-037r1 

38 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

highestElevation Field ZVH 

width Field WID 

pylonConfiguration Field PYC 

pylonMaterial Field PYM 

towerShape Field TOS 

 

8.5.4 NON_BUILDING_STRUCTURE_P 

Target Feature Type: NonBuildingStructure 

Target property in UTDS-CityGML  Source 

cfurn:class 1020 (others) 

cfurn:function 3010 (NonBuildingStructure, NEW) 

cfurn:lod1Geometry box from surface geometry (as square 

around the point geometry with 0.2m 

width) and height HGT; assumption: z 

coordinate value from the given geometry is 

the top height of the building/structure 

NOTE Given only a point and no "angle", 

the "box" was oriented arbitrarily. This 

seems acceptable as it is a relatively small 

base square and the width is arbitrary 

without a WID value anyhow. It was 

originally planned to use a cylinder, but this 

was not possible using the geometry 

operations of the geometry tools used (see 

Annex A). As a result, boxes were used as 

fallback. 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

measuredHeight Field HGT 

measuredHeightAccuracy Field HGT_AHO 

highestElevation Field ZVH 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 39 
 

width Field WID 

  

8.5.5 VEHICLE_BARRIER_C 

Target Feature Type: VehicleBarrier 

Target property in UTDS-CityGML  Source 

cfurn:class 1000 (traffic) 

cfurn:function 3020 (VehicleBarrier, NEW) 

cfurn:lod1Geometry curve geometry 

conditionOfFacility Field FUN 

lengthOrDiameter Field LEN 

measuredHeight Field HGT 

measuredHeightAccuracy Field HGT_AHO 

highestElevation Field ZVH 

width Field WID 

transportationSystemType Fields TRS1, TRS2, TRS3 

 

8.6 Summary of additions to the CityGML code lists 

8.6.1 BuildingFunctionType / BuildingUsageType 

3020 TelecommunicationTower 

3021 GuardTower 

3099 Manufacturing 

3481 Terminal 

3495 RoadTransport 

3520 AirTransport 

3530 WarehousingStorage 



OGC 09-037r1 

40 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

3536 CargoHandling 

3781 Guard 

3835 DefenceActivities 

3860 HumanHealthActivities 

3931 PlaceOfWorship 

8.6.2 TransportationComplexFunction 

2191 Stopway 

8.6.3 TransportationUsageType 

3003 HangarApron 

3007 DepotApron 

3021 PadApron  

8.6.4 CityFurnitureFunctionType 

3010 NonBuildingStructure 

3020 VehicleBarrier 

9 XML instances 

All instances shall be encoded in conformance with the CityGML standard (see Clause 2 

of 08-007r1). 

In addition, all references to code lists that are ADE specific shall use a URL that 

resolves to a GML dictionary for the code list. 

EXAMPLE 1 <utds:conditionOfFacility codeSpace="http://services.interactive-

instruments.de/ows6/data/codelists/ConditionOfFacility.xml">6</utds:conditionOfFa

cility> 

Unit references shall be encoded using the commonly used symbol for the unit. The unit 

shall conform to the unit mandated by UTDS for the particular attribute. 

EXAMPLE 2 <utds:width uom="m">100.41</utds:width> 

Finally, if hosted via a WFS, the default CRS for UTDS-CityGML-data shall be 

urn:ogc:def:crs:EPSG::4979 (latitude/longitude geodetic using the WGS-84 ellipsoid). 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 41 
 

The following XML document includes the building feature shown in Figure 2 with data 

according to the UTDS entity catalogue, mapped to CityGML. 

 

Figure 22 — Building example 

<core:CityModel xmlns:build="http://www.opengis.net/citygml/building/1.0" 

xmlns:core="http://www.opengis.net/citygml/1.0" 

xmlns:gml="http://www.opengis.net/gml" xmlns:icism="urn:us:gov:ic:ism:v2" 

xmlns:utds="http://www.opengis.net/ows-6/utds/0.3" 

xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 

xsi:schemaLocation="http://www.opengis.net/ows-6/utds/0.3 

http://services.interactive-instruments.de/ows6/data/schema/UTDS-CityGML.xsd 

http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd 

http://www.opengis.net/citygml/1.0 

http://schemas.opengis.net/citygml/1.0/cityGMLBase.xsd"> 

<gml:boundedBy> 

<gml:Envelope srsDimension="3" srsName="urn:ogc:def:crs:EPSG::4979"> 

<gml:lowerCorner>29.923903047267 -90.006246031599 

7.811669959462</gml:lowerCorner> 

<gml:upperCorner>29.924355948539 -90.005696103618 

17.811669959462</gml:upperCorner> 

</gml:Envelope> 

</gml:boundedBy> 

<core:cityObjectMember> 

<utds:Building gml:id="BUILDING_S-46" icism:classification="U" 

icism:ownerProducer="USA"> 

<gml:boundedBy> 

<gml:Envelope> 

<gml:lowerCorner>29.923906730280 -90.006246031599 

7.811669959462</gml:lowerCorner> 



OGC 09-037r1 

42 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

<gml:upperCorner>29.924352498677 -90.005696103618 

17.811669959462</gml:upperCorner> 

</gml:Envelope> 

</gml:boundedBy> 

<build:class>1150</build:class> 

<build:function>3530</build:function> 

<build:measuredHeight uom="m">9</build:measuredHeight> 

<build:lod1Solid> 

<gml:Solid> 

<gml:exterior> 

<gml:CompositeSurface> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924197028444 -90.005700760981 17.811669959462 29.924355948539 -

90.005847882870 17.811669959462 29.924355948539 -90.005847882870 

17.811669959462 29.924262491893 -90.005977920339 17.811669959462 

29.924262491893 -90.005977920339 17.811669959462 29.924174938397 -

90.005905007806 17.811669959462 29.924174938397 -90.005905007806 

17.811669959462 29.924082707527 -90.006036724309 17.811669959462 

29.924082707527 -90.006036724309 17.811669959462 29.924161554687 -

90.006109445287 17.811669959462 29.924161554687 -90.006109445287 

17.811669959462 29.924069323816 -90.006241161790 17.811669959462 

29.924069323816 -90.006241161790 17.811669959462 29.923903047267 -

90.006083972890 17.811669959462 29.923903047267 -90.006083972890 

17.811669959462 29.923995277238 -90.005952257286 17.811669959462 

29.923995277238 -90.005952257286 17.811669959462 29.923913978526 -

90.005876180038 17.811669959462 29.923913978526 -90.005876180038 

17.811669959462 29.924017491391 -90.005736455972 17.811669959462 

29.924017491391 -90.005736455972 17.811669959462 29.924103695904 -

90.005819244860 17.811669959462 29.924103695904 -90.005819244860 

17.811669959462 29.924197028444 -90.005700760981 17.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924197028444 -90.005700760981 7.811669959462 29.924355948539 -

90.005847881971 7.811669959462 29.924355948539 -90.005847881971 7.811669959462 

29.924262491893 -90.005977920339 7.811669959462 29.924262491893 -

90.005977920339 7.811669959462 29.924174938397 -90.005905007806 7.811669959462 

29.924174938397 -90.005905007806 7.811669959462 29.924082707527 -

90.006036724309 7.811669959462 29.924082707527 -90.006036724309 7.811669959462 

29.924161554687 -90.006109445287 7.811669959462 29.924161554687 -

90.006109445287 7.811669959462 29.924069323816 -90.006241161790 7.811669959462 

29.924069323816 -90.006241161790 7.811669959462 29.923903047267 -

90.006083972890 7.811669959462 29.923903047267 -90.006083972890 7.811669959462 

29.923995277238 -90.005952257286 7.811669959462 29.923995277238 -

90.005952257286 7.811669959462 29.923913978526 -90.005876180038 7.811669959462 

29.923913978526 -90.005876180038 7.811669959462 29.924017491391 -

90.005736455972 7.811669959462 29.924017491391 -90.005736455972 7.811669959462 

29.924103695904 -90.005819244860 7.811669959462 29.924103695904 -

90.005819244860 7.811669959462 29.924197028444 -90.005700760981 

7.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 43 
 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924197028444 -90.005700760981 8.811669959462 29.924197028444 -

90.005700760981 17.811669959462 29.924197028444 -90.005700760981 

17.811669959462 29.924103695904 -90.005819244860 17.811669959462 

29.924103695904 -90.005819244860 17.811669959462 29.924103695904 -

90.005819244860 8.811669959462 29.924103695904 -90.005819244860 8.811669959462 

29.924197028444 -90.005700760981 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924103695904 -90.005819244860 8.811669959462 29.924103695904 -

90.005819244860 7.811669959462 29.924103695904 -90.005819244860 7.811669959462 

29.924197028444 -90.005700760981 7.811669959462 29.924197028444 -

90.005700760981 7.811669959462 29.924197028444 -90.005700760981 8.811669959462 

29.924197028444 -90.005700760981 8.811669959462 29.924103695904 -

90.005819244860 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924103695904 -90.005819244860 8.811669959462 29.924103695904 -

90.005819244860 17.811669959462 29.924103695904 -90.005819244860 

17.811669959462 29.924017491391 -90.005736455972 17.811669959462 

29.924017491391 -90.005736455972 17.811669959462 29.924017491391 -

90.005736455972 8.811669959462 29.924017491391 -90.005736455972 8.811669959462 

29.924103695904 -90.005819244860 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924017491391 -90.005736455972 8.811669959462 29.924017491391 -

90.005736455972 7.811669959462 29.924017491391 -90.005736455972 7.811669959462 

29.924103695904 -90.005819244860 7.811669959462 29.924103695904 -

90.005819244860 7.811669959462 29.924103695904 -90.005819244860 8.811669959462 

29.924103695904 -90.005819244860 8.811669959462 29.924017491391 -

90.005736455972 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924017491391 -90.005736455972 8.811669959462 29.924017491391 -

90.005736455972 17.811669959462 29.924017491391 -90.005736455972 

17.811669959462 29.923913978526 -90.005876180038 17.811669959462 

29.923913978526 -90.005876180038 17.811669959462 29.923913978526 -

90.005876180038 8.811669959462 29.923913978526 -90.005876180038 8.811669959462 

29.924017491391 -90.005736455972 8.811669959462</gml:posList> 



OGC 09-037r1 

44 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.923913978526 -90.005876180038 8.811669959462 29.923913978526 -

90.005876180038 7.811669959462 29.923913978526 -90.005876180038 7.811669959462 

29.924017491391 -90.005736455972 7.811669959462 29.924017491391 -

90.005736455972 7.811669959462 29.924017491391 -90.005736455972 8.811669959462 

29.924017491391 -90.005736455972 8.811669959462 29.923913978526 -

90.005876180038 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.923913978526 -90.005876180038 8.811669959462 29.923913978526 -

90.005876180038 17.811669959462 29.923913978526 -90.005876180038 

17.811669959462 29.923995277238 -90.005952257286 17.811669959462 

29.923995277238 -90.005952257286 17.811669959462 29.923995277238 -

90.005952257286 8.811669959462 29.923995277238 -90.005952257286 8.811669959462 

29.923913978526 -90.005876180038 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.923995277238 -90.005952257286 8.811669959462 29.923995277238 -

90.005952257286 7.811669959462 29.923995277238 -90.005952257286 7.811669959462 

29.923913978526 -90.005876180038 7.811669959462 29.923913978526 -

90.005876180038 7.811669959462 29.923913978526 -90.005876180038 8.811669959462 

29.923913978526 -90.005876180038 8.811669959462 29.923995277238 -

90.005952257286 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.923995277238 -90.005952257286 8.811669959462 29.923995277238 -

90.005952257286 17.811669959462 29.923995277238 -90.005952257286 

17.811669959462 29.923903047267 -90.006083972890 17.811669959462 

29.923903047267 -90.006083972890 17.811669959462 29.923903047267 -

90.006083972890 8.811669959462 29.923903047267 -90.006083972890 8.811669959462 

29.923995277238 -90.005952257286 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 45 
 

<gml:posList>29.923903047267 -90.006083972890 8.811669959462 29.923903047267 -

90.006083972890 7.811669959462 29.923903047267 -90.006083972890 7.811669959462 

29.923995277238 -90.005952257286 7.811669959462 29.923995277238 -

90.005952257286 7.811669959462 29.923995277238 -90.005952257286 8.811669959462 

29.923995277238 -90.005952257286 8.811669959462 29.923903047267 -

90.006083972890 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.923903047267 -90.006083972890 8.811669959462 29.923903047267 -

90.006083972890 17.811669959462 29.923903047267 -90.006083972890 

17.811669959462 29.924069323816 -90.006241161790 17.811669959462 

29.924069323816 -90.006241161790 17.811669959462 29.924069323816 -

90.006241161790 8.811669959462 29.924069323816 -90.006241161790 8.811669959462 

29.923903047267 -90.006083972890 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924069323816 -90.006241161790 8.811669959462 29.924069323816 -

90.006241161790 7.811669959462 29.924069323816 -90.006241161790 7.811669959462 

29.923903047267 -90.006083972890 7.811669959462 29.923903047267 -

90.006083972890 7.811669959462 29.923903047267 -90.006083972890 8.811669959462 

29.923903047267 -90.006083972890 8.811669959462 29.924069323816 -

90.006241161790 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924069323816 -90.006241161790 8.811669959462 29.924069323816 -

90.006241161790 17.811669959462 29.924069323816 -90.006241161790 

17.811669959462 29.924161554687 -90.006109445287 17.811669959462 

29.924161554687 -90.006109445287 17.811669959462 29.924161554687 -

90.006109445287 8.811669959462 29.924161554687 -90.006109445287 8.811669959462 

29.924069323816 -90.006241161790 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924161554687 -90.006109445287 8.811669959462 29.924161554687 -

90.006109445287 7.811669959462 29.924161554687 -90.006109445287 7.811669959462 

29.924069323816 -90.006241161790 7.811669959462 29.924069323816 -

90.006241161790 7.811669959462 29.924069323816 -90.006241161790 8.811669959462 

29.924069323816 -90.006241161790 8.811669959462 29.924161554687 -

90.006109445287 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 



OGC 09-037r1 

46 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924161554687 -90.006109445287 8.811669959462 29.924161554687 -

90.006109445287 17.811669959462 29.924161554687 -90.006109445287 

17.811669959462 29.924082707527 -90.006036724309 17.811669959462 

29.924082707527 -90.006036724309 17.811669959462 29.924082707527 -

90.006036724309 8.811669959462 29.924082707527 -90.006036724309 8.811669959462 

29.924161554687 -90.006109445287 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924082707527 -90.006036724309 8.811669959462 29.924082707527 -

90.006036724309 7.811669959462 29.924082707527 -90.006036724309 7.811669959462 

29.924161554687 -90.006109445287 7.811669959462 29.924161554687 -

90.006109445287 7.811669959462 29.924161554687 -90.006109445287 8.811669959462 

29.924161554687 -90.006109445287 8.811669959462 29.924082707527 -

90.006036724309 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924082707527 -90.006036724309 8.811669959462 29.924082707527 -

90.006036724309 17.811669959462 29.924082707527 -90.006036724309 

17.811669959462 29.924174938397 -90.005905007806 17.811669959462 

29.924174938397 -90.005905007806 17.811669959462 29.924174938397 -

90.005905007806 8.811669959462 29.924174938397 -90.005905007806 8.811669959462 

29.924082707527 -90.006036724309 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924174938397 -90.005905007806 8.811669959462 29.924174938397 -

90.005905007806 7.811669959462 29.924174938397 -90.005905007806 7.811669959462 

29.924082707527 -90.006036724309 7.811669959462 29.924082707527 -

90.006036724309 7.811669959462 29.924082707527 -90.006036724309 8.811669959462 

29.924082707527 -90.006036724309 8.811669959462 29.924174938397 -

90.005905007806 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 47 
 

<gml:posList>29.924174938397 -90.005905007806 8.811669959462 29.924174938397 -

90.005905007806 17.811669959462 29.924174938397 -90.005905007806 

17.811669959462 29.924262491893 -90.005977920339 17.811669959462 

29.924262491893 -90.005977920339 17.811669959462 29.924262491893 -

90.005977920339 8.811669959462 29.924262491893 -90.005977920339 8.811669959462 

29.924174938397 -90.005905007806 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924262491893 -90.005977920339 8.811669959462 29.924262491893 -

90.005977920339 7.811669959462 29.924262491893 -90.005977920339 7.811669959462 

29.924174938397 -90.005905007806 7.811669959462 29.924174938397 -

90.005905007806 7.811669959462 29.924174938397 -90.005905007806 8.811669959462 

29.924174938397 -90.005905007806 8.811669959462 29.924262491893 -

90.005977920339 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924262491893 -90.005977920339 8.811669959462 29.924262491893 -

90.005977920339 17.811669959462 29.924262491893 -90.005977920339 

17.811669959462 29.924355948539 -90.005847882870 17.811669959462 

29.924355948539 -90.005847882870 17.811669959462 29.924355948539 -

90.005847881971 8.811669959462 29.924355948539 -90.005847881971 8.811669959462 

29.924262491893 -90.005977920339 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924355948539 -90.005847881971 8.811669959462 29.924355948539 -

90.005847881971 7.811669959462 29.924355948539 -90.005847881971 7.811669959462 

29.924262491893 -90.005977920339 7.811669959462 29.924262491893 -

90.005977920339 7.811669959462 29.924262491893 -90.005977920339 8.811669959462 

29.924262491893 -90.005977920339 8.811669959462 29.924355948539 -

90.005847881971 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924355948539 -90.005847881971 8.811669959462 29.924355948539 -

90.005847882870 17.811669959462 29.924355948539 -90.005847882870 

17.811669959462 29.924197028444 -90.005700760981 17.811669959462 

29.924197028444 -90.005700760981 17.811669959462 29.924197028444 -

90.005700760981 8.811669959462 29.924197028444 -90.005700760981 8.811669959462 

29.924355948539 -90.005847881971 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 



OGC 09-037r1 

48 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

</gml:Polygon> 

</gml:surfaceMember> 

<gml:surfaceMember> 

<gml:Polygon> 

<gml:exterior> 

<gml:LinearRing> 

<gml:posList>29.924197028444 -90.005700760981 8.811669959462 29.924197028444 -

90.005700760981 7.811669959462 29.924197028444 -90.005700760981 7.811669959462 

29.924355948539 -90.005847881971 7.811669959462 29.924355948539 -

90.005847881971 7.811669959462 29.924355948539 -90.005847881971 8.811669959462 

29.924355948539 -90.005847881971 8.811669959462 29.924197028444 -

90.005700760981 8.811669959462</gml:posList> 

</gml:LinearRing> 

</gml:exterior> 

</gml:Polygon> 

</gml:surfaceMember> 

</gml:CompositeSurface> 

</gml:exterior> 

</gml:Solid> 

</build:lod1Solid> 

<utds:geometryMetadata> 

<utds:GeometryMetadata> 

<utds:absoluteHorizontalAccuracy_90Percent 

uom="m">23</utds:absoluteHorizontalAccuracy_90Percent> 

<utds:absoluteVerticalAccuracy_90Percent 

uom="m">12</utds:absoluteVerticalAccuracy_90Percent> 

</utds:GeometryMetadata> 

</utds:geometryMetadata> 

<utds:note> 

<utds:Note/> 

</utds:note> 

<utds:uniqueEntityIdentifier>urn:uuid:7d13495f-54bb-4663-8750-

0787eca126dd</utds:uniqueEntityIdentifier> 

<utds:sourceInfoMetadata> 

<utds:SourceInformation/> 

</utds:sourceInfoMetadata> 

<utds:conditionOfFacility codeSpace="http://services.interactive-

instruments.de/ows6/data/codelists/ConditionOfFacility.xml">6</utds:conditionOf

Facility> 

<utds:featureFunction codeSpace="http://services.interactive-

instruments.de/ows6/data/codelists/FeatureFunction.xml">530</utds:featureFuncti

on> 

<utds:width uom="m">36</utds:width> 

<utds:verticalConstructionMaterial codeSpace="http://services.interactive-

instruments.de/ows6/data/codelists/VerticalConstMat.xml">009</utds:verticalCons

tructionMaterial> 

</utds:Building> 

</core:cityObjectMember> 

</core:CityModel> 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 49 
 

10 Conclusions 

The aim of the activity in OWS-6 to represent UTDS data using CityGML was to test 

whether CityGML is the right choice for encoding urban data with a particular focus on 

supporting movement within an urban area. Two use cases were identified as relevant - 

encoding for the transfer of data and visualization. Based on the results, the following 

general conclusions can be drawn: 

 Encoding the data using CityGML made the data available to CityGML clients, in 
particular visualization clients, without any significant problems. CityGML clients 

used in OWS-6 were able to visualize/process the data without the need for any 

changes to the UTDS-CityGML schema or data. 

 However, based on issues identified in B.1, which are submitted as Change Requests 
to CityGML, the use of CityGML in its current form is somewhat limited in particular 

due to the semantic issues. Without resolving these issues UTDS-CityGML data will 

probably be largely useful only to UTDS-aware software – at least beyond 

visualization use cases. 

 In addition, the issues documented in B.2 to B.6 will require additional work, if the 
representation of UTDS data in a CityGML ADE is investigated further. In particular 

issues related to the generation of appropriate 3D geometries from 1D or 2D 

geometries in the source data will require further investigation. Clause 8 specifies 

rules for the generation of such “higher dimension geometries” for most feature types, 

Annex A documents the tools used in OWS-6 and B.2 highlights the most important 

open issues that still need to be addressed. 

 



OGC 09-037r1 

50 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Annex A 
 

Providing access to UTDS data via a UTDS-CityGML WFS 

A.1 General 

This annex briefly describe how the UTDS sample datasets (city data, airport data) were 

imported into an Oracle database (v10.2), geometrically enriched and published as 

UTDS-CityGML data via a WFS. The WFS used is XtraServer from interactive 

instruments. 

A.2 Step 1: FME 

The shapefiles were imported with FME Desktop (Oracle Edition) 2008/2009.  

The database uses the same database table for all Buildings (AircraftHangar, Building, 

Tower, etc). The source feature type is distinguished using an additional column storing 

the source feature type. The same applies to CityFurniture features.  

The shapefiles contain 3D data but most geometries required further processing.  

A.2 Step 2: Oracle SQL 

The following data processing to implement some of the mapping aspects specified in 

clause 8 has been implemented in PL/SQL procedures and SQL scripts: 

1. Converting geometries from one type into another (e.g. curve into surface, point into 
solid, etc.) 

2. Creating envelope geometries 
3. Some attribute mapping (in particular, FFN-to-class/function-mapping) 
 

The following geometries had to be manipulated: 

 All Building types: create solid from patches 

 CityFurniture (FENCE_C, GATE_P, LIGHT_SUPPORT_STRUCTURE_P, 
NON_BUILDING_STRUCTURE_P): Increase dimension of geometry and create 

Curve or MultiSurface geometries from source geometry and other attribute values 

 Road: create MultiSurface geometries from centerline and width 
 

Since Oracle 10.2 cannot store 3D solids, Multipolygon geometries are used to store the 

solids.  

 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 51 
 

A.3 Step 3: XtraServer 

XtraServer has been configured to access the databases established in step 2 and to 

transform the data in accordance with the OWS-6 UTDS-CityGML application schema. 

The WFS converts the remaining mapping aspects specified in clause 8 that are not pre-

processed in step 2. 

Figure 23 shows UTDS-CityGML-airport-data accessed from the WFS by a CityGML 

client.  

 

Figure 23 — UTDS-CityGML-data  



OGC 09-037r1 

52 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Annex B 
 

Summary of known issues 

B.1 CityGML Change Request 

A Change Request to the OGC CityGML standard will be submitted as OGC document 

09-039 to initiate addressing any CityGML-related issues that have been identified. 

 

The requested changes are: 

 

 Lack of definitions 
 

There seem to be no definitions for any feature type, property or listed value in 

CityGML. The only hint at the semantics of a model element is its name. 

 

This is in conflict with ISO 19109 and due to the lack of semantics limits the use of 

CityGML across community-boundaries. 

 

Example: What is a building? In OWS-6 the source dataset uses the following 

definition for building “A free-standing self-supporting construction that is roofed, 

usually walled, and is intended for human occupancy (for example: a place of work or 

recreation) and/or habitation.” Is “a container used for the storage of liquids and/or 

gases that is not supported by a tower” a building in CityGML? Building class 

“storage” (1150) seems to indicate “yes”. I.e. the definition of Building in CityGML 

seems to differ from the UTDS definition, but this is hard to tell. 

 

This issue gets worse when trying to use the code lists as it is often not clear which 

listed value should be used due to overlapping concepts.  

 

Note: The lack of definitions for the concepts in CityGML would be even bigger, if it 

would be a goal to take existing CityGML data and transform it to another data 

specification as it would be unclear how to map CityGML features with their loosely 

defined semantics. 

 

It is understood that CityGML is intentionally vague. However, it would be still 

beneficial to have (even rather generic) definitions for feature types, properties and 

listed values. 

 

 Use of code lists 
 

The mechanisms to extend the existing code lists specified in CityGML are broken: 

 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 53 
 

o Code lists can only be extended, i.e. the pre-defined values cannot be ignored 
(this would be in conflict with ISO 19103). However, without a definition it is 

often unclear when to reuse an existing value and when to extend them. 

 

o The code list encoding in CityGML provides no mechanism to point to the 
dictionary with the used code list values (and it does not use the GML 

mechanism) → no one can interpret the property values without prior 

knowledge unless only the pre-defined values are used. This could be 

corrected by using the GML mechanism for the encoding of code list values 

(gml:CodeType). 

 

 Building.class multiplicity 
 

Attribute “class” in feature type “Building” has a maximum multiplicity of “1”. In 

OWS-6, we would have needed multiple class values for the same building. Why can 

a building have a single class only (it may have multiple functions and usages)? 

Consider increasing the multiplicity to unbounded. 

 

 LoD requirements inconsistent 
 

Examples from sub-clause 6.2: 

 

Clear requirements: “In LOD1, the positional and height accuracy of points must be 

5m or less, while all objects with a footprint of at least 6m by 6m have to be 

considered. The positional and height accuracy of LOD2 must be 2m or better. In this 

LOD, all objects with a footprint of at least 4m × 4m have to be considered. ...” 

 

vs. 

 

No requirements: “The accuracy requirements given in this standard are debatable 

and should be considered as discussion proposals.” 

 

The inconsistencies should be removed. 

 

 ADE vs. generic objects/attributes 
 

Consider providing guidance when which extension mechanism should be used. 

 

 Inline vs. by-reference 
 

The value of most feature-valued properties can be either embedded inline or 

referenced using Xlinks. Example: BuildingPart and Address in _Building. Our 

implementation experience is that allowing both encoding styles decreases 

performance in a WFS context. Mandating the use of Xlinks for such properties 

would be preferred. 

 



OGC 09-037r1 

54 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

B.2 3D Tool support 

B.2 Generating 3D geometries 

The conversion of 3D geometries based on 2D or 2.5D geometries and additional 

properties like height, length and/or width involves complex geometry operations. 

Several of such conversions are described in this document (see Clause 8 and Annex A), 

but some open issues remain: 

 While tools like Oracle and FME support 3D geometries in general in their new 
releases, geometry operations are still limited and often do not support full 3D 

capabilities. However, this is expected to change in future releases of the products 

and this will simplify dealing with the following two issues. 

 For the generation of solids from point geometries, ad-hoc assumptions about the 
orientation of buildings were made. It was not investigated in OWS-6 how reasonable 

these ad-hoc assumptions were and whether a different approach should have been 

taken in general. Within the usage of the data in the OWS-6 scenarios and 

visualizations, the assumptions did not trigger any issues. 

 Converting centerline geometries to surface geometries in 3D involves complex 
geometry operations and could not be completed in OWS-6. At locations where line 

segments meet with a bend, surfaces created by applying the width attribute to the 

centerline geometry do have gaps and overlaps. While tools are generally available to 

create such surfaces in a plane, this is not yet commonly supported for surfaces in 3D 

space. Figures 24 and 25 illustrate this. 

 

          

Figure 24 — Road junction (left lod0Network, right lod1MultiSurface created from the 

lod0Network and width attributes) 

 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 55 
 

          

Figure 25 — Roads (left lod0Network, right lod1MultiSurface created from the 

lod0Network and width attributes) 

B.3 Code list representations 

UTDS (actually the NAS) specify several pieces of information for each entry in a code 

list: 

 an integer code 

 an alpha code 

 a name/title 

 a definition 

 an optional description 

In a UML representation there are (without using tagged values) three pieces: 

 a code name (the initial value) 

 a code value (the attribute name) 

 a documentation 

The definition and description are stored in the documentation field, separated by 

“[desc]”. 

Originally, the representation used was to map the name/title to the code value to have a 

value for humans and the integer code (which was used in the actual data) to the code 

name as a code for storage purposes; the alpha code was dropped in most cases unless 

there was no integer code known. 

However, an analysis of ISO/CD 19103 finally lead to another representation. The sub-

clauses 6.5.2, 6.5.3 and 6.12 are understood to imply that the code value should be 

without whitespace. Therefore, the alpha code is used as the code value in the code list 



OGC 09-037r1 

56 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

shown in this document. The name/title has been moved to the beginning of the 

documentation field, separated from the definition by a colon. 

The alpha codes use a camel case notation as recommended by 6.12 of ISO/CD 19103, 

however, based on the alpha codes used in the NAS, these are currently in 

UpperCamelCase, not lowerCamelCase as recommended. 

Since the use of an alpha and an integer code seems to be for legacy reasons only, it 

should be considered in the future to drop the integer code and simply use the alpha code 

only. In UML, this means that no initial value would be specified. 

B.4 WGS84 vs. projected coordinate reference systems 

UTDS data is usually encoded in WGS84 geographic coordinates. However, CityGML 

viewers usually use projected coordinate reference systems which seems plausible in 

particular for visualization in large scales – like an urban environment. 

For the preparation of the UTDS-CityGML data from the source UTDS data, the data 

also had to be converted to a projected, metric coordinate reference system since all 

spatial attributes like width, length or height are provided in meters. 

This is not an issue per se, but it should be noted that while the NAS usually uses 

geographic coordinates, CityGML data is usually used in projected coordinate reference 

systems and thus coordinate conversions or transformations will usually be required.  

B.5 Feature-type-specific code lists 

As mentioned in Clause 5, the decision had been made for OWS-6 to follow the 

CityGML approach to use code lists applicable to a wide range of phenomena. However, 

the NAS approach is different and this results in the need for constraints to assess that 

only valid code list values are used for a particular feature (based on its feature type, an 

example is shown in document 09-038, OWS-6 GML Profile Validation Tool ER).  

This is a general difference in the approaches of the NAS and CityGML that have to be 

considered if the approach described in this ER is continued. 

B.6 Other modeling issues 

 In accordance with the UTDS application schema, the two attributes of the data type 
GeometryMetadata should be named “absoluteHorizAccuracy90” and 

“absoluteVertAccuracy90”. For the UTDS-CityGML application schema, the 

property name, e.g. “Absolute Horizontal Accuracy (90%)”, from the sample datasets 

were used as the basis for the name.  

 Both the high and low runway identifiers were mapped to the same property 
(runwayIdentifier), which may occur up to two times. However, in general the 



OGC 09-037r1 

Copyright © 2009 Open Geospatial Consortium, Inc. 57 
 

high/low identifiers cannot be distinguished in this representation. It would have been 

correct to represent these as two separate properties. 

These issues were discovered only late in the process and as it would have affected the 

application schema and the instance data, they have not been changed, but are 

documented here. They should be addressed in any future version of a UTDS-CityGML 

application schema. 

 

 



OGC 09-037r1 

58 Copyright © 2009 Open Geospatial Consortium, Inc. 
 

Bibliography 

Specialized-Urban Topographic Data Store Entity Catalog (UTDS EC), Version 1.0 

DRAFT, November 4, 2008 

OGC® OWS-5 GSIP Schema Processing Engineering Report, OGC document 08-078r1 

(OGC discussion paper) 

ISO/CD 19103 Geographic Information – Conceptual Schema Language, ISO/TC 211 

document N 2617 

GEOINT Structure Implementation Profile (work in progress) 

NOTE The GEOINT Structure Implementation Profile (GSIP) includes the NSG 

Application Schema (NAS), the NSG Feature Concept Dictionary (NFDD) and the NSG 

Entity Catalog (NEC). 

 


	Introduction
	Scope
	Document contributor contact points
	Revision history
	Future work

	References
	Terms and definitions
	Conventions
	Abbreviated terms
	UML notation

	Overview and general approach
	ISO 19109 application schema in UML
	Overview and feature types
	Code lists

	XML Schema with CityGML ADE
	Mapping
	General remarks
	For all Feature Types
	Buildings
	AIRCRAFT_HANGAR_S
	BUILDING_S
	BUILDING_P
	CONTROL_TOWER_P
	TOWER_P
	FUEL_STORAGE_FACILITY_S
	STORAGE_TANK_S
	SURFACE_BUNKER_S

	Transportation
	APRON_S
	ROAD_C
	RUNWAY_S
	STOPWAY_S
	TAXIWAY_S

	City Furniture
	FENCE_C
	GATE_P
	LIGHT_SUPPORT_STRUCTURE_P
	NON_BUILDING_STRUCTURE_P
	VEHICLE_BARRIER_C

	Summary of additions to the CityGML code lists
	BuildingFunctionType / BuildingUsageType
	TransportationComplexFunction
	TransportationUsageType
	CityFurnitureFunctionType


	XML instances
	Conclusions

