
05-096r1 Grid CRSs Profile.doc
OGC 05-096r1

OGC 05-096r1



Open Geospatial Consortium Inc.

Date: 2005-11-15

Reference number of this document: OGC 05-096r1

Version: 1.0.0

Category: OpenGIS® Implementation Specification

Editor: Arliss Whiteside

GML 3.1.1 grid CRSs profile

Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/.

Document type:
OpenGIS® Implementation Specification

Document subtype:
GML Profile

Document stage:
Version 1.0.0

Document language:
English

Contents
Page

ivi.
Preface



ivii.
Document terms and definitions



iviii.
Document contributor contact points



viv.
Revision history



vv.
Changes to OGC Specifications



vvi.
Future work



vForeword



viIntroduction



11
Scope



12
Compliance



23
Normative references



34
Terms and definitions



35
Conventions



35.1
Abbreviated terms



45.2
UML notation



46
Grid CRSs profile



46.1
Background



46.2
Overview



56.3
XML schema documents



66.4
CRS definitions use



67
Unrectified image CRSs definition XML encoding



67.1
Overview



77.2
Full XML document template



97.3
Recommended simple XML document template



108
Georectified grid CRSs definition XML encoding



108.1
Overview



128.2
Full XML document template



178.3
Recommended simple XML document template



199
Georeferencing Transformations definition XML encoding



199.1
Overview



219.2
Image georeferencing Transformation full template



229.3
Image georeferencing Transformation recommended simple template



239.4
Grid elevation model Transformation full template



249.5
Grid elevation model Transformation recommended simple template



259.6
Concatenated operation full template



279.7
Concatenated operation recommended simple template



2810
Standard URNs and XML definitions



2810.1
Overview



2910.2
Image CRSs with origin in centre of first pixel



3010.3
Image CRSs with origin in corner of first pixel



3110.4
Grid 2D square coordinate system



3210.5
Row coordinate axis



3310.6
Column coordinate axis



3410.7
Image datum at pixel center



3410.8
Image datum at pixel corner



3510.9
Grid spacing unit of measure



36Annex A (normative)  Abstract test suite



37Annex B (informative)  UML model



37B.1
Introduction



37B.2
Unrectified image CRSs



37B.2.1
Simple UML model



38B.2.2
Full UML model



39B.3
Georectified image coordinate reference systems



39B.3.1
Simple UML model



39B.3.2
Full UML model



41B.4
Georeferencing coordinate transformations



41B.4.1 Simple UML model



42B.4.2
Full UML model



45Bibliography






Figures
Page

37Figure B.1 — ImageCRS simple UML class diagram


Figure B.2 — ImageCRS full UML class diagram
38

Figure B.3 — DerivedCRS simple UML class diagram
39

Figure B.4 — DerivedCRS full UML class diagram
40

Figure B.5 — Transformation and ConcatenatedOperation simple class diagram
41

Figure B.6 — Transformation and ConcatenatedOperation full UML class diagram
43


Tables
Page

29Table 1 — Standard URNs for unrectified images CRSs





i. Preface


This document defines a profile of the Geography Markup Language (GML) version 3.1.1 for encoding definitions of grid coverage (including image) Coordinate Reference Systems (CRSs) plus related coordinate Transformations. This document also specifies some Universal Resource Names (URNs) for definitions in the “ogc” URN namespace, in addition to those specified in [OGC 05-010]. Additional specific URNs are defined for definitions of the datums, coordinate systems, and coordinate system axes which are often used in definitions of grid and image CRSs.

This profile can be used without a GML Application Schema, and such use is assumed in this document. However, a GML Application Schema that uses this profile could be specified. For example, an Application Schema could specify “GridCRS” as a better name for a DerivedCRS that uses a CartesianCS. Or an Application Schema could allow or require more information to be encoded for an OperationParameter (such as specified in Subclause 14.3.2 and wctsOperationParameter.xsd of OGC Discussion Paper [OGC 05-013]).

Suggested additions, changes, and comments on this document are welcome and encouraged. Such suggestions may be submitted by email message or by using the formal Change Request Proposal process as defined in the TC Policies and Procedures.


ii. Document terms and definitions


This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008]. In particular, the word “shall” (not “must”) is the verb form used to indicate a requirement to be strictly followed to conform to this specification


iii. Document contributor contact points


All questions regarding this document should be directed to the editor or the contributors:


		Name

		Organization



		Arliss Whiteside

		BAE Systems E&IS



		

		





iv. Revision history


		Date

		Release

		Editor

		Primary clauses modified

		Description



		2005-10-11

		0.0.0

		Arliss Whiteside

		All

		Initial release



		2005-11-15

		0.0.1

		Arliss Whiteside

		All

		General editing





v. Changes to OGC Specifications


No previously approved OGC™ Specifications need to be changed to accommodate the technical contents of this document.

vi. Future work


Improvements in this document may be desirable. There will be a 30-day public comment period to solicit input and comments from the broader geospatial community.

Foreword


This document specifies a subset profile of the existing OGC Implementation Specification for the Geometry Markup Language (GML) version 3.1.1 [OGC 03-105r1 and 04-093r4], and does not modify it. This is a GML profile as specified in Subclause 22 of [OGC 03-105r1]. This document supersedes Recommendation Paper [OGC 05-027r1], titled “Recommended XML/GML 3.1.1 encoding of image CRS definitions”.

This document includes two annexes; Annex A is normative, and Annex B is informative.


Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The OGC shall not be held responsible for identifying any or all such patent rights.


Introduction


This document specifies a GML profile for encoding definitions of grid coverage (including image) Coordinate Reference Systems (CRSs) plus related coordinate Transformations. This XML schema is a profile of the OGC Geography Markup Language (GML) version 3.1.1, using the separately specified “GML 3.1.1 common CRSs profile”. This profile supports XML encoding of definitions of Image and Derived (grid) CRSs, and definitions of coordinate Transformations for georeferencing images.

This document also specifies some Universal Resource Names (URNs) for definitions in the “ogc” URN namespace. Specific URNs are defined for definitions of the datums, coordinate systems, and coordinate system axes which are often used in definitions of grid and image CRSs. 

GML 3.1.1 grid CRSs profile

1 Scope


This GML 3.1.1 profile is defined for encoding definitions of grid coverage (including image) Coordinate Reference Systems (CRSs) plus related coordinate Transformations. This profile supports XML encoding of definitions of:


a) Unrectified image CRSs, using ImageCRS elements


b) Georectified image and grid coverage CRSs, using DerivedCRS element


c) Coordinate Transformations for georeferencing images, using Transformation elements


This document also specifies some Universal Resource Names (URNs) for definitions in the “ogc” URN namespace, in addition to those specified in [OGC 05-010]. Additional specific URNs are defined for definitions of the datums, coordinate systems, and coordinate system axes which are often used in definitions of grid and image CRSs. These definitions shall be used wherever applicable in XML encodings of definitions of grid and image CRSs. 

This “GML 3.1.1 Grid CRSs profile” uses the separately specified “GML 3.1.1 common CRSs profile” [OGC 05-095], specified to support encoding the definitions of commonly used CRSs. This profile is designed for use by a future image application profile of the future Web Coordinate Transformation Service (WCTS).

This profile does not support encoding of geocentric, temporal, or engineering CRSs, or combining a temporal CRS with another CRS. It also does not support encoding of affine, spherical, cylindrical, linear, and user-defined coordinate systems, or engineering datums.

2 Compliance


All CRS and CRS-related definitions encoded using this profile shall produce XML documents that are fully compliant with the normative XML Schema Documents associated with this specification, named: 


a) gmlGridCRSsProfile.xsd


b) coordinateOperations.xsd


c) coordinateReferenceSystems.xsd


d) dataQuality.xsd


e) datums.xsd


Except for gmlGridCRSsProfile.xsd, all these XML Schema Documents contain the subset of the corresponding GML 3.1.1 document that is needed by this GML 3.1.1 Grid CRSs profile. This was done to facilitate checking that this profile is a strict subset of GML 3.1.1. This also facilitates comparing each document with the original, to determine which elements, attributes, and types were retained, and which were removed.


XML documents compliant with this profile shall (directly or indirectly) import the gmlGridCRSsProfile.xsd XML Schema Document schema, which will be available following approval of this document at http://schemas.opengis.net/gml/3.1.1/Profiles/GridCRSs/1.0.0/.


More specifically, compliance with this specification shall be checked using all the relevant tests specified in Annex A (normative).

3 Normative references


The following normative documents contain provisions that, through reference in this text, constitute provisions of this document. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.


European Petroleum Survey Group: EPSG Geodesy Parameters, available through http://www.epsg.org/


IETF RFC 2141 (May 1997), URN Syntax, R. Moats <http://www.ietf.org/rfc/rfc2141.txt>


IETF RFC 2396 (August 1998), Uniform Resource Identifiers (URI): Generic Syntax, Berners-Lee, T., Fielding, N., and Masinter, L., eds., <http://www.ietf.org/rfc/rfc2396.txt>


ISO 19105:2000, Geographic information — Conformance and Testing

OGC 03-105r1, OpenGIS Geography Markup Language (GML) Implementation Specification, Version 3.1.0


OGC 04-092r4, GML 3.1.1 schemas

OGC 05-008, OGC Web Services Common Specification, Version 1.0.0

OGC 05-010, URNs of definitions in ogc namespace (Recommendation Paper), Version 1.0.0


OGC 05-094r1, GML 3.1.1 CRS support profile (proposal)


OGC 05-095r1, GML 3.1.1 common CRSs profile (proposal)


W3C, Extensible Markup Language (XML) 1.0 (Second Edition), W3C Recommendation, 6 October 2000, http://www.w3.org/TR/REC-xml

W3C, XML Schema Part 1: Structures, http://www.w3.org/TR/xmlschema-1

W3C, XML Schema Part 2: Datatypes, http://www.w3.org/TR/xmlschema-2

W3C, Namespaces in XML, http://www.w3.org/TR/1999/REC-xml-names-19990114


In addition to this document, this specification includes several normative XML Schema Document files. Following approval of this document, these schemas will be posted online at the URL: http://schemas.opengis.net/gml/3.1.1/Profiles/GridCRSs/1.0.0/. These XML Schema Document files are also bundled with the present document. In the event of a discrepancy between the bundled and online versions of the XML Schema files, the online files shall be considered authoritative.


4 Terms and definitions


For the purposes of this specification, the definitions specified in Clause 4 of the GML 3.1.1 common CRSs profile [OGC 05-095] shall apply.


5 Conventions


5.1 Abbreviated terms


The abbreviated terms used in this document include:


CRS
Coordinate Reference System


GML
Geography Markup Language


EPSG
European Petroleum Survey Group: 


IETF
Internet Engineering Task Force


ISO
International Organization for Standardization


OGC
Open Geospatial Consortium


OWS
OGC Web Service, or Open Web Service


WCTS
Web Coordinate Transformation Service

UML
Unified Modeling Language


URI
Universal Resource Identifier


URL
Uniform Resource Locator


URN
Universal Resource Name


XML
Extensible Markup Language


2D
Two Dimensional


3D
Three Dimensional


5.2 UML notation


The diagrams that appear in this specification are presented using the Unified Modeling Language (UML) static structure diagram, as described in Subclause 5.2 of [OGC 05-008].


6 Grid CRSs profile


6.1 Background


GML 3.1.1 includes six XML Schema Documents for encoding definitions of Coordinate Reference Systems (CRSs) and Coordinate Operations, namely: (listed alphabetically)


a) coordinateOperations.xsd


b) coordinateReferenceSystems.xsd


c) coordinateSystems.xsd


d) dataQuality.xsd


e) datums.xsd


f) referenceSystems.xsd


However, this set of XML Schema Documents supports many abilities that are rarely used. Therefore, multiple CRS-related profiles of this part of GML 3.1.1 are expected to be useful and specified, where each profile is significantly simpler and thus easier to understand and use. One such profile is the GML 3.1.1 Common CRSs profile, specified in [OGC 05-095r1], which includes the most commonly-used CRSs but not image and grid CRSs.


This GML 3.1.1 Grid CRSs profile was produced by building on the GML 3.1.1 Common CRSs profile, and adding those parts of the above listed XML Schema Documents which are needed by grid and image coordinate reference systems. This profile also indirectly builds on the GML 3.1.1 CRS Support profile, which includes the needed profile of referenceSystems.xsd.


6.2 Overview


This document specifies a GML 3.1.1 profile for XML encoding of the definitions of image and grid coordinate reference systems (CRSs), where a grid CRS is a DerivedCRS. More specifically, this profile adds the following XML elements:


a) ImageCRS in coordinateReferenceSystems.xsd, which is used to define unrectified image CRSs

b) DerivedCRS in coordinateReferenceSystems.xsd, which is used to define georectified grid and image CRSs

c) Transformation in coordinateOperations.xsd, which is used to define the coordinate transformations required to georeference unrectified images

d) ConcatenatedOperation and PassThroughOperation in coordinateOperations.xsd, which are used to combine multiple coordinate transformations and conversion(s) to georeference or georectify unrectified images

In addition to the above listed XML elements, the elements, attributes, and types needed to support those were also added. For example, other added non-abstract GML object elements include: 


a) ImageDatum in datums.xsd


b) absoluteExternalPositionalAccuracy, relativeInternalPositionalAccuracy, and covarianceMatrix in dataQuality.xsd

This GML 3.1.1 Grid CRSs profile removes optional and alternative contents elements from the added XML elements and types, when these options and alternatives are rarely used for defining the supported Coordinate Reference Systems (CRSs) and Coordinate Operations. The removed contents elements included:


a) metaDataProperty, from AbstractGeneralTransformationType in coordinateOperations.xsd

6.3 XML schema documents


This GML 3.1.1 Grid CRSs profile is specified in the five normative XML Schema Documents included in the zip file with this text document, which are named:


a) gmlGridCRSsProfile.xsd


b) coordinateOperations.xsd


c) coordinateReferenceSystems.xsd


d) dataQuality.xsd


e) datums.xsd


NOTE 
Also included in the zip file with this document are copies of the GML 3.1.1 CRS Support and Common CRSs profiles XML Schema Documents, and of all the XML document examples listed in Clauses 7 through 9, so that those examples can be used as templates.

All these XML Schema Documents contain documentation of the meaning of each element and attribute, and this documentation shall be considered normative as specified in Subclause 11.6.3 of [OGC 05-008].


After OGC acceptance of a Version 1.0.0 of this specification, these XML Schema Documents will also be posted online at the URL http://schemas.opengis.net/gml/3.1.1/Profiles/GridCRSs/1.0.0. In the event of a discrepancy between the bundled and online versions of the XML Schema Documents, the online files shall be considered authoritative.


6.4 CRS definitions use


These CRS definitions are not always required to be transferred between servers and clients that use OGC Web Services (OWS) Implementation Specifications. However, these definitions shall be used when relevant in defining coordinate operations (including Conversions and Transformations), and shall be referenced by those coordinate operation definitions.


References to these CRSs shall be in the form of the anyURI data type specified by XML Schema. As specified in Subclause 10.3 of “OWS common implementation specification” [OGC 05-008], such an anyURI value can be either a URL with standard form or a URN in the “ogc” URN namespace. As specified in Subclause 7.1 of “URNs for definitions in the ogc namespace” [OGC 05-010], URNs in the “ogc” URN namespace can be used to reference any CRS defined in the EPSG database.


7 Unrectified image CRSs definition XML encoding

7.1 Overview


When using this GML 3.1.1 profile, the definition of each unrectified image coordinate reference system (CRS) shall be XML encoded using the ImageCRS element, defined in the attached normative XML Schema Document named coordinateReferenceSystems.xsd. The GML objects contained or referenced in this ImageCRS are indicated in this XML document skeleton:


<ImageCRS>



<usesCartesianCS>




<CartesianCS gml:id="Grid2dSquareCS">





<usesAxis>






<CoordinateSystemAxis></CoordinateSystemAxis>





</usesAxis>





<usesAxis>






<CoordinateSystemAxis></CoordinateSystemAxis>





</usesAxis>




</CartesianCS>



</usesCartesianCS>



<usesImageDatum>




<ImageDatum></ImageDatum>



</usesImageDatum>


</ImageCRS>





NOTE 
The UML class diagrams contained in Subclause C.2 provide graphical views of the contents of the ImageCRS XML element.

This skeleton XML document indicates that:


a) An ImageCRS element shall contain one usesCartesianCS and one usesImageDatum XML elements (in addition to other mandatory and optional information).


b) That usesCartesianCS element shall reference or contain the definition of one CartesianCS.


c) That CartesianCS definition element shall contain an ordered sequence of two usesAxis elements.


d) Each of those usesAxis elements shall reference or contain the definition of one CoordinateSystemAxis. The referenced or listed axis order shall be used for position coordinates in that image, with the specified units of each axis, normally grid spacing units.


e) That usesImageDatum element shall reference or contain the definition of one ImageDatum.


This ImageCRS XML element specifies how to define the CRS of each unrectified image. ImageCRS definitions are not always required to be transferred between OGC web servers and clients. However, these definitions shall be used in defining georeferencing coordinate transformations, and shall be referenced by those coordinate transformation definitions. This unrectified image CRS shall be identified as the CRS of feature geometries measured or computed in that unrectified image.


7.2 Full XML document template


An example template XML document completely defining an ImageCRS is:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="ImageTBDCRSpixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<srsName>Image TBD CRS pixel centers</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpixelCenter</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS>




<CartesianCS gml:id="Grid2dSquareCS">





<csName>2D square-cell grid based coordinate system</csName>





<csID>






<name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name>





</csID>





<remarks>A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 


In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.


The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.


If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 


The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. </remarks>





<usesAxis>






<CoordinateSystemAxis gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid row axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name>







</axisID>







<remarks>For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. </remarks>







<axisAbbrev>R</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>





<usesAxis>






<CoordinateSystemAxis gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid column axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name>







</axisID>







<remarks>For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. </remarks>







<axisAbbrev>C</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>




</CartesianCS>



</usesCartesianCS>



<usesImageDatum>




<ImageDatum gml:id="ImageDatumPixelCenter">





<datumName>Origin at center of first pixel</datumName>





<datumID>






<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name>





</datumID>





<remarks>A 2D image datum with the origin at the center of the first pixel in the image file. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>





<anchorPoint>center of first pixel</anchorPoint>





<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell>




</ImageDatum>



</usesImageDatum>


</ImageCRS>





7.3 Recommended simple XML document template


The above template XML document can be simplified by referencing the standard XML documents specified in Clause 9, becoming:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="ImageTBDCRSpixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<srsName>Image TBD CRS pixel centers</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpixelCenter</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/>


</ImageCRS>



 


This simplified template XML document is recommended for use in defining the CRSs of unrectified images. Of course, the included XML comments and <remarks> elements can be removed or edited.


8 Georectified grid CRSs definition XML encoding

8.1 Overview


When using this GML 3.1.1 profile, the definition of each georectified image or grid coverage coordinate reference system (CRS) shall be XML encoded using the DerivedCRS element, defined in the attached normative XML Schema Document named coordinateReferenceSystems.xsd. The GML objects contained or referenced in this DerivedCRS are indicated in this XML document skeleton:


NOTE 1
This profile specifies use of the DerivedCRS element for georectified image CRSs to support georectified images which are directly ready for image mosaicking. For image mosaicking, multiple georectified images must use exactly the same pixel positions wherever they (do or might) overlap. This means that the grids must have the same baseCRSs, grid point spacings in that CRS, and grid rotation in that CRS. When different origins are used, these origins must be grid points in the same SC_DerivedCRS.


<DerivedCRS>



<baseCRS>




<ProjectedCRS></ProjectedCRS> or <GeographicCRS></GeographicCRS>



</baseCRS>



<definedByConversion>




<Conversion>





<usesMethod>






<OperationMethod>







<usesParameter> (one or more)








<OperationParameter></OperationParameter>







</usesParameter>







<usesParameter> or








<OperationParameterGroup></OperationParameterGroup>







</usesParameter>






</OperationMethod>





</usesMethod>





<usesValue></usesValue> (one or more)




</Conversion>



</definedByConversion>



<usesCS>




<CartesianCS>





<usesAxis>






<CoordinateSystemAxis></CoordinateSystemAxis>





</usesAxis>





<usesAxis>






<CoordinateSystemAxis></CoordinateSystemAxis>





</usesAxis>




</CartesianCS>



</usesCS>


</DerivedCRS>





NOTE 2
The UML class diagrams contained in Subclause C.3 provide graphical views of the contents of the DerivedCRS XML element.

This skeleton XML document indicates that:


a) A DerivedCRS element shall contain one baseCRS, one definedByConversion, and one usesCS XML elements (in addition to other mandatory and optional information).


b) That baseCRS element shall reference or contain the definition of either a ProjectedCRS or a 2D GeographicCRS, as specified in the GML 3.1.1 Common CRSs profile.


NOTE 3
The two axes of a GeographicCRS are usually named geodetic latitude and geodetic longitude, with coordinates listed in that order and with both latitude and longitude values given in decimal degrees. The two axes of a ProjectedCRS are often named Easting and Northing, not always in that order, with values often given in metres.


c) That definedByConversion element shall reference or contain the definition of one Conversion, as specified in the GML 3.1.1 Common CRSs profile.



f) That usesCS element shall reference or contain the definition of one CartesianCS.


g) That CartesianCS definition element shall contain an ordered sequence of two usesAxis elements, as specified in the GML 3.1.1 common CRSs profile.


h) Each of those usesAxis elements shall reference or contain the definition of one CoordinateSystemAxis. The referenced or listed axis order shall be used for position coordinates in that image, with the specified units of each axis, normally grid spacing units. Non-integer values for these axes shall be used to specify positions between the pixels.


This DerivedCRS element specifies how to define the CRS of each georectified image. These definitions are not always required to be transferred between OGC web servers and clients. However, these definitions shall be used in defining the definedByConversion Conversion and the georeferencing coordinate Transformations, and shall be referenced by those coordinate transformation definitions.


This CRS for a georectified image shall be identified as the CRS of feature geometries measured or computed in that georectified image. This CRS should also be used for identification of the georeferencing coordinate transformations discussed in Subclause 7.2.2.1 of the “WCTS profile for unrectified images” [draft].


NOTE 4
The gml:RectifiedGrid element in grids.xsd of GML 3.1.1 specifies the locations of a grid of points in a base or external CRS. The relationship between those grid points and the image or grid coverage pixels is largely defined by gml:coverageFunction. However, a gml: _Coverage is not a CRS, so does not define a CRS suitable for positions that are measured or computed in that georectified image. Also, it does not define a CRS that can be used as the sourceCRS or targetCRS of a coordinate Transformation.

8.2 Full XML document template


An example template XML document completely defining a DerivedCRS for a georectified image is:


<?xml version="1.0" encoding="UTF-8"?>


<DerivedCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="GeorectifiedImageXXXXCRS">



<!-- Specific georectified image or grid must be identified in this gml:id. -->



<!-- Last updated 2005-10-04 -->



<!-- ========================================================== -->



<srsName>Georectified Image XXXX CRS</srsName>



<!-- Specific georectified image or grid must be identified in srsName. -->



<srsID>




<name codeSpace="urn:opengis:def:crs:OGC:0.20:GeorectifiedImageXXXXCRS">GeorectifiedImageXXXXCRS</name>




<!-- Specific image must be identified in "name" value. -->



</srsID>



<remarks>Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. </remarks>



<baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/>



<!-- Specific 2D CRS that was georectified into must be identified in baseCRS, usually a ProjectedCRS or GeographicCRS -->



<!-- ================================================= -->



<definedByConversion>




<Conversion gml:id="GeorectifiedImageXXXXConversion">





<!-- Specific georectified image or grid must be identified in this gml:id. -->





<coordinateOperationName>Georectified image XXXX conversion</coordinateOperationName>





<!-- Specific image must be identified in this coordinateOperationName. -->





<usesMethod>






<OperationMethod gml:id="EPSG9624">







<methodName>Affine general parametric transformation</methodName>







<methodID>








<name codeSpace="urn:opengis:method:EPSG:6.3:">9624</name>







</methodID>







<methodFormula>


XT   =  A0  +  A1. XS  +  A2.YS; 


YT   =  B0  +  B1. XS  +  B2.YS; 


where XT , YT are the coordinates of a point P in the target coordinate system; 




XS , YS are the coordinates of P in the source coordinate system. 


Reversibility: The parameter values for an affine transformation cannot be used for the reverse transformation. However, the reverse transformation is another affine transformation using the same formulas but with different parameter values. The reverse parameter values, indicated by a prime ('), can be calculated from those of the forward transformation as follows:


D    = A1 . B2   -   A2 . B1; 


A0' = (A2 . B0   -   B2 . A0) / D; 


B0' = (B1 . A0   -   A1 . B0) / D; 


A1' = +B2 / D; 


A2' = - A2 / D; 


B1' = - B1 / D; 


B2' = +A1 / D. 


See Section 2.4.2.1 of EPSG Guidance Note 7. </methodFormula>







<sourceDimensions>2</sourceDimensions>







<targetDimensions>2</targetDimensions>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8623">









<parameterName>A0</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8623</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8624">









<parameterName>A1</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8624</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8625">









<parameterName>A2</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8625</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8639">









<parameterName>B0</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8639</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8640">









<parameterName>B1</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8640</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8641">









<parameterName>B2</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8641</name>









</parameterID>








</OperationParameter>







</usesParameter>






</OperationMethod>





</usesMethod>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.






The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.






The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/>





</usesValue>




</Conversion>



</definedByConversion>



<!-- ================================================ -->



<derivedCRSType codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType>



<!-- ================================================ -->



<usesCS>




<CartesianCS gml:id="Grid2dSquareCS">





<csName>2D square-cell grid based coordinate system</csName>





<csID>






<name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name>





</csID>





<remarks>A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 


In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.


The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.


If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 


The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. </remarks>





<usesAxis>






<CoordinateSystemAxis gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid row axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name>







</axisID>







<remarks>For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. </remarks>







<axisAbbrev>R</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>





<usesAxis>






<CoordinateSystemAxis gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid column axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name>







</axisID>







<remarks>For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. </remarks>







<axisAbbrev>C</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>




</CartesianCS>



</usesCS>


</DerivedCRS>





The above template XML document uses the operation Method catalogued by the EPSG using code 9624, because that EPSG method seems closest to the desired Method. However, various other operation Methods could be used, including Methods specified by the OGC. For example, one or more operation Methods could be defined that use parts of the gml:RectifiedGrid element as operation Parameters.


8.3 Recommended simple XML document template


The above example template XML document can be simplified by referencing the standard XML documents specified in Clause 9, and referencing the EPSG 9624 Operation Method, becoming:


<?xml version="1.0" encoding="UTF-8"?>


<DerivedCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="GeorectifiedImageXXXXCRS">



<!-- Specific georectified image or grid must be identified in this gml:id. -->



<!-- Last updated 2005-10-04 -->



<!-- ========================================================== -->



<srsName>Georectified Image XXXX CRS</srsName>



<!-- Specific georectified image or grid must be identified in srsName. -->



<srsID>




<name codeSpace="urn:opengis:def:crs:OGC:0.:GeorectifiedImageCRS">GeorectifiedImageXXXXCRS</name>




<!-- Specific image must be identified in "name" value. -->



</srsID>



<remarks>Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. </remarks>



<baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/>



<!-- Specific 2D CRS that was georectified into must be identified in baseCRS, usually a ProjectedCRS or GeographicCRS -->



<!-- ================================================= -->



<definedByConversion>




<Conversion gml:id="GeorectifiedImageXXXXConversion">





<!-- Specific georectified image or grid must be identified in this gml:id. -->





<coordinateOperationName>Georectified image XXXX conversion</coordinateOperationName>





<!-- Specific image must be identified in this coordinateOperationName. -->





<usesMethod xlink:href="urn:opengis:method:EPSG:6.3:9624"/>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.






The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.






The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/>





</usesValue>




</Conversion>



</definedByConversion>



<!-- ================================================ -->



<derivedCRSType codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType>



<usesCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>


</DerivedCRS>





This simplified template XML document is recommended for use in defining the CRSs of georectified images. Of course, the OperationMethod can be changed, and the included XML comments and <remarks> elements can be removed or edited.


9 Georeferencing Transformations definition XML encoding

9.1 Overview


An unrectified image can be georeferenced by at least one coordinate transformation, between the CRS of the unrectified image and a reference CRS for positions relative to the earth (or other planet or moon). This georeferencing coordinate transformation can be represented by a coordinate Transformation in GML. A frequent alternative to using one Transformation is using a ConcatenatedOperation that sequentially combines two or more Transformations. PassThroughOperations and Conversions can also be used in such a ConcatenatedOperation.


This reference CRS is assumed to be 3D, while the unrectified image is only 2D. The georeferencing coordinate transformation is thus assumed to be from the reference 3D CRS to the 2D image CRS. If the reference CRS were 2D, that would be equivalent to combining the georeferencing coordinate transformation with the elevation model coordinate transformation discussed later in this clause.


When using this GML 3.1.1 profile, the definition of each georeferencing coordinate transformation shall be XML encoded using the Transformation or ConcatenatedOperation element, defined in the attached normative XML Schema Document named coordinateOperations.xsd. The GML objects contained or referenced in such a Transformation are indicated in this XML document skeleton:


<Transformation>



<sourceCRS>




<CompoundCRS></CompoundCRS> or <GeographicCRS></GeographicCRS>



</sourceCRS>



<targetCRS>




<ImageCRS></ImageCRS>



</targetCRS>



<usesMethod>




<OperationMethod>





<usesParameter> (one or more)






<OperationParameter></OperationParameter>





</usesParameter>





<usesParameter>






<OperationParameter></OperationParameter>





</usesParameter>




</OperationMethod>



</usesMethod>



<usesValue></usesValue> (one or more)



<usesValue></usesValue> 


</Transformation>





NOTE 1
The UML class diagrams contained in Subclause C.4 provide graphical views of the contents of the Transformation and ConcatenatedOperation XML elements.


This skeleton XML document indicates that:


a) A Transformation element shall contain one sourceCRS, one TargetCRS, one usesMethod, and one or more usesValue XML elements (in addition to other mandatory and optional information).

b) That sourceCRS element shall reference or contain the definition of one CompoundCRS or 3D GeographicCRS, as specified in the GML 3.1.1 Common CRSs Profile.

c) That targetCRS element shall reference or contain the definition of one ImageCRS.

d) That usesMethod element shall reference or contain the definition of one OperationMethod.

e) That OperationMethod definition element shall contain an unordered sequence of one or more usesParameter elements.


f) Each of those usesParameter elements shall reference or contain the definition of one OperationParameter.


g) Each of those usesValue elements shall contain one parameterValue element.

h) Each of those parameterValue elements shall contain the value of one parameter with one of several allowed data types. Alternately, a parameterValue element can reference a file containing a set of parameter values.

The GML objects contained or referenced in such ConcatenatedOperation are indicated in this XML document skeleton:


<ConcatenatedOperation>



<sourceCRS>




<ProjectedCRS></ProjectedCRS> or <GeographicSRS></GeographicSRS>



</sourceCRS>



<targetCRS>




<ImageCRS></ImageCRS>



</targetCRS>



<usesSingleOperation> (two or more)




<Transformation></Transformation>



</usesSingleOperation> or



<usesSingleOperation>




<Conversion></Conversion>



</usesSingleOperation>


</ConcatenatedOperation>





This skeleton XML document indicates that:


a) A ConcatenatedOperation element shall contain one sourceCRS, one TargetCRS, and an ordered sequence of two or more usesSingleOperation elements (in addition to other mandatory and optional information).

b) That sourceCRS element shall reference or contain one 3D CompoundCRS or GeographicCRS element.

c) That targetCRS element shall reference or contain one ImageCRS element.

d) Each of those usesSingleOperation elements shall reference or contain one Transformation or Conversion element. The contents of that Transformation or Conversion shall be as outlined above or in Subclause 9.1 of the GML 3.1.1 Common CRSs profile [OGC 05-095].


This Transformation or ConcatenatedOperation element specifies how to define a georeferencing coordinate transformation for an unrectified image. These definitions are often required to be transferred between OGC web servers and clients. These georeferencing coordinate transformations shall be defined using the definitions of the unrectified image CRS, and the definition of the reference CRS. For a Transformation or ConcatenatedOperation performing georectification, the definition of the DerivedCRS for the georectified image shall also be used, including the definition of the definedByConversion used by that DerivedCRS.


9.2 Image georeferencing Transformation full template


An example template XML document defining a Transformation for image georeferencing is:


<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="TemplateGeoreferencingTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<coordinateOperationName>Example template for image georeferencing coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 3D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesMethod>




<OperationMethod gml:id="ReplacementSensorModel">





<methodName>Replacement Sensor Model (RSM) coordinate Transformation</methodName>





<methodID>






<name codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name>





</methodID>





<remarks>This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). </remarks>





<methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. </methodFormula>





<sourceDimensions>3</sourceDimensions>





<targetDimensions>2</targetDimensions>





<usesParameter>






<OperationParameter gml:id="RSMParameters">







<parameterName>Parameters for Replacement Sensor Model (RSM). </parameterName>







<parameterID>








<name codeSpace="http://baesystems.com/rsm/rsmParameters"/>







</parameterID>







<remarks>The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. </remarks>






</OperationParameter>





</usesParameter>




</OperationMethod>



</usesMethod>



<usesValue>




<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>




<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>



</usesValue>


</Transformation>





This example template uses the “Replacement Sensor Model (RSM)” Operation Method for georeferencing Transformations. That example method uses one parameter named “RSMParameters” that contains the URL of a file containing all the RSM parameters for a specific image. That RSM Operation Method is an extension of the “Universal image geometry model transformation” described in OGC Discussion Paper [OGC 04-071].


9.3 Image georeferencing Transformation recommended simple template


That Operation Method could be specified elsewhere and referenced by this georeferencing Transformations template, instead of being included in-line. Doing this produces the simplified template XML document:


<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="TemplateGeoreferencingTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<coordinateOperationName>Example template for image georeferencing coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 3D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/>



<usesValue>




<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>




<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>



</usesValue>


</Transformation>





This simplified template XML document is recommended for use in defining the image georeferencing coordinate Transformations. Of course, the OperationMethod can be changed, and the included XML comments and <remarks> elements can be removed or edited.


9.4 Grid elevation model Transformation full template


A template XML document defining a Transformation for a grid elevation model is:


<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="TemplateGridElevationModelTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This targetCRS must be 3D. -->



</targetCRS>



<usesMethod>




<OperationMethod gml:id="GridElevationModel">





<methodName>Grid elevation model</methodName>





<methodID>






<name codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name>





</methodID>





<remarks>This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. </remarks>





<methodFormula>The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. </methodFormula>





<sourceDimensions>2</sourceDimensions>





<targetDimensions>3</targetDimensions>





<usesParameter>






<OperationParameter gml:id="GridElevationData">







<parameterName>Grid Elevation Data</parameterName>







<parameterID>








<name codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name>







</parameterID>







<remarks>The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. </remarks>






</OperationParameter>





</usesParameter>




</OperationMethod>



</usesMethod>



<usesValue>




<valueFile>http://baesystems.com/DEM/TBD</valueFile>




<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>



</usesValue>


</Transformation>





This example template uses the “GridElevationModel” Operation Method. That example method uses one parameter named “GridElevationData” that contains the URL of a file containing the grid elevation data.


9.5 Grid elevation model Transformation recommended simple template


That Operation Method could be specified elsewhere and referenced by this GridElevationModel Transformations template, instead of being included in-line. Doing this produces the simplified template XML document:


<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="TemplateGridElevationModelTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This targetCRS must be 3D. -->



</targetCRS>



<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/>



<usesValue>




<valueFile>http://baesystems.com/DEM/TBD</valueFile>




<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>



</usesValue>


</Transformation>





This simplified template XML document is recommended for use in defining grid elevation model coordinate Transformations. Of course, the OperationMethod can be changed, and the included XML comments and <remarks> elements can be removed or edited.


9.6 Concatenated operation full template


A template XML document defining a ConcatenatedOperation that combines the two full transformation templates above is:


<?xml version="1.0" encoding="UTF-8"?>


<ConcatenatedOperation xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" gml:id="TBD">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<coordinateOperationName>Template for ConcatenatedOperation</coordinateOperationName>



<remarks>Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. </remarks>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesSingleOperation>




<Transformation gml:id="TemplateGridElevationModelTransformation">





<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the sourceCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This targetCRS must be 3D. -->





</targetCRS>





<usesMethod>






<OperationMethod gml:id="GridElevationModel">







<methodName>Grid elevation model</methodName>







<methodID>








<name codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name>







</methodID>







<remarks>This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. </remarks>







<methodFormula>The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. </methodFormula>







<sourceDimensions>2</sourceDimensions>







<targetDimensions>3</targetDimensions>







<usesParameter>








<OperationParameter gml:id="GridElevationData">









<parameterName>Grid Elevation Data</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name>









</parameterID>









<remarks>The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. </remarks>








</OperationParameter>







</usesParameter>






</OperationMethod>





</usesMethod>





<usesValue>






<valueFile>http://baesystems.com/DEM/TBD</valueFile>






<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>





</usesValue>




</Transformation>



</usesSingleOperation>



<usesSingleOperation>




<Transformation gml:id="TemplateGeoreferencingTransformation">





<coordinateOperationName>Template for image georeferencing coordinate Transformation</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the targetCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>





<usesMethod>






<OperationMethod gml:id="ReplacementSensorModel">







<methodName>Replacement Sensor Model (RSM) coordinate Transformation</methodName>







<methodID>








<name codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name>







</methodID>







<remarks>This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). </remarks>







<methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. </methodFormula>







<sourceDimensions>3</sourceDimensions>







<targetDimensions>2</targetDimensions>







<usesParameter>








<OperationParameter gml:id="RSMParameters">









<parameterName>Parameters for Replacement Sensor Model (RSM). </parameterName>









<parameterID>










<name codeSpace="http://baesystems.com/rsm/rsmParameters"/>









</parameterID>









<remarks>The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. </remarks>








</OperationParameter>







</usesParameter>






</OperationMethod>





</usesMethod>





<usesValue>






<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>






<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>





</usesValue>




</Transformation>



</usesSingleOperation>


</ConcatenatedOperation>





9.7 Concatenated operation recommended simple template


The above template uses the “Replacement Sensor Model (RSM)” and “GridElevationModel” Operation Methods. Those Operation Methods could be specified elsewhere and referenced by this template, instead of being included in-line. Doing this produces the simplified template XML document:


<?xml version="1.0" encoding="UTF-8"?>


<ConcatenatedOperation xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="TemplateConcatenatedOperation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<coordinateOperationName>Template for ConcatenatedOperation</coordinateOperationName>



<remarks>Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. </remarks>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesSingleOperation>




<Transformation gml:id="TemplateGridElevationModelTransformation">





<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the sourceCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This targetCRS must be 3D. -->





</targetCRS>





<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/>





<usesValue>






<valueFile>http://baesystems.com/DEM/TBD</valueFile>






<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>





</usesValue>




</Transformation>



</usesSingleOperation>



<usesSingleOperation>




<Transformation gml:id="TemplateGeoreferencingTransformation">





<coordinateOperationName>Template for image georeferencing coordinate Transformation</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the targetCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>





<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/>





<usesValue>






<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>






<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>





</usesValue>




</Transformation>



</usesSingleOperation>


</ConcatenatedOperation>





This simplified template XML document is recommended for use in defining such concatenated Transformations. Of course, the OperationMethod(s) can be changed, and the included XML comments and <remarks> elements can be removed or edited. 


10 Standard URNs and XML definitions


10.1 Overview


This clause specifies a standard set of definitions and corresponding URNs that shall be used whenever applicable for unrectified and georectified images. Most of these definitions are encoded using this GML 3.1.1 Grid CRSs profile.


Whenever applicable, CRS definitions for images shall use the eight URNs in the “ogc” URN namespace that are specified in Table 1. The first two these URNs use the format for not-completely-specified objects specified in Subclause 7.2 of “URNs of definitions in ogc namespace” [OGC 05-010]. The remaining six of these URNs use the format for single objects specified in Subclause 7.1.


Table 1 — Standard URNs for unrectified images CRSs


		URN

		Object name & gml:id

		Definition specified in



		urn:ogc:def:crs:OGC:0.0: ImageCRSpixelCenter:TBD a

		ImageTBDCRSpixelCenter

		Subclause 9.2



		urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD a

		ImageTBDCRSpixelCorner

		Subclause 9.3



		urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS

		Grid2dSquareCS

		Subclause 9.4



		urn:ogc:def:axis:OGC:0.0:Row

		Row

		Subclause 9.5



		urn:ogc:def:axis:OGC:0.0:Column

		Column

		Subclause 9.6



		urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter

		ImageDatumPixelCenter

		Subclause 9.7



		urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner

		ImageDatumPixelCorner

		Subclause 9.8



		urn:ogc:def:uom:OGC:0.0:GridSpacing

		GridSpacing

		Subclause 9.9



		a
This “TBD” shall be replaced by the image identifier alphanumeric character string.





10.2 Image CRSs with origin in centre of first pixel


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD” shall reference the definition of an (unrectified) image CRS with its origin in the centre of the first pixel in the image file. This image CRS shall be for the image, or image group, whose alphanumeric character string identifier is substituted for the “TBD” in this URN.


NOTE 1
This document does not specify any format for an image alphanumeric identifier, since many different formats are used for such identifiers. One such format could concatenate a camera identifier with the image collection date and time.

The definitions of these image CRSs shall be the same as can be XML encoded using this GML 3.1.1 Grid CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageDatum xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="ImageDatumPixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<datumName>Origin at center of first pixel</datumName>



<datumID>




<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name>



</datumID>



<remarks>2D image datum with the origin at the center of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>



<anchorPoint>center of first pixel</anchorPoint>



<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell>


</ImageDatum>





NOTE 2
It is not expected to be necessary in most cases to produce an XML document that specifies the image CRS for a specific image identifier, since this CRS definition can be referenced using the specified URN value with the “TBD” replaced by the specific image identifier. However, it is possible to do this, as shown in the following example.

EXAMPLE 
If this XML document were modified to specify the image CRS with its origin in the centre of first pixel for an image with the identifier “C543D041201T084027”, this XML document could be:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml


../gridCRSsProfile.xsd" 


gml:id="ImageC543D041201T084027CRSpixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<srsName>Image C543D041201T084027 CRS pixel centers</srsName>



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">C543D041201T084027</name>




<!-- This name specifies the URN by which this CRS can be referenced. -->



</srsID>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/>


</ImageCRS>





10.3 Image CRSs with origin in corner of first pixel


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD” shall reference the definition of an (unrectified) image CRS with its origin in the outside corner of the first pixel in the image file. This image CRS shall be for the image, or image group, whose identifier is substituted for the “TBD” in this URN.


The definitions of these image CRSs shall be the same as can be XML encoded using this GML 3.1.1 Grid CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="ImageTBDCRSpixelCorner">



<!-- Specific image or group shall be identified by "TBD" in this gml:id. -->



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<!-- ========================================================== -->



<srsName>Image TBD CRS pixel corner</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">TBD</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the outside corner of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/>


</ImageCRS>





EXAMPLE 
If this XML document were modified to specify the image CRS with its origin in the outside corner of first pixel for an image with the identifier “C543D041201T084027”, this XML document could be:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="ImageC543D041201T084027CRSpixelCorner">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<srsName>Image C543D041201T084027 CRS pixel corners</srsName>



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">C543D041201T084027</name>




<!-- This name specifies the URN by which this CRS can be referenced. -->



</srsID>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/>


</ImageCRS>





10.4 Grid 2D square coordinate system


The URN “urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS” shall reference the definition of a Coordinate System for a 2D grid with square grid cells. The definition of this grid shall be the same as can be XML encoded using the GML 3.1.1 Common CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<CartesianCS xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../commonCRSsProfile.xsd" 


gml:id="Grid2dSquareCS">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<csName>2D square-cell grid based coordinate system</csName>



<csID>




<name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name>



</csID>



<remarks>2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value will be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 


In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.


The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.


If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 


The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. </remarks>



<usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Row"/>



<usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Column"/>


</CartesianCS>





This xml document references the two standard grid axes specified below.


10.5 Row coordinate axis


The URN “urn:ogc:def:axis:OGC:0.0:Row” shall reference the definition of the row coordinate axis for a 2D square grid coordinate system. The definition of this row axis shall be the same as can be XML encoded using the GML 3.1.1 Common CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<CoordinateSystemAxis xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../commonCRSsProfile.xsd" 


gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<name>Grid row axis</name>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name>



</axisID>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Line</name>



</axisID>



<remarks>For this first grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. </remarks>



<axisAbbrev>R</axisAbbrev>



<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDirection>


</CoordinateSystemAxis>





10.6 Column coordinate axis


The URN “urn:ogc:def:axis:OGC:0.0:Column” shall reference the definition of the column coordinate axis for a 2D square grid coordinate system. The definition of this column axis shall be the same as can be XML encoded using the GML 3.1.1 Common CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<CoordinateSystemAxis xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../commonCRSsProfile.xsd" 


gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 -->



<name>Grid column axis</name>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name>



</axisID>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Sample</name>



</axisID>



<remarks>For this second grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. </remarks>



<axisAbbrev>C</axisAbbrev>



<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axisDirection>


</CoordinateSystemAxis>





10.7 Image datum at pixel center


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter” shall reference the definition of an image datum with the origin at the centre of the first pixel. The definition of this image datum shall be the same as can be XML encoded using this GML 3.1.1 Grid CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageDatum xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="ImageDatumPixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<datumName>Origin at center of first pixel</datumName>



<datumID>




<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name>



</datumID>



<remarks>2D image datum with the origin at the center of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>



<anchorPoint>center of first pixel</anchorPoint>



<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell>


</ImageDatum>





10.8 Image datum at pixel corner


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner” shall reference the definition of an image datum with the origin at the outside corner of the first pixel. The definition of this image datum shall be the same as can be XML encoded using this GML 3.1.1 Grid CRSs profile as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageDatum xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 


gml:id="mageDatumPixelCorner">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<datumName>Origin at outside corner of first pixel</datumName>



<datumID>




<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCorner</name>



</datumID>



<remarks>2D image datum with the origin at the outside corner of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>



<anchorPoint>outside corner of first pixel</anchorPoint>



<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCorner</pixelInCell>


</ImageDatum>





10.9 Grid spacing unit of measure


The URN “urn:ogc:def:uom:OGC:0.0:GridSpacing” shall reference the definition of the grid spacing unit of measure (uom). The definition of this unit shall be the same as can be XML encoded using GML 3.1.1 (not this profile) as:


<?xml version="1.0" encoding="UTF-8"?>


<BaseUnit xmlns="http://www.opengis.net/gml" 


xmlns:gml="http://www.opengis.net/gml" 


xmlns:xlink="http://www.w3.org/1999/xlink" 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 


xsi:schemaLocation="http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/base/units.xsd" 


gml:id="GridSpacing">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04-->



<name>Spacing between adjacent grid points, or between centers of adjacent pixels</name>



<name codeSpace="urn:ogc:def:uom:OGC:1.0:">GridSpacing</name>



<quantityType>Length</quantityType>



<unitsSystem xlink:href="urn:ogc:def:uom:OGC:1.0:GridSpacing"/>


</BaseUnit>





Annex A
(normative)

Abstract test suite


An abstract test suite is not provided in this version of this Profile Implementation Specification.


Annex B
(informative)

UML model


B.1
Introduction


This annex provides UML models of the primary XML elements included in this GML 3.1.1 Grid CRSs profile, using the OGC/ISO profile of UML summarized in Subclause 5.3 of [OGC 05-008]. These UML models are all extracted from OGC Abstract Specification Topic 2 [OGC 05-O46r3]. The capitalization of attribute names uses the OGC/ISO profile of UML.


NOTE 
GML 3.1.1 is not yet fully harmonized with Abstract Specification Topic 2, so the XML document examples in Clauses 7-9 are not fully consistent with the following UML class diagrams.


B.2
Unrectified image CRSs


B.2.1
Simple UML model


Figure B.1 is a simplified UML class diagram, extracted from Topic 2, that shows all the concrete (non-abstract) object classes and associations related to the SC_ImageCRS class. To keep this diagram simple, none of the class attributes are displayed. This diagram does not show that the SC_ImageCRS class can use the CS_AffineCS class, which is not supported by this profile.


CS_CoordinateSystemAxis


(from CS_CoordinateSystem)


CD_ImageDatum


(from CD_Datum)


CS_CartesianCS


(from CS_CoordinateSystem)


2


0..*


+usesAxis2


0..*


SC_ImageCRS


(from SC_CoordinateReferenceSystem)


0..*


1


0..*


+usesDatum1


1


0..*


+usesCartesianCS


1


0..*




Figure B.1 — ImageCRS simple UML class diagram


Notice that the ImageCRS class does NOT include or reference any coordinate Transformations or operations which can be used to georeference this image. However, the coordinate Transformations or operations available to georeference an unrectified image can be saved with that image. These transformations must reference or include the ImageCRS used for that unrectified image.


B.2.2
Full UML model


Figure B.2 is a more complete UML class diagram extracted from Topic 2 that shows essentially all the classes and associations related to the SC_ImageCRS class. 


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier


+ alias [0..*] : GenericName


+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


RS_ReferenceSystem


+ name : RS_Identifier


+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


SC_CRS


+ scope [0..*] : CharacterString


(from SC_CoordinateReferenceSystem)


<<Abstract>>


EX_Extent


(from EX_Extent)


<<DataType>>


MD_Identifier


+ authority [0..1] : CI_Citation


+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString


+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


IO_IdentifiedObject


+ name : RS_Identifier


(from IO_IdentifiedObject)


<<Abstract>>


CS_RangeMeaning


+ exact


+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>


CS_AxisDirection


+ columnNegative


+ columnPositive


+ rowNegative


+ rowPositive


(from CS_CoordinateSystem)


<<CodeList>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString


+ axisDirection : CS_AxisDirection


+ axisUnitID : UnitOfMeasure


+ minimumValue [0..1] : Number


+ maximumValue [0..1] : Number


+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem


(from CS_CoordinateSystem)


<<Abstract>>


0..*


0..*


+usesAxis


0..*


{ordered}


0..*


CD_Datum


+ anchorPoint [0..1] : CharacterString


+ realizationEpoch [0..1] : Date


+ domainOfValidity [0..1] : EX_Extent


+ scope [0..*] : CharacterString


(from CD_Datum)


<<Abstract>>


CD_PixelInCell


+ cellCenter


+ cellCorner


(from CD_Datum)


<<CodeList>>


Defined in 


ISO 19115


SC_SingleCRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


CD_ImageDatum


+ pixelinCell : CD_PixelinCell


(from CD_Datum)


CS_CartesianCS


(from CS_CoordinateSystem)


SC_ImageCRS


(from SC_CoordinateReferenceSystem)


0..*


1


0..*


+usesDatum


1


1


0..*


+usesCartesianCS1


0..*




Figure B.2 — ImageCRS full UML class diagram


B.3
Georectified image coordinate reference systems


B.3.1
Simple UML model


Figure B.3 is a simplified UML class diagram extracted from Topic 2 that shows all the concrete (non-abstract) object classes and associations related to the SC_DerivedCRS class when used for a georectified image or other grid coverage. To keep this diagram simple, none of the class attributes are displayed. This diagram shows that the SC_DerivedCRS class can use as its baseCRS either a SC_GeographicCRS or SC_ProjectedCRS. The CC_Conversion class is detailed in Subclause B.4, the SC_GeographicCRS class is detailed in Subclause B.2, and the SC_ProjectedCRS class is detailed in Subclause B.3, all in [OGC 05-095r1].


SC_DerivedCRSType


(from SC_CoordinateReferenceSystem)


<<CodeList>>


CS_CartesianCS


(from CS_CoordinateSystem)


CS_CoordinateSystemAxis


(from CS_CoordinateSystem)


2


0..*


+usesAxis


0..*


2


SC_GeographicCRS


(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS


(from SC_CoordinateReferenceSystem)


1


0..*


+base


CRS


1


0..*


    {XOR}


SC_DerivedCRS


(from SC_CoordinateReferenceSystem)


1


0..*


+usesCartesianCS


1


0..*


0..1


0..*


+baseCRS


0..1


0..1


0..*


+baseCRS


0..1


CC_Conversion


(from CC_CoordinateOperation)


1


0..*


+definedBy


Conversion


1


0..*


0..*0..*




Figure B.3 — DerivedCRS simple UML class diagram


Notice that this SC_DerivedCRS class does NOT include or reference any coordinate Transformations or operations which could be used to georeference the original image that was georectified. However, the coordinate Transformations and operations used to georeference and georectify the original image should be saved with the georectified image. One of these transformations must reference or include the SC_DerivedCRS used for that georectified image.


NOTE 
The image georectification process must use a georeferencing coordinate Transformation (or ConcatenatedOperation). That georeferencing Transformation must have the unrectified image CRS (ImageCRS) as its source (or target) CRS. That georeferencing Transformation could have the georectified image CRS (DerivedCRS) as its target (or source) CRS; in this case, the definedByConversion might not be used to perform the georectification. Alternately, that georeferencing Transformation could have the (GeographicCRS or ProjectedCRS) baseCRS of the georectified image CRS (DerivedCRS) as its target (or source) CRS; in this case (discussed in Clause 8), the definedByConversion must also be used to perform the georectification. There are probably other useful alternatives.


B.3.2
Full UML model


Figure B.4 is a more complete UML class diagram extracted from Topic 2 that shows essentially all the classes and associations related to the SC_DerivedCRS class. Again, the CC_Conversion class is detailed in Subclause B.4, the SC_GeographicCRS class is detailed in Subclause B.2, and the SC_ProjectedCRS class is detailed in Subclause B.3, all in [OGC 05-095r1].


0..*


SC_DerivedCRSType


+ geographic


+ vertical


+ geocentric


+ engineering


+ image


+ temporal


(from SC_CoordinateReferenceSystem)


<<CodeList>>


RS_ReferenceSystem


+ name : RS_Identifier


+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


(derived)


SC_CRS


+ scope [0..*] : CharacterString


(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeneralDerivedCRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_Conversion


(from CC_CoordinateOperation)


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier


+ alias [0..*] : GenericName


+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


SC_SingleCRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeographicCRS


(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS


(from SC_CoordinateReferenceSystem)


0..*


+definedBy


Conversion


1


0..*


1


+base


CRS


1


0..*


1


0..*


MD_Identifier


+ authority [0..1] : CI_Citation


+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString


+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


EX_Extent


(from EX_Extent)


<<DataType>>


Defined in 


ISO 19115


CS_AxisDirection


+ east


+ north


+ south


+ west


(from CS_CoordinateSystem)


<<CodeList>>


CS_RangeMeaning


+ exact


+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>


IO_IdentifiedObject


+ name : RS_Identifier


(from IO_IdentifiedObject)


<<Abstract>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString


+ axisDirection : CS_AxisDirection


+ axisUnitID : UnitOfMeasure


+ minimumValue [0..1] : Number


+ maximumValue [0..1] : Number


+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem


(from CS_CoordinateSystem)


<<Abstract>>


CS_CartesianCS


(from CS_CoordinateSystem)


+usesAxis


0..*


{ordered}


0..*


0..*


0..*


SC_DerivedCRS


+ derivedCRSType : SC_DerivedCRSType


(from SC_CoordinateReferenceSystem)


1


0..*


+base


CRS


1


1


0..*


+usesCS1


0..*




Figure B.4 — DerivedCRS full UML class diagram


The reference CRS is assumed to be 3D, while the unrectified image is only 2D. The georeferencing coordinate transformation is thus assumed to be from the reference 3D CRS to the 2D image CRS. If the reference CRS is 2D, that would be equivalent to combining the georeferencing coordinate transformation with the elevation model coordinate transformation discussed later in this clause.


B.4
Georeferencing coordinate transformations


B.4.1 Simple UML model


Figure B.5 is a simplified UML class diagram extracted from Topic 2 for a CC_Transformation and CC_ConcatenatedOperation. This diagram shows most of the concrete (non-abstract) classes and associations related to the CC_Transformation and CC_ConcatenatedOperation classes, except for the CC_ParameterValueGroup and CC_OperationParameterGroup classes. The CC_ParameterValueGroup and CC_OperationParameterGroup classes are rarely useful, and are not included in this profile. 


(ordered)


CC_ConcatenatedOperation


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_Transformation


(from CC_CoordinateOperation)


2..*0..*


+useOperation


2..*0..*


0..*


1


+usesValue


0..*


1


CC_OperationParameter


(from CC_CoordinateOperation)


0..*


1


0..*


+valueOfParameter


1


CC_OperationMethod


(from CC_CoordinateOperation)


1


0..*


+usesMethod1


0..*


0..*


0..*


+usesParameter


0..*


0..*




Figure B.5 — Transformation and ConcatenatedOperation simple class diagram


To keep this diagram simple, none of the class attributes are displayed. The CC_ConcatenatedOperation class can also have usesOperation associations to the CC_Conversion class, with each associated object of CC_Conversion class substituting for an object of CC_Transformation class in this UML model.


This simplified UML diagram does not include the two associations with the role names sourceCRS and targetCRS, required to the abstract SC_CRS class from both the CC_Transformation and CC_ConcatenatedOperation classes. For a georeferencing Transformation, the targetCRS will be a SC_ImageCRS and the sourceCRS will be the reference CRS used in that georeferencing, both being non-abstract subclasses of the SC_CRS class.


B.4.2
Full UML model


Figure B.6 is a more complete UML class diagram extracted from Topic 2 for a coordinate CC_Transformation and CC_ConcatenatedOperation. This diagram shows essentially all the classes and associations related to the CC_Transformation and CC_ConcatenatedOperation classes, except for the:


a) Contents of the DQ_PositionalAccuracy and EX_Extent classes, defined in ISO 19115


b) Contents of the SC_CRS class, such as defined in Subclauses B.2.2 and B.3.2


DQ_PositionalAccuracy


(from DQ_DataQuality)


<<Abstract>>


EX_Extent


(from EX_Extent)


<<DataType>>


IO_IdentifiedObject


+ name : RS_Identifier


(from IO_IdentifiedObject)


<<Abstract>>


Defined in 


ISO 19115


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier


+ alias [0..*] : GenericName


+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


CC_ParameterValue


+ value : Measure


+ stringValue : CharacterString


+ integerValue : Integer


+ booleanValue : Boolean


+ valueList : Sequence<Measure>


+ integerValueList : Sequence<Integer>


+ valueFile : CharacterString


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter


(from CC_CoordinateOperation)


0..*


1


0..*


+valueOfParameter


1


CC_OperationMethod


+ formula : CharacterString


+ sourceDimensions : Integer


+ targetDimensions : Integer


(from CC_CoordinateOperation)


CC_Operation


(from CC_CoordinateOperation)


<<Abstract>>


0..*


1


0..*


+usesMethod


1


CC_Transformation


+ operationVersion : CharacterString


(from CC_CoordinateOperation)


SC_CRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_CoordinateOperation


+ operationVersion [0..1] : CharacterString


+ domainOfValidity [0..1] : EX_Extent


+ scope [0..*] : CharacterString


+ coordinateOperationAccuracy [0..*] : DQ_PositionalAccuracy


(from CC_CoordinateOperation)


<<Abstract>>


0..1


0..*


+target 


CRS


0..1


0..*


Target


0..1


0..*


+source 


CRS


0..1


0..*


Source


CC_ConcatenatedOperation


(from CC_CoordinateOperation)


CC_SingleOperation


(from CC_CoordinateOperation)


<<Abstract>>


0..*2..*0..*


+usesOperation


2..*


{ordered}


CC_OperationParameterGroup


+ maximumOccurs [0..1] : Integer


(from CC_CoordinateOperation)


CC_ParameterValueGroup


(from CC_CoordinateOperation)


+valuesOfGroup


1


0..*


1


0..*


CC_GeneralParameterValue


(from CC_CoordinateOperation)


<<Abstract>>


1


0..*


1


+usesValue0..*


2..*


1


2..*


+includesValue


1


CC_GeneralOperationParameter


+ minimumOccurs [0..1] : Integer


(from CC_CoordinateOperation)


<<Abstract>>


0..*


0..*


0..*


+usesParameter


0..*


2..*


0..*


+includesParameter


2..*


0..*




Figure B.6 — Transformation and ConcatenatedOperation full UML class diagram


Notice that each Transformation and ConcatenatedOperation inherits two associations with the role names sourceCRS and targetCRS, required to the abstract SC_CRS class from both the CC_Transformation and CC_ConcatenatedOperation classes. For a georeferencing Transformation, the targetCRS will be a SC_ImageCRS and the sourceCRS will be the reference CRS used in that georeferencing, both being non-abstract subclasses of the SC_CRS class.


Bibliography


[1] OGC 04-071, Some image geometry models

[2] OGC 04-046r3, OGC Abstract Specification Topic 2, Spatial referencing by coordinates 

[3] OGC 05-011, Recommended XML/GML 3.1.1 encoding of common CRS definitions

[4] OGC 05-013, Web Coordinate Transformation Service (WCTS) draft Implementation Specification

[5] OGC 05-027r1, Recommended XML/GML 3.1.1 encoding of image CRS definitions

		

		





		2

		Copyright © 2006 Open Geospatial Consortium, Inc. All Rights Reserved.





		Copyright © 2006 Open Geospatial Consortium, Inc. All Rights Reserved.

		3









05-096r1 Grid CRSs Profile.pdf


 


Open Geospatial Consortium Inc. 


Date: 2005-11-15 


Reference number of this document: OGC 05-096r1 


Version: 1.0.0 


Category: OpenGIS® Implementation Specification 


Editor: Arliss Whiteside 


 


GML 3.1.1 grid CRSs profile 
 


 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 


Document type: OpenGIS® Implementation Specification 
Document subtype: GML Profile 
Document stage: Version 1.0.0 
Document language: English 


 
 



http://www.opengeospatial.org/legal/





OGC 05-096r1 


ii Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


Contents Page 


i. Preface.................................................................................................................... iv 


ii. Document terms and definitions ............................................................................ iv 


iii. Document contributor contact points..................................................................... iv 


iv. Revision history .......................................................................................................v 


v. Changes to OGC Specifications...............................................................................v 


vi. Future work..............................................................................................................v 


Foreword ..............................................................................................................................v 


Introduction........................................................................................................................ vi 


1 Scope........................................................................................................................1 


2 Compliance ..............................................................................................................1 


3 Normative references ...............................................................................................2 


4 Terms and definitions ..............................................................................................3 


5 Conventions .............................................................................................................3 
5.1 Abbreviated terms ...............................................................................................3 
5.2 UML notation ......................................................................................................4 


6 Grid CRSs profile ....................................................................................................4 
6.1 Background .........................................................................................................4 
6.2 Overview .............................................................................................................4 
6.3 XML schema documents.....................................................................................5 
6.4 CRS definitions use .............................................................................................6 


7 Unrectified image CRSs definition XML encoding ................................................6 
7.1 Overview .............................................................................................................6 
7.2 Full XML document template .............................................................................7 
7.3 Recommended simple XML document template ................................................9 


8 Georectified grid CRSs definition XML encoding................................................10 
8.1 Overview ...........................................................................................................10 
8.2 Full XML document template ...........................................................................12 
8.3 Recommended simple XML document template ..............................................17 


9 Georeferencing Transformations definition XML encoding .................................19 
9.1 Overview ...........................................................................................................19 
9.2 Image georeferencing Transformation full template.........................................21 
9.3 Image georeferencing Transformation recommended simple template ............22 
9.4 Grid elevation model Transformation full template..........................................23 
9.5 Grid elevation model Transformation recommended simple template .............24 
9.6 Concatenated operation full template................................................................25 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. iii
 


9.7 Concatenated operation recommended simple template ...................................27 


10 Standard URNs and XML definitions....................................................................28 
10.1 Overview ...........................................................................................................28 
10.2 Image CRSs with origin in centre of first pixel.................................................29 
10.3 Image CRSs with origin in corner of first pixel ................................................30 
10.4 Grid 2D square coordinate system ....................................................................31 
10.5 Row coordinate axis ..........................................................................................32 
10.6 Column coordinate axis.....................................................................................33 
10.7 Image datum at pixel center ..............................................................................34 
10.8 Image datum at pixel corner..............................................................................34 
10.9 Grid spacing unit of measure.............................................................................35 


Annex A (normative)  Abstract test suite ..........................................................................36 


Annex B (informative)  UML model .................................................................................37 
B.1 Introduction .......................................................................................................37 
B.2 Unrectified image CRSs....................................................................................37 


B.2.1 Simple UML model ......................................................................................37 
B.2.2 Full UML model................................................................................................38 
B.3 Georectified image coordinate reference systems.............................................39 


B.3.1 Simple UML model ......................................................................................39 
B.3.2 Full UML model ...........................................................................................39 


B.4 Georeferencing coordinate transformations ......................................................41 
B.4.1 Simple UML model............................................................................................41 
B.4.2 Full UML model ...........................................................................................42 


Bibliography ......................................................................................................................45 
 


Figures Page 
Figure B.1 — ImageCRS simple UML class diagram .................................................................. 37 
Figure B.2 — ImageCRS full UML class diagram ....................................................................... 38 
Figure B.3 — DerivedCRS simple UML class diagram ............................................................... 39 
Figure B.4 — DerivedCRS full UML class diagram .................................................................... 40 
Figure B.5 — Transformation and ConcatenatedOperation simple class diagram ....................... 41 
Figure B.6 — Transformation and ConcatenatedOperation full UML class diagram................... 43 


Tables Page 
Table 1 — Standard URNs for unrectified images CRSs ............................................................. 29 
 







OGC 05-096r1 


iv Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


i. Preface 


This document defines a profile of the Geography Markup Language (GML) version 
3.1.1 for encoding definitions of grid coverage (including image) Coordinate Reference 
Systems (CRSs) plus related coordinate Transformations. This document also specifies 
some Universal Resource Names (URNs) for definitions in the “ogc” URN namespace, in 
addition to those specified in [OGC 05-010]. Additional specific URNs are defined for 
definitions of the datums, coordinate systems, and coordinate system axes which are 
often used in definitions of grid and image CRSs. 


This profile can be used without a GML Application Schema, and such use is assumed in 
this document. However, a GML Application Schema that uses this profile could be 
specified. For example, an Application Schema could specify “GridCRS” as a better 
name for a DerivedCRS that uses a CartesianCS. Or an Application Schema could allow 
or require more information to be encoded for an OperationParameter (such as specified 
in Subclause 14.3.2 and wctsOperationParameter.xsd of OGC Discussion Paper [OGC 
05-013]). 


Suggested additions, changes, and comments on this document are welcome and 
encouraged. Such suggestions may be submitted by email message or by using the formal 
Change Request Proposal process as defined in the TC Policies and Procedures. 


ii. Document terms and definitions 


This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008]. In 
particular, the word “shall” (not “must”) is the verb form used to indicate a requirement 
to be strictly followed to conform to this specification 


iii. Document contributor contact points 


All questions regarding this document should be directed to the editor or the contributors: 


Name Organization 
Arliss Whiteside BAE Systems E&IS 
  







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. v
 


iv. Revision history 


Date Release Editor Primary clauses modified Description 
2005-10-11 0.0.0 Arliss Whiteside All Initial release 
2005-11-15 0.0.1 Arliss Whiteside All General editing 


v. Changes to OGC Specifications 


No previously approved OGC™ Specifications need to be changed to accommodate the 
technical contents of this document. 


vi. Future work 


Improvements in this document may be desirable. There will be a 30-day public comment 
period to solicit input and comments from the broader geospatial community. 


Foreword 


This document specifies a subset profile of the existing OGC Implementation 
Specification for the Geometry Markup Language (GML) version 3.1.1 [OGC 03-105r1 
and 04-093r4], and does not modify it. This is a GML profile as specified in Subclause 22 
of [OGC 03-105r1]. This document supersedes Recommendation Paper [OGC 05-027r1], 
titled “Recommended XML/GML 3.1.1 encoding of image CRS definitions”. 


This document includes two annexes; Annex A is normative, and Annex B is 
informative. 


Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The OGC shall not be held responsible for identifying any or 
all such patent rights. 







OGC 05-096r1 


vi Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


Introduction 


This document specifies a GML profile for encoding definitions of grid coverage 
(including image) Coordinate Reference Systems (CRSs) plus related coordinate 
Transformations. This XML schema is a profile of the OGC Geography Markup 
Language (GML) version 3.1.1, using the separately specified “GML 3.1.1 common 
CRSs profile”. This profile supports XML encoding of definitions of Image and Derived 
(grid) CRSs, and definitions of coordinate Transformations for georeferencing images. 


This document also specifies some Universal Resource Names (URNs) for definitions in 
the “ogc” URN namespace. Specific URNs are defined for definitions of the datums, 
coordinate systems, and coordinate system axes which are often used in definitions of 
grid and image CRSs.  







OpenGIS® Implementation Specification – Type Profile OGC 05-096r1


 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 1
 


GML 3.1.1 grid CRSs profile 


1 Scope 
This GML 3.1.1 profile is defined for encoding definitions of grid coverage (including 
image) Coordinate Reference Systems (CRSs) plus related coordinate Transformations. 
This profile supports XML encoding of definitions of: 


a) Unrectified image CRSs, using ImageCRS elements 
b) Georectified image and grid coverage CRSs, using DerivedCRS element 
c) Coordinate Transformations for georeferencing images, using Transformation 


elements 


This document also specifies some Universal Resource Names (URNs) for definitions in 
the “ogc” URN namespace, in addition to those specified in [OGC 05-010]. Additional 
specific URNs are defined for definitions of the datums, coordinate systems, and 
coordinate system axes which are often used in definitions of grid and image CRSs. 
These definitions shall be used wherever applicable in XML encodings of definitions of 
grid and image CRSs.  


This “GML 3.1.1 Grid CRSs profile” uses the separately specified “GML 3.1.1 common 
CRSs profile” [OGC 05-095], specified to support encoding the definitions of commonly 
used CRSs. This profile is designed for use by a future image application profile of the 
future Web Coordinate Transformation Service (WCTS). 


This profile does not support encoding of geocentric, temporal, or engineering CRSs, or 
combining a temporal CRS with another CRS. It also does not support encoding of affine, 
spherical, cylindrical, linear, and user-defined coordinate systems, or engineering datums. 


2 Compliance 
All CRS and CRS-related definitions encoded using this profile shall produce XML 
documents that are fully compliant with the normative XML Schema Documents 
associated with this specification, named:  


a) gmlGridCRSsProfile.xsd 
b) coordinateOperations.xsd 
c) coordinateReferenceSystems.xsd 
d) dataQuality.xsd 
e) datums.xsd 







OGC 05-096r1 


2 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


Except for gmlGridCRSsProfile.xsd, all these XML Schema Documents contain the 
subset of the corresponding GML 3.1.1 document that is needed by this GML 3.1.1 Grid 
CRSs profile. This was done to facilitate checking that this profile is a strict subset of 
GML 3.1.1. This also facilitates comparing each document with the original, to determine 
which elements, attributes, and types were retained, and which were removed. 


XML documents compliant with this profile shall (directly or indirectly) import the 
gmlGridCRSsProfile.xsd XML Schema Document schema, which will be available 
following approval of this document at 
http://schemas.opengis.net/gml/3.1.1/Profiles/GridCRSs/1.0.0/. 


More specifically, compliance with this specification shall be checked using all the 
relevant tests specified in Annex A (normative). 


3 Normative references 
The following normative documents contain provisions that, through reference in this 
text, constitute provisions of this document. For dated references, subsequent 
amendments to, or revisions of, any of these publications do not apply. For undated 
references, the latest edition of the normative document referred to applies. 


European Petroleum Survey Group: EPSG Geodesy Parameters, available through 
http://www.epsg.org/ 


IETF RFC 2141 (May 1997), URN Syntax, R. Moats 
<http://www.ietf.org/rfc/rfc2141.txt> 


IETF RFC 2396 (August 1998), Uniform Resource Identifiers (URI): Generic Syntax, 
Berners-Lee, T., Fielding, N., and Masinter, L., eds., 
<http://www.ietf.org/rfc/rfc2396.txt> 


ISO 19105:2000, Geographic information — Conformance and Testing 


OGC 03-105r1, OpenGIS Geography Markup Language (GML) Implementation 
Specification, Version 3.1.0 


OGC 04-092r4, GML 3.1.1 schemas 


OGC 05-008, OGC Web Services Common Specification, Version 1.0.0 


OGC 05-010, URNs of definitions in ogc namespace (Recommendation Paper), Version 
1.0.0 


OGC 05-094r1, GML 3.1.1 CRS support profile (proposal) 


OGC 05-095r1, GML 3.1.1 common CRSs profile (proposal) 


W3C, Extensible Markup Language (XML) 1.0 (Second Edition), W3C 
Recommendation, 6 October 2000, http://www.w3.org/TR/REC-xml



http://www.w3.org/TR/REC-xml





OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 3
 


W3C, XML Schema Part 1: Structures, http://www.w3.org/TR/xmlschema-1


W3C, XML Schema Part 2: Datatypes, http://www.w3.org/TR/xmlschema-2


W3C, Namespaces in XML, http://www.w3.org/TR/1999/REC-xml-names-19990114 


In addition to this document, this specification includes several normative XML Schema 
Document files. Following approval of this document, these schemas will be posted 
online at the URL: http://schemas.opengis.net/gml/3.1.1/Profiles/GridCRSs/1.0.0/. These 
XML Schema Document files are also bundled with the present document. In the event of 
a discrepancy between the bundled and online versions of the XML Schema files, the 
online files shall be considered authoritative. 


4 Terms and definitions 
For the purposes of this specification, the definitions specified in Clause 4 of the GML 
3.1.1 common CRSs profile [OGC 05-095] shall apply. 


5 Conventions 


5.1 Abbreviated terms 


The abbreviated terms used in this document include: 


CRS Coordinate Reference System 


GML Geography Markup Language 


EPSG European Petroleum Survey Group:  


IETF Internet Engineering Task Force 


ISO International Organization for Standardization 


OGC Open Geospatial Consortium 


OWS OGC Web Service, or Open Web Service 


WCTS Web Coordinate Transformation Service 


UML Unified Modeling Language 


URI Universal Resource Identifier 


URL Uniform Resource Locator 


URN Universal Resource Name 


XML Extensible Markup Language 


2D Two Dimensional 


3D Three Dimensional 



http://www.w3.org/TR/xmlschema-1

http://www.w3.org/TR/xmlschema-2





OGC 05-096r1 


4 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


5.2 UML notation 


The diagrams that appear in this specification are presented using the Unified Modeling 
Language (UML) static structure diagram, as described in Subclause 5.2 of [OGC 05-
008]. 


6 Grid CRSs profile 


6.1 Background 


GML 3.1.1 includes six XML Schema Documents for encoding definitions of Coordinate 
Reference Systems (CRSs) and Coordinate Operations, namely: (listed alphabetically) 


a) coordinateOperations.xsd 
b) coordinateReferenceSystems.xsd 
c) coordinateSystems.xsd 
d) dataQuality.xsd 
e) datums.xsd 
f) referenceSystems.xsd 


However, this set of XML Schema Documents supports many abilities that are rarely 
used. Therefore, multiple CRS-related profiles of this part of GML 3.1.1 are expected to 
be useful and specified, where each profile is significantly simpler and thus easier to 
understand and use. One such profile is the GML 3.1.1 Common CRSs profile, specified 
in [OGC 05-095r1], which includes the most commonly-used CRSs but not image and 
grid CRSs. 


This GML 3.1.1 Grid CRSs profile was produced by building on the GML 3.1.1 
Common CRSs profile, and adding those parts of the above listed XML Schema 
Documents which are needed by grid and image coordinate reference systems. This 
profile also indirectly builds on the GML 3.1.1 CRS Support profile, which includes the 
needed profile of referenceSystems.xsd. 


6.2 Overview 


This document specifies a GML 3.1.1 profile for XML encoding of the definitions of 
image and grid coordinate reference systems (CRSs), where a grid CRS is a DerivedCRS. 
More specifically, this profile adds the following XML elements: 


a) ImageCRS in coordinateReferenceSystems.xsd, which is used to define unrectified 
image CRSs 


b) DerivedCRS in coordinateReferenceSystems.xsd, which is used to define georectified 
grid and image CRSs 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 5
 


c) Transformation in coordinateOperations.xsd, which is used to define the coordinate 
transformations required to georeference unrectified images 


d) ConcatenatedOperation and PassThroughOperation in coordinateOperations.xsd, 
which are used to combine multiple coordinate transformations and conversion(s) to 
georeference or georectify unrectified images 


In addition to the above listed XML elements, the elements, attributes, and types needed 
to support those were also added. For example, other added non-abstract GML object 
elements include:  


a) ImageDatum in datums.xsd 


b) absoluteExternalPositionalAccuracy, relativeInternalPositionalAccuracy, and 
covarianceMatrix in dataQuality.xsd 


This GML 3.1.1 Grid CRSs profile removes optional and alternative contents elements 
from the added XML elements and types, when these options and alternatives are rarely 
used for defining the supported Coordinate Reference Systems (CRSs) and Coordinate 
Operations. The removed contents elements included: 


a) metaDataProperty, from AbstractGeneralTransformationType in 
coordinateOperations.xsd 


6.3 XML schema documents 


This GML 3.1.1 Grid CRSs profile is specified in the five normative XML Schema 
Documents included in the zip file with this text document, which are named: 


a) gmlGridCRSsProfile.xsd 
b) coordinateOperations.xsd 
c) coordinateReferenceSystems.xsd 
d) dataQuality.xsd 
e) datums.xsd 


NOTE  Also included in the zip file with this document are copies of the GML 3.1.1 CRS Support and 
Common CRSs profiles XML Schema Documents, and of all the XML document examples listed in 
Clauses 7 through 9, so that those examples can be used as templates. 


All these XML Schema Documents contain documentation of the meaning of each 
element and attribute, and this documentation shall be considered normative as specified 
in Subclause 11.6.3 of [OGC 05-008]. 


After OGC acceptance of a Version 1.0.0 of this specification, these XML Schema 
Documents will also be posted online at the URL 
http://schemas.opengis.net/gml/3.1.1/Profiles/GridCRSs/1.0.0. In the event of a 
discrepancy between the bundled and online versions of the XML Schema Documents, 
the online files shall be considered authoritative. 







OGC 05-096r1 


6 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


6.4 CRS definitions use 


These CRS definitions are not always required to be transferred between servers and 
clients that use OGC Web Services (OWS) Implementation Specifications. However, 
these definitions shall be used when relevant in defining coordinate operations (including 
Conversions and Transformations), and shall be referenced by those coordinate operation 
definitions. 


References to these CRSs shall be in the form of the anyURI data type specified by XML 
Schema. As specified in Subclause 10.3 of “OWS common implementation 
specification” [OGC 05-008], such an anyURI value can be either a URL with standard 
form or a URN in the “ogc” URN namespace. As specified in Subclause 7.1 of “URNs 
for definitions in the ogc namespace” [OGC 05-010], URNs in the “ogc” URN 
namespace can be used to reference any CRS defined in the EPSG database. 


7 Unrectified image CRSs definition XML encoding 


7.1 Overview 


When using this GML 3.1.1 profile, the definition of each unrectified image coordinate 
reference system (CRS) shall be XML encoded using the ImageCRS element, defined in 
the attached normative XML Schema Document named 
coordinateReferenceSystems.xsd. The GML objects contained or referenced in this 
ImageCRS are indicated in this XML document skeleton: 


<ImageCRS> 
 <usesCartesianCS> 
  <CartesianCS gml:id="Grid2dSquareCS"> 
   <usesAxis> 
    <CoordinateSystemAxis></CoordinateSystemAxis> 
   </usesAxis> 
   <usesAxis> 
    <CoordinateSystemAxis></CoordinateSystemAxis> 
   </usesAxis> 
  </CartesianCS> 
 </usesCartesianCS> 
 <usesImageDatum> 
  <ImageDatum></ImageDatum> 
 </usesImageDatum> 
</ImageCRS> 
 
NOTE  The UML class diagrams contained in Subclause C.2 provide graphical views of the contents of 
the ImageCRS XML element. 


This skeleton XML document indicates that: 


a) An ImageCRS element shall contain one usesCartesianCS and one usesImageDatum 
XML elements (in addition to other mandatory and optional information). 


b) That usesCartesianCS element shall reference or contain the definition of one 
CartesianCS. 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 7
 


c) That CartesianCS definition element shall contain an ordered sequence of two 
usesAxis elements. 


d) Each of those usesAxis elements shall reference or contain the definition of one 
CoordinateSystemAxis. The referenced or listed axis order shall be used for position 
coordinates in that image, with the specified units of each axis, normally grid spacing 
units. 


e) That usesImageDatum element shall reference or contain the definition of one 
ImageDatum. 


This ImageCRS XML element specifies how to define the CRS of each unrectified 
image. ImageCRS definitions are not always required to be transferred between OGC 
web servers and clients. However, these definitions shall be used in defining 
georeferencing coordinate transformations, and shall be referenced by those coordinate 
transformation definitions. This unrectified image CRS shall be identified as the CRS of 
feature geometries measured or computed in that unrectified image. 


7.2 Full XML document template 


An example template XML document completely defining an ImageCRS is: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="ImageTBDCRSpixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <srsName>Image TBD CRS pixel centers</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpix
elCenter</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 
image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the center of the first pixel in the image 
file. This CRS definition can be used for any size image, since no 
image size is specified.  
 
This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS> 
  <CartesianCS gml:id="Grid2dSquareCS"> 







OGC 05-096r1 


8 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


   <csName>2D square-cell grid based coordinate system</csName> 
   <csID> 
    <name 
codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name> 
   </csID> 
   <remarks>A 2D grid-based coordinate system for use by an image 
or other continuous grid coverage. It can be used for a grid of any 
size, since no grid size is defined. This coordinate system specifies 
that each row coordinate value shall be listed before the column 
coordinate value. The grid cells are assumed to be square, with the 
same grid spacing or pixel spacing in each direction.  
 
In a grid coverage file, the "row" axis shall be the first axis by 
which grid points are sequenced, and the "column" axis shall be the 
second axis, as could be specified by the "scanDirection : 
Sequence(CharacterString)" attribute of the CV_SequenceRule class in 
Clause 8 of ISO 19123. With linear sequencing, the grid points in the 
first row shall be listed first, followed by other rows, with the grid 
points in each row listed in column number order. This relationship 
between the "row" and "column" names and the first grid points shall 
apply whether this Grid2dSquareCS is associated with a grid file before 
or after that file is recorded. 
 
The "row" and "column" axis names are used here although the 
"scanDirection : Sequence(CharacterString)" attribute may provide other 
axis names. Use of other axis names would require defining different 
CartesianCSs for other names, or adding other names as additional 
axisID values. The following XML includes the axis names "line" and 
"sample" as additional axisID values. 
 
If not otherwise identified in an image file, the "row" axis shall be 
the first axis whose number of pixels is identified, and the "column" 
axis shall be the second axis, as could be specified by the 
"extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in 
Clause 8 of ISO 19123. In either case, the first point in the grid 
coverage file is assumed to be numbered (1, 1), meaning row 1, column 
1.  
 
The first row in a grid is sometimes called the "top" row, the first 
column is sometimes called the "left" column, and the first grid point 
is then called the "upperLeft" point. If desired, those names can be 
used with this Grid2dSquareCS. However other names can also be used, 
since this Grid2dSquareCS has been defined so that it does not depend 
on such left/right, top/bottom, and up/down names. </remarks> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Row" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid row axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name> 
     </axisID> 
     <remarks>For this grid axis, row coordinate values match 
grid row numbers, but allow fractional coordinate values between grid 
points. The first row in a grid is sometimes called the "top" row, so 
the direction of this axis is "down", but these terms are not required. 
</remarks> 
     <axisAbbrev>R</axisAbbrev> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 9
 


    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDi
rection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Column" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid column axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name> 
     </axisID> 
     <remarks>For this grid axis, column coordinate values 
match grid column numbers, but allow fractional coordinate values 
between grid points. The first column is sometimes called the "left" 
column, so the direction of this axis is "right", but these terms are 
not required. </remarks> 
     <axisAbbrev>C</axisAbbrev> 
    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axi
sDirection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
  </CartesianCS> 
 </usesCartesianCS> 
 <usesImageDatum> 
  <ImageDatum gml:id="ImageDatumPixelCenter"> 
   <datumName>Origin at center of first pixel</datumName> 
   <datumID> 
    <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name> 
   </datumID> 
   <remarks>A 2D image datum with the origin at the center of the 
first pixel in the image file. In an image file, the pixels in the 
first row are assumed to be listed first, followed by other rows, with 
pixels in each row listed (and collected) in column number order. 
</remarks> 
   <anchorPoint>center of first pixel</anchorPoint> 
   <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell> 
  </ImageDatum> 
 </usesImageDatum> 
</ImageCRS> 
 


7.3 Recommended simple XML document template 


The above template XML document can be simplified by referencing the standard XML 
documents specified in Clause 9, becoming: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="ImageTBDCRSpixelCenter"> 







OGC 05-096r1 


10 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <srsName>Image TBD CRS pixel centers</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpix
elCenter</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 
image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the center of the first pixel in the image 
file. This CRS definition can be used for any size image, since no 
image size is specified.  
 
This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS 
xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/> 
</ImageCRS> 
  
This simplified template XML document is recommended for use in defining the CRSs of 
unrectified images. Of course, the included XML comments and <remarks> elements can 
be removed or edited. 


8 Georectified grid CRSs definition XML encoding 


8.1 Overview 


When using this GML 3.1.1 profile, the definition of each georectified image or grid 
coverage coordinate reference system (CRS) shall be XML encoded using the 
DerivedCRS element, defined in the attached normative XML Schema Document named 
coordinateReferenceSystems.xsd. The GML objects contained or referenced in this 
DerivedCRS are indicated in this XML document skeleton: 


NOTE 1 This profile specifies use of the DerivedCRS element for georectified image CRSs to support 
georectified images which are directly ready for image mosaicking. For image mosaicking, multiple 
georectified images must use exactly the same pixel positions wherever they (do or might) overlap. This 
means that the grids must have the same baseCRSs, grid point spacings in that CRS, and grid rotation in 
that CRS. When different origins are used, these origins must be grid points in the same SC_DerivedCRS. 


<DerivedCRS> 
 <baseCRS> 
  <ProjectedCRS></ProjectedCRS> or <GeographicCRS></GeographicCRS> 
 </baseCRS> 
 <definedByConversion> 
  <Conversion> 
   <usesMethod> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 11
 


    <OperationMethod> 
     <usesParameter> (one or more) 
      <OperationParameter></OperationParameter> 
     </usesParameter> 
     <usesParameter> or 
      <OperationParameterGroup></OperationParameterGroup> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <usesValue></usesValue> (one or more) 
  </Conversion> 
 </definedByConversion> 
 <usesCS> 
  <CartesianCS> 
   <usesAxis> 
    <CoordinateSystemAxis></CoordinateSystemAxis> 
   </usesAxis> 
   <usesAxis> 
    <CoordinateSystemAxis></CoordinateSystemAxis> 
   </usesAxis> 
  </CartesianCS> 
 </usesCS> 
</DerivedCRS> 
 
NOTE 2 The UML class diagrams contained in Subclause C.3 provide graphical views of the contents of 
the DerivedCRS XML element. 


This skeleton XML document indicates that: 


a) A DerivedCRS element shall contain one baseCRS, one definedByConversion, and 
one usesCS XML elements (in addition to other mandatory and optional information). 


b) That baseCRS element shall reference or contain the definition of either a 
ProjectedCRS or a 2D GeographicCRS, as specified in the GML 3.1.1 Common 
CRSs profile. 


NOTE 3 The two axes of a GeographicCRS are usually named geodetic latitude and geodetic longitude, 
with coordinates listed in that order and with both latitude and longitude values given in decimal degrees. 
The two axes of a ProjectedCRS are often named Easting and Northing, not always in that order, with 
values often given in metres. 


c) That definedByConversion element shall reference or contain the definition of one 
Conversion, as specified in the GML 3.1.1 Common CRSs profile.  


f) That usesCS element shall reference or contain the definition of one CartesianCS. 


g) That CartesianCS definition element shall contain an ordered sequence of two 
usesAxis elements, as specified in the GML 3.1.1 common CRSs profile. 


h) Each of those usesAxis elements shall reference or contain the definition of one 
CoordinateSystemAxis. The referenced or listed axis order shall be used for position 
coordinates in that image, with the specified units of each axis, normally grid spacing 
units. Non-integer values for these axes shall be used to specify positions between the 
pixels. 







OGC 05-096r1 


12 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


This DerivedCRS element specifies how to define the CRS of each georectified image. 
These definitions are not always required to be transferred between OGC web servers and 
clients. However, these definitions shall be used in defining the definedByConversion 
Conversion and the georeferencing coordinate Transformations, and shall be referenced 
by those coordinate transformation definitions. 


This CRS for a georectified image shall be identified as the CRS of feature geometries 
measured or computed in that georectified image. This CRS should also be used for 
identification of the georeferencing coordinate transformations discussed in Subclause 
7.2.2.1 of the “WCTS profile for unrectified images” [draft]. 


NOTE 4 The gml:RectifiedGrid element in grids.xsd of GML 3.1.1 specifies the locations of a grid of 
points in a base or external CRS. The relationship between those grid points and the image or grid coverage 
pixels is largely defined by gml:coverageFunction. However, a gml: _Coverage is not a CRS, so does not 
define a CRS suitable for positions that are measured or computed in that georectified image. Also, it does 
not define a CRS that can be used as the sourceCRS or targetCRS of a coordinate Transformation. 


8.2 Full XML document template 


An example template XML document completely defining a DerivedCRS for a 
georectified image is: 


<?xml version="1.0" encoding="UTF-8"?> 
<DerivedCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="GeorectifiedImageXXXXCRS"> 
 <!-- Specific georectified image or grid must be identified in this 
gml:id. --> 
 <!-- Last updated 2005-10-04 --> 
 <!-- ========================================================== --> 
 <srsName>Georectified Image XXXX CRS</srsName> 
 <!-- Specific georectified image or grid must be identified in 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:opengis:def:crs:OGC:0.20:GeorectifiedImageXXXXCRS">Geore
ctifiedImageXXXXCRS</name> 
  <!-- Specific image must be identified in "name" value. --> 
 </srsID> 
 <remarks>Template for georectified 2D image coordinate reference 
system definition. In this CRS, the origin is at the center of the 
first pixel in the georectified image file. This CRS template can be 
used for any size georectified image, since no image size is specified. 
A CRS definition using this template is expected to be needed and thus 
created before the georectified image pixels are produced. The 
coordinate Conversion used by this CRS definition is expected to NOT 
closely approximate the reverse of the coordinate Transformation used 
to georectify this image. This CRS template is not expected to be 
useful for an ungeorectified image. </remarks> 
 <baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/> 
 <!-- Specific 2D CRS that was georectified into must be identified 
in baseCRS, usually a ProjectedCRS or GeographicCRS --> 
 <!-- ================================================= --> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 13
 


 <definedByConversion> 
  <Conversion gml:id="GeorectifiedImageXXXXConversion"> 
   <!-- Specific georectified image or grid must be identified in 
this gml:id. --> 
   <coordinateOperationName>Georectified image XXXX 
conversion</coordinateOperationName> 
   <!-- Specific image must be identified in this 
coordinateOperationName. --> 
   <usesMethod> 
    <OperationMethod gml:id="EPSG9624"> 
     <methodName>Affine general parametric 
transformation</methodName> 
     <methodID> 
      <name 
codeSpace="urn:opengis:method:EPSG:6.3:">9624</name> 
     </methodID> 
     <methodFormula> 
XT   =  A0  +  A1. XS  +  A2.YS;  
YT   =  B0  +  B1. XS  +  B2.YS;  
where XT , YT are the coordinates of a point P in the target coordinate 
system;  
  XS , YS are the coordinates of P in the source coordinate system.  
 
Reversibility: The parameter values for an affine transformation cannot 
be used for the reverse transformation. However, the reverse 
transformation is another affine transformation using the same formulas 
but with different parameter values. The reverse parameter values, 
indicated by a prime ('), can be calculated from those of the forward 
transformation as follows: 
D    = A1 . B2   -   A2 . B1;  
A0' = (A2 . B0   -   B2 . A0) / D;  
B0' = (B1 . A0   -   A1 . B0) / D;  
A1' = +B2 / D;  
A2' = - A2 / D;  
B1' = - B1 / D;  
B2' = +A1 / D.  
 
See Section 2.4.2.1 of EPSG Guidance Note 7. </methodFormula> 
     <sourceDimensions>2</sourceDimensions> 
     <targetDimensions>2</targetDimensions> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8623"> 
       <parameterName>A0</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8623</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8624"> 
       <parameterName>A1</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8624</name> 
       </parameterID> 







OGC 05-096r1 


14 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8625"> 
       <parameterName>A2</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8625</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8639"> 
       <parameterName>B0</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8639</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8640"> 
       <parameterName>B1</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8640</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8641"> 
       <parameterName>B2</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8641</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 15
 


    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
    The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
    The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/> 
   </usesValue> 
  </Conversion> 
 </definedByConversion> 
 <!-- ================================================ --> 
 <derivedCRSType 
codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType> 
 <!-- ================================================ --> 
 <usesCS> 
  <CartesianCS gml:id="Grid2dSquareCS"> 
   <csName>2D square-cell grid based coordinate system</csName> 
   <csID> 
    <name 
codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name> 
   </csID> 
   <remarks>A 2D grid-based coordinate system for use by an image 
or other continuous grid coverage. It can be used for a grid of any 
size, since no grid size is defined. This coordinate system specifies 
that each row coordinate value shall be listed before the column 
coordinate value. The grid cells are assumed to be square, with the 
same grid spacing or pixel spacing in each direction.  
 







OGC 05-096r1 


16 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


In a grid coverage file, the "row" axis shall be the first axis by 
which grid points are sequenced, and the "column" axis shall be the 
second axis, as could be specified by the "scanDirection : 
Sequence(CharacterString)" attribute of the CV_SequenceRule class in 
Clause 8 of ISO 19123. With linear sequencing, the grid points in the 
first row shall be listed first, followed by other rows, with the grid 
points in each row listed in column number order. This relationship 
between the "row" and "column" names and the first grid points shall 
apply whether this Grid2dSquareCS is associated with a grid file before 
or after that file is recorded. 
 
The "row" and "column" axis names are used here although the 
"scanDirection : Sequence(CharacterString)" attribute may provide other 
axis names. Use of other axis names would require defining different 
CartesianCSs for other names, or adding other names as additional 
axisID values. The following XML includes the axis names "line" and 
"sample" as additional axisID values. 
 
If not otherwise identified in an image file, the "row" axis shall be 
the first axis whose number of pixels is identified, and the "column" 
axis shall be the second axis, as could be specified by the 
"extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in 
Clause 8 of ISO 19123. In either case, the first point in the grid 
coverage file is assumed to be numbered (1, 1), meaning row 1, column 
1.  
 
The first row in a grid is sometimes called the "top" row, the first 
column is sometimes called the "left" column, and the first grid point 
is then called the "upperLeft" point. If desired, those names can be 
used with this Grid2dSquareCS. However other names can also be used, 
since this Grid2dSquareCS has been defined so that it does not depend 
on such left/right, top/bottom, and up/down names. </remarks> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Row" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid row axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name> 
     </axisID> 
     <remarks>For this grid axis, row coordinate values match 
grid row numbers, but allow fractional coordinate values between grid 
points. The first row in a grid is sometimes called the "top" row, so 
the direction of this axis is "down", but these terms are not required. 
</remarks> 
     <axisAbbrev>R</axisAbbrev> 
    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDi
rection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Column" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid column axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 17
 


     </axisID> 
     <remarks>For this grid axis, column coordinate values 
match grid column numbers, but allow fractional coordinate values 
between grid points. The first column is sometimes called the "left" 
column, so the direction of this axis is "right", but these terms are 
not required. </remarks> 
     <axisAbbrev>C</axisAbbrev> 
    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axi
sDirection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
  </CartesianCS> 
 </usesCS> 
</DerivedCRS> 
 
The above template XML document uses the operation Method catalogued by the EPSG 
using code 9624, because that EPSG method seems closest to the desired Method. 
However, various other operation Methods could be used, including Methods specified 
by the OGC. For example, one or more operation Methods could be defined that use parts 
of the gml:RectifiedGrid element as operation Parameters. 


8.3 Recommended simple XML document template 


The above example template XML document can be simplified by referencing the 
standard XML documents specified in Clause 9, and referencing the EPSG 9624 
Operation Method, becoming: 


<?xml version="1.0" encoding="UTF-8"?> 
<DerivedCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="GeorectifiedImageXXXXCRS"> 
 <!-- Specific georectified image or grid must be identified in this 
gml:id. --> 
 <!-- Last updated 2005-10-04 --> 
 <!-- ========================================================== --> 
 <srsName>Georectified Image XXXX CRS</srsName> 
 <!-- Specific georectified image or grid must be identified in 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:opengis:def:crs:OGC:0.:GeorectifiedImageCRS">Georectifie
dImageXXXXCRS</name> 
  <!-- Specific image must be identified in "name" value. --> 
 </srsID> 
 <remarks>Template for georectified 2D image coordinate reference 
system definition. In this CRS, the origin is at the center of the 
first pixel in the georectified image file. This CRS template can be 
used for any size georectified image, since no image size is specified. 
A CRS definition using this template is expected to be needed and thus 
created before the georectified image pixels are produced. The 
coordinate Conversion used by this CRS definition is expected to NOT 
closely approximate the reverse of the coordinate Transformation used 







OGC 05-096r1 


18 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


to georectify this image. This CRS template is not expected to be 
useful for an ungeorectified image. </remarks> 
 <baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/> 
 <!-- Specific 2D CRS that was georectified into must be identified 
in baseCRS, usually a ProjectedCRS or GeographicCRS --> 
 <!-- ================================================= --> 
 <definedByConversion> 
  <Conversion gml:id="GeorectifiedImageXXXXConversion"> 
   <!-- Specific georectified image or grid must be identified in 
this gml:id. --> 
   <coordinateOperationName>Georectified image XXXX 
conversion</coordinateOperationName> 
   <!-- Specific image must be identified in this 
coordinateOperationName. --> 
   <usesMethod xlink:href="urn:opengis:method:EPSG:6.3:9624"/> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
    The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
    The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/> 
   </usesValue> 
   <!-- ============================================ --> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 19
 


   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/> 
   </usesValue> 
  </Conversion> 
 </definedByConversion> 
 <!-- ================================================ --> 
 <derivedCRSType 
codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType> 
 <usesCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
</DerivedCRS> 
 
This simplified template XML document is recommended for use in defining the CRSs of 
georectified images. Of course, the OperationMethod can be changed, and the included 
XML comments and <remarks> elements can be removed or edited. 


9 Georeferencing Transformations definition XML encoding 


9.1 Overview 


An unrectified image can be georeferenced by at least one coordinate transformation, 
between the CRS of the unrectified image and a reference CRS for positions relative to 
the earth (or other planet or moon). This georeferencing coordinate transformation can be 
represented by a coordinate Transformation in GML. A frequent alternative to using one 
Transformation is using a ConcatenatedOperation that sequentially combines two or more 
Transformations. PassThroughOperations and Conversions can also be used in such a 
ConcatenatedOperation. 


This reference CRS is assumed to be 3D, while the unrectified image is only 2D. The 
georeferencing coordinate transformation is thus assumed to be from the reference 3D 
CRS to the 2D image CRS. If the reference CRS were 2D, that would be equivalent to 
combining the georeferencing coordinate transformation with the elevation model 
coordinate transformation discussed later in this clause. 


When using this GML 3.1.1 profile, the definition of each georeferencing coordinate 
transformation shall be XML encoded using the Transformation or 
ConcatenatedOperation element, defined in the attached normative XML Schema 
Document named coordinateOperations.xsd. The GML objects contained or referenced in 
such a Transformation are indicated in this XML document skeleton: 


<Transformation> 
 <sourceCRS> 
  <CompoundCRS></CompoundCRS> or <GeographicCRS></GeographicCRS> 
 </sourceCRS> 
 <targetCRS> 
  <ImageCRS></ImageCRS> 
 </targetCRS> 
 <usesMethod> 
  <OperationMethod> 
   <usesParameter> (one or more) 







OGC 05-096r1 


20 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


    <OperationParameter></OperationParameter> 
   </usesParameter> 
   <usesParameter> 
    <OperationParameter></OperationParameter> 
   </usesParameter> 
  </OperationMethod> 
 </usesMethod> 
 <usesValue></usesValue> (one or more) 
 <usesValue></usesValue>  
</Transformation> 
 
NOTE 1 The UML class diagrams contained in Subclause C.4 provide graphical views of the contents of 
the Transformation and ConcatenatedOperation XML elements. 


This skeleton XML document indicates that: 


a) A Transformation element shall contain one sourceCRS, one TargetCRS, one 
usesMethod, and one or more usesValue XML elements (in addition to other 
mandatory and optional information). 


b) That sourceCRS element shall reference or contain the definition of one 
CompoundCRS or 3D GeographicCRS, as specified in the GML 3.1.1 Common 
CRSs Profile. 


c) That targetCRS element shall reference or contain the definition of one ImageCRS. 


d) That usesMethod element shall reference or contain the definition of one 
OperationMethod. 


e) That OperationMethod definition element shall contain an unordered sequence of one 
or more usesParameter elements. 


f) Each of those usesParameter elements shall reference or contain the definition of one 
OperationParameter. 


g) Each of those usesValue elements shall contain one parameterValue element. 


h) Each of those parameterValue elements shall contain the value of one parameter with 
one of several allowed data types. Alternately, a parameterValue element can 
reference a file containing a set of parameter values. 


The GML objects contained or referenced in such ConcatenatedOperation are indicated 
in this XML document skeleton: 


<ConcatenatedOperation> 
 <sourceCRS> 
  <ProjectedCRS></ProjectedCRS> or <GeographicSRS></GeographicSRS> 
 </sourceCRS> 
 <targetCRS> 
  <ImageCRS></ImageCRS> 
 </targetCRS> 
 <usesSingleOperation> (two or more) 
  <Transformation></Transformation> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 21
 


 </usesSingleOperation> or 
 <usesSingleOperation> 
  <Conversion></Conversion> 
 </usesSingleOperation> 
</ConcatenatedOperation> 
 
This skeleton XML document indicates that: 


a) A ConcatenatedOperation element shall contain one sourceCRS, one TargetCRS, and 
an ordered sequence of two or more usesSingleOperation elements (in addition to 
other mandatory and optional information). 


b) That sourceCRS element shall reference or contain one 3D CompoundCRS or 
GeographicCRS element. 


c) That targetCRS element shall reference or contain one ImageCRS element. 


d) Each of those usesSingleOperation elements shall reference or contain one 
Transformation or Conversion element. The contents of that Transformation or 
Conversion shall be as outlined above or in Subclause 9.1 of the GML 3.1.1 Common 
CRSs profile [OGC 05-095]. 


This Transformation or ConcatenatedOperation element specifies how to define a 
georeferencing coordinate transformation for an unrectified image. These definitions are 
often required to be transferred between OGC web servers and clients. These 
georeferencing coordinate transformations shall be defined using the definitions of the 
unrectified image CRS, and the definition of the reference CRS. For a Transformation or 
ConcatenatedOperation performing georectification, the definition of the DerivedCRS for 
the georectified image shall also be used, including the definition of the 
definedByConversion used by that DerivedCRS. 


9.2 Image georeferencing Transformation full template 


An example template XML document defining a Transformation for image 
georeferencing is: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="TemplateGeoreferencingTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <coordinateOperationName>Example template for image georeferencing 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 3D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesMethod> 







OGC 05-096r1 


22 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


  <OperationMethod gml:id="ReplacementSensorModel"> 
   <methodName>Replacement Sensor Model (RSM) coordinate 
Transformation</methodName> 
   <methodID> 
    <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name> 
   </methodID> 
   <remarks>This operation method is for a coordinate 
Transformation that georeferences an unrectified image using the 
Replacement Sensor Model (RSM). </remarks> 
  
 <methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
</methodFormula> 
   <sourceDimensions>3</sourceDimensions> 
   <targetDimensions>2</targetDimensions> 
   <usesParameter> 
    <OperationParameter gml:id="RSMParameters"> 
     <parameterName>Parameters for Replacement Sensor Model 
(RSM). </parameterName> 
     <parameterID> 
      <name 
codeSpace="http://baesystems.com/rsm/rsmParameters"/> 
     </parameterID> 
     <remarks>The value of this operation parameter is the 
URL of a file containing all the parameters for the Replacement Sensor 
Model (RSM) for the specific image. </remarks> 
    </OperationParameter> 
   </usesParameter> 
  </OperationMethod> 
 </usesMethod> 
 <usesValue> 
 
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
  <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
 </usesValue> 
</Transformation> 
 
This example template uses the “Replacement Sensor Model (RSM)” Operation Method 
for georeferencing Transformations. That example method uses one parameter named 
“RSMParameters” that contains the URL of a file containing all the RSM parameters for 
a specific image. That RSM Operation Method is an extension of the “Universal image 
geometry model transformation” described in OGC Discussion Paper [OGC 04-071]. 


9.3 Image georeferencing Transformation recommended simple template 


That Operation Method could be specified elsewhere and referenced by this 
georeferencing Transformations template, instead of being included in-line. Doing this 
produces the simplified template XML document: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 23
 


xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="TemplateGeoreferencingTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <coordinateOperationName>Example template for image georeferencing 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 3D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/> 
 <usesValue> 
 
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
  <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
 </usesValue> 
</Transformation> 
 
This simplified template XML document is recommended for use in defining the image 
georeferencing coordinate Transformations. Of course, the OperationMethod can be 
changed, and the included XML comments and <remarks> elements can be removed or 
edited. 


9.4 Grid elevation model Transformation full template 


A template XML document defining a Transformation for a grid elevation model is: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="TemplateGridElevationModelTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This targetCRS must be 3D. --> 
 </targetCRS> 
 <usesMethod> 
  <OperationMethod gml:id="GridElevationModel"> 
   <methodName>Grid elevation model</methodName> 
   <methodID> 
    <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name> 
   </methodID> 







OGC 05-096r1 


24 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


   <remarks>This operation method is for a coordinate 
Transformation that implements an elevation model using grid elevation 
data. </remarks> 
   <methodFormula>The elevation value for the input horizontal 
position shall be bilinear interpolated between the surrounding four 
grid points, and added to the input horizontal coordinates. 
</methodFormula> 
   <sourceDimensions>2</sourceDimensions> 
   <targetDimensions>3</targetDimensions> 
   <usesParameter> 
    <OperationParameter gml:id="GridElevationData"> 
     <parameterName>Grid Elevation Data</parameterName> 
     <parameterID> 
      <name 
codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name> 
     </parameterID> 
     <remarks>The value of this operation parameter is the 
URL of a source of grid elevation data, in the 3D targetCRS of the 
coordinate Transformation that contains the value of this operation 
parameter. </remarks> 
    </OperationParameter> 
   </usesParameter> 
  </OperationMethod> 
 </usesMethod> 
 <usesValue> 
  <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
  <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
 </usesValue> 
</Transformation> 
 
This example template uses the “GridElevationModel” Operation Method. That example 
method uses one parameter named “GridElevationData” that contains the URL of a file 
containing the grid elevation data. 


9.5 Grid elevation model Transformation recommended simple template 


That Operation Method could be specified elsewhere and referenced by this 
GridElevationModel Transformations template, instead of being included in-line. Doing 
this produces the simplified template XML document: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="TemplateGridElevationModelTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This targetCRS must be 3D. --> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 25
 


 </targetCRS> 
 <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/> 
 <usesValue> 
  <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
  <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
 </usesValue> 
</Transformation> 
 
This simplified template XML document is recommended for use in defining grid 
elevation model coordinate Transformations. Of course, the OperationMethod can be 
changed, and the included XML comments and <remarks> elements can be removed or 
edited. 


9.6 Concatenated operation full template 


A template XML document defining a ConcatenatedOperation that combines the two full 
transformation templates above is: 


<?xml version="1.0" encoding="UTF-8"?> 
<ConcatenatedOperation xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd" 
gml:id="TBD"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <coordinateOperationName>Template for 
ConcatenatedOperation</coordinateOperationName> 
 <remarks>Template for coordinate ConcatenatedOperation to 
unrectified image coordinates from ground CRS coordinates. </remarks> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesSingleOperation> 
  <Transformation 
gml:id="TemplateGridElevationModelTransformation"> 
   <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the sourceCRS 
above. --> 
   </sourceCRS> 
   <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This targetCRS must be 3D. --> 
   </targetCRS> 
   <usesMethod> 
    <OperationMethod gml:id="GridElevationModel"> 
     <methodName>Grid elevation model</methodName> 
     <methodID> 
      <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name> 
     </methodID> 







OGC 05-096r1 


26 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


     <remarks>This operation method is for a coordinate 
Transformation that implements an elevation model using grid elevation 
data. </remarks> 
     <methodFormula>The elevation value for the input 
horizontal position shall be bilinear interpolated between the 
surrounding four grid points, and added to the input horizontal 
coordinates. </methodFormula> 
     <sourceDimensions>2</sourceDimensions> 
     <targetDimensions>3</targetDimensions> 
     <usesParameter> 
      <OperationParameter gml:id="GridElevationData"> 
       <parameterName>Grid Elevation Data</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name> 
       </parameterID> 
       <remarks>The value of this operation parameter is 
the URL of a source of grid elevation data, in the 3D targetCRS of the 
coordinate Transformation that contains the value of this operation 
parameter. </remarks> 
      </OperationParameter> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <usesValue> 
    <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
    <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
 <usesSingleOperation> 
  <Transformation gml:id="TemplateGeoreferencingTransformation"> 
   <coordinateOperationName>Template for image georeferencing 
coordinate Transformation</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the targetCRS 
above. --> 
   </sourceCRS> 
   <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
   <usesMethod> 
    <OperationMethod gml:id="ReplacementSensorModel"> 
     <methodName>Replacement Sensor Model (RSM) coordinate 
Transformation</methodName> 
     <methodID> 
      <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name> 
     </methodID> 
     <remarks>This operation method is for a coordinate 
Transformation that georeferences an unrectified image using the 
Replacement Sensor Model (RSM). </remarks> 
    
 <methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
</methodFormula> 
     <sourceDimensions>3</sourceDimensions> 
     <targetDimensions>2</targetDimensions> 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 27
 


     <usesParameter> 
      <OperationParameter gml:id="RSMParameters"> 
       <parameterName>Parameters for Replacement Sensor 
Model (RSM). </parameterName> 
       <parameterID> 
        <name 
codeSpace="http://baesystems.com/rsm/rsmParameters"/> 
       </parameterID> 
       <remarks>The value of this operation parameter is 
the URL of a file containing all the parameters for the Replacement 
Sensor Model (RSM) for the specific image. </remarks> 
      </OperationParameter> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <usesValue> 
   
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
    <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
</ConcatenatedOperation> 
 


9.7 Concatenated operation recommended simple template 


The above template uses the “Replacement Sensor Model (RSM)” and 
“GridElevationModel” Operation Methods. Those Operation Methods could be specified 
elsewhere and referenced by this template, instead of being included in-line. Doing this 
produces the simplified template XML document: 


<?xml version="1.0" encoding="UTF-8"?> 
<ConcatenatedOperation xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="TemplateConcatenatedOperation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <coordinateOperationName>Template for 
ConcatenatedOperation</coordinateOperationName> 
 <remarks>Template for coordinate ConcatenatedOperation to 
unrectified image coordinates from ground CRS coordinates. </remarks> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesSingleOperation> 
  <Transformation 
gml:id="TemplateGridElevationModelTransformation"> 
   <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 







OGC 05-096r1 


28 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


    <!-- This sourceCRS must be the same as the sourceCRS 
above. --> 
   </sourceCRS> 
   <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This targetCRS must be 3D. --> 
   </targetCRS> 
   <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/> 
   <usesValue> 
    <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
    <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
 <usesSingleOperation> 
  <Transformation gml:id="TemplateGeoreferencingTransformation"> 
   <coordinateOperationName>Template for image georeferencing 
coordinate Transformation</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the targetCRS 
above. --> 
   </sourceCRS> 
   <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
   <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/> 
   <usesValue> 
   
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
    <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
</ConcatenatedOperation> 
 
This simplified template XML document is recommended for use in defining such 
concatenated Transformations. Of course, the OperationMethod(s) can be changed, and 
the included XML comments and <remarks> elements can be removed or edited.  


10 Standard URNs and XML definitions 


10.1 Overview 


This clause specifies a standard set of definitions and corresponding URNs that shall be 
used whenever applicable for unrectified and georectified images. Most of these 
definitions are encoded using this GML 3.1.1 Grid CRSs profile. 


Whenever applicable, CRS definitions for images shall use the eight URNs in the “ogc” 
URN namespace that are specified in Table 1. The first two these URNs use the format 
for not-completely-specified objects specified in Subclause 7.2 of “URNs of definitions 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 29
 


in ogc namespace” [OGC 05-010]. The remaining six of these URNs use the format for 
single objects specified in Subclause 7.1. 


Table 1 — Standard URNs for unrectified images CRSs 


URN Object name & gml:id Definition 
specified in 


urn:ogc:def:crs:OGC:0.0: ImageCRSpixelCenter:TBD a ImageTBDCRSpixelCenter Subclause 9.2 


urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD a ImageTBDCRSpixelCorner Subclause 9.3 


urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS Grid2dSquareCS Subclause 9.4 
urn:ogc:def:axis:OGC:0.0:Row Row Subclause 9.5 
urn:ogc:def:axis:OGC:0.0:Column Column Subclause 9.6 
urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter ImageDatumPixelCenter Subclause 9.7 
urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner ImageDatumPixelCorner Subclause 9.8 
urn:ogc:def:uom:OGC:0.0:GridSpacing GridSpacing Subclause 9.9 
a This “TBD” shall be replaced by the image identifier alphanumeric character string. 


 


10.2 Image CRSs with origin in centre of first pixel 


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD” shall reference 
the definition of an (unrectified) image CRS with its origin in the centre of the first pixel 
in the image file. This image CRS shall be for the image, or image group, whose 
alphanumeric character string identifier is substituted for the “TBD” in this URN. 


NOTE 1 This document does not specify any format for an image alphanumeric identifier, since many 
different formats are used for such identifiers. One such format could concatenate a camera identifier with 
the image collection date and time. 


The definitions of these image CRSs shall be the same as can be XML encoded using this 
GML 3.1.1 Grid CRSs profile as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageDatum xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="ImageDatumPixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <datumName>Origin at center of first pixel</datumName> 
 <datumID> 
  <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name> 
 </datumID> 
 <remarks>2D image datum with the origin at the center of the first 
pixel in the image file, usually the first pixel collected by the image 
sensor. In an image file, the pixels in the first row are assumed to be 
listed first, followed by other rows, with pixels in each row listed 
(and collected) in column number order. </remarks> 
 <anchorPoint>center of first pixel</anchorPoint> 
 <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell> 







OGC 05-096r1 


30 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


</ImageDatum> 
 
NOTE 2 It is not expected to be necessary in most cases to produce an XML document that specifies the 
image CRS for a specific image identifier, since this CRS definition can be referenced using the specified 
URN value with the “TBD” replaced by the specific image identifier. However, it is possible to do this, as 
shown in the following example. 


EXAMPLE  If this XML document were modified to specify the image CRS with its origin in the centre 
of first pixel for an image with the identifier “C543D041201T084027”, this XML document could be: 
<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml 
../gridCRSsProfile.xsd"  
gml:id="ImageC543D041201T084027CRSpixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <srsName>Image C543D041201T084027 CRS pixel centers</srsName> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">C543D041201T084027</na
me> 
  <!-- This name specifies the URN by which this CRS can be referenced. --> 
 </srsID> 
 <usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/> 
</ImageCRS> 
 


10.3 Image CRSs with origin in corner of first pixel 


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD” shall reference 
the definition of an (unrectified) image CRS with its origin in the outside corner of the 
first pixel in the image file. This image CRS shall be for the image, or image group, 
whose identifier is substituted for the “TBD” in this URN. 


The definitions of these image CRSs shall be the same as can be XML encoded using this 
GML 3.1.1 Grid CRSs profile as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="ImageTBDCRSpixelCorner"> 
 <!-- Specific image or group shall be identified by "TBD" in this 
gml:id. --> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <!-- ========================================================== --> 
 <srsName>Image TBD CRS pixel corner</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">TBD</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 31
 


image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the outside corner of the first pixel in the 
image file. This CRS definition can be used for any size image, since 
no image size is specified.  
 
This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS 
xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/> 
</ImageCRS> 
 
EXAMPLE  If this XML document were modified to specify the image CRS with its origin in the 
outside corner of first pixel for an image with the identifier “C543D041201T084027”, this XML document 
could be: 
<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="ImageC543D041201T084027CRSpixelCorner"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <srsName>Image C543D041201T084027 CRS pixel corners</srsName> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">C543D041201T084027</na
me> 
  <!-- This name specifies the URN by which this CRS can be referenced. --> 
 </srsID> 
 <usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/> 
</ImageCRS> 
 


10.4 Grid 2D square coordinate system 


The URN “urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS” shall reference the definition of a 
Coordinate System for a 2D grid with square grid cells. The definition of this grid shall 
be the same as can be XML encoded using the GML 3.1.1 Common CRSs profile as: 


<?xml version="1.0" encoding="UTF-8"?> 
<CartesianCS xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml 
../commonCRSsProfile.xsd"  
gml:id="Grid2dSquareCS"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <csName>2D square-cell grid based coordinate system</csName> 
 <csID> 







OGC 05-096r1 


32 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


  <name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name> 
 </csID> 
 <remarks>2D grid-based coordinate system for use by an image or 
other continuous grid coverage. It can be used for a grid of any size, 
since no grid size is defined. This coordinate system specifies that 
each row coordinate value will be listed before the column coordinate 
value. The grid cells are assumed to be square, with the same grid 
spacing or pixel spacing in each direction.  
 
In a grid coverage file, the "row" axis shall be the first axis by 
which grid points are sequenced, and the "column" axis shall be the 
second axis, as could be specified by the "scanDirection : 
Sequence(CharacterString)" attribute of the CV_SequenceRule class in 
Clause 8 of ISO 19123. With linear sequencing, the grid points in the 
first row shall be listed first, followed by other rows, with the grid 
points in each row listed in column number order. This relationship 
between the "row" and "column" names and the first grid points shall 
apply whether this Grid2dSquareCS is associated with a grid file before 
or after that file is recorded. 
 
The "row" and "column" axis names are used here although the 
"scanDirection : Sequence(CharacterString)" attribute may provide other 
axis names. Use of other axis names would require defining different 
CartesianCSs for other names, or adding other names as additional 
axisID values. The following XML includes the axis names "line" and 
"sample" as additional axisID values. 
 
If not otherwise identified in an image file, the "row" axis shall be 
the first axis whose number of pixels is identified, and the "column" 
axis shall be the second axis, as could be specified by the 
"extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in 
Clause 8 of ISO 19123. In either case, the first point in the grid 
coverage file is assumed to be numbered (1, 1), meaning row 1, column 
1.  
 
The first row in a grid is sometimes called the "top" row, the first 
column is sometimes called the "left" column, and the first grid point 
is then called the "upperLeft" point. If desired, those names can be 
used with this Grid2dSquareCS. However other names can also be used, 
since this Grid2dSquareCS has been defined so that it does not depend 
on such left/right, top/bottom, and up/down names. </remarks> 
 <usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Row"/> 
 <usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Column"/> 
</CartesianCS> 
 
This xml document references the two standard grid axes specified below. 


10.5 Row coordinate axis 


The URN “urn:ogc:def:axis:OGC:0.0:Row” shall reference the definition of the row 
coordinate axis for a 2D square grid coordinate system. The definition of this row axis 
shall be the same as can be XML encoded using the GML 3.1.1 Common CRSs profile 
as: 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 33
 


<?xml version="1.0" encoding="UTF-8"?> 
<CoordinateSystemAxis xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml 
../commonCRSsProfile.xsd"  
gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <name>Grid row axis</name> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name> 
 </axisID> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Line</name> 
 </axisID> 
 <remarks>For this first grid axis, row coordinate values match grid 
row numbers, but allow fractional coordinate values between grid 
points. The first row in a grid is sometimes called the "top" row, so 
the direction of this axis is "down", but these terms are not required. 
</remarks> 
 <axisAbbrev>R</axisAbbrev> 
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDi
rection> 
</CoordinateSystemAxis> 
 


10.6 Column coordinate axis 


The URN “urn:ogc:def:axis:OGC:0.0:Column” shall reference the definition of the 
column coordinate axis for a 2D square grid coordinate system. The definition of this 
column axis shall be the same as can be XML encoded using the GML 3.1.1 Common 
CRSs profile as: 


<?xml version="1.0" encoding="UTF-8"?> 
<CoordinateSystemAxis xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml 
../commonCRSsProfile.xsd"  
gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04 --> 
 <name>Grid column axis</name> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name> 
 </axisID> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Sample</name> 
 </axisID> 
 <remarks>For this second grid axis, column coordinate values match 
grid column numbers, but allow fractional coordinate values between 
grid points. The first column is sometimes called the "left" column, so 
the direction of this axis is "right", but these terms are not 
required. </remarks> 
 <axisAbbrev>C</axisAbbrev> 
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axi
sDirection> 







OGC 05-096r1 


34 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


</CoordinateSystemAxis> 
 


10.7 Image datum at pixel center 


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter” shall reference the 
definition of an image datum with the origin at the centre of the first pixel. The definition 
of this image datum shall be the same as can be XML encoded using this GML 3.1.1 Grid 
CRSs profile as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageDatum xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="ImageDatumPixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <datumName>Origin at center of first pixel</datumName> 
 <datumID> 
  <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name> 
 </datumID> 
 <remarks>2D image datum with the origin at the center of the first 
pixel in the image file, usually the first pixel collected by the image 
sensor. In an image file, the pixels in the first row are assumed to be 
listed first, followed by other rows, with pixels in each row listed 
(and collected) in column number order. </remarks> 
 <anchorPoint>center of first pixel</anchorPoint> 
 <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell> 
</ImageDatum> 
 


10.8 Image datum at pixel corner 


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner” shall reference the 
definition of an image datum with the origin at the outside corner of the first pixel. The 
definition of this image datum shall be the same as can be XML encoded using this GML 
3.1.1 Grid CRSs profile as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageDatum xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml ../gridCRSsProfile.xsd"  
gml:id="mageDatumPixelCorner"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <datumName>Origin at outside corner of first pixel</datumName> 
 <datumID> 
  <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCorner</name> 
 </datumID> 
 <remarks>2D image datum with the origin at the outside corner of the 
first pixel in the image file, usually the first pixel collected by the 
image sensor. In an image file, the pixels in the first row are assumed 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 35
 


to be listed first, followed by other rows, with pixels in each row 
listed (and collected) in column number order. </remarks> 
 <anchorPoint>outside corner of first pixel</anchorPoint> 
 <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCorner</pixelInCell> 
</ImageDatum> 
 


10.9 Grid spacing unit of measure 


The URN “urn:ogc:def:uom:OGC:0.0:GridSpacing” shall reference the definition of the 
grid spacing unit of measure (uom). The definition of this unit shall be the same as can be 
XML encoded using GML 3.1.1 (not this profile) as: 


<?xml version="1.0" encoding="UTF-8"?> 
<BaseUnit xmlns="http://www.opengis.net/gml"  
xmlns:gml="http://www.opengis.net/gml"  
xmlns:xlink="http://www.w3.org/1999/xlink"  
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
xsi:schemaLocation="http://www.opengis.net/gml 
http://schemas.opengis.net/gml/3.1.1/base/units.xsd"  
gml:id="GridSpacing"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-10-04--> 
 <name>Spacing between adjacent grid points, or between centers of 
adjacent pixels</name> 
 <name codeSpace="urn:ogc:def:uom:OGC:1.0:">GridSpacing</name> 
 <quantityType>Length</quantityType> 
 <unitsSystem xlink:href="urn:ogc:def:uom:OGC:1.0:GridSpacing"/> 
</BaseUnit> 
 







OGC 05-096r1 


36 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


Annex A 
(normative) 


 
Abstract test suite 


An abstract test suite is not provided in this version of this Profile Implementation 
Specification. 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 37
 


Annex B 
(informative) 


 
UML model 


B.1 Introduction 


This annex provides UML models of the primary XML elements included in this GML 
3.1.1 Grid CRSs profile, using the OGC/ISO profile of UML summarized in Subclause 
5.3 of [OGC 05-008]. These UML models are all extracted from OGC Abstract 
Specification Topic 2 [OGC 05-O46r3]. The capitalization of attribute names uses the 
OGC/ISO profile of UML. 


NOTE  GML 3.1.1 is not yet fully harmonized with Abstract Specification Topic 2, so the XML 
document examples in Clauses 7-9 are not fully consistent with the following UML class diagrams. 


B.2 Unrectified image CRSs 


B.2.1 Simple UML model 


Figure B.1 is a simplified UML class diagram, extracted from Topic 2, that shows all the 
concrete (non-abstract) object classes and associations related to the SC_ImageCRS 
class. To keep this diagram simple, none of the class attributes are displayed. This 
diagram does not show that the SC_ImageCRS class can use the CS_AffineCS class, 
which is not supported by this profile. 


CS_CoordinateSystemAxis
(from CS_CoordinateSystem)


CD_ImageDatum
(from CD_Datum)


CS_CartesianCS
(from CS_CoordinateSystem)


2


0..*


+usesAxis 2


0..*


SC_ImageCRS
(from SC_CoordinateReferenceSystem)


0..*


1


0..*


+usesDatum11


0..*


+usesCartesianCS 1


0..*


 


Figure B.1 — ImageCRS simple UML class diagram 


Notice that the ImageCRS class does NOT include or reference any coordinate 
Transformations or operations which can be used to georeference this image. However, 







OGC 05-096r1 


38 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


the coordinate Transformations or operations available to georeference an unrectified 
image can be saved with that image. These transformations must reference or include the 
ImageCRS used for that unrectified image. 


B.2.2 Full UML model 
Figure B.2 is a more complete UML class diagram extracted from Topic 2 that shows 
essentially all the classes and associations related to the SC_ImageCRS class.  


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier
+ alias [0..*] : GenericName
+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>
RS_ReferenceSystem


+ name : RS_Identifier
+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


SC_CRS


+ scope [0..*] : CharacterString
(from SC_CoordinateReferenceSystem)


<<Abstract>>


EX_Extent
(from EX_Extent)


<<DataType>>


MD_Identifier


+ authority [0..1] : CI_Citation
+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString
+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


IO_IdentifiedObject


+ name : RS_Identifier
(from IO_IdentifiedObject)


<<Abstract>>
CS_RangeMeaning


+ exact
+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>
CS_AxisDirection


+ columnNegative
+ columnPositive
+ rowNegative
+ rowPositive


(from CS_CoordinateSystem)


<<CodeList>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString
+ axisDirection : CS_AxisDirection
+ axisUnitID : UnitOfMeasure
+ minimumValue [0..1] : Number
+ maximumValue [0..1] : Number
+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem
(from CS_CoordinateSystem)


<<Abstract>>


0..*


0..*


+usesAxis 0..*
{ordered}


0..*
CD_Datum


+ anchorPoint [0..1] : CharacterString
+ realizationEpoch [0..1] : Date
+ domainOfValidity [0..1] : EX_Extent
+ scope [0..*] : CharacterString


(from CD_Datum)


<<Abstract>>


CD_PixelInCell


+ cellCenter
+ cellCorner


(from CD_Datum)


<<CodeList>>


Defined in 
ISO 19115


SC_SingleCRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


CD_ImageDatum


+ pixelinCell : CD_PixelinCell
(from CD_Datum)


CS_CartesianCS
(from CS_CoordinateSystem)


SC_ImageCRS
(from SC_CoordinateReferenceSystem)


0..*1 0..*


+usesDatum


1


1


0..*


+usesCartesianCS1


0..*


 


Figure B.2 — ImageCRS full UML class diagram 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 39
 


B.3 Georectified image coordinate reference systems 


B.3.1 Simple UML model 


Figure B.3 is a simplified UML class diagram extracted from Topic 2 that shows all the 
concrete (non-abstract) object classes and associations related to the SC_DerivedCRS 
class when used for a georectified image or other grid coverage. To keep this diagram 
simple, none of the class attributes are displayed. This diagram shows that the 
SC_DerivedCRS class can use as its baseCRS either a SC_GeographicCRS or 
SC_ProjectedCRS. The CC_Conversion class is detailed in Subclause B.4, the 
SC_GeographicCRS class is detailed in Subclause B.2, and the SC_ProjectedCRS class is 
detailed in Subclause B.3, all in [OGC 05-095r1]. 


SC_DerivedCRSType
(from SC_CoordinateReferenceSystem)


<<CodeList>>


CS_CartesianCS
(from CS_CoordinateSystem)


CS_CoordinateSystemAxis
(from CS_CoordinateSystem)


2


0..*


+usesAxis


0..*


2


SC_GeographicCRS
(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS
(from SC_CoordinateReferenceSystem)


1 0..*


+base
CRS


1 0..*


    {XOR}


SC_DerivedCRS
(from SC_CoordinateReferenceSystem)


1


0..*


+usesCartesianCS1


0..*


0..1


0..*


+baseCRS 0..1 0..1


0..*


+baseCRS0..1


CC_Conversion
(from CC_CoordinateOperation)


1


0..*


+definedBy
Conversion1


0..*


0..* 0..*


 


Figure B.3 — DerivedCRS simple UML class diagram 


Notice that this SC_DerivedCRS class does NOT include or reference any coordinate 
Transformations or operations which could be used to georeference the original image 
that was georectified. However, the coordinate Transformations and operations used to 
georeference and georectify the original image should be saved with the georectified 
image. One of these transformations must reference or include the SC_DerivedCRS used 
for that georectified image. 


NOTE  The image georectification process must use a georeferencing coordinate Transformation (or 
ConcatenatedOperation). That georeferencing Transformation must have the unrectified image CRS 
(ImageCRS) as its source (or target) CRS. That georeferencing Transformation could have the georectified 
image CRS (DerivedCRS) as its target (or source) CRS; in this case, the definedByConversion might not be 
used to perform the georectification. Alternately, that georeferencing Transformation could have the 
(GeographicCRS or ProjectedCRS) baseCRS of the georectified image CRS (DerivedCRS) as its target (or 
source) CRS; in this case (discussed in Clause 8), the definedByConversion must also be used to perform 
the georectification. There are probably other useful alternatives. 


B.3.2 Full UML model 


Figure B.4 is a more complete UML class diagram extracted from Topic 2 that shows 
essentially all the classes and associations related to the SC_DerivedCRS class. Again, 
the CC_Conversion class is detailed in Subclause B.4, the SC_GeographicCRS class is 
detailed in Subclause B.2, and the SC_ProjectedCRS class is detailed in Subclause B.3, 
all in [OGC 05-095r1]. 







OGC 05-096r1 


40 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


0..*


SC_DerivedCRSType


+ geographic
+ vertical
+ geocentric
+ engineering
+ image
+ temporal


(from SC_CoordinateReferenceSystem)


<<CodeList>>


RS_ReferenceSystem


+ name : RS_Identifier
+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


(derived)


SC_CRS


+ scope [0..*] : CharacterString
(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeneralDerivedCRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_Conversion
(from CC_CoordinateOperation)


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier
+ alias [0..*] : GenericName
+ remarks [0..1] : CharacterString


(from IO_Identi fiedObject)


<<Abstract>>


SC_SingleCRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeographicCRS
(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS
(from SC_CoordinateReferenceSystem)


0..*


+definedBy
Conversion 1


0..*


1


+base
CRS


1


0..*


1


0..*


MD_Identifier


+ authority [0..1] : CI_Citation
+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString
+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


EX_Extent
(from EX_Extent)


<<DataType>>


Defined in 
ISO 19115


CS_AxisDirection


+ east
+ north
+ south
+ west


(from CS_CoordinateSystem)


<<CodeList>>


CS_RangeMeaning


+ exact
+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>
IO_IdentifiedObject


+ name : RS_Identifier
(from IO_Identi fiedObject)


<<Abstract>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString
+ axisDirection : CS_AxisDirection
+ axisUnitID : UnitOfMeasure
+ minimumValue [0..1] : Number
+ maximumValue [0..1] : Number
+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem
(from CS_CoordinateSystem)


<<Abstract>>


CS_CartesianCS
(from CS_CoordinateSystem)


+usesAxis


0..*


{ordered}


0..*0..* 0..*


SC_DerivedCRS


+ derivedCRSType : SC_DerivedCRSType
(from SC_CoordinateReferenceSystem)


1


0..*


+base
CRS


1


1


0..*


+usesCS1


0..*


 


Figure B.4 — DerivedCRS full UML class diagram 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 41
 


The reference CRS is assumed to be 3D, while the unrectified image is only 2D. The 
georeferencing coordinate transformation is thus assumed to be from the reference 3D 
CRS to the 2D image CRS. If the reference CRS is 2D, that would be equivalent to 
combining the georeferencing coordinate transformation with the elevation model 
coordinate transformation discussed later in this clause. 


B.4 Georeferencing coordinate transformations 


B.4.1 Simple UML model 


Figure B.5 is a simplified UML class diagram extracted from Topic 2 for a 
CC_Transformation and CC_ConcatenatedOperation. This diagram shows most of the 
concrete (non-abstract) classes and associations related to the CC_Transformation and 
CC_ConcatenatedOperation classes, except for the CC_ParameterValueGroup and 
CC_OperationParameterGroup classes. The CC_ParameterValueGroup and 
CC_OperationParameterGroup classes are rarely useful, and are not included in this 
profile.  


(ordered)


CC_ConcatenatedOperation
(from CC_CoordinateOperation)


CC_ParameterValue
(from CC_CoordinateOperation)


<<Union>>


CC_Transformation
(from CC_CoordinateOperation)


2..*0..*


+useOperation


2..*0..*


0..*


1


+usesValue 0..*


1


CC_OperationParameter
(from CC_CoordinateOperation)


0..* 10..*


+valueOfParameter


1


CC_OperationMethod
(from CC_CoordinateOperation)


1


0..*


+usesMethod 1


0..*


0..*


0..*


+usesParameter 0..*


0..*


 


Figure B.5 — Transformation and ConcatenatedOperation simple class diagram 


To keep this diagram simple, none of the class attributes are displayed. The 
CC_ConcatenatedOperation class can also have usesOperation associations to the 
CC_Conversion class, with each associated object of CC_Conversion class substituting 
for an object of CC_Transformation class in this UML model. 


This simplified UML diagram does not include the two associations with the role names 
sourceCRS and targetCRS, required to the abstract SC_CRS class from both the 
CC_Transformation and CC_ConcatenatedOperation classes. For a georeferencing 
Transformation, the targetCRS will be a SC_ImageCRS and the sourceCRS will be the 
reference CRS used in that georeferencing, both being non-abstract subclasses of the 
SC_CRS class. 







OGC 05-096r1 


42 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


B.4.2 Full UML model 


Figure B.6 is a more complete UML class diagram extracted from Topic 2 for a 
coordinate CC_Transformation and CC_ConcatenatedOperation. This diagram shows 
essentially all the classes and associations related to the CC_Transformation and 
CC_ConcatenatedOperation classes, except for the: 


a) Contents of the DQ_PositionalAccuracy and EX_Extent classes, defined in ISO 
19115 


b) Contents of the SC_CRS class, such as defined in Subclauses B.2.2 and B.3.2 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 43
 


DQ_PositionalAccuracy
(from DQ_DataQuali ty)


<<Abstract>>


EX_Extent
(from EX_Extent)


<<DataType>>


IO_IdentifiedObject


+ name : RS_Identifier
(from IO_IdentifiedObject)


<<Abstract>>


Defined in 
ISO 19115


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier
+ alias [0..*] : GenericName
+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


CC_ParameterValue


+ value : Measure
+ stringValue : CharacterString
+ integerValue : Integer
+ booleanValue : Boolean
+ valueList : Sequence<Measure>
+ integerValueList : Sequence<Integer>
+ valueFile : CharacterString


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter
(from CC_CoordinateOperation)


0..* 10..*


+valueOfParameter


1


CC_OperationMethod


+ formula : CharacterString
+ sourceDimensions : Integer
+ targetDimensions : Integer


(from CC_CoordinateOperation)


CC_Operation
(from CC_CoordinateOperation)


<<Abstract>>


0..*
1


0..*


+usesMethod


1


CC_Transformation


+ operationVersion : CharacterString
(from CC_CoordinateOperation)


SC_CRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_CoordinateOperation


+ operationVersion [0..1] : CharacterString
+ domainOfValidity [0..1] : EX_Extent
+ scope [0..*] : CharacterString
+ coordinateOperationAccuracy [0..*] : DQ_PositionalAccuracy


(from CC_CoordinateOperation)


<<Abstract>>


0..1


0..*


+target 
CRS


0..1


0..*


Target


0..1


0..*


+source 
CRS


0..1


0..*


Source


CC_ConcatenatedOperation
(from CC_CoordinateOperation) CC_SingleOperation


(from CC_CoordinateOperation)


<<Abstract>>0..* 2..*0..*


+usesOperation


2..*


{ordered}


CC_OperationParameterGroup


+ maximumOccurs [0..1] : Integer
(from CC_CoordinateOperation)


CC_ParameterValueGroup
(from CC_CoordinateOperation)


+valuesOfGroup


10..* 10..*


CC_GeneralParameterValue
(from CC_CoordinateOperation)


<<Abstract>>


1


0..*


1


+usesValue0..*


2..*


1


2..* +includesValue


1


CC_GeneralOperationParameter


+ minimumOccurs [0..1] : Integer
(from CC_CoordinateOperation)


<<Abstract>>


0..*


0..*


0..*


+usesParameter 0..*


2..*


0..*


+includesParameter 2..*


0..*


 


Figure B.6 — Transformation and ConcatenatedOperation full UML class diagram 







OGC 05-096r1 


44 Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
 


Notice that each Transformation and ConcatenatedOperation inherits two associations 
with the role names sourceCRS and targetCRS, required to the abstract SC_CRS class 
from both the CC_Transformation and CC_ConcatenatedOperation classes. For a 
georeferencing Transformation, the targetCRS will be a SC_ImageCRS and the 
sourceCRS will be the reference CRS used in that georeferencing, both being non-
abstract subclasses of the SC_CRS class. 







OGC 05-096r1 


Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 45
 


Bibliography 


[1] OGC 04-071, Some image geometry models 


[2] OGC 04-046r3, OGC Abstract Specification Topic 2, Spatial referencing by 
coordinates  


[3] OGC 05-011, Recommended XML/GML 3.1.1 encoding of common CRS 
definitions 


[4] OGC 05-013, Web Coordinate Transformation Service (WCTS) draft 
Implementation Specification 


[5] OGC 05-027r1, Recommended XML/GML 3.1.1 encoding of image CRS 
definitions 





		1 Scope

		2 Compliance

		3 Normative references

		4 Terms and definitions

		5 Conventions

		5.1 Abbreviated terms

		5.2 UML notation



		6 Grid CRSs profile

		6.1 Background

		6.2 Overview

		6.3 XML schema documents

		6.4 CRS definitions use



		7 Unrectified image CRSs definition XML encoding

		7.1 Overview

		7.2 Full XML document template

		7.3 Recommended simple XML document template



		8 Georectified grid CRSs definition XML encoding

		8.1 Overview

		8.2 Full XML document template

		8.3 Recommended simple XML document template



		9 Georeferencing Transformations definition XML encoding

		9.1 Overview

		9.2 Image georeferencing Transformation full template

		9.3 Image georeferencing Transformation recommended simple template

		9.4 Grid elevation model Transformation full template

		9.5 Grid elevation model Transformation recommended simple template

		9.6 Concatenated operation full template

		9.7 Concatenated operation recommended simple template



		10 Standard URNs and XML definitions

		10.1 Overview

		10.2 Image CRSs with origin in centre of first pixel

		10.3 Image CRSs with origin in corner of first pixel

		10.4 Grid 2D square coordinate system

		10.5 Row coordinate axis

		10.6 Column coordinate axis

		10.7 Image datum at pixel center

		10.8 Image datum at pixel corner

		10.9 Grid spacing unit of measure







gml/3.1.1/Profiles/CommonCRSs/1.0.0/coordinateOperations.xsd
 
	 
		 
		 Subset of coordinateOperations.xsd for GML 3.1.1 Common CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-14. 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	 
	
	 
	
	 
		 
			 Basic encoding for coordinate operation objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this coordinate operation is identified. 
		
	
	
	 
		 
			 A mathematical operation on coordinates that transforms or converts coordinates to another coordinate reference system. Many but not all coordinate operations (from CRS A to CRS B) also uniquely define the inverse operation (from CRS B to CRS A). In some cases, the operation method algorithm for the inverse operation is the same as for the forward algorithm, but the signs of some operation parameter values must be reversed. In other cases, different algorithms are required for the forward and inverse operations, but the same operation parameter values are used. If (some) entirely different parameter values are needed, a different coordinate operation shall be defined.
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate operation. The first coordinateOperationID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate operation, including source information. 
						
					
					 
					 
					 
					 
					 
					 
				
			
		
	
	
	 
		 
			 An identification of a coordinate operation. 
		
	
	
	 
		 
			 Version of the coordinate transformation (i.e., instantiation due to the stochastic nature of the parameters). Mandatory when describing a transformation, and should not be supplied for a conversion. 
		
	
	
	 
		 
			 Association to the source CRS (coordinate reference system) of this coordinate operation. 
		
	
	
	 
		 
			 Association to the target CRS (coordinate reference system) of this coordinate operation. For constraints on multiplicity of "sourceCRS" and "targetCRS", see UML model of Coordinate Operation package in OGC Abstract Specification topic 2. 
		
	
	
	 
		 
			 Association to a coordinate operation, either referencing or containing the definition of that coordinate operation. 
		
		 
			 
		
		 
	
	
	 
		 
			 A single (not concatenated) coordinate operation. 
		
	
	
	 
		 
			 A parameterized mathematical operation on coordinates that transforms or converts coordinates to another coordinate reference system. This coordinate operation uses an operation method, usually with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type.

This abstract complexType shall not be directly used, extended, or restricted in a compliant Application Schema. 
		
	
	
	
	 
	
	 
		 
			 An abstract operation on coordinates that does not include any change of datum. The best-known example of a coordinate conversion is a map projection. The parameters describing coordinate conversions are defined rather than empirically derived. Note that some conversions have no parameters.

This abstract complexType is expected to be extended for well-known operation methods with many Conversion instances, in Application Schemas that define operation-method-specialized element names and contents. This conversion uses an operation method, usually with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type. All concrete types derived from this type shall extend this type to include a "usesMethod" element that references the "OperationMethod" element. Similarly, all concrete types derived from this type shall extend this type to include zero or more elements each named "uses...Value" that each use the type of an element substitutable for the "_generalParameterValue" element. 
		
		 
			 
				 
					 
					 
					 
					 
					 
				
				 
			
		
	
	
	 
		 
			 Association to a general conversion, either referencing or containing the definition of that conversion. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A concrete operation on coordinates that does not include any change of Datum. The best-known example of a coordinate conversion is a map projection. The parameters describing coordinate conversions are defined rather than empirically derived. Note that some conversions have no parameters.

This concrete complexType can be used with all operation methods, without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one Conversion instance. 
		
		 
			 
				 
					 
					 
						 
							 Unordered list of composition associations to the set of parameter values used by this conversion operation. 
						
					
				
			
		
	
	
	 
		 
			 Association to the operation method used by this coordinate operation. 
		
	
	
	 
		 
			 Composition association to a parameter value used by this coordinate operation. 
		
	
	
	
	 
	
	 
		 
			 Abstract parameter value or group of parameter values.
			
This abstract complexType is expected to be extended and restricted for well-known operation methods with many instances, in Application Schemas that define operation-method-specialized element names and contents. Specific parameter value elements are directly contained in concrete subtypes, not in this abstract type. All concrete types derived from this type shall extend this type to include one "...Value" element with an appropriate type, which should be one of the element types allowed in the ParameterValueType. In addition, all derived concrete types shall extend this type to include a "valueOfParameter" element that references one element substitutable for the "OperationParameter" element. 
		
		 
	
	
	 
	
	 
		 
			 A parameter value, ordered sequence of values, or reference to a file of parameter values. This concrete complexType can be used for operation methods without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one instance. This complexType can be used, extended, or restricted for well-known operation methods, especially for methods with many instances. 
		
		 
			 
				 
					 
						 
						 
						 
						 
						 
						 
						 
					
					 
				
			
		
	
	
	 
		 
			 Numeric value of an operation parameter, with its associated unit of measure. 
		
	
	
	 
		 
			 String value of an operation parameter. A string value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Positive integer value of an operation parameter, usually used for a count. An integer value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Boolean value of an operation parameter. A Boolean value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list, where each value has the same associated unit of measure. An element of this type contains a space-separated sequence of double values. 
		
	
	
	 
		 
			 Ordered sequence of two or more integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated sequence of integer values. 
		
	
	
	 
		 
			 Reference to a file or a part of a file containing one or more parameter values, each numeric value with its associated unit of measure. When referencing a part of a file, that file must contain multiple identified parts, such as an XML encoded document. Furthermore, the referenced file or part of a file can reference another part of the same or different files, as allowed in XML documents. 
		
	
	
	 
		 
			 Association to the operation parameter that this is a value of. 
		
	
	
	
	 
	
	 
		 
			 Basic encoding for operation method objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation method is identified. 
		
	
	
	 
		 
			 Definition of an algorithm used to perform a coordinate operation. Most operation methods use a number of operation parameters, although some coordinate conversions use none. Each coordinate operation using the method assigns values to these parameters. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation method. The first methodID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation method, including source information.
						
					
					 
					 
					 
					 
						 
							 Unordered list of associations to the set of operation parameters and parameter groups used by this operation method. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation method. 
		
	
	
	 
		 
			 Formula(s) used by this operation method. The value may be a reference to a publication. Note that the operation method may not be analytic, in which case this element references or contains the procedure, not an analytic formula.
		
	
	
	 
		 
			 Number of dimensions in the source CRS of this operation method. 
		
	
	
	 
		 
			 Number of dimensions in the target CRS of this operation method. 
		
	
	
	 
		 
			 Association to an operation parameter or parameter group used by this operation method. 
		
	
	
	 
		 
			 Association to a concrete general-purpose operation method, either referencing or containing the definition of that method. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Abstract definition of a parameter or group of parameters used by an operation method. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
		 
			 The minimum number of times that values for this parameter group or parameter are required. If this attribute is omitted, the minimum number is one. 
		
	
	
	 
		 
			 Association to an operation parameter or group, either referencing or containing the definition of that parameter or group. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 Basic encoding for operation parameter objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation parameter is identified. 
		
	
	
	 
		 
			 The definition of a parameter used by an operation method. Most parameter values are numeric, but other types of parameter values are possible. This complexType is expected to be used or extended for all operation methods, without defining operation-method-specialized element names.  
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation parameter. The first parameterID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation parameter, including source information. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation parameter. 
		
	
	
	 
		 
			 Association to an operation parameter, either referencing or containing the definition of that parameter. 
		
		 
			 
		
		 
	
	




gml/3.1.1/Profiles/CommonCRSs/1.0.0/coordinateReferenceSystems.xsd
 
	 
		 
		 Subset of coordinateReferenceSystems.xsd for GML 3.1.1 common CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-10-11 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	 
	 
	
	 
		 
			 A coordinate reference system consists of an ordered sequence of coordinate system axes that are related to the earth through a datum. A coordinate reference system is defined by one datum and by one coordinate system. Most coordinate reference system do not move relative to the earth, except for engineering coordinate reference systems defined on moving platforms such as cars, ships, aircraft, and spacecraft. For further information, see OGC Abstract Specification Topic 2.

Coordinate reference systems are commonly divided into sub-types. The common classification criterion for sub-typing of coordinate reference systems is the way in which they deal with earth curvature. This has a direct effect on the portion of the earth's surface that can be covered by that type of CRS with an acceptable degree of error. The exception to the rule is the subtype "Temporal" which has been added by analogy. 
		
	
	
	 
		 
			 Association to a coordinate reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	 
	
	 
		 
			 A coordinate reference system describing the position of points through two or more independent coordinate reference systems. 
		
		 
			 
				 
					 
						 
							 Ordered sequence of associations to all the component coordinate reference systems included in this compound coordinate reference system. 
						
					
				
			
		
	
	
	 
		 
			 An association to a component coordinate reference system included in this compound coordinate reference system. 
		
	
	
	 
	
	 
		 
			 A coordinate reference system based on an ellipsoidal approximation of the geoid; this provides an accurate representation of the geometry of geographic features for a large portion of the earth's surface.
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Association to the ellipsoidal coordinate system used by this CRS. 
		
	
	
	 
		 
			 Association to the geodetic datum used by this CRS. 
		
	
	
	 
	
	 
		 
			 A 1D coordinate reference system used for recording heights or depths. Vertical CRSs make use of the direction of gravity to define the concept of height or depth, but the relationship with gravity may not be straightforward. By implication, ellipsoidal heights (h) cannot be captured in a vertical coordinate reference system. Ellipsoidal heights cannot exist independently, but only as an inseparable part of a 3D coordinate tuple defined in a geographic 3D coordinate reference system. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Association to the vertical coordinate system used by this CRS. 
		
	
	
	 
		 
			 Association to the vertical datum used by this CRS. 
		
	
	
	 
		 
			 Association to the Cartesian coordinate system used by this CRS. 
		
	
	
	 
	
	 
		 
			 A coordinate reference system that is defined by its coordinate conversion from another coordinate reference system (not by a datum). This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Association to the coordinate reference system used by this derived CRS. 
		
	
	
	 
		 
			 Association to the coordinate conversion used to define this derived CRS. 
		
	
	
	 
	
	 
		 
			 A 2D coordinate reference system used to approximate the shape of the earth on a planar surface, but in such a way that the distortion that is inherent to the approximation is carefully controlled and known. Distortion correction is commonly applied to calculated bearings and distances to produce values that are a close match to actual field values. 
		
		 
			 
				 
					 
				
			
		
	
	




gml/3.1.1/Profiles/CommonCRSs/1.0.0/coordinateSystems.xsd
 
	 
		 
		 Subset of coordinateSystems.xsd for GML 3.1.1 common CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-14. 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	 
	
	 
		 
			 Basic encoding for coordinate system axis objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
						 
							 The name by which this coordinate system axis is identified. 
						
					
				
				 
			
		
	
	
	 
		 
			 Definition of a coordinate system axis. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate system axis. The first axisID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate system axis, including data source information. 
						
					
					 
					 
				
				 
			
		
	
	
	 
		 
			 An identification of a coordinate system axis. 
		
	
	
	 
		 
			 The abbreviation used for this coordinate system axis. This abbreviation can be used to identify the ordinates in a coordinate tuple. Examples are X and Y. The codeSpace attribute can reference a source of more information on a set of standardized abbreviations, or on this abbreviation. 
		
	
	
	 
		 
			 Direction of this coordinate system axis (or in the case of Cartesian projected coordinates, the direction of this coordinate system axis at the origin). Examples: north or south, east or west, up or down. Within any set of coordinate system axes, only one of each pair of terms can be used. For earth-fixed CRSs, this direction is often approximate and intended to provide a human interpretable meaning to the axis. When a geodetic datum is used, the precise directions of the axes may therefore vary slightly from this approximate direction. Note that an EngineeringCRS can include specific descriptions of the directions of its coordinate system axes. For example, the path of a linear CRS axis can be referenced in another document, such as referencing a GML feature that references or includes a curve geometry. The codeSpace attribute can reference a source of more information on a set of standardized directions, or on this direction. 
		
	
	
	 
		 
			 Identifier of the unit of measure used for this coordinate system axis. The value of this coordinate in a coordinate tuple shall be recorded using this unit of measure, whenever those coordinates use a coordinate reference system that uses a coordinate system that uses this axis.
		
	
	
	 
		 
			 Association to a coordinate system axis, either referencing or containing the definition of that axis. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for coordinate system objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this coordinate system is identified. 
		
	
	
	 
		 
			 A coordinate system (CS) is the set of coordinate system axes that spans a given coordinate space. A CS is derived from a set of (mathematical) rules for specifying how coordinates in a given space are to be assigned to points. The coordinate values in a coordinate tuple shall be recorded in the order in which the coordinate system axes associations are recorded, whenever those coordinates use a coordinate reference system that uses this coordinate system. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate system. The first csID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate system, including data source information. 
						
					
					 
						 
							 Ordered sequence of associations to the coordinate system axes included in this coordinate system. 
						
					
				
			
		
	
	
	 
		 
			 An identification of a coordinate system. 
		
	
	
	 
		 
			 Association to a coordinate system axis. 
		
	
	
	 
		 
			 Association to a coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A two- or three-dimensional coordinate system in which position is specified by geodetic latitude, geodetic longitude, and (in the three-dimensional case) ellipsoidal height. An EllipsoidalCS shall have two or three usesAxis associations. 
		
		 
			 
		
	
	
	 
		 
			 Association to an ellipsoidal coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A 1-, 2-, or 3-dimensional coordinate system. Gives the position of points relative to orthogonal straight axes in the 2- and 3-dimensional cases. In the 1-dimensional case, it contains a single straight coordinate axis. In the multi-dimensional case, all axes shall have the same length unit of measure. A CartesianCS shall have one, two, or three usesAxis associations. 
		
		 
			 
		
	
	
	 
		 
			 Association to a Cartesian coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A one-dimensional coordinate system used to record the heights (or depths) of points. Such a coordinate system is usually dependent on the Earth's gravity field, perhaps loosely as when atmospheric pressure is the basis for the vertical coordinate system axis. A VerticalCS shall have one usesAxis association. 
		
		 
			 
		
	
	
	 
		 
			 Association to a vertical coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	




gml/3.1.1/Profiles/CommonCRSs/1.0.0/dataQuality.xsd
 
	 
		 
		 Subset of dataQuality.xsd for GML 3.1.1 common CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.  
	
	
	 
	




gml/3.1.1/Profiles/CommonCRSs/1.0.0/datums.xsd
 
	 
		 
		 Subset of datums.xsd for GML 3.1.1 common CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-14. 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	 
	
	 
		 
			 Basic encoding for datum objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this datum is identified. 
		
	
	
	 
		 
			 A datum specifies the relationship of a coordinate system to the earth, thus creating a coordinate reference system. A datum uses a parameter or set of parameters that determine the location of the origin of the coordinate reference system. Each datum subtype can be associated with only specific types of coordinate systems. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this datum. The first datumID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on this reference system, including source information. 
						
					
					 
					 
					 
					 
				
			
		
	
	
	 
		 
			 An identification of a datum. 
		
	
	
	 
		 
			 Description, possibly including coordinates, of the point or points used to anchor the datum to the Earth. Also known as the "origin", especially for engineering and image datums. The codeSpace attribute can be used to reference a source of more detailed on this point or surface, or on a set of such descriptions. 
- For a geodetic datum, this point is also known as the fundamental point, which is traditionally the point where the relationship between geoid and ellipsoid is defined. In some cases, the "fundamental point" may consist of a number of points. In those cases, the parameters defining the geoid/ellipsoid relationship have been averaged for these points, and the averages adopted as the datum definition.
- For an engineering datum, the anchor point may be a physical point, or it may be a point with defined coordinates in another CRS. When appropriate, the coordinates of this anchor point can be referenced in another document, such as referencing a GML feature that references or includes a point position.
- For an image datum, the anchor point is usually either the centre of the image or the corner of the image.
- For a temporal datum, this attribute is not defined. Instead of the anchor point, a temporal datum carries a separate time origin of type DateTime. 
		
	
	
	 
		 
			 The time after which this datum definition is valid. This time may be precise (e.g. 1997.0 for IRTF97) or merely a year (e.g. 1983 for NAD83). In the latter case, the epoch usually refers to the year in which a major recalculation of the geodetic control network, underlying the datum, was executed or initiated. An old datum can remain valid after a new datum is defined. Alternatively, a datum may be superseded by a later datum, in which case the realization epoch for the new datum defines the upper limit for the validity of the superseded datum. 
		
	
	
	 
	
	 
		 
			 A textual description and/or a set of parameters identifying a particular reference level surface used as a zero-height surface, including its position with respect to the Earth for any of the height types recognized by this standard. There are several types of Vertical Datums, and each may place constraints on the Coordinate Axis with which it is combined to create a Vertical CRS. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
	
	 
		 
			 Type of a vertical datum. 
		
		 
			 
				 
					 
						 Reference to a source of information specifying the values and meanings of all the allowed string values for this VerticalDatumTypeType. 
					
				
			
		
	
	
	 
		 
			 Association to a vertical datum, either referencing or containing the definition of that datum. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A geodetic datum defines the precise location and orientation in 3-dimensional space of a defined ellipsoid (or sphere) that approximates the shape of the earth, or of a Cartesian coordinate system centered in this ellipsoid (or sphere). 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Association to the prime meridian used by this geodetic datum. 
		
	
	
	 
		 
			 Association to the ellipsoid used by this geodetic datum. 
		
	
	
	 
		 
			 Association to a geodetic datum, either referencing or containing the definition of that datum. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for prime meridian objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this prime meridian is identified. The meridianName most common value is Greenwich, and that value shall be used when the greenwichLongitude value is zero. 
		
	
	
	 
		 
			 A prime meridian defines the origin from which longitude values are determined.
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this prime meridian. The first meridianID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this prime meridian, including source information. 
						
					
					 
				
			
		
	
	
	 
		 
			 An identification of a prime meridian. 
		
	
	
	 
		 
			 Longitude of the prime meridian measured from the Greenwich meridian, positive eastward. The greenwichLongitude most common value is zero, and that value shall be used when the meridianName value is Greenwich. 
		
	
	
	 
		 
			 Association to a prime meridian, either referencing or containing the definition of that meridian. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 Basic encoding for ellipsoid objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this ellipsoid is identified. 
		
	
	
	 
		 
			 An ellipsoid is a geometric figure that can be used to describe the approximate shape of the earth. In mathematical terms, it is a surface formed by the rotation of an ellipse about its minor axis.
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this ellipsoid. The first ellipsoidID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this ellipsoid, including source information. 
						
					
					 
					 
				
			
		
	
	
	 
		 
			 An identification of an ellipsoid. 
		
	
	
	 
		 
			 Length of the semi-major axis of the ellipsoid, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet. 
		
	
	
	 
		 
			 Association to an ellipsoid, either referencing or containing the definition of that ellipsoid. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 Definition of the second parameter that defines the shape of an ellipsoid. An ellipsoid requires two defining parameters: semi-major axis and inverse flattening or semi-major axis and semi-minor axis. When the reference body is a sphere rather than an ellipsoid, only a single defining parameter is required, namely the radius of the sphere; in that case, the semi-major axis "degenerates" into the radius of the sphere.
		
		 
			 
			 
			 
		
	
	
	 
		 
			 Inverse flattening value of the ellipsoid. Value is a scale factor (or ratio) that has no physical unit. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a scale factor, such as percent, permil, or parts-per-million. 
		
	
	
	 
		 
			 Length of the semi-minor axis of the ellipsoid. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet. 
		
	
	
	 
		 
			 The ellipsoid is degenerate and is actually a sphere. The sphere is completely defined by the semi-major axis, which is the radius of the sphere. 
		
		 
			 
				 
			
		
	
	




gml/3.1.1/Profiles/CommonCRSs/1.0.0/gmlCommonCRSsProfile.xsd
 
	 
		 commonCRSsProfile.xsd
		 GML 3.1.1 profile for Common CRSs. Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/basicTypes.xsd
 
   
     basicTypes.xsd
	 Subset of basicTypes.xsd for GML 3.1.1 CRS Support profile. Primary editor: Arliss Whiteside. Last updated 2005-11-14
	Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
  
  
  
   
     
       XML List based on XML Schema double type.  An element of this type contains a space-separated list of double values
    
     
  
  
   
     
       XML List based on XML Schema integer type.  An element of this type contains a space-separated list of integer values
    
     
  
  
   
     
       Name or code with an (optional) authority.  Text token.  
      If the codeSpace attribute is present, then its value should identify a dictionary, thesaurus 
      or authority for the term, such as the organisation who assigned the value, 
      or the dictionary from which it is taken.  
      A text string with an optional codeSpace attribute. 
    
     
       
         
      
    
  
  
   
     
       Number with a scale.  
      The value of uom (Units Of Measure) attribute is a reference to a Reference System for the amount, either a ratio or position scale. 
    
     
       
         
      
    
  
  
   
     
       List of numbers with a uniform scale.  
      The value of uom (Units Of Measure) attribute is a reference to 
      a Reference System for the amount, either a ratio or position scale. 
    
     
       
         
      
    
  
  




gml/3.1.1/Profiles/CrsSupport/1.0.0/crsSupportProfile.xsd
 
	 
		 crsSupportProfile.xsd
		 GML 3.1.1 profile for CRS Support. Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
	
	
	 
	 
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/dictionary.xsd
 
	 
		 
		 Subset of dictionary.xsd for GML 3.1.1 CRS Support profile. Primary editor: Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	
	
	
	 
	
	 
		 
			 A definition, which can be included in or referenced by a dictionary. In this extended type, the inherited "description" optional element can hold the definition whenever only text is needed. The inherited "name" elements can provide one or more brief terms for which this is the definition. The inherited "metaDataProperty" elements can be used to reference or include more information about this definition.  
The gml:id attribute is required - it must be possible to reference this definition using this handle.  
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
	
	 
		 
			 A non-abstract bag that is specialized for use as a dictionary which contains a set of definitions. These definitions are referenced from other places, in the same and different XML documents. In this restricted type, the inherited optional "description" element can be used for a description of this dictionary. The inherited optional "name" element can be used for the name(s) of this dictionary. The inherited "metaDataProperty" elements can be used to reference or contain more information about this dictionary. The inherited required gml:id attribute allows the dictionary to be referenced using this handle. 
		
		 
			 
				 
					 
						 
							 
								 An entry in this dictionary. The content of an entry can itself be a lower level dictionary or definition collection. This element follows the standard GML property model, so the value may be provided directly or by reference. Note that if the value is provided by reference, this definition does not carry a handle (gml:id) in this context, so does not allow external references to this specific entry in this context. When used in this way the referenced definition will usually be in a dictionary in the same XML document. 
							
						
					
				
			
		
	
	
	 
	
	 
		 
			 An entry in a dictionary of definitions. An instance of this type contains one definition object. Specialized descendents of this dictionaryEntry might be restricted in an application schema to allow only including specified types of definitions as valid entries in a dictionary. 
			 An entry in a dictionary of definitions. An instance of this type contains one definition object. Specialized descendents of this dictionaryEntry might be restricted in an application schema to allow only including specified types of definitions as valid entries in a dictionary. 
		
		 
			 
				 
					 This element in a dictionary entry contains the actual definition. 
				
			
		
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/geometryBasic0d1d.xsd
 
	 
		 geometryBasic0d1d.xsd
		 Subset of geometryBasic0d1d.xsd for GML 3.1.1 CRS Support profile. Primary editor: Primary editor: Arliss Whiteside. Last updated 2005-10-11 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	
	
	 
		 
			 The "_Geometry" element is the abstract head of the substituition group for all geometry elements of GML 3. This includes pre-defined and user-defined geometry elements. Any geometry element must be a direct or indirect extension/restriction of AbstractGeometryType and must be directly or indirectly in the substitution group of "_Geometry".
		
	
	
	 
		 
			 All geometry elements are derived directly or indirectly from this abstract supertype. A geometry element may have an identifying attribute ("gml:id"), a name (attribute "name") and a description (attribute "description"). It may be associated with a spatial reference system (attribute "srsName"). The following rules shall be adhered: - Every geometry type shall derive from this abstract type. - Every geometry element (i.e. an element of a geometry type) shall be directly or indirectly in the substitution group of _Geometry.
		
		 
			 
				 
			
		
	
	
	 
		 
			 Optional reference to the CRS used by this geometry.
		
		 
			 
				 In general this reference points to a CRS instance of gml:CoordinateReferenceSystemType (see coordinateReferenceSystems.xsd). For well known references it is not required that the CRS description exists at the location the URI points to.
			
		
	
	
	 
		 
			 This is the abstract root type of the geometric primitives. A geometric primitive is a geometric object that is not decomposed further into other primitives in the system. All primitives are oriented in the direction implied by the sequence of their coordinate tuples.
		
		 
			 
		
	
	
	
	
	 
	
	 
		 
			 DirectPosition instances hold the coordinates for a position within some coordinate reference system (CRS). Since DirectPositions, as data types, will often be included in larger objects (such as geometry elements) that have references to CRS, the "srsName" attribute will in general be missing, if this particular DirectPosition is included in a larger element with such a reference to a CRS. In this case, the CRS is implicitly assumed to take on the value of the containing object's CRS.
		
		 
			 
				 
			
		
	
	
	 
	
	 
		 
			 DirectPositionList instances hold the coordinates for a sequence of direct positions within the same coordinate reference system (CRS).
		
		 
			 
				 
			
		
	
	
	
	
	 
	
	 
		 
			 Envelope defines an extent using a pair of positions defining opposite corners in arbitrary dimensions. The first direct position is the "lower corner" (a coordinate position consisting of all the minimal ordinates for each dimension for all points within the envelope), the second one the "upper corner" (a coordinate position consisting of all the maximal ordinates for each dimension for all points within the envelope).
		
		 
			 
				 
				 
			
		
		 
	
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/geometryBasic2d.xsd
 
	 
		 geometryBasic2d.xsd
		 Subset of geometryBasic2d.xsd for GML 3.1.1 CRS Support profile. Primary editor: Primary editor: Arliss Whiteside. Last updated 2005-10-11 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	
	
	 
		 
			 An abstraction of a surface to support the different levels of complexity. A surface is always a continuous region of a plane.
		
		 
			 
		
	
	
	 
		 
			 A Polygon is a special surface that is defined by a single surface patch. The boundary of this patch is coplanar and the polygon uses planar interpolation in its interior. It is backwards compatible with the Polygon of GML 2, GM_Polygon of ISO 19107 is implemented by PolygonPatch.
		
		 
			 
				 
					 
				
			
		
	
	
	
	
	 
		 
			 The "_Ring" element is the abstract head of the substituition group for all closed boundaries of a surface patch.
		
	
	
	 
		 
			 An abstraction of a ring to support surface boundaries of different complexity.
		
		 
			 
		
	
	
	 
		 
			 A boundary of a surface consists of a number of rings. In the normal 2D case, one of these rings is distinguished as being the exterior boundary. In a general manifold this is not always possible, in which case all boundaries shall be listed as interior boundaries, and the exterior will be empty.
		
	
	
	 
		 
			 Encapsulates a ring to represent the surface boundary property of a surface.
		
		 
			 
		
	
	
	 
	
	 
		 
			 A LinearRing is defined by four or more coordinate tuples, with linear interpolation between them; the first and last coordinates must be coincident.
		
		 
			 
				 
					 
						 
							 The "posList" element provides a compact way to specifiy the coordinates of the control points, assuming all control points are in the same coordinate reference systems. The number of direct positions in the list must be at least four.
						
					
				
			
		
	
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/gmlBase.xsd
 
	 
		 
		 Subset of gmlBase.xsd for GML 3.1.1 CRS Support profile. Primary editor: Primary editor: Arliss Whiteside. Last updated 2005-10-11 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
	
	
	 
	 
	
	
	
	
	
	 
		 
			 This abstract element is the head of a substitutionGroup hierararchy which may contain either simpleContent or complexContent elements.  It is used to assert the model position of "class" elements declared in other GML schemas.
		
	
	
	
	 
		 
			 Global element which acts as the head of a substitution group that may include any element which is a GML feature, object, geometry or complex value
		
	
	
	 
		 
			 This content model group makes it easier to construct types that derive from AbstractGMLType and its descendents "by restriction".  A reference to the group saves having to enumerate the standard object properties.
		
		 
			 
			 
				 
					 Multiple names may be provided.  These will often be distinguished by being assigned by different authorities, as indicated by the value of the codeSpace attribute.  In an instance document there will usually only be one name per authority.
				
			
		
	
	
	 
		 
			 All complexContent GML elements are directly or indirectly derived from this abstract supertype to establish a hierarchy of GML types that may be distinguished from other XML types by their ancestry. Elements in this hierarchy may have an ID and are thus referenceable.
		
		 
			 
		
		 
	
	
	
	
	 
		 
			 A pattern or base for derived types used to specify complex types corresponding to a UML aggregation association.  An instance of this type serves as a pointer to a remote Object.
		
		 
	
	
	
	 
		 
			 Database handle for the object.  It is of XML type ID, so is constrained to be unique in the XML document within which it occurs.  An external identifier for the object in the form of a URI may be constructed using standard XML and XPointer methods.  This is done by concatenating the URI for the document, a fragment separator, and the value of the id attribute.
		
	
	
	 
		 
			 Attribute group used to enable property elements to refer to their value remotely. It contains the simple link components from xlinks.xsd, with all members optional, and the remoteSchema attribute, which is also optional.  These attributes can be attached to any element, thus allowing it to act as a pointer. The 'remoteSchema' attribute allows an element  that carries link attributes to indicate that the element is declared  in a remote schema rather than by the schema that constrains the current document instance.
		
		 
	
	
	 
		 
			 Label for the object, normally a descriptive name. An object may have several names, typically assigned by different authorities.  The authority for a name is indicated by the value of its (optional) codeSpace attribute.  The name may or may not be unique, as determined by the rules of the organization responsible for the codeSpace.
		
	
	
	 
		 
			 Contains a simple text description of the object.
			 Restricted to only allow a text string, as done in GML 3.2. 
		
	
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/gmlCrsSupportProfile.xsd
 
	 
		 gml.xsd
		 GML 3.1.1 profile for CRS Support. Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
	
	
	 
	 
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/measures.xsd
 
	 
		 
		 Subset of measures.xsd for GML 3.1.1 CRS Support profile. Primary editor: Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	
	
	 
	
	 
		 
			 Value of a length (or distance) quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet.
		
		 
			 
		
	
	
	 
		 
			 Value of a scale factor (or ratio) that has no physical unit. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a scale factor, such as percent, permil, or parts-per-million.
		
		 
			 
		
	
	
	 
		 
			 Value of a time or temporal quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a time value, such as seconds or weeks.
		
		 
			 
		
	
	
	 
		 
			 Value of a length (or distance) quantity in a grid, where the grid spacing does not have any associated physical units, or does not have a constant physical spacing. This grid length will often be used in a digital image grid, where the base units are likely to be pixel spacings. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for length along the axes of a grid, such as pixel spacings or grid spacings.
		
		 
			 
		
	
	
	 
		 
			 Value of a speed, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a velocity, such as metres per second or miles per hour.
		
		 
			 
		
	
	
	 
		 
			 Value of an angle quantity provided in either degree-minute-second format or single value format.
		
		 
			 
		
	
	
	 
	
	 
		 
			 Value of an angle quantity recorded as a single number, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for an angle, such as degrees or radians.
		
		 
			 
		
	
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/referenceSystems.xsd
 
	 
		 
		 Subset of referenceSystems.xsd for GML 3.1.1 common CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-10-11. 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	 
	
	 
	
	 
		 
			 Basic encoding for reference system objects, simplifying and restricting the DefinitionType as needed.
		
		 
			 
				 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this reference system is identified.
		
	
	
	 
		 
			 Description of a spatial and/or temporal reference system used by a dataset.
		
		 
			 
				 
					 
						 
							 Set of alterative identifications of this reference system. The first srsID, if any, is normally the primary identification code, and any others are aliases.
						
					
					 
						 
							 Comments on or information about this reference system, including source information.
						
					
					 
					 
				
			
		
	
	
	 
		 
			 An identification of a reference system.
		
	
	
	 
		 
			 Association to a reference system, either referencing or containing the definition of that reference system.
		
		 
			 
		
		 
	
	
	 
		 
			 Abstract coordinate reference system, usually defined by a coordinate system and a datum. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document.
		
	
	
	 
		 
			 Association to a CRS abstract coordinate reference system, either referencing or containing the definition of that CRS.
		
		 
			 
		
		 
	
	
	
	 
		 
			 An identification of a CRS object. The first use of the IdentifierType for an object, if any, is normally the primary identification code, and any others are aliases.
		
		 
			 
				 
					 The code or name for this Identifier, often from a controlled list or pattern defined by a code space. The optional codeSpace attribute is normally included to identify or reference a code space within which one or more codes are defined. This code space is often defined by some authority organization, where one organization may define multiple code spaces. The range and format of each Code Space identifier is defined by that code space authority. Information about that code space authority can be included as metaDataProperty elements which are optionally allowed in all CRS objects.
				
			
			 
			 
				 
					 Remarks about this code or alias.
				
			
		
	
	
	 
		 
			 Identifier of the version of the associated codeSpace or code, as specified by the codeSpace or code authority. This version is included only when the "code" or "codeSpace" uses versions. When appropriate, the version is identified by the effective date, coded using ISO 8601 date format.
		
	
	
	 
		 
			 Information about this object or code. 
			 Restricted to only allow a text string, as done in GML 3.2. 
		
	
	
	 
		 
			 Description of domain of usage, or limitations of usage, for which this CRS object is valid.
		
	
	
	 
		 
			 Area or region in which this CRS object is valid.
		
	
	
	 
		 
			 Information about the spatial, vertical, and/or temporal extent of a reference system object. Constraints: At least one of the elements "description", "boundingBox", "boundingPolygon", "verticalExtent", and temporalExtent" must be included, but more that one can be included when appropriate. Furthermore, more than one "boundingBox", "boundingPolygon", "verticalExtent", and/or temporalExtent" element can be included, with more than one meaning the union of the individual domains.
		
		 
			 
				 
					 Description of spatial and/or temporal extent of this object.
				
			
			 
				 
					 Geographic domain of this reference system object.
				
				 
					 
						 Unordered list of bounding boxes (or envelopes) whose union describes the spatial domain of this object.
					
				
				 
					 
						 Unordered list of bounding polygons whose union describes the spatial domain of this object.
					
				
			
			 
				 
					 Unordered list of vertical intervals whose union describes the spatial domain of this object.
				
			
		
	
	
	 
		 
			 A bounding box (or envelope) defining the spatial domain of this object.
		
	
	
	 
		 
			 A bounding polygon defining the horizontal spatial domain of this object.
		
	
	
	 
		 
			 An interval defining the vertical spatial domain of this object.
		
	
	




gml/3.1.1/Profiles/CrsSupport/1.0.0/units.xsd
 
	 
		 
		 Subset of units.xsd for GML 3.1.1 CRS Support profile. Primary editor: Primary editor: Arliss Whiteside. Last updated 2005-10-11.
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved.
	
	
	 
	
	 
	
	 
		 
			 Reference to a unit of measure definition that applies to all the numerical values described by the element containing this element. Notice that a complexType which needs to include the uom attribute can do so by extending this complexType. Alternately, this complexType can be used as a pattern for a new complexType.
		
		 
		 
			 
				 Reference to a unit of measure definition, usually within the same XML document but possibly outside the XML document which contains this reference. For a reference within the same XML document, the "#" symbol should be used, followed by a text abbreviation of the unit name. However, the "#" symbol may be optional, and still may be interpreted as a reference.
			
		
	
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/coordinateOperations.xsd
 
	 
		 
		 Subset of coordinateOperations.xsd for GML 3.1.1 GridCRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-15 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	 
	
	 
	
	 
		 
			 An ordered sequence of two or more single coordinate operations. The sequence of operations is constrained by the requirement that the source coordinate reference system of step (n+1) must be the same as the target coordinate reference system of step (n). The source coordinate reference system of the first step and the target coordinate reference system of the last step are the source and target coordinate reference system associated with the concatenated operation. Instead of a forward operation, an inverse operation may be used for one or more of the operation steps mentioned above, if the inverse operation is uniquely defined by the forward operation.
		
		 
			 
				 
					 
						 
							 Ordered sequence of associations to the two or more single operations used by this concatenated operation. 
						
					
				
			
		
	
	
	 
		 
			 Association to a single operation. 
		
	
	
	 
		 
			 Association to a single operation, either referencing or containing the definition of that single operation. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A pass-through operation specifies that a subset of a coordinate tuple is subject to a specific coordinate operation. 
		
		 
			 
				 
					 
						 
							 Ordered sequence of positive integers defining the positions in a coordinate tuple of the coordinates affected by this pass-through operation. 
						
					
					 
				
			
		
	
	
	 
		 
			 A positive integer defining a position in a coordinate tuple. 
		
	
	
	 
		 
			 Association to the operation applied to the specified ordinates. 
		
	
	
	 
		 
			 Association to an abstract operation, either referencing or containing the definition of that operation. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 An abstract operation on coordinates that usually includes a change of Datum. The parameters of a coordinate transformation are empirically derived from data containing the coordinates of a series of points in both coordinate reference systems. This computational process is usually "over-determined", allowing derivation of error (or accuracy) estimates for the transformation. Also, the stochastic nature of the parameters may result in multiple (different) versions of the same coordinate transformation.

This abstract complexType is expected to be extended for well-known operation methods with many Transformation instances, in Application Schemas that define operation-method-specialized value element names and contents. This transformation uses an operation method with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type. All concrete types derived from this type shall extend this type to include a "usesMethod" element that references one "OperationMethod" element. Similarly, all concrete types derived from this type shall extend this type to include one or more elements each named "uses...Value" that each use the type of an element substitutable for the "_generalParameterValue" element. 
		
		 
			 
				 
					 
					 
					 
					 
					 
					 
					 
					 
					 
				
				 
			
		
	
	
	 
	
	 
		 
			 A concrete operation on coordinates that usually includes a change of datum. The parameters of a coordinate transformation are empirically derived from data containing the coordinates of a series of points in both coordinate reference systems. This computational process is usually "over-determined", allowing derivation of error (or accuracy) estimates for the transformation. Also, the stochastic nature of the parameters may result in multiple (different) versions of the same coordinate transformation.

This concrete complexType can be used for all operation methods, without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one Transformation instance. 
		
		 
			 
				 
					 
					 
						 
							 Unordered set of composition associations to the set of parameter values used by this transformation operation. 
						
					
				
			
		
	
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/coordinateReferenceSystems.xsd
 
	 
		 
		 Subset of coordinateReferenceOperations.xsd for GML 3.1.1 GridCRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-15 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	 
	 
	
	
	 
	
	 
		 
			 A coordinate reference system that is defined by its coordinate conversion from another coordinate reference system but is not a projected coordinate reference system. This category includes coordinate reference systems derived from a projected coordinate reference system. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
	
	 
		 
			 Type of a derived coordinate reference system. 
		
		 
			 
				 
					 
						 Reference to a source of information specifying the values and meanings of all the allowed string values for this DerivedCRSTypeType. 
					
				
			
		
	
	
	 
		 
			 Association to the coordinate system used by this CRS. 
		
	
	
	 
	
	 
		 
			 An engineering coordinate reference system applied to locations in images. Image coordinate reference systems are treated as a separate sub-type because a separate user community exists for images with its own terms of reference. 
		
		 
			 
				 
					 
						 
					
					 
				
			
		
	
	
	 
		 
			 Association to the image datum used by this CRS. 
		
	
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/dataQuality.xsd
 
	 
		 
		 Subset of dataQuality.xsd for GML 3.1.1 GridCRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-15
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	 
		 
			 Position error estimate (or accuracy) data. 
		
		 
			 
		
	
	
	 
		 
			 A description of the position accuracy parameter(s) provided. 
		
	
	
	 
	
	 
		 
			 Closeness of reported coordinate values to values accepted as or being true. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
	
	 
		 
			 Closeness of the relative positions of two or more positions to their respective relative positions accepted as or being true. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
		 
			 A quantitative result defined by the evaluation procedure used, and identified by the measureDescription. 
		
	
	
	 
	
	 
		 
			 Error estimate covariance matrix. 
		
		 
			 
				 
					 
						 
							 Ordered sequence of units of measure, corresponding to the row and column index numbers of the covariance matrix, starting with row and column 1 and ending with row/column N. Each unit of measure is for the ordinate reflected in the relevant row and column of the covariance matrix. 
						
					
					 
						 
							 Unordered set of elements in this covariance matrix. Because the covariance matrix is symmetrical, only the elements in the upper or lower diagonal part (including the main diagonal) of the matrix need to be specified. Any zero valued covariance elements can be omitted. 
						
					
				
			
		
	
	
	 
	
	 
		 
			 An element of a covariance matrix.
		
		 
			 
			 
			 
		
	
	
	 
		 
			 Row number of this covariance element value. 
		
	
	
	 
		 
			 Column number of this covariance element value. 
		
	
	
	 
		 
			 Value of covariance matrix element. 
		
	
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/datums.xsd
 
	 
		 
		 Subset of datums.xsd for GML 3.1.1 GridCRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-11-15 
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	
	 
	
	 
		 
			 An image datum defines the origin of an image coordinate reference system, and is used in a local context only. For more information, see OGC Abstract Specification Topic 2. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
	
	 
		 
			 Specification of the way an image grid is associated with the image data attributes. 
		
		 
			 
				 
					 
						 Reference to a source of information specifying the values and meanings of all the allowed string values for this PixelInCellType. 
					
				
			
		
	
	
	 
		 
			 Association to an image datum, either referencing or containing the definition of that datum. 
		
		 
			 
		
		 
	
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/exampleImageCRSpixelCenter.xml
 
	
	 Image C543D041201T084027 CRS pixel centers
	 
		 C543D041201T084027
		
	
	 
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/exampleImageCRSpixelCorner.xml
 
	
	 Image C543D041201T084027 CRS pixel corners
	 
		 C543D041201T084027
		
	
	 
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/exampleMethodEPSG9624.xml
 
	
	 Affine general parametric transformation
	 
		 9624
	
	 
XT   =  A0  +  A1. XS  +  A2.YS; 
YT   =  B0  +  B1. XS  +  B2.YS; 
where XT , YT  are the coordinates of a point P in the target coordinate system; 
		XS , YS  are the coordinates of P in the source coordinate system. 

Reversibility: The parameter values for an affine transformation cannot be used for the reverse transformation. However, the reverse transformation is another affine transformation using the same formulas but with different parameter values. The reverse parameter values, indicated by a prime ('), can be calculated from those of the forward transformation as follows:
D    = A1 . B2   -   A2 . B1; 
A0' = (A2 . B0   -   B2 . A0) / D; 
B0' = (B1 . A0   -   A1 . B0) / D; 
A1' = +B2 / D; 
A2' = - A2 / D; 
B1' = - B1 / D; 
B2' = +A1 / D. 

See Section 2.4.2.1 of EPSG Guidance Note 7. 
	 2
	 2
	
	 
		 
			 A0
			 
				 8623
			
		
	
	
	 
		 
			 A1
			 
				 8624
			
		
	
	
	 
		 
			 A2
			 
				 8625
			
		
	
	
	 
		 
			 B0
			 
				 8639
			
		
	
	
	 
		 
			 B1
			 
				 8640
			
		
	
	
	 
		 
			 B2
			 
				 8641
			
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/exampleMethodGridElevation.xml
 
	
	 Grid elevation model
	 
		 GridElevationModel
	
	 This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. 
	 The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. 
	 2
	 3
	 
		 
			 Grid Elevation Data
			 
				 GridElevationData
			
			 The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. 
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/exampleMethodRSM.xml
 
	
	 Replacement Sensor Model (RSM) coordinate Transformation
	 
		 ReplacementSensorModel
	
	 This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). 
	 urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
	 3
	 2
	 
		 
			 Parameters for Replacement Sensor Model (RSM). 
			 
				 
			
			 The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. 
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/gridSpacing.xml
 
	
	 Spacing between adjacent grid points, or between centers of adjacent pixels
	 GridSpacing
	 Length
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/imageCRSpixelCenter.xml
 
	
	
	
	 Image TBD CRS pixel centers
	
	 
		 TBD
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/imageCRSpixelCorner.xml
 
	
	
	
	 Image TBD CRS pixel corner
	
	 
		 TBD
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the outside corner of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/imageDatumPixelCenter.xml
 
	
	 Origin at center of first pixel
	 
		 ImageDatumPixelCenter
	
	 2D image datum with the origin at the center of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. 
	 center of first pixel
	 cellCenter




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/imageDatumPixelCorner.xml
 
	
	 Origin at outside corner of first pixel
	 
		 ImageDatumPixelCorner
	
	 2D image datum with the origin at the outside corner of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. 
	 outside corner of first pixel
	 cellCorner




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateConcatenatedOperation.xml
 
	
	 Template for ConcatenatedOperation
	 Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. 
	 
		
	
	 
	 
		 
			 Template for grid elevation model coordinate Transformations
			 1.0
			 
				
			
			 
				
			
			 
				 
					 Grid elevation model
					 
						 GridElevationModel
					
					 This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. 
					 The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. 
					 2
					 3
					 
						 
							 Grid Elevation Data
							 
								 GridElevationData
							
							 The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. 
						
					
				
			
			 
				 http://baesystems.com/DEM/TBD
				 
			
		
	
	 
		 
			 Template for image georeferencing coordinate Transformation
			 1.0
			 
				
			
			 
			 
				 
					 Replacement Sensor Model (RSM) coordinate Transformation
					 
						 ReplacementSensorModel
					
					 This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). 
					 urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
					 3
					 2
					 
						 
							 Parameters for Replacement Sensor Model (RSM). 
							 
								 
							
							 The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. 
						
					
				
			
			 
				 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
				 
			
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateConcatenatedOperationSimplified.xml
 
	
	 Template for ConcatenatedOperation
	 Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. 
	 
		
	
	 
	 
		 
			 Template for grid elevation model coordinate Transformations
			 1.0
			 
				
			
			 
				
			
			 
			 
				 http://baesystems.com/DEM/TBD
				 
			
		
	
	 
		 
			 Template for image georeferencing coordinate Transformation
			 1.0
			 
				
			
			 
			 
			 
				 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
				 
			
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateGeorectifiedGridCRS.xml
 
	
	
	
	 Georectified Image XXXX CRS
	
	 
		 GeorectifiedImageXXXXCRS
		
	
	 Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. 
	 
	
	
	 
		 
			
			 Georectified image XXXX conversion
			
			 
				 
					 Affine general parametric transformation
					 
						 9624
					
					 
XT   =  A0  +  A1. XS  +  A2.YS; 
YT   =  B0  +  B1. XS  +  B2.YS; 
where XT , YT  are the coordinates of a point P in the target coordinate system; 
		XS , YS  are the coordinates of P in the source coordinate system. 

Reversibility: The parameter values for an affine transformation cannot be used for the reverse transformation. However, the reverse transformation is another affine transformation using the same formulas but with different parameter values. The reverse parameter values, indicated by a prime ('), can be calculated from those of the forward transformation as follows:
D    = A1 . B2   -   A2 . B1; 
A0' = (A2 . B0   -   B2 . A0) / D; 
B0' = (B1 . A0   -   A1 . B0) / D; 
A1' = +B2 / D; 
A2' = - A2 / D; 
B1' = - B1 / D; 
B2' = +A1 / D. 

See Section 2.4.2.1 of EPSG Guidance Note 7. 
					 2
					 2
					
					 
						 
							 A0
							 
								 8623
							
						
					
					
					 
						 
							 A1
							 
								 8624
							
						
					
					
					 
						 
							 A2
							 
								 8625
							
						
					
					
					 
						 
							 B0
							 
								 8639
							
						
					
					
					 
						 
							 B1
							 
								 8640
							
						
					
					
					 
						 
							 B2
							 
								 8641
							
						
					
				
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
		
	
	
	 #image
	
	 
		 
			 2D square-cell grid based coordinate system
			 
				 Grid2dSquareCS
			
			 A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 

In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.

The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.

If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 

The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. 
			 
				 
					 Grid row axis
					 
						 Row
					
					 For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. 
					 R
					 urn:ogc:def:axisDirection:OGC:1.0:rowPositive
				
			
			 
				 
					 Grid column axis
					 
						 Column
					
					 For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. 
					 C
					 urn:ogc:def:axisDirection:OGC:1.0:columnPositive
				
			
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateGeorectifiedGridCRSsimplified.xml
 
	
	
	
	 Georectified Image XXXX CRS
	
	 
		 GeorectifiedImageXXXXCRS
		
	
	 Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. 
	 
	
	
	 
		 
			
			 Georectified image XXXX conversion
			
			 
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
		
	
	
	 #image
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateGeoreferencingTransformation.xml
 
	
	 Example template for image georeferencing coordinate Transformations
	 1.0
	 
		
	
	 
	 
		 
			 Replacement Sensor Model (RSM) coordinate Transformation
			 
				 ReplacementSensorModel
			
			 This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). 
			 urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
			 3
			 2
			 
				 
					 Parameters for Replacement Sensor Model (RSM). 
					 
						 
					
					 The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. 
				
			
		
	
	 
		 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
		 
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateGeoreferencingTransformationSimplified.xml
 
	
	 Example template for image georeferencing coordinate Transformations
	 1.0
	 
		
	
	 
	 
	 
		 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
		 
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateGridElevationTransformation.xml
 
	
	 Template for grid elevation model coordinate Transformations
	 1.0
	 
		
	
	 
		
	
	 
		 
			 Grid elevation model
			 
				 GridElevationModel
			
			 This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. 
			 The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. 
			 2
			 3
			 
				 
					 Grid Elevation Data
					 
						 GridElevationData
					
					 The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. 
				
			
		
	
	 
		 http://baesystems.com/DEM/TBD
		 
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateGridElevationTransformationSimplified.xml
 
	
	 Template for grid elevation model coordinate Transformations
	 1.0
	 
		
	
	 
		
	
	 
	 
		 http://baesystems.com/DEM/TBD
		 
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateImageCRS.xml
 
	
	 Image TBD CRS pixel centers
	
	 
		 ImageTBDCRSpixelCenter
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
		 
			 2D square-cell grid based coordinate system
			 
				 Grid2dSquareCS
			
			 A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 

In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.

The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.

If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 

The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. 
			 
				 
					 Grid row axis
					 
						 Row
					
					 For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. 
					 R
					 urn:ogc:def:axisDirection:OGC:1.0:rowPositive
				
			
			 
				 
					 Grid column axis
					 
						 Column
					
					 For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. 
					 C
					 urn:ogc:def:axisDirection:OGC:1.0:columnPositive
				
			
		
	
	 
		 
			 Origin at center of first pixel
			 
				 ImageDatumPixelCenter
			
			 A 2D image datum with the origin at the center of the first pixel in the image file. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. 
			 center of first pixel
			 cellCenter
		
	




gml/3.1.1/Profiles/GridCRSs/1.0.0/Examples/templateImageCRSsimplified.xml
 
	
	 Image TBD CRS pixel centers
	
	 
		 ImageTBDCRSpixelCenter
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
	 




gml/3.1.1/Profiles/GridCRSs/1.0.0/gmlGridCRSsProfile.xsd
 
	 
		 gml.xsd
		 GML 3.1.1 grid CRSs profile. Primary editor: Arliss Whiteside. Last updated 2005-10-11
		Copyright © 2005 Open Geospatial Consortium, Inc. All Rights Reserved. 
	
	
	 
	




xlink/1.0.1/xlinks.xsd
 
	 
		 xlinks.xsd v3.0b2 2001-07
		 Primary editor: Arliss Whiteside. Last updated 2005-09-26 
		Copyright (c) Open Geospatial Consortium, Inc. (2005) 
		
	
	
	
	 
	
	 
	 
	 
	
	 
		 
			 
        The 'show' attribute is used to communicate the desired presentation 
        of the ending resource on traversal from the starting resource; it's 
        value should be treated as follows: 
        new - load ending resource in a new window, frame, pane, or other 
              presentation context
        replace - load the resource in the same window, frame, pane, or 
                  other presentation context
        embed - load ending resource in place of the presentation of the 
                starting resource
        other - behavior is unconstrained; examine other markup in the 
                link for hints 
        none - behavior is unconstrained 
      
		
		 
			 
				 
				 
				 
				 
				 
			
		
	
	 
		 
			 
        The 'actuate' attribute is used to communicate the desired timing 
        of traversal from the starting resource to the ending resource; 
        it's value should be treated as follows:
        onLoad - traverse to the ending resource immediately on loading 
                 the starting resource 
        onRequest - traverse from the starting resource to the ending 
                    resource only on a post-loading event triggered for 
                    this purpose 
        other - behavior is unconstrained; examine other markup in link 
                for hints 
        none - behavior is unconstrained
      
		
		 
			 
				 
				 
				 
				 
			
		
	
	
	 
		 
		 
		 
		 
		 
		 
		 
	



