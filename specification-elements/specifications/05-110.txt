
 

Open Geospatial Consortium Inc.  
Date: 2005-09-12 

Reference number of this OGC® document: OGC 05-110 

Version: 0.0.30 

Category: OpenGIS® Discussion Paper 

Editors: Bill Woodward, Arliss Whiteside 

Feature Portrayal Service 
 

 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.                             
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

 

Warning 

This document is not an OGC Standard. It is distributed for review and comment. It 
is subject to change without notice and may not be referred to as an OGC Standard. 

Recipients of this document are invited to submit, with their comments, notification 
of any relevant patent rights of which they are aware and to provide supporting 
documentation. 

Document type: OpenGIS® Discussion Paper 
Document subtype:  
Document stage: Approved 
Document language: English 

 
 

http://www.opengeospatial.org/legal/


OGC 05-110 

ii Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

Contents Page 

i. Preface.................................................................................................................... iv 

ii. Document terms and definitions ............................................................................ iv 

iii. Document contributor contact points..................................................................... iv 

iv. Revision history .......................................................................................................v 

v. Changes to the OGC Abstract Specification............................................................v 

vi. Future work..............................................................................................................v 

Foreword ............................................................................................................................ vi 

Introduction....................................................................................................................... vii 

1 Scope........................................................................................................................1 

2 Conformance............................................................................................................1 

3 Normative references ...............................................................................................1 

4 Terms and definitions ..............................................................................................2 

5 Conventions .............................................................................................................2 
5.1 Abbreviated terms ...............................................................................................2 
5.2 UML notation ......................................................................................................2 
5.3 Used parts of other documents ............................................................................2 
5.4 Platform-neutral and platform-specific specifications ........................................2 

6 Feature Portrayal Service overview.........................................................................3 

7 GetPortrayal operation (mandatory) ........................................................................4 
7.1 Introduction .........................................................................................................4 
7.2 GetPortrayal operation request ............................................................................4 

7.2.1 GetPortrayal request parameters .....................................................................4 
7.2.2 GetPortrayal request KVP encoding (optional) ..............................................7 
7.2.3 GetPortrayal request XML encoding (mandatory) .........................................9 

7.3 GetPortrayal operation response .........................................................................9 
7.3.1 Normal response parameters...........................................................................9 
7.3.2 GetPortrayal exceptions ..................................................................................9 

7.4 Examples .............................................................................................................9 

8 GetCapabilities operation (mandatory)..................................................................10 
8.1 Introduction .......................................................................................................10 
8.2 Operation request ..............................................................................................10 
8.3 GetCapabilities operation response ...................................................................12 

8.3.1 Normal response ...........................................................................................12 
8.3.2 OperationsMetadata section standard contents.............................................12 
8.3.3 Capabilities document XML encoding .........................................................13 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. iii
 

8.3.4 Exceptions.....................................................................................................13 
8.4 Examples ...........................................................................................................13 

Annex A (normative)  Abstract test suite ..........................................................................14 

Annex B (normative)  XML schemas................................................................................15 

Annex C (informative)  UML model .................................................................................16 

Annex D (informative)  Example XML documents ..........................................................17 
D.1 Introduction .......................................................................................................17 
D.2 No additional Example XML documents are included at this time ..................17 

Bibliography ......................................................................................................................18 
 

Figures Page 
Figure 1 — FPS interface UML diagram .........................................................................................4 

Tables Page 
Table 1 — FPS operation request encoding .....................................................................................4 
Table 2 — Parameters in GetPortrayal operation request ................................................................5 
Table 3 — Parameters in PortrayOutput data structure....................................................................6 
Table 4 — Parameters in ChainRequest data structure ....................................................................7 
Table 5 — GetPortrayal operation request URL parameters............................................................8 
Table 6 — Exception codes for GetPortrayal operation...................................................................9 
Table 7 — Implementation of parameters in GetCapabilities operation request ...........................11 
Table 8 — Section name values and contents ................................................................................12 
Table 9 — Required values of OperationsMetadata section attributes ..........................................12 
 

This draft includes questions about what FPS abilities should be specified. These 
questions use blue text, like this paragraph. These questions need to be decided, the 
related text edited appropriately, and then these questions deleted from the completed 
document. 



OGC 05-110 

iv Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

i. Preface 

This document specifies the interface to a Feature Portrayal Service, which is an OGC 
Web Service. This document is an Interoperability Program Report from the OGC Web 
Services Phase 3 (OWS-3) interoperability initiative. 

Suggested additions, changes, and comments on this draft report are welcome and 
encouraged. Such suggestions may be submitted by email message or by making 
suggested changes in an edited copy of this document. 

The changes made in this document version, relative to the previous version, are tracked 
by Microsoft Word, and can be viewed if desired. If you choose to submit suggested 
changes by editing this document, please first accept all the current changes, and then 
make your suggested changes with change tracking on. 

ii. Document terms and definitions 

This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008], 
which is based on the ISO/IEC Directives, Part 2, Rules for the structure and drafting of 
International Standards. In particular, the word “shall” (not “must”) is the verb form used 
to indicate a requirement to be strictly followed to conform to this specification 

iii. Document contributor contact points 

All questions regarding this document should be directed to the editor or the contributors: 

Contact Company 
Arliss Whiteside BAE Systems - Electronics & Integrated Solutions (E&IS) 
Bill Woodward ObjectFX Corporation 
Jody Garnett  Refractions Research Inc. 
Milan Trninic Galdos Systems, Inc 
Wesley Kubo  Galdos Systems, Inc 
Richard Gould  Refractions Research Inc. 
Craig Bruce  CubeWerx, Inc. 
Stan Tillman Intergraph Corporation  



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. v
 

iv. Revision history 

Date Release Editor Primary 
clauses 

modified 

Description 

2005-06-30 0.0.0 Arliss 
Whiteside 

All First draft 

2005-11-22 0.0.30 Bill 
Woodward 

All Cleanup, final edit prior to submitting to 
pending docs 

v. Changes to the OpenGIS® Abstract Specification 

The OpenGIS® Abstract Specification does not require changes to accommodate the 
technical contents of this document. 

vi. Future work 

Improvements in this document are desirable to: 

a) Specify any additional operations that are needed, such as a GetLegendGraphic 
operation and/or a GetWSDL operation 

b) Add WSDL specification of this interface (in an Annex) 

c) Add UML model (in Annex D) 

d) Add Abstract test suite (in Annex A) 

e) Resolve open issues/questions as indicated by blue text. 



OGC 05-110 

vi Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

Foreword 

 

This document includes 4 annexes; Annexes A&B are normative, and Annexes C&D are 
informative. 

Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The OGC shall not be held responsible for identifying any or 
all such patent rights. 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. vii
 

Introduction 

This document specifies the interface to a Feature Portrayal Service (FPS), which applies 
styles to digital features to produce a map image. The styles applied are identified or 
specified by the client, and are applied to digital feature data retrieved from a Web 
Feature Service (WFS) identified by the client.  

This document contains information developed during OGC Web Services Phase 3 
(OWS-3) interoperability initiative and is presented in the form of a draft FPS 
specification. It is anticipated that future working groups will take the information 
contained herein and move toward an implementable specification should such a FPS 
specification be desired by the OGC membership. 





OpenGIS® Discussion Paper OGC 05-110

 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 1
 

Feature Portrayal Service 

1 Scope 

This document specifies the interface to a Feature Portrayal Service, which applies styles 
to digital features to produce a map image. The styles applied are identified or specified 
by the client, and are applied to digital feature data retrieved from a Web Feature Service 
(WFS) identified by the client. The primary method to define a style to be used by a FPS 
is a Symbology Encoding document. Symbology Encodings are defined in OGC 05-112, 
Symbology_Management_DIPR.doc. 

2 Conformance 

Conformance with this specification shall be checked using all the relevant abstract tests 
specified in Annex A (normative). 

3 Normative references 

The following normative documents contain provisions that, through reference in this 
text, constitute provisions of this document. For dated references, subsequent 
amendments to, or revisions of, any of these publications do not apply. For undated 
references, the latest edition of the normative document referred to applies. 

ISO 19105:2000, Geographic information — Conformance and Testing 

Question: What other documents should be normatively referenced here? For example, 
what SLD document should be referenced? 

OGC 05-010, URNs of definitions in ogc namespace  

OGC 05-008, OGC Web Services Common Specification 

OGC 05-112, Symbology Management DIPR 

This OWS Common specification contains a list of normative references that are also 
applicable to this Implementation Specification. 

In addition to this document, this specification includes several normative XML Schema 
files as specified in Annex B. 

http://portal.opengeospatial.org/wiki/twiki/pub/OWS3/OWSGeoDSS/05-112_Symbology_Management_DIPR.doc
http://portal.opengeospatial.org/wiki/twiki/pub/OWS3/OWSGeoDSS/05-112_Symbology_Management_DIPR.doc
http://portal.opengeospatial.org/wiki/twiki/pub/OWS3/OWSGeoDSS/05-112_Symbology_Management_DIPR.doc


OGC 05-110 

2 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

4 Terms and definitions 

For the purposes of this specification, the definitions specified in Clause 4 of the OWS 
Common Implementation Specification [OGC 05-008] shall apply. In addition, the 
following terms and definitions apply. 

map 
portrayal of geographic information as a digital image file suitable for display on a 
computer screen 

portrayal 
presentation of information to humans [ISO 19117] 

symbology encoding 
style description to apply to the digital features being rendered 

5 Conventions 

5.1 Abbreviated terms 

Most of the abbreviated terms listed in Subclause 5.1 of the OWS Common 
Implementation Specification [OGC 05-008] apply to this document, plus the following 
abbreviated terms. 

FPS Feature Portrayal Service 

SE Symbology Encoding 

SLD Style Layer Descriptor 

WFS  Web Feature Service 

WMS Web Mapping Service 

5.2 UML notation 

Most diagrams that appear in this specification are presented using the Unified Modeling 
Language (UML) static structure diagram, as described in Subclause 5.2 of [OGC 05-
008]. 

5.3 Used parts of other documents 

This document uses significant parts of document [OGC 05-008]. To reduce the need to 
refer to that document, this document copies some of those parts with small 
modifications. To indicate those parts to readers of this document, the largely copied 
parts are shown with light grey background (15%). 

5.4 Platform-neutral and platform-specific specifications 

As specified in Clause 10 of OGC Abstract Specification Topic 12 “OpenGIS Service 
Architecture” (which contains ISO 19119), this document includes both Distributed 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 3
 

Computing Platform-neutral and platform-specific specifications. This document first 
specifies each operation request and response in platform-neutral fashion. This is done 
using a table for each data structure, which lists and defines the parameters and other data 
structures contained. These tables serve as data dictionaries for the UML model in Annex 
C, and thus specify the UML model data type and multiplicity of each listed item. 

EXAMPLES 1 Platform-neutral specifications are contained in Subclauses TBD, and TBD. 

The specified platform-neutral data could be encoded in many alternative ways, each 
appropriate to one or more specific DCPs. This document now specifies encoding 
appropriate for use of HTTP GET transfer of operations requests (using KVP encoding), 
and for use of HTTP POST transfer of operations requests (using XML or KVP 
encoding). However, the same operation requests and responses (and other data) could be 
encoded for other specific computing platforms, including SOAP/WSDL. 

EXAMPLES 2 Platform-specific specifications for KVP encoding are contained in Subclauses TBD, and TBD. 

EXAMPLES 3 Platform-specific specifications for XML encoding are contained in Subclauses TBD, and TBD. 

6 Feature Portrayal Service overview 

The specified Feature Portrayal Service (FPS) applies styles to digital features to produce 
a map-like image. The styles applied are identified or specified by the client, and are 
applied to digital feature data retrieved from a Web Feature Service (WFS) identified by 
the client.  

The FPS interface (currently) specifies two operations that can be requested by a client 
and performed by a FPS server. Those operations are: 

a) GetPortrayal (required implementation by servers) – This operation allows a client to 
request and receive back styled digital feature data in a map-like image. The styles 
applied are identified or specified by the client, and are applied to digital feature data 
retrieved from a Web Feature Service (WFS) identified by the client.  

b) GetCapabilities (required implementation by servers) – This operation allows a client 
to request and receive back service metadata (or Capabilities) documents that 
describe the abilities of the specific server implementation. This operation also 
supports negotiation of the specification version being used for client-server 
interactions. 

Question: What else or different should be said here about the GetPortrayal operation? 

Question: Should any other FPS operations be specified in this Interoperability Program 
Report? 

These operations have many similarities to other OGC Web Services, including to WMS. 
Many of these interface aspects that are common with other OWSs are thus specified in 
the OGC Web Services Common Implementation Specification [OGC 05-008]. Many of 



OGC 05-110 

4 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

these common aspects are normatively referenced herein, instead of being repeated in this 
specification. 

Figure 1 is a simple UML diagram summarizing the FPS interface. This class diagram 
shows that the FPS interface class inherits the getCapabilities operation from the 
OGCWebService interface class, and adds the GetPortrayal operation. (This 
capitalization of names uses the OGC/ISO profile of UML.) A more complete UML 
model of the FPS interface is provided in Annex C (informative). 

(A UML model is not now included in this FPS Interoperability Program Report.)  

Figure 1 — FPS interface UML diagram 

NOTE  In this UML diagram, the request and response for each operation is shown as a single 
parameter that is a data structure containing multiple lower-level parameters, which are discussed in 
subsequent clauses. The UML classes modelling these data structures are included in the complete UML 
model in Annex C. 

Each of the two operations is described in more detail in subsequent clauses. 

The encoding of operation requests shall use HTTP GET with KVP encoding and HTTP 
POST with XML and/or KVP encoding as specified in Clause 11 of [OGC 05-008]. 
Table 1 summarizes the FPS operations and their encoding methods defined in this 
specification. 

Questions: Should HTTP POST use XML and/or KVP encoding? 

Table 1 — FPS operation request encoding 

Operation name Request encoding 
GetCapabilities (required) KVP and optional XML 
GetPortrayal (required) XML and optional KVP 

 

7 GetPortrayal operation (mandatory) 

7.1 Introduction 

The GetPortrayal operation allows FPS clients to request and receive back styled digital 
feature data in a map-like image. The styles applied are identified or specified by the 
client, and are applied to digital feature data retrieved from a Web Feature Service (WFS) 
identified by the client. 

7.2 GetPortrayal operation request 

7.2.1 GetPortrayal request parameters 

A request to perform the GetPortrayal operation shall include the parameters listed and 
defined in Table 2. This table also specifies the UML model data type, source of values, 
and multiplicity of each listed parameter, plus the meaning to servers when each optional 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 5
 

parameter is not included in the operation request. Although some values listed in the 
“Name” column appear to contain spaces, they shall not contain spaces. 

NOTE 1 To reduce the need for readers to refer to other documents, the first three parameters listed 
below are largely copied from Table 20 in Subclause 9.2.1 of [OGC 05-008]. The next two parameters 
listed below are adapted from Table 27 in Subclause 10.6 of that document. 

Table 2 — Parameters in GetPortrayal operation request 

Name a Definition Data type and value Multiplicity and use 
service Service type identifier Character String type, not 

empty 
Value is OWS type 

abbreviation, namely “FPS” 

One (mandatory) 

request Operation name Character String type, not 
empty 

Value is operation name , 
namely “GetPortrayal” 

One (mandatory) 

version Specification version 
for operation 

Character String type, not 
empty 

Value is specified by each 
Implementation Specification 
and Schemas version 

One (mandatory) 

OutputFormat Reference to format in 
which operation 
output data should be 
encoded 

MIME type, see Subclause 
10.5 of [OGC 05-008] 

Values are specified in service 
metadata (Capabilities) 

Zero or one (optional) 
Include when multiple 

output formats available, 
and desired format other 
than specified default, if 
any  

Bounding ‌Box  BoundingBox 
surrounding desired 
subset of features to 
be portrayed, in 
desired CRS b, c  

ows:BoundingBox or 
ows:WGS84BoundingBox, 
see Subclause 10.2 of OGC 
05-008  

One (mandatory) 

Portray ‌Output Specifies desired 
portrayal output detail 

PortrayOutput type, see Table 
3

One (mandatory) 

Symbology ‌U
RL  

Reference to 
Symbology Encoding 
document  

URL 
(ows:OnlineResourceType in 
XML)  

Zero or one (optional) If 
omitted, must include 
SymbologyEncoding 
parameter  

Symbology ‌‌En
coding  

Symbology encoding 
document contents  

SymbologyEncoding 
document, see OGC 05-112  

Zero or one (optional)  
if omitted, must provide 
SymbologyEncodingURL 
parameter  

Chain ‌Request Specifies chained OWS 
(most likely a WFS) 
from which to get 
data, plus how to get 
desired data 

ChainRequest type, see Table 
4

One (mandatory) 

a The name capitalization rules being used here are specified in Subclause 11.6.2 of [OGC 05-008]. 

http://portal.opengeospatial.org/wiki/twiki/bin/view/OWS3/SymbologyEncoding
http://portal.opengeospatial.org/wiki/twiki/bin/view/OWS3/SymbologyEncoding


OGC 05-110 

6 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

b In this application of ows:BoundingBox, the “crs” for that BoundingBox shall always be referenced and shall 
always have two axes (i.e., be 2D or two-dimensional). The CRS referenced in the BoundingBox shall be the desired 
CRS for this feature portrayal. Since the FPS does not perform coordinate conversion, this CRS identifier shall be 
passed on to the identified WFS to retrieve feature data in this CRS, within the BoundingBox specified in this CRS. 
This CRS shall be identified by a URN as specified in Clause 7 of [OGC 05-010], unless the referenced WFS does 
not support such URNs. 
c A FPS server should be able to portray data in any possible CRS. More specifically, a FPS server shall be able 
to portray data in both “left-handed” and “right-handed” CRSs, in which the (roughly) 90 degree angle from the first 
to the second axis can be either counter-clockwise or clockwise. See examples listed below. 

 
Some examples of categories of CRSs that shall be correctly portrayed by a FPS server: 

EXAMPLE 1 Geographic CRS using Latitude and Longitude axes, with coordinates listed in that order. 

EXAMPLE 2 Geographic CRS using Longitude and Latitude axes, with coordinates listed in that order. 

EXAMPLE 3 Projected CRS using Easting and Northing axes, with coordinates listed in that order. 

EXAMPLE 4 Projected CRS using Northing and Easting axes, with coordinates listed in that order. 

EXAMPLE 5 Projected CRS using axes with names and directions other than Easting and Northing. 

NOTE 2 The data type of many parameters is specified as “Character String type, not empty”. In the 
XML Schemas specified herein, these parameters are encoded with the xsd:string type, which does NOT 
require that these strings not be empty. 

Table 3 — Parameters in PortrayOutput data structure 

Name Definition Data type and values Multiplicity and use 
‌Width a Width of desired 

output, in pixels 
PositiveInteger type b One (mandatory) 

‌Height a Height of desired 
output, in pixels 

PositiveInteger type b One (mandatory) 

Transparent Background 
transparency desired 

Boolean type 
Values are “true” and “false”  
Default is true 

Zero or one (optional) 
Include when opaque 

background desired 

Background ‌C
olor 

Background colour 
desired 

CharacterString type, not 
empty 

Values are TBD 

Zero or one (optional) 
Include when background 

colour desired 
Exception ‌For

mat 
Reference to format in 

which operation 
exceptions should be 
returned 

CodeList type, either: 
”XML” 
”INIMAGE” 
”BLANK” 

Zero or one (optional) 
Include when default 

XML not desired 

a The Width and Height parameters shall be applied to the two axes of the referenced “crs” of the specified 
BoundingBox. The Width shall be applied to the first axis of the BoundingBox “crs”, and shall scale the 
BoundingBox size in that direction. Similarly, the Height shall be applied to the second axis of the BoundingBox 
“crs”, and shall scale the BoundingBox size in that direction. (TBR) 
b The maximum value of Width and ‌Height could be specified using a Constraint element in the Operation 
element in the OperationsMetadata section of the service metadata (Capabilities) document. 

 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 7
 

Table 4 — Parameters in ChainRequest data structure

Name Definition Data type and values Multiplicity and use 
RemoteOWS ‌

Type  
Identifier of service type 

from which to request 
data  

Character String type, not 
empty 

Abbreviation of OWS type, 
such as WFS or WCS 

One (mandatory) 

RemoteOWS ‌
URL  

Reference to the specific 
OWS server from which 
to request data  

URL 
(ows:OnlineResourceType in 
XML) 

One (mandatory) 

FeatureType  Reference to feature 
TypeName to be used to 
retrieve desired features 
from WFS  

QName type, not empty 
 

One (mandatory) 

Filter  Filter used to specify 
which features to 
retrieve from WFS, to 
be used in request  

ogc:Filter element, see FES 1.1 
OGC 04-095  

Zero or one (optional) 
Include when needed 

 
The “Multiplicity and use” columns in Table 2 through Table 4 specify the optionality of 
each listed parameter and data structure in the GetPortrayal operation request. All the 
“mandatory” parameters and data structures shall be implemented by all FPS clients, 
using a specified value(s). Similarly, all the “mandatory” parameters and data structures 
shall be implemented by all FPS servers, checking that each request parameter or data 
structure is received with any specified value(s). 

All the “optional” parameters and data structures, in the GetPortrayal operation request, 
shall also be implemented by all FPS servers, checking that each request parameter or 
data structure is received with any specified value(s). Similarly, all the “optional” 
parameters and data structures may be implemented by all FPS clients, using specified 
values. 

7.2.2 GetPortrayal request KVP encoding (optional) 

All FPS servers shall implement HTTP GET transfer of the GetPortrayal operation 
request, using KVP encoding. The KVP encoding of the GetPortrayal operation request 
shall use the parameters specified in NOTE 1 The first three rows in the following table 
are largely copied from Table 21 in OGC 05-008. 

Table 5 shall be as specified in Table 2 above. 



OGC 05-110 

8 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

NOTE 1 The first three rows in the following table are largely copied from Table 21 in OGC 05-008. 

Table 5 — GetPortrayal operation request URL parameters 

Name and example a Optionality and use Definition and format 
service=FPS Mandatory Service type identifier 
request=GetPortrayal Mandatory Operation name 
version=0.0.30 Mandatory  Specification and schema version for this 

operation 
OutputFormat=image/p

ng 
Optional, include when multiple 

output formats available and 
desired format other than 
specified default, if any 

MIME type of format in which output 
data should be encoded 

Bounding ‌Box=-180,-
90,180,90,urn:ogc:def:
crs:OGC:1.0:CRS84  

Mandatory  BoundingBox surrounding desired subset 
of features to be portrayed, in desired 
CRS  

OutputWidth=300 Mandatory Positive integer pixel width of desired 
output 

OutputHeight=300 Mandatory Positive integer pixel height of desired 
output 

Transparent=TRUE Optional, include when opaque 
background desired 

Boolean identifies when background 
transparency desired 

BackgroundColor=0xFF
FFFF 

Optional, include when 
background colour desired 

Code identifying background color 
desired 

ExceptionFormat=BLA
NK 

Optional, include when default 
XML not desired 

Identifier of format in which operation 
exceptions should be returned 

Symbology ‌URL= 
http://someotherserver
.com/wfs/service.html  

Mandatory b Reference to Symbology Encoding 
document  

RemoteOWS ‌Type=WF
S  

Mandatory Identifier of service type from which to 
request data  

RemoteOWS ‌URL = 
http://someotherserver
.com/wfs/service.html  

Mandatory Reference to specific OWS server from 
which to request data  

FeatureType= 
myns:lakes 

Mandatory Reference to feature TypeName to be 
used to retrieve desired features from 
WFS  

Filter=TBD Optional, include when needed Filter used to specify which features to 
retrieve from WFS, to be used in 
request  

NameSpace=TBD Mandatory (TBR) Identifier of namespace of FeatureType 
parameter c

a All parameter names are here listed using mostly lower case letters. However, any parameter name capitalization shall be 
allowed in KVP encoding, see Subclause 11.5.2 of [OGC 05-008]. 

b Inclusion of the SymbologyEncoding document is not allowed in a KVP encoded GetPortrayal operation request, so 
inclusion of the Symbology ‌URL parameter is required. 

c Used to specify a namespace and its prefix. The format must be xmlns(prefix=escaped_url) where 
escaped_url is defined in Subclause 11.3 of [OGC 05-008]. If the prefix is not specified, then this is the default 
namespace. 

 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 9
 

7.2.3 GetPortrayal request XML encoding (mandatory) 

FPS servers can implement HTTP POST transfer of the GetPortrayal operation request, 
using XML encoding only. The following schema fragment specifies the contents and 
structure of a GetPortrayal operation request encoded in XML: 

7.3 Error! Not a valid filename. GetPortrayal operation response 

7.3.1 Normal response parameters 

The normal response to a valid GetPortrayal operation request shall be the features 
retrieved from the specified WFS server, symbolized using the referenced or included 
SymbologyEncoding, and portrayed as specified by the client. 

Question: What else should be said here? 

7.3.2 GetPortrayal exceptions 

When a FPS server encounters an error while performing a GetPortrayal operation, it 
shall return an exception report message as specified in Subclause 7.4 of [OGC 05-008]. 
The allowed standard exception codes shall include those listed in Table 10. For each 
listed exceptionCode, the contents of the “locator” parameter value shall be as specified 
in the right column of Table 6. 

NOTE  To reduce the need for readers to refer to other documents, the first three values listed below 
are copied from Table 20 in Subclause 8.3 of [OGC 05-008]. 

Table 6 — Exception codes for GetPortrayal operation 

exceptionCode value Meaning of code “locator” value 
MissingParameterValue Operation request does not include a parameter 

value, and this server did not declare a default 
value for that parameter 

Name of missing 
parameter 

InvalidParameterValue Operation request contains an invalid parameter 
value 

Name of parameter 
with invalid value 

NoApplicableCode No other exceptionCode specified by this service 
and server applies to this exception 

None, omit “locator” 
parameter 

 
Question: What other exceptionCode value(s) should be listed here? 

7.4 Examples 

A FPS GetPortrayal operation request can look like this encoded in KVP: 

http://someserver.com/fps/service.html?SERVICE=FPS&REQUEST=GetPortrayal
&VERSION=0.0.30&OUTPUTFORMAT=image/png&OUTPUTWIDTH=300&OUTPUTHEIGHT=300
&TRANSPARENT=FALSE&BACKGROUNDCOLOR=0xFFFFFF&EXCEPTIONFORMAT=BLank&SYMBO
LOGYURL=http://someotherserver.com/red.se&REMOTEOWSTYPE=WFS&REMOTEOWSUR
L=http://someotherserver.com/wfs/service.html &BOUNDINGBOX=-180,-
90,180,90,urn:ogc:def:crs:OGC:1.0:CRS84&FEATURETYPE=myns:lakes&NAMESPAC
E=xmlns(myns=http%3A%2F%2Fwww.example.com%2Fmyns)   



OGC 05-110 

10 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

  
A FPS GetPortrayal operation request can look like this encoded in XML: 

<?xml version="1.0" encoding="UTF-8"?> 
<GetPortrayal xmlns="http://www.opengeospatial.net/fps"  
    xmlns:ows="http://www.opengeospatial.net/ows"  
    xmlns:ogc="http://www.opengis.net/ogc"  
    xmlns:sld="http://www.opengis.net/sld"  
    xmlns:se="http://www.opengeospatial.net/se"   
    xmlns:gml="http://www.opengis.net/gml"  
    xmlns:G="http://www.intergraph.com/geomedia/gml"  
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"   
    xsi:schemaLocation="http://www.opengeospatial.net/fps  
        fpsGetPortrayal.xsd" service="FPS" version="0.0.30"> 
 <OutputFormat>image/png</OutputFormat> 
 <ows:BoundingBox crs="urn:ogc:def:crs:EPSG:6.6:4326"> 
  <ows:LowerCorner>-116.860 32.857</ows:LowerCorner> 
  <ows:UpperCorner>-116.25 33.4</ows:UpperCorner> 
 </ows:BoundingBox> 
 <PortrayOutput> 
  <Width>700</Width> 
  <Height>500</Height> 
  <Transparent>true</Transparent> 
  <BackgroundColor>0xFFFFFF</BackgroundColor> 
  <ExceptionFormat>XML</ExceptionFormat> 
 </PortrayOutput> 
    <SymbologyURL xmlns:xlink="http://www.w3.org/1999/xlink" 
xlink:type="simple" 
    xlink:href="http://localhost:8080/OWS3/encodings/EvacSchools-2525B-
SE.xml"/> 
 <ChainRequest> 
  <RemoteOWSType>WFS</RemoteOWSType> 
     <RemoteOWSURL xmlns:xlink="http://www.w3.org/1999/xlink" 
xlink:type="simple" 
xlink:href="http://regis.intergraph.com/wfs/casil/request.asp" /> 
     <FeatureType>schoolsa</FeatureType> 
 </ChainRequest> 
</GetPortrayal> 

 

8 GetCapabilities operation (mandatory) 

8.1 Introduction 

The mandatory GetCapabilities operation allows clients to retrieve service metadata from 
a server. The response to a GetCapabilities request shall be an XML document containing 
service metadata about the server. This clause specifies the XML document that a FPS 
server must return to describe its capabilities. 

8.2 Operation request 

The GetCapabilities operation request shall be as specified in Subclauses 7.2.2 through 
7.2.4 of [OGC 05-008]. The value of the “service” parameter shall be “FPS”. The 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 11
 

allowed set of service metadata (or Capabilities) XML document section names and 
meanings shall be as specified in Tables 3 and 7 of [OGC 05-008], omitting the Contents 
section. 

Question: Is there really no need to provide any styling ability information in the 
metadata about a FPS server? 

The “Multiplicity and use” column in Table 1 of [OGC 05-008] specifies the optionality 
of each listed parameter in the GetCapabilities operation request. Table 7 specifies the 
implementation of those parameters by FPS clients and servers. 

Table 7 — Implementation of parameters in GetCapabilities operation request 

Name Multiplicity Client implementation Server implementation 
service One 

(mandatory) 
request One 

(mandatory) 

Each parameter shall be 
implemented by all clients, 
using specified value 

Each parameter shall be implemented 
by all servers, checking that each 
parameter is received with specified 
value 

Accept ‌Vers
ions 

Zero or one 
(optional) 

Should be implemented by all 
software clients, using 
specified values 

Shall be implemented by all servers, 
checking if parameter is received 
with specified value(s) 

Sections Zero or one 
(optional) b

update‌Sequ
ence 

Zero or one 
(optional) b

Accept ‌For
mats 

Zero or one 
(optional) b

Each parameter may be 
implemented by each client b

If parameter not provided, 
shall expect default response 

If parameter provided, shall 
allow default or specified 
response 

Each parameter may be implemented 
by each server a

If parameter not implemented or not 
received, shall provide default 
response 

If parameter implemented and 
received, shall provide specified 
response 

a A specific OWS is allowed to make mandatory server implementation of any of these three parameters. 
b If a specific OWS makes mandatory server implementation of any of these three parameters, that parameter 
can also be made mandatory in the operation request, also requiring client implementation of this parameter. 

 
NOTE  The “Sections” and “updateSequence” parameters were not implemented in FPS servers in 
OWS-3. 

Question: Should FPS server or client implementation of any parameters in the 
GetCapabilities operation request be different that stated in Table 7? 

All FPS servers shall implement HTTP GET transfer of the GetCapabilities operation 
request, using KVP encoding. Servers can also implement HTTP POST transfer of the 
GetCapabilities operation request, using XML encoding only. 

Question: Should FPS server implementation of HTTP POST transfer of KVP encoded 
GetCapabilities operation requests be optional, prohibited, or required? 

 



OGC 05-110 

12 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

8.3 GetCapabilities operation response 

8.3.1 Normal response 

The service metadata document shall contain the three sections specified in Table 8. 
Depending on the values in the Sections parameter of the GetCapabilities operation 
request, any combination of these sections can be requested and returned. 

NOTE  The following table is largely copied from Table 7 in OGC 05-008. 

Table 8 — Section name values and contents 

Section name Contents 
ServiceIdentification Metadata about this specific server. The schema of this section shall be the 

same as for all OWSs, as specified in Subclause 7.4.3 and 
owsServiceIdentification.xsd of [OGC 05-008]. 

ServiceProvider Metadata about the organization operating this server. The schema of this 
section shall be the same for all OWSs, as specified in Subclause 7.4.4 
and owsServiceProvider.xsd of [OGC 05-008]. 

OperationsMetadata Metadata about the operations specified by this service and implemented by 
this server, including the URLs for operation requests. The basic contents 
and organization of this section shall be the same as for all OWSs, as 
specified in Subclause 7.4.5 and owsOperationsMetadata.xsd of [OGC 05-
008]. 

 
In addition to these sections, each service metadata document shall include the mandatory 
“version” and optional updateSequence parameters specified in Table 6 in Subclause 
7.4.1 of [OGC 05-008]. 

8.3.2 OperationsMetadata section standard contents 

For the FPS, the OperationsMetadata section shall be the same (TBD) as for all OGC 
Web Services, as specified in Subclause 7.4.5 and owsOperationsMetadata.xsd of [OGC 
05-008]. The mandatory values of various (XML) attributes shall be as specified in Table 
9. In Table 9, the “Attribute name” column uses dot-separator notation to identify parts of 
a parent item. The “Attribute value” column references an operation parameter, in this 
case an operation name, and the meaning of including that value is listed in the right 
column. 

Table 9 — Required values of OperationsMetadata section attributes 

Attribute name Attribute value Meaning of attribute value 
GetCapabilities The GetCapabilities operation is implemented by this server. Operation.name 
GetPortrayal The GetPortrayal operation is implemented by this server. 

 
In addition to the required values listed in Table 5, there are many optional values of the 
“name” attributes and “value” elements in the OperationsMetadata section, which can be 
included when considered useful. Most of these attributes and elements are for recording 
the domains of various parameters and quantities. 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 13
 

EXAMPLE 1 The domain of the exceptionCode parameter could record all the codes implemented for each 
operation by that specific server. Similarly, each of the GetCapabilities operation optional request parameters might 
have its domain recorded. 

EXAMPLE 2 The domain of the OutputFormat parameter, in the GetPortrayal operation request, could 
identify all the data output formats supported by this FPS server. 

EXAMPLE 3 The domain of the AcceptFormats parameter, in the GetCapabilities operation request, could 
identify all the capabilities formats supported by this FPS server. 

EXAMPLE 4 The domain of a RemoteOWSTypeAndVersion constraint, for the GetPortrayal operation 
request, could identify all the combinations of RemoteOWSType values and the corresponding remote 
OWS server versions supported by this FPS server. 

8.3.3 Capabilities document XML encoding 

A XML Schema fragment for a FPS service metadata document uses 
ows:CapabilitiesBaseType in owsCommon.xsd of [OGC 05-008], and is: 

Error! Not a valid filename.This XML Schema uses the owsServiceIdentification.xsd, 
owsServiceProvider.xsd, and owsOperationsMetadata.xsd schemas specified in [OGC 
05-008]. All these XML Schemas contain documentation of the meaning of each element, 
attribute, and type, and this documentation shall be considered normative as specified in 
Subclause 11.6.3 of [OGC 05-008]. 

8.3.4 Exceptions 

When a FPS server encounters an error while performing a GetCapabilities operation, it 
shall return an exception report message as specified in Clause 8 of [OGC 05-008]. The 
allowed exception codes shall include those listed in Table 5 of Subclause 7.4.1 of [OGC 
05-008], if the updateSequence parameter is implemented by the server. 

8.4 Examples 

To request a capabilities document, a client could issue the following GetCapabilities 
operation request with minimum contents: 

http://localhost:8080/OWS3/fps&SERVICE=FPS&REQUEST=getCapabilities 
 
The corrsponding minimum request encoded in XML is: 

Error! Not a valid filename. 
In response to such a request, the FPS server might generate a document that looks like: 



OGC 05-110 

14 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

Error! Not a valid filename.Annex A 
(normative) 

 
Abstract test suite 

(No abstract test suite is included in this WFS Interoperability Program Report.). 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 15
 

Annex B 
(normative) 

 
XML schemas 

In addition to this document, this specification includes several normative XML Schema 
files. These XML Schema files are bundled in a zip file with the present document. After 
OGC acceptance of a Version 1.0.0 of this specification, these XML Schemas will also 
be posted online at the URL http://schemas.opengeospatial.net/FPS/1.0.0. In the event of 
a discrepancy between the bundled and online versions of the XML Schema files, the 
online files shall be considered authoritative. 

The FPS abilities now specified in this document use TBD specified XML Schemas 
included in the zip file with this document. These XML Schemas combine the XML 
Schema fragments listed in various subclauses of this document, eliminating duplications. 
These XML Schema files roughly match the TBD UML packages described in Annex B, 
and are named: 

fpsGetPortrayal.xsd 

fpsGetCapabilities.xsd 

These XML Schemas use and build on the OWS common XML Schemas specified 
[OGC 05-008], named: 

ows19115subset.xsd 

owsCommon.xsd 

owsDataIdentification.xsd 

owsGetCapabilities.xsd 

owsOperationsMetadata.xsd 

owsServiceIdentification.xsd 

owsServiceProvider.xsd 

owsExceptionReport.xsd 

All these XML Schemas contain documentation of the meaning of each element and 
attribute, and this documentation shall be considered normative as specified in Subclause 
11.6.3 of [OGC 05-008]. 



OGC 05-110 

16 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

Annex C 
(informative) 

 
UML model 

(No UML model of the FPS interface is now included in this Interoperability Program 
Report) 



OGC 05-110 

Copyright © 2006 Open Geospatial Consortium. All Rights Reserved. 17
 

Annex D 
(informative) 

 
Example XML documents 

D.1 Introduction 

This annex provides more example XML documents than given in the body of this 
document.  

D.2 No additional Example XML documents are included at this time 



OGC 05-110 

18 Copyright © 2006 Open Geospatial Consortium. All Rights Reserved.
 

Bibliography 

[1] Guidelines for Successful OGC Interface Specifications, OGC document 00-
014r1 

Question: What informative references should be listed here? 

 


	1 Scope
	2 Conformance
	3 Normative references
	4 Terms and definitions
	5 Conventions
	5.1 Abbreviated terms
	5.2 UML notation
	5.3 Used parts of other documents
	5.4 Platform-neutral and platform-specific specifications

	6 Feature Portrayal Service overview
	7 GetPortrayal operation (mandatory)
	7.1 Introduction
	7.2 GetPortrayal operation request
	7.2.1 GetPortrayal request parameters
	7.2.2 GetPortrayal request KVP encoding (optional)
	7.2.3 GetPortrayal request XML encoding (mandatory)

	7.3 Error! Not a valid filename. GetPortrayal operation response
	7.3.1 Normal response parameters
	7.3.2 GetPortrayal exceptions

	7.4 Examples

	8 GetCapabilities operation (mandatory)
	8.1 Introduction
	8.2 Operation request
	8.3 GetCapabilities operation response
	8.3.1 Normal response
	8.3.2 OperationsMetadata section standard contents
	8.3.3 Capabilities document XML encoding
	8.3.4 Exceptions

	8.4 Examples


