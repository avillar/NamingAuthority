
  

 

 

Open Geospatial Consortium, Inc. 

Date: 2007-12-31 

Reference number of this document: OGC 08-002 

Version: 0.0.9 

Category: OGC Discussion Paper 

Editor: Peter Rushforth 

OGC® Canadian Geospatial Data Infrastructure WFS and 

GML Best Practices  

 

 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 

To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

 

Warning 

 

This document is not an OGC Standard. This document is an OGC Discussion Paper and is therefore not an 

official position of the OGC membership. It is distributed for review and comment. It is subject to change 

without notice and may not be referred to as an OGC Standard. Further, an OGC Discussion Paper should 

not be referenced as required or mandatory technology in procurements. 

 

Document type:  OpenGIS
® 

Discussion Paper 

Document subtype: NA 

Document stage:  Approved as Discussion Paper 

Document language:  English 

http://www.opengeospatial.org/legal/


OGC 08-002 

ii� Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

Preface 

This report is intended to reflect the lessons learned during execution of the Canadian 

Geospatial Data Infrastructure Interoperability Pilot project, in the domain of application 

schema design and Web Feature Service setup and operation. 

 

Suggested additions, changes, and comments on this draft report are welcome and 

encouraged. Such suggestions may be submitted by email message or by making 

suggested changes in an edited copy of this document.  The changes made in this 

document version, relative to the previous version, are tracked by Microsoft Word, and 

can be viewed if desired. If you choose to submit suggested changes by editing this 

document, please first accept all the current changes, and then make your suggested 

changes with change tracking on. 

 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. iii� 
 

Contents Page

1 Introduction ....................................................................................................................1 

1.1 Scope ........................................................................................................................1 

1.2 Document contributor contact points .......................................................................1 

1.3 Revision history .......................................................................................................1 

1.4 Future work ..............................................................................................................2 

2 References ......................................................................................................................2 

3 Terms and definitions ....................................................................................................2 

4 Conventions ...................................................................................................................2 

4.1 Abbreviated terms ....................................................................................................2 

5 Overview ........................................................................................................................3 

6 Issues ..............................................................................................................................3 

6.1 Difficulty of implementing community application schema ...................................3 

6.1.1 Description ..........................................................................................................3 

6.1.2 Discussion ...........................................................................................................4 

6.1.2.1 Background ..............................................................................................................4 

6.1.2.2 The experience in the CGDI IP ................................................................................6 

6.1.3 Recommendation .................................................................................................7 

6.2 Ordering of feature properties semantically unimportant, yet imposed by 

GML. ...................................................................................................................8 

6.2.1 Description ..........................................................................................................8 

6.2.2 Discussion ...........................................................................................................8 

6.2.3 Recommendation .................................................................................................8 

6.3 Performance related to data volumes and bandwidth consumption .........................9 

6.3.1 Description ..........................................................................................................9 

6.3.2 Discussion ...........................................................................................................9 

6.3.2.1 Verbosity of GML Application Schemas ................................................................9 

6.3.2.2 Compression and bandwidth ....................................................................................9 

6.3.3 Recommendation 1 ............................................................................................10 

6.3.4 Recommendation 2 ............................................................................................10 

6.3.5 Recommendation 3 ............................................................................................10 

6.4 Feature source connections and truncation or paging of WFS query results .........10 

6.4.1 Description ........................................................................................................10 

6.4.2 Discussion .........................................................................................................11 

6.4.3 Recommendation ...............................................................................................11 

6.5 Interactive performance of WFS optimized when used in conjunction with 

WMS. ................................................................................................................11 

6.5.1 Description ........................................................................................................11 

6.5.2 Discussion .........................................................................................................12 

6.5.3 Recommendation: Balance use of WMS, WFS with and without 

maxFeatures ..................................................................................................12 



OGC 08-002 

4� Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

6.6 Client – server interoperability impacted by use of WFS 1.0 and WFS 1.1 

together ..............................................................................................................12 

6.6.1 Discussion .........................................................................................................12 

6.6.2 Recommendation 1 ............................................................................................12 

6.6.3 Recommendation 2 ............................................................................................13 

Annex A Example of a mapping vocabulary instance document ......................................14 

Annex B Example of a “CreateFeatureType” request .......................................................16 

Annex C CGDI IP Community GML Application Schema ..............................................21 

 

 

 



OpenGIS
®
 
 
Discussion Paper OGC 08-002 

 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

OGC® Canadian Geospatial Data Infrastructure WFS and 

GML Best Practices 

1 Introduction 

1.1 Scope 

This OGC™ document gives guidelines and recommendations for administrators, users 

and implementers of Web Feature Services serving Geography Markup Language 

encoded response documents.   

 

This OGC™ document is applicable to the design, implementation and operation of Web 

Feature Service networks. 

 

Attention is drawn to the possibility that some of the elements of this document may be 

the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held 

responsible for identifying any or all such patent rights. 

 

Recipients of this document are requested to submit, with their comments, notification of 

any relevant patent claims or other intellectual property rights of which they may be 

aware that might be infringed by any implementation of the standard set forth in this 

document, and to provide supporting documentation. 

 

1.2 Document contributor contact points 

All questions regarding this document should be directed to the editor or the contributors: 

Name Organization 

Peter Rushforth Natural Resources Canada 

Raj Singh OGC 

Terry Fisher Natural Resources Canada 

Peter Vretanos Cubewerx Inc. 

Josh Lieberman Traverse Technologies 

 

1.3 Revision history 

Date Release Editor Primary clauses 
modified 

Description 

28 Jan 08 1 Rushforth  1
st
 public release 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

     

     

 

1.4 Future work 

Improvements in this document are desirable to continue to build the body of practical 

experience-based knowledge of best practices in the domain of Web Feature Services.  

As the experience in this domain grows, the knowledge gained by practitioners in the 

field is invaluable to those organizations and professionals contemplating entry into the 

use of this important technology. 

2 References 

The following documents are referenced in this document. For dated references, 

subsequent amendments to, or revisions of, any of these publications do not apply. For 

undated references, the latest edition of the normative document referred to applies. 

 

OGC 06-121r3, OpenGIS
®

 Web Services Common Standard 

OGC 04-094, OpenGIS
®

 Web Feature Service Implementation Standard 

OGC 03-105r1, OpenGIS
® 

Geography Markup Language (GML) Encoding Standard 
 

OGC 06-049r1, OpenGIS
® 

GML 3.1.1 simple features profile (1.0.0) 
 

 

3 Terms and definitions 

For the purposes of this report, the definitions specified in Clause 4 of the OWS Common 

Standard [OGC 06-121r3] shall apply. In addition, the following terms and definitions 

apply. 

 

3.1  

GML Application Schema 

An XML schema which imports some or all definitions from the GML Schemas in order 

to model spatial phenomena in GML.  Can be designed by the database designer or 

adopted from a vertical environment.  Examples of vertical standards GML Application 

Schema are GeoSciML and CityGML. 

 

4 Conventions 

4.1 Abbreviated terms 

CGDI Canadian Geospatial Data Infrastructure 

IT Information Technology 

SDI Spatial Data Infrastructure 

SOA Service Oriented Architecture 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

XML eXtensible Markup Language 

WFS Web Feature Service 

GML Geography Markup Language 

5 Overview 

The Canadian Geospatial Data Infrastructure Interoperability Pilot (CGDI IP) project 

sought to demonstrate operational use of Web Feature Services in the context of three use 

case scenarios.  These use cases were designed to reflect the possible or likely roles and 

uses of WFS in the CGDI.  The pilot project brought together a group of public and 

private sector organizations representative of the CGDI community, and in particular of 

the GeoBase initiative.   

 

GeoBase is an initiative of the Canadian Council on Geomatics, which provides quality 

geospatial data free of charge via a web portal. The GeoBase web portal provided the 

business context for use cases 1 and 2. In use case 1 the user was enabled to browse, 

query and download framework data via the portal WFS and WMS services using web 

clients, while use case 2 outlined a workflow wherein a (privileged) data custodian uses 

WFS-T to update the framework data layers based on feature-based GeoRSS feedback 

from (non-privileged) external data users. 

 

The project was executed in essentially 3 phases: Setup, during which the pilot 

participants developed and agreed to adopt and implement a shared “community schema” 

published into a pilot WFS network consisting of provincial and national servers, ii) 

development, during which the technology providers implemented or adapted user 

interface software required to execute the use cases and iii) testing, during which the use 

cases were refined, executed demonstrated and captured. During all three phases of pilot 

execution, issues were uncovered and managed.  The scope of these issues ranged from 

feature and property semantics to network connectivity and firewall issues. 

 

This document deals only with issues related to characteristics of WFS, GML, or 

software implementations of those standards, as uncovered during all phases of pilot 

execution, and provides recommendations such as might be considered “best practices” 

or suggestions for change where applicable. 

 

6 Issues 

6.1 Difficulty of implementing community application schema 

6.1.1 Description   

There are two possible situations when deploying a WFS to serve features:  

 

 No data exists; the WFS is being used to capture features starting from scratch 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

 There is preexisting data, in tables, files or other data structures, which is to be 
WFS-enabled.  This is likely the most common situation. 

 

In both situations, mapping
1
 of the internal data structures to the external GML 

Application Schema takes place.  This mapping is either pre-defined, or not.  Some WFS 

implementations provide limited or no facilities to change the default mapping, passing 

through the characteristics of the data store, effectively relying on the data store facilities 

for application schema support.  Others provide a fixed mapping, or a mapping which has 

rigid characteristics.  Others offer complete mapping flexibility with powerful facilities.  

The key point is that the mechanism is common to all implementations, yet varies widely 

between implementations in its nature and quality. 

 

The experience of the participants in the CGDI IP project was that the mapping of 

internal database tables and columns to a GML Application Schema was (a) common to 

every participating organization and (b) in some cases quite a difficult or impossible 

exercise.   

 

The situation in the CGDI IP was dominantly one wherein pre-existing database data 

tables and columns had to be mapped to the agreed-upon community-developed GML 

Application Schema.  The pre-existence of the data tables was due to the fact the 

participants used features of types which are used in the GeoBase context: roads, place 

names and administrative areas.  In many cases in the CGDI IP project, the database 

tables had to be (re-)created explicitly to support the mapping to the community GML 

Application Schema.  In a pilot scenario this was acceptable, however in a production 

environment, this could be prohibitively costly. 

 

As mentioned, the mechanism for doing the database mapping varies between WFS 

implementations.  It was the experience of the pilot participants that the variety in 

mapping facilities is a barrier to use and interoperability of WFS and GML. 

 

Regardless of how it is accomplished, the need to do database mapping is universally 

present where WFS is used, and especially so in situations where the application schema 

must follow an external specification, such as in this project.  This suggests that a facility 

for enabling non-default database mapping is warranted.  It is recognized that this implies 

changes to some WFS implementations, and optimally, to the WFS standard itself. 

 

6.1.2 Discussion 

6.1.2.1 Background 

The three mapping-related issues that WFS implementers need to be aware of are: 

 

1. the order of elements is important in GML documents and application schemas 
2. database column data types need to be mapped to XML Schema data types. 

                                                 
1 mapping in this context refers to the translation of database tables’ columns and data types to the GML Application 
Schema (XML Schema) elements’ data types 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

3. names of elements in GML documents and application schemas are not 
necessarily the same as the names of corresponding tables and columns in spatial 

databases. 

 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

With regard to 1. above, features derived by extension from gml:AbstractFeatureType 

follow an xs:sequence.  So database columns must be mapped in a prescribed order to 

follow the GML Application Schema. (Where the App Schema is generated by the WFS 

in response to the table layout at best uses a default mapping, and at worst, forces the 

database administrator to create a new table or a view (if supported by the WFS) to match 

the order).  In some implementations of WFS, the geometry-valued property is always 

listed first in the feature, necessitating on-the-fly transformation outside of the WFS.  

 

With regard to 2. above, in many cases, the SQL column datatypes need to be mapped to 

XML Schema types via a type conversion which is not necessarily “default” (i.e. not a 

mapping chosen by the WFS developer, but instead, one chosen by the WFS 

administrator).   Once again, this is not uniformly available in WFS implementations and 

therefore requires table re-definition.  

 

Finally, in regard to 3. above, it is a common situation that database columns names do 

not match a proposed schema and must therefore be mapped to another name in the 

application schema.  In some cases, because the WFS is unable to do anything other than 

a default mapping (ie it is not a configurable characteristic), the fact that many databases 

can only use uppercase column and table names leads to the inability of that WFS to 

comply to an external schema other than its own version of it.  This is a serious 

interoperability concern. 

 

6.1.2.2 The experience in the CGDI IP  

The CGDI Interoperability Pilot participant organizations were reflective of the CGDI at 

large: the centres of responsibility for geomatics from seven provinces participated 

directly.  There was a fundamental requirement in the pilot for each organization to 

publish data according to an agreed-upon community schema.  This schema was designed 

for interoperability in that the features and their properties served by the CGDI IP WFS 

network nodes were commonly agreed to by each participating agency, and could thus be 

processed by common or shared software.  The internal details of a feature’s 

implementation within the spatial data infrastructures of the various geomatics agencies 

across the country were, by design, beyond the scope of the agreement.  However, each 

organization had content which semantically correlated with features and properties in 

the community schema.  This situation would be perhaps similar to one in which diverse 

organizations agreed to develop a common database based on any vertical standard, such 

as GeoSciML or CityGML, for example.  Those organizations might not share a physical 

database structure, but they would agree to a conceptual one as implemented by the 

standard.  So the experience of the CGDI IP participants is likely universally applicable.  

Each CGDI IP organization implemented a WFS for the pilot, there were several different 

WFS used, including both open source and commercial off-the-shelf (COTS) software.  

Additionally, the computing and database environments in each agency are typically 

quite different.  The manner in which each WFS software implementation deals with the 

mapping issue varies, but it is an issue common to all of the implementations.  

 

 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

6.1.3 Recommendation 

To simplify administration of WFS, a non-default mapping mechanism should be 

developed by WFS implementers.  To ensure interoperability between WFS 

implementations, a standard mechanism to address the mapping issue should be 

specified.  

 

The common mechanism should define an XML vocabulary which declares the mapping 

from external WFS / GML application schema to the internal computing/database 

environment.  This could take different forms, and further investigation and prototyping 

is required to identify an optimal and generally implementable solution.  An example of a 

mapping document from the CubeServ WFS is presented in Appendix A.  This document 

describes the mapping of a spatial table and its columns to a feature and its properties 

within the pilot schema.  The existence of this document demonstrates the fact that 

mapping is an issue that has been encountered and worked through by some 

implementers. 

 

The proposed general solution would be comprised of two related developments: 

 

 First, develop standardized schema annotations to describe the mapping.  The 
advantage of this is that the application schema and the mapping information are 

integrated.  The markup language of the annotations would be developed for this 

explicit purpose, or adapted from some existing suitable example.  These 

annotations would constitute a data definition / data mapping language for WFS. 

 

 Secondly, define a mechanism whereby a compliant WFS could accept an 
annotated schema as a request body, and define a feature and properties 

implemented via the encoded mapping. 

 

A possibility for such a request would be a “CreateFeatureType” WFS operation which, 

in the case where the tables referenced by the annotations did not exist, would create 

empty, or initial feature types, mapped to newly created spatial database data structures 

internally, as specified by the content of the CreateFeatureType schema annotations in 

the request.   This operation would not be used by service consumers, but by service 

administrators and would result in dynamic changes to the capabilities of the service 

itself by adding to the FeatureTypeList section of the Capabilities document.  Note that in 

the case where no mapping annotations were provided, a default mapping based on the 

application schema characteristics could be created.  This has the added merit of making 

the application schema of primary importance in the WFS service creation process, 

instead of the datastore’s implementation driving the WFS application schema. 

 

Similarly, in the case where spatial database tables already exist, a “CreateFeatureType” 

WFS request, properly annotated, could map the specified feature type definition to the 

existing table(s) and columns, in a manner conceptually similar to a SQL view created 

with the CREATE VIEW DDL statement.  The annotations would dictate the mapping of 

the application schema features and properties to the datastore.  This would maintain the 

benefit of making the application schema primordial in the WFS service creation process. 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

 

The mechanism described above would be in some ways similar in nature to the WMS-

SLD mechanism where a compliant WMS can declare that it is SLD-capable, and that 

this is an optional mechanism within the WFS standard.  It is important to note that this 

operation is only meant to be available to administrative users, not web clients, because it 

obviously involves intimate familiarity with the internal database structures.  

Furthermore, the vocabulary used in the schema annotations would have to be somewhat 

generic yet broadly applicable since the implementation details of database 

implementations (eg relational tables vs files or some other data store ) would have to be 

reflected in the vocabulary to a certain extent. 

 

Further research is required to identify more examples of mapping vocabularies that have 

been developed, in order that those efforts inform any standards arising out of this work.  

Annex B 

Example of a “CreateFeatureType” request is a listing of an example of an XML 

mapping vocabulary encoded as schema annotations and wrapped in a proposed 

“CreateFeatureType” request.  The example is based on the CubeWerx XML map used 

during the CGDI IP project (Annex A 

Example of a mapping vocabulary instance document). 

 

6.2 Ordering of feature properties semantically unimportant, yet imposed by GML. 

6.2.1 Description 

Because the GML AbstractFeature content model is based on xsd:sequence, WFS and 

clients are required to enforce an ordering of feature properties, where the ordering adds 

no apparent value to the feature but carries a cost in terms of effort to achieve schema 

validity. 

 

6.2.2 Discussion 

While this issue may be related to the mapping issue, it is worth noting that in relational 

model, the order of columns does not matter.  This is considered convenient.  The 

requirement to present pilot features properties in a particular order was noted as a 

difficulty, particularly by participants who had no access to schema mapping 

technologies.  In some cases, scripts had to be written to dynamically re-order content 

served by a WFS in order to achieve community schema compatibility.  While this was a 

very interesting and perhaps broadly useful development, there were performance costs 

of the re-ordering processing, and it would be desirable to not have to do them at all. 

 

6.2.3 Recommendation 

Consider relaxing the requirement that features derived from gml:AbstractFeatureType 

follow an xsd:sequence by enabling xsd:all as the default content model, allowing 

schema designers to choose the more restrictive xsd:sequence or xsd:choice appropriate 

to the situation. 

 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

6.3 Performance related to data volumes and bandwidth consumption  

6.3.1 Description   

Large data volumes generated in WFS responses transmitted from server to client 

degrade performance where bandwidth between client and server is a scarce resource.  

Furthermore, processing of large amounts of data, both server and client, results in longer 

delays and the consequent perception that “GML is slow”.  The performance 

degradations are a result of many factors, including: 

  

 inherent large size of geographic data 

 verbosity of GML application schemas and instance documents 

 response documents uncompressed 
 

6.3.2 Discussion 

6.3.2.1 Verbosity of GML Application Schemas 

It is axiomatic that digital geographic data size is large and that GML encoding of 

geographic data exacerbates the issue.  The former is a consequence of the 1) the large 

size of the universe 2) the need to model parts of the universe in greater detail than is 

usual in normal data management, in order to derive benefit from analytical tools such as 

GIS.  The latter is a consequence of several (seemingly unavoidable) factors, but it can be 

either intensified or mitigated by (in) appropriate GML Application Schema design.   

 

Good data design is relative to the application to which the data is put, and to the 

computing environment (i.e. multi-tier, 2-tier, or single-tier).  What is good for shape file 

design or other spatial format applications might not transition well to a GML 

environment without adaptation.  For example, a column or field in a shape file which is 

dominantly empty still takes up as much space in the file as if the field were dominantly 

full, because of the fixed record length nature of the file.  The length of the name of the 

field contributes very little to the overall size of the file, because it is stored only once, in 

the file header.  When translated to GML, the opposite is true.  In the case where a 

feature property is dominantly empty, if the GML Application Schema defines it so (via 

@minOccurs), the element only appears in the feature where data values exist, and thus 

may take up very few bytes in the file or response document.  Where the name of a 

feature property (element) is very long, the number of bytes used by the element opening 

and closing tags can easily outstrip the number of bytes of their content (i.e. the value of 

the element). 

 

6.3.2.2 Compression and bandwidth 

From Wikipedia, “...the term "bandwidth" is often used metaphorically, to describe the 

amount of data that can be transferred to or from the website or server, measured in bytes 

transferred over a prescribed period of time.” 

 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

Where bandwidth limitations are of concern, some characteristics of XML, and GML in 

particular exacerbate the performance issue due to bandwidth consumption and the 

resulting relatively slow request and response cycles. 

 

6.3.3 Recommendation 1 

Minimize markup by making properties optional (@minOccurs=”0”).  Optional 

properties which are null should not be returned by a WFS, which can yield great 

economies of data in the case where a feature has a lot of null property values.  A 

corollary of this schema design best practice is: if a database table’s column can be “not 

null” conceptually, allow it to be so physically.  Do not put a space character or other 

placeholder data in the column’s values, since this will force the output of the element 

start and end tags and the placeholder data as their content in response documents, even if 

the property was designated as optional  by the GML application schema.  

 

6.3.4 Recommendation 2 

Minimize markup by using shortest reasonable element names for all properties, up to 

and including mnemonic names, if applicable.  Do not create  

completelySelfDocumentingPropertyOrFeatureElementNames, since they will end up 

like this: 

 
<Lake> 

<completelySelfDocumentingPropertyName>1</completelySelfDocumentingPropertyName> 

</Lake> 
 

in the response documents, which depending on the application and request, may result in 

large files with high markup-to-data ratios.  Use schema annotations or other external 

metadata to provide human-readable and comprehensible data dictionary definitions.  

This will result in lower markup-to-data ratios and likely smaller, better performing files. 

 

6.3.5 Recommendation 3 

Implement support for the HTTP header Accept-Encoding:gzip on clients and servers 

such that large response documents are compressed by the server prior to transmission 

and uncompressed transparently by the client.  GML response documents typically yield 

high compression ratios due to their text content.  The result will be a slight processing 

overhead in the case of small files, but should be compensated by performance benefits 

for larger responses which are common in the WFS environment.   

 

6.4 Feature source connections and truncation or paging of WFS query results 

6.4.1 Description 

The use of maxFeatures by the client is an important means of verifying connectivity 

with the server without impacting interactive performance.  Its use also potentially 

prevents or mitigates server overload by minimizing the server burden imposed by the 

client merely to establish connectivity or verify content models.  However, when 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

maxFeatures is enabled by default on the server, it potentially creates a situation where 

corrupted (truncated) datasets are returned to the client, and can lead to potentially 

serious errors in data interpretation. 

 

6.4.2 Discussion 

MaxFeatures is a request attribute within the WFS vocabulary.  It is intended to allow 

clients to establish connectivity with the server without forcing the return of large 

volumnes of feature data and consequent usability degradation.  In certain situations, 

particularly publicly available WFS services, there may be a need to control the amount 

of data that can be requested by a client.  The reason for this is that requests of this nature 

are obviously resource-intensive and lead to: 

  

 Perceived poor performance by WFS in general due to a few large requests slowing 
down the request “queue”. 

 Crashing of the WFS server or even the physical server itself due to out-of-memory 
or similar conditions. 

 

Where such situation exists, many WFS offer a facility to the administrator, used to limit 

the amount of data returned to the client, by governing the maximum number of features 

returned: if the number of features selected by a given client request exceeds that 

numerical limit, the data set is truncated, numerically at that point, and no message 

indicating this truncation is issued.  This can lead to misleading results and errors in 

interpretation by clients, especially in situations where the human client is unaware of the 

limiting number.  The consequences of such misinterpretations could range from 

inconsequential or merely annoying,  to catastrophic, depending on the application. 

 

6.4.3 Recommendation 

Do not use the maxFeatures harness server-side.  Define a standard service exception 

such that, in the case in which a result would contain more than an administrator-defined 

number of features, the standard service exception would be returned.  Define a standard 

“paging” mechanism for WFS, allowing the transfer of data one “page” set at a time, 

whereby a WFS client, when apprised of a situation where the limit had been exceeded 

(via the service exception mentioned above), could re-submit the request with a 

maxFeatures parameter set to value less than the maximum and a page number. 

 

6.5 Interactive performance of WFS optimized when used in conjunction with WMS. 

6.5.1 Description 

WFS is sometimes described as having poor performance, especially compared with 

intranet (binary) geograhic data servers, and WMS, in fact.  This runs contrary to the 

experience within the CGDI IP, within parameters described here.   

 

While it is technically possible to connect a client to one or more WFS and perform 

interactive map visualization based on dynamic feature download and rendering, it is 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

rarely the optimal approach to interacting with WFS endpoints.  More appropriate is the 

use of WFS in conjunction with one or more WMS.  In such a scenario, the WMS can be 

queried for an image of a region of interest; the layers can be administered on either the 

server or client, such that they display (or not) based on the scale of the request.  If 

appropriate, the client can “turn on” the WFS  layers for the same region of interest and 

thus enable interaction with the actual data.  This balanced use of WMS and WFS is 

considered essential to optimal performance of interactive applications such as those 

described by the CGDI IP use cases. 

 

Often when using a WFS/WMS client,  the user is required to manipulate the “state” of 

layers displayed in that client, by turning them on or off, or applying symbolization etc.  

What can happen is that where a WFS client is made to issue unconstrained or poorly 

constrained requests, the performance of the WFS response can appear poor.  This is not 

a reflection on WFS as a technology per se, but rather on the need to apply intelligent 

scale-dependant feature requests, and to use WMS as the primary visualization 

mechanism for maps, and use the WFS for access to data. 

 

6.5.2 Discussion 

As part of the CGDI IP, a WMS service was developed and deployed through a 

collaboration of personnel from the pilot, the National Atlas of Canada, and the Centre 

for Topographic Information, Sherbrooke.  This WMS was a single service endpoint 

available to the pilot clients which performed scale-dependant rendering of dozens of 

layers of geographic data, including roads and place names as a single “layer”, without 

the need for the client to maniplate the state of the layers.  Thus, interaction with this 

service was extremely simple, so much so that it was possible to manually 

 

6.5.3 Recommendation: Balance use of WMS, WFS with and without maxFeatures 

6.6 Client – server interoperability impacted by use of WFS 1.0 and WFS 1.1 together 

6.6.1 Discussion 

Interoperability is impacted when WFS 1.0 and 1.1 protocols are mixed in an application 

environment.  For example, WFS 1.1 allows the request to specify a srsName attribute of 

a query, allowing the response to be encoded according to a different spatial reference 

system than that of the “native” dataset, where the WFS reprojects the data on the fly, 

whereas WFS 1.0 requests do not provide this facility.   Thus, where WFS 1.0 requests 

are a possibility, the application environment must agree on a pre-determined spatial 

reference system. 

 

6.6.2 Recommendation 1 

Use WFS 1.1, and use a GML 3 simple features profile –based application schema.  An 

example of the GML 3 SF Level 0 application schema used in the pilot is presented in 

Annex C 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

CGDI IP Community GML Application Schema. The use of a profile restricts the range 

of encodings that are possible and is more readily implementable. 

 

6.6.3 Recommendation 2 

Use a pre-determined spatial reference system and do not reproject on the fly unless 

unavoidable. 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

Annex A 

Example of a mapping vocabulary instance document 

Annex A 

Example of a mapping vocabulary instance document 

<?xml version="1.0" encoding="UTF-8"?> 

<xmlmap table="roadseg"> 

  <xmlname>RoadSegment</xmlname> 

  <namespacePrefix>gb</namespacePrefix> 

  <namespaceURL>http://www.geobase.ca/interop-pilot-2007</namespaceURL> 

  <column name="CGDI_ID"> 

    <xmlname>cgdiId</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

  </column> 

  <column name="ACCURACY"> 

    <xmlname>planimetricDataAccuracy</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="ACQTECH"> 

    <xmlname>acquisitionTechnique</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="ACQPROVIDER"> 

    <xmlname>acquisitionProvider</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="ACQORREVDATE"> 

    <xmlname>acquisitionOrRevisionDate</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="NROADCLASS"> 

    <xmlname>nationalRoadClass</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="RTENUM1"> 

    <xmlname>routeNumber1</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="RTENAMEFR1"> 

    <xmlname>routeNameFrench1</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="RTENAMEEN1"> 

    <xmlname>routeNameEnglish1</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

  <column name="EXITNUM"> 

    <xmlname>exitNumber</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="NUMLANES"> 

    <xmlname>numberOfLanes</xmlname> 

    <minOccurs>1</minOccurs> 

    <minOccurs>1</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="PAVSTATUS"> 

    <xmlname>pavementStatus</xmlname> 

    <minOccurs>1</minOccurs> 

    <minOccurs>1</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="PAVRDSURFTYPE"> 

    <xmlname>pavedRoadSurfaceType</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="UNPAVRDSURFTYPE"> 

    <xmlname>unpavedRoadSurfaceType</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="STRUCTID"> 

    <xmlname>structureID</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="STRUCTTYPE"> 

    <xmlname>structureType</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="STRUCTNAMEFR"> 

    <xmlname>structureNameFrench</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="STRUCTNAMEEN"> 

    <xmlname>structureNameEnglish</xmlname> 

    <minOccurs>0</minOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="ROADSEGID"> 

    <xmlname>roadSegmentID</xmlname> 

    <minOccurs>1</minOccurs> 

    <maxOccurs>1</maxOccurs> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

  <column name="SEGMENT_"> 

    <xmlname>segment</xmlname> 

    <xmltype>gml:CurvePropertyType</xmltype> 

    <useGmlsfShortForm>Y</useGmlsfShortForm> 

  </column> 

</xmlmap> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

Annex B 

Example of a “CreateFeatureType” request 

<?xml version="1.0" encoding="UTF-8"?> 

<CreateFeatureType version="1.1.1" service="WFS" xmlns="http://www.opengis.net/wfs" 

xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" 

xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gmlsf="http://www.opengis.net/gmlsf" 

xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gb="http://www.geobase.ca/interop-

pilot-2007" xmlns:ows="http://www.opengis.net/ows" inputFormat="text/xml; 

subtype=gml/3.1.1/sfgml"> 

  <FeatureType> 

    <Name>gb:RoadSegment</Name> 

    <Title>Road Segment</Title> 

    <Abstract>Example for CreateFeatureType request</Abstract> 

    <ows:Keywords> 

      <ows:Keyword>CGDI EXAMPLE</ows:Keyword> 

    </ows:Keywords> 

    <DefaultSRS>urn:x-ogc:def:crs:EPSG:6.11.2:4326</DefaultSRS> 

    <OutputFormats> 

      <Format>text/xml; subtype=gml/3.1.1/sfgml</Format> 

    </OutputFormats> 

    <ows:WGS84BoundingBox> 

      <ows:LowerCorner>-95.1560592651367 41.7346687316895</ows:LowerCorner> 

      <ows:UpperCorner>-74.3444290161133 52.6324462890625</ows:UpperCorner> 

    </ows:WGS84BoundingBox> 

    <xs:schema targetNamespace="http://www.geobase.ca/interop-pilot-2007" 

elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.1"> 

      <xs:annotation> 

        <xs:appinfo 

source="http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsfLevels.xsd"

> 

          <gmlsf:ComplianceLevel>0</gmlsf:ComplianceLevel> 

          

<gmlsf:GMLProfileSchema>http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/

gmlsf.xsd</gmlsf:GMLProfileSchema> 

        </xs:appinfo> 

      </xs:annotation> 

      <xs:import namespace="http://www.opengis.net/gml" 

schemaLocation="http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xs

d"/> 

      <xs:import namespace="http://www.opengis.net/gmlsf" 

schemaLocation="http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsfLev

els.xsd"/> 

      <!-- ============================================================== 

        global element declarations 

        ============================================================== --> 

      <xs:element name="RoadSegment" type="gb:RoadSegmentType" 

substitutionGroup="gml:_Feature"/> 

      <xs:complexType name="RoadSegmentType"> 

        <xs:annotation> 

          <xs:appinfo> 

            <db_schema>CGDI_MAINT</db_schema> 

            <table>ROADSEG</table> 

          </xs:appinfo> 

          <xs:documentation> 

            A road is a linear Section of the earth that is designed for or 

            the result of vehicular movement. A Road Segment is the 

            representation of a portion of a road that shares the same 

            sub-defined linear event attributes. 

         </xs:documentation> 

        </xs:annotation> 

        <xs:complexContent> 

          <xs:extension base="gml:AbstractFeatureType"> 

            <xs:sequence> 

              <xs:element name="cgdiId"> 

                <xs:annotation> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

                  <xs:appinfo> 

                    <column> 

                      <name>CGDI_ID</name> 

                    </column> 

                  </xs:appinfo> 

                  <xs:documentation> 

The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1 

                     </xs:documentation> 

                </xs:annotation> 

                <xs:simpleType> 

                  <xs:restriction base="xs:string"> 

                    <xs:maxLength value="64"/> 

                  </xs:restriction> 

                </xs:simpleType> 

              </xs:element> 

              <xs:element name="planimetricDataAccuracy" type="xs:integer"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>ACCURACY</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="acquisitionTechnique" type="xs:string"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>ACQTECH</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="acquisitionProvider" type="xs:string"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>ACQPROVIDER</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="acquisitionOrRevisionDate" type="xs:string"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>ACQORREVDATE</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="nationalRoadClass" type="xs:string"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>NROADCLASS</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="routeNumber1" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>RTENUM1</name> 

                    </column> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="routeNameFrench1" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>RTENAMEFR1</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="routeNameEnglish1" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>RTENAMEEN1</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="exitNumber" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>EXITNUM</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="numberOfLanes" type="xs:integer"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>NUMLANES</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="pavementStatus" type="xs:string"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>PAVSTATUS</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="pavedRoadSurfaceType" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>PAVRDSURFTYPE</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="unpavedRoadSurfaceType" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>UNPAVRDSURFTYPE</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="structureID" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>STRUCTID</name> 

                    </column> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="structureType" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>STRUCTTYPE</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="structureNameFrench" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>STRUCTNAMEFR</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="structureNameEnglish" type="xs:string" minOccurs="0"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>STRUCTNAMEEN</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="roadSegmentID" type="xs:string"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>ROADSEGID</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

              <xs:element name="segment" type="gml:CurvePropertyType"> 

                <xs:annotation> 

                  <xs:appinfo> 

                    <column> 

                      <name>SEGMENT_</name> 

                    </column> 

                  </xs:appinfo> 

                </xs:annotation> 

              </xs:element> 

            </xs:sequence> 

          </xs:extension> 

        </xs:complexContent> 

      </xs:complexType> 

    </xs:schema> 

  </FeatureType> 

</CreateFeatureType> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

Annex C 

CGDI IP Community GML Application Schema 

 

The following GML simple features profile Level 0 application schema was used in the 

CGDI IP project.  Not all participants implemented every feature type, and control of data 

quality was limited to schema validity, due to the prototype nature of the network. 

 
<?xml version="1.0" encoding="ISO-8859-1"?> 

<xsd:schema xmlns:xlink="http://www.w3.org/1999/xlink" 

xmlns:gmlsf="http://www.opengis.net/gmlsf" xmlns:gml="http://www.opengis.net/gml" 

xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:gb="http://www.geobase.ca/interop-

pilot-2007" xmlns="http://www.geobase.ca/interop-pilot-2007" 

targetNamespace="http://www.geobase.ca/interop-pilot-2007" elementFormDefault="qualified" 

attributeFormDefault="unqualified" version="1.1"> 

  <!-- Name:    interop-pilot-nrnv12.xsd                                 --> 

  <!-- Scope:   define elements and types for CGDI interoperability WFS  --> 

  <!--          pilot                                                    --> 

  <!-- History: V0.1 Created 2007-04-19                                  --> 

  <!--          Modified: 2007-04-27 - removed xsd:nonNegativeInteger    --> 

  <!--                                 replaced with xsd:integer         --> 

  <!--                    2007-06-26 - changed length of cgndbKey        --> 

  <!--                    2007-06-28 - added cgdiId to                   --> 

  <!--                                 AbstractPilotFeatureType, which   --> 

  <!--                                 is therefore inherited by all     --> 

  <!--                                 features in the pilot.            --> 

  <!--                    2007-09-14 - relaxed minLength, maxLength      --> 

  <!--                                 facets on AdministrativeArea/id   --> 

  <!--                    2007-09-20 - removed all references to         --> 

  <!--                                 minLength since it is not a valid --> 

  <!--                                 gmlsf facet; replaced with length --> 

  <!--                                 facet                             --> 

  <!--                   2007-10-02 - changed gb:name to gb_name         --> 

  <!--                              - changed gb:location to gb:pointLocation--> 

  <!--                   2007-10-09 - added comments to describe properties more clearly? 

--> 

  <!--                                                                   --> 

  <!-- Constraints:  Based on GML simple features profile document       --> 

  <!--               06-049r1                                            --> 

  <!-- Sources: content model based upon available schemas and           --> 

  <!--          and data from NRCan GeoBase CGNDB, NRN and               --> 

  <!--          Statistics Canada 2006 census geography                  --> 

  <!--          GML application schemas                                  --> 

  <!-- import constructs from the GML Feature and Geometry schemas       --> 

  <!--                                                                   --> 

  <xsd:annotation> 

    <xsd:appinfo 

source="http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsfLevels.xsd"

> 

      <gmlsf:ComplianceLevel>0</gmlsf:ComplianceLevel> 

      

<gmlsf:GMLProfileSchema>http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/

gmlsf.xsd</gmlsf:GMLProfileSchema> 

    </xsd:appinfo> 

  </xsd:annotation> 

  <xsd:import namespace="http://www.opengis.net/gml" 

schemaLocation="C:\schemas\ogc\gml\3.1.1\base\gml.xsd"/> 

  <xsd:import namespace="http://www.opengis.net/gmlsf" 

schemaLocation="C:\schemas\ogc\gml\3.1.1\profiles\gmlsfProfile\1.0.0\gmlsfLevels.xsd"/> 

  <!-- ============================================================== 

        global element declarations 

        ============================================================== --> 

  <xsd:element name="RoadSegment" type="gb:RoadSegmentType" 

substitutionGroup="gml:_Feature"/> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

  <xsd:element name="FerryConnectionSegment" type="gb:FerryConnectionSegmentType" 

substitutionGroup="gml:_Feature"/> 

  <xsd:element name="Junction" type="gb:JunctionType" substitutionGroup="gml:_Feature"/> 

  <xsd:element name="BlockedPassage" type="gb:BlockedPassageType" 

substitutionGroup="gml:_Feature"/> 

  <xsd:element name="TollPoint" type="gb:TollPointType" 

substitutionGroup="gml:_Feature"/> 

  <xsd:element name="PlaceName" type="gb:PlaceNameType" 

substitutionGroup="gml:_Feature"/> 

  <xsd:element name="AdministrativeArea" type="gb:AdministrativeAreaType" 

substitutionGroup="gml:_Feature"> 

    <xsd:annotation> 

      <xsd:documentation> 

            Current provincial admin area, e.g. municipality or equivalent. 

         </xsd:documentation> 

    </xsd:annotation> 

  </xsd:element> 

  <xsd:element name="CensusDivision" type="gb:CensusDivisionType" 

substitutionGroup="gml:_Feature"/> 

  <!-- ============================================================== 

        type definitions for National Road Network 

        ============================================================== --> 

  <xsd:complexType name="RoadSegmentType"> 

    <xsd:annotation> 

      <xsd:documentation> 

            A road is a linear Section of the earth that is designed for or 

            the result of vehicular movement. A Road Segment is the 

            representation of a portion of a road that shares the same 

            sub-defined linear event attributes. 

         </xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation> 

The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1 

                     </xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="planimetricDataAccuracy" type="xsd:integer"/> 

          <xsd:element name="acquisitionTechnique" type="xsd:string"/> 

          <xsd:element name="acquisitionProvider" type="xsd:string"/> 

          <xsd:element name="acquisitionOrRevisionDate" type="xsd:string"/> 

          <xsd:element name="nationalRoadClass" type="xsd:string"/> 

          <xsd:element name="routeNumber1" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber2" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber3" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber4" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber5" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench1" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench2" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench3" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench4" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish1" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish2" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish3" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish4" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="exitNumber" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="numberOfLanes" type="xsd:integer"/> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

          <xsd:element name="pavementStatus" type="xsd:string"/> 

          <xsd:element name="pavedRoadSurfaceType" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="unpavedRoadSurfaceType" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="structureID" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="structureType" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="structureNameFrench" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="structureNameEnglish" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="roadSegmentID" type="xsd:string"/> 

          <xsd:element name="segment" type="gml:CurvePropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="FerryConnectionSegmentType"> 

    <xsd:annotation> 

      <xsd:documentation> 

            The route a ferry follows when transporting vehicles between 

            two fixed locations on the road network. A Ferry Connection 

            is the representation of a ferry route in-between Junctions. 

            Two Junctions always bound a Ferry Connection.</xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1 

                     </xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="planimetricDataAccuracy" type="xsd:integer"/> 

          <xsd:element name="acquisitionTechnique" type="xsd:string"/> 

          <xsd:element name="acquisitionProvider" type="xsd:string"/> 

          <xsd:element name="acquisitionOrRevisionDate" type="xsd:string"/> 

          <xsd:element name="nationalRoadClass" type="xsd:string"/> 

          <xsd:element name="routeNumber1" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber2" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber3" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber4" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNumber5" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench1" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench2" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench3" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameFrench4" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish1" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish2" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish3" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="routeNameEnglish4" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="ferrySegmentID" type="xsd:string"/> 

          <xsd:element name="segment" type="gml:CurvePropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="JunctionType"> 

    <xsd:annotation> 

      <xsd:documentation> 

            A Junction is a Point Feature that is always connected to 

            one or more Road Elements or Ferry Connections. A 

            Junction is defined at the intersection of two or more road 

            centrelines, at the intersection of a road and a ferry, at the 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

            end of a dead end road and at the intersection of a road or 

            ferry with a National, Provincial or Territorial Boundary. 

         </xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1 

                     </xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="exitNumber" type="xsd:string" minOccurs="0"/> 

          <xsd:element name="junctionType" type="xsd:string"/> 

          <xsd:element name="location" type="gml:PointPropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="BlockedPassageType"> 

    <xsd:annotation> 

      <xsd:documentation> 

            A structure purposely placed across a road to prevent further 

            access. 

         </xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1 

                     </xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="planimetricDataAccuracy" type="xsd:integer"/> 

          <xsd:element name="acquisitionTechnique" type="xsd:string"/> 

          <xsd:element name="acquisitionProvider" type="xsd:string"/> 

          <xsd:element name="acquisitionOrRevisionDate" type="xsd:string"/> 

          <xsd:element name="roadElementNID" type="xsd:string"/> 

          <xsd:element name="blockedPassageType" type="xsd:string"/> 

          <xsd:element name="location" type="gml:PointPropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="TollPointType"> 

    <xsd:annotation> 

      <xsd:documentation> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

            Place where a right-of-way is charged to borrow a motorway, 

            a bridge, etc. 

         </xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1 

                     </xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="planimetricDataAccuracy" type="xsd:integer"/> 

          <xsd:element name="acquisitionTechnique" type="xsd:string"/> 

          <xsd:element name="acquisitionProvider" type="xsd:string"/> 

          <xsd:element name="acquisitionOrRevisionDate" type="xsd:string"/> 

          <xsd:element name="roadElementNID" type="xsd:string"/> 

          <xsd:element name="tollPointType" type="xsd:string"/> 

          <xsd:element name="location" type="gml:PointPropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="CensusDivisionType"> 

    <xsd:annotation> 

      <xsd:documentation/> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="id"> 

            <xsd:annotation> 

              <xsd:documentation>This would contain a concatenation of prId+cdId in real 

life.</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:length value="4"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="gb_name"> 

            <xsd:annotation> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

              <xsd:documentation>GeoServer was unable to serve the name element in the 

pilot namespace, so we had to change the name to gb_name to workaround the 

bug.</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="100"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="type" minOccurs="0"> 

            <xsd:annotation> 

              <xsd:documentation>See enumeration of possible values for list of Census 

Division types in Canada.</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="3"/> 

                <xsd:enumeration value="CDR"> 

                  <xsd:annotation> 

                    <xsd:documentation>Census division / Division de 

recensement</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CT"> 

                  <xsd:annotation> 

                    <xsd:documentation>County / Comte</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CTY"> 

                  <xsd:annotation> 

                    <xsd:documentation>County</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="DIS"> 

                  <xsd:annotation> 

                    <xsd:documentation>District</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="DM"> 

                  <xsd:annotation> 

                    <xsd:documentation>District municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="MB"> 

                  <xsd:annotation> 

                    <xsd:documentation>Management board</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="MRC"> 

                  <xsd:annotation> 

                    <xsd:documentation>Municipalite regionale de 

comte</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RD"> 

                  <xsd:annotation> 

                    <xsd:documentation>Regional district</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="REG"> 

                  <xsd:annotation> 

                    <xsd:documentation>Region</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Regional municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TE"> 

                  <xsd:annotation> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

                    <xsd:documentation>Territoire equivalent</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TER"> 

                  <xsd:annotation> 

                    <xsd:documentation>Territory / Territoire</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="UC"> 

                  <xsd:annotation> 

                    <xsd:documentation>United counties</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="ccFPop" type="xsd:integer" minOccurs="0"> 

            <xsd:annotation> 

              <xsd:documentation>Current Census Final Population</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="ccFPdwell" type="xsd:integer" minOccurs="0"> 

            <xsd:annotation> 

              <xsd:documentation>Current Census Final Private  Dwelling 

count</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="prId"> 

            <xsd:annotation> 

              <xsd:documentation>See on-line documentation of provincial codes in use by 

Statistics Canada as the "Standard Geographical Classification". 10=NL, 11=PE, 12=NS, 

13=NB, 24=QC, 35=ON, 46=MB, 47=SK, 48=AB, 59=BC, 60=YT, 61=NT, 62=NU.  For the purpose of 

the pilot, either the SGC code or the Canada Post 2-character letter code will be 

adequate. <a name="ProvinceGeocodes"/> 

                <a 

href="http://geodepot.statcan.ca/Diss2006/Reference/COGG/LongDescription_e.jsp?GEO_LEVEL=

2&amp;REFCODE=10&amp;TYPE=L" target="_top">Documentation of Standard Geographical 

Classification province codes</a> 

              </xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:length value="2"/> 

                <xsd:enumeration value="10"/> 

                <xsd:enumeration value="11"/> 

                <xsd:enumeration value="12"/> 

                <xsd:enumeration value="13"/> 

                <xsd:enumeration value="24"/> 

                <xsd:enumeration value="35"/> 

                <xsd:enumeration value="46"/> 

                <xsd:enumeration value="47"/> 

                <xsd:enumeration value="48"/> 

                <xsd:enumeration value="59"/> 

                <xsd:enumeration value="60"/> 

                <xsd:enumeration value="61"/> 

                <xsd:enumeration value="62"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="boundary" type="gml:MultiSurfacePropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="AdministrativeAreaType"> 

    <xsd:annotation> 

      <xsd:documentation> 

            Simplified pilot content model based on STC Census Subdivision 

            Definitions and provenance of enumerated domain values are  

            documented 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

            <a 

href="http://geodepot.statcan.ca/Diss2006/Reference/COGG/LongDescription_e.jsp?GEO_LEVEL=

10&amp;REFCODE=10&amp;TYPE=L" target="_top">here</a>. 

            <a name="AdministrativeAreaType"/> 

      </xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="id" type="xsd:string"> 

            <xsd:annotation> 

              <xsd:documentation>Since the content model of AdministrativeArea was based 

on that of CensusSubdivision from Statistics Canada, the id property was used for the 

concatenated value of prId+cdId+csdId, which is equal to the Standard Geographical 

Classification code of a CSD.  Since this is a pilot, it is not really essential that 

this be followed by participants.  </xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="gb_name"> 

            <xsd:annotation> 

              <xsd:documentation>This element records the name of the area.  The original 

name of the element - name - could not be served by GeoServer due to a hard-core bug.  So 

the pilot participants agreed to change to gb_name to work around the 

bug.</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="100"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="type"> 

            <xsd:annotation> 

              <xsd:documentation>See the enumeration documentation comments for  

allowable content.</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="3"/> 

                <xsd:enumeration value="C"> 

                  <xsd:annotation> 

                    <xsd:documentation>City / Cite</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CC"> 

                  <xsd:annotation> 

                    <xsd:documentation>Chartered community</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CE"> 

                  <xsd:annotation> 

                    <xsd:documentation>Cite</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CG"> 

                  <xsd:annotation> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

                    <xsd:documentation>Community government</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CM"> 

                  <xsd:annotation> 

                    <xsd:documentation>County (municipality)</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CN"> 

                  <xsd:annotation> 

                    <xsd:documentation>Crown colony / Colonie de la 

couronne</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="COM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Community</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CT"> 

                  <xsd:annotation> 

                    <xsd:documentation>Canton (municipalite de)</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CU"> 

                  <xsd:annotation> 

                    <xsd:documentation>Cantons unis (municipalite de)</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="CY"> 

                  <xsd:annotation> 

                    <xsd:documentation>City</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="DM"> 

                  <xsd:annotation> 

                    <xsd:documentation>District municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="HAM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Hamlet</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="ID"> 

                  <xsd:annotation> 

                    <xsd:documentation>Improvement district</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="IGD"> 

                  <xsd:annotation> 

                    <xsd:documentation>Indian government district</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="IM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Island municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="IRI"> 

                  <xsd:annotation> 

                    <xsd:documentation>Indian reserve / Reserve 

indienne</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="LGD"> 

                  <xsd:annotation> 

                    <xsd:documentation>Local government district</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="LOT"> 

                  <xsd:annotation> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

                    <xsd:documentation>Township and royalty</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="M"> 

                  <xsd:annotation> 

                    <xsd:documentation>Municipality / Municipalite</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="MD"> 

                  <xsd:annotation> 

                    <xsd:documentation>Municipal district</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="ME"> 

                  <xsd:annotation> 

                    <xsd:documentation>Municipalite</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="MU"> 

                  <xsd:annotation> 

                    <xsd:documentation>Municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="NH"> 

                  <xsd:annotation> 

                    <xsd:documentation>Northern hamlet</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="NL"> 

                  <xsd:annotation> 

                    <xsd:documentation>Nisga'a land</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="NO"> 

                  <xsd:annotation> 

                    <xsd:documentation>Unorganized / Non organise</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="NV"> 

                  <xsd:annotation> 

                    <xsd:documentation>Northern village</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="NVL"> 

                  <xsd:annotation> 

                    <xsd:documentation>Nisga'a village</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="P"> 

                  <xsd:annotation> 

                    <xsd:documentation>Parish / Paroisse (municipalite 

de)</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="PE"> 

                  <xsd:annotation> 

                    <xsd:documentation>Paroisse (municipalite de)</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RCR"> 

                  <xsd:annotation> 

                    <xsd:documentation>Rural community / Communaute 

rurale</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RDA"> 

                  <xsd:annotation> 

                    <xsd:documentation>Regional district electoral 

area</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RG"> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

                  <xsd:annotation> 

                    <xsd:documentation>Region</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RGM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Regional municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Rural municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="RV"> 

                  <xsd:annotation> 

                    <xsd:documentation>Resort village</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="S-E"> 

                  <xsd:annotation> 

                    <xsd:documentation>Indian settlement / Etablissement 

indien</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SA"> 

                  <xsd:annotation> 

                    <xsd:documentation>Special area</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SC"> 

                  <xsd:annotation> 

                    <xsd:documentation>Subdivision of county municipality / Subdivision 

municipalite de comte</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SE"> 

                  <xsd:annotation> 

                    <xsd:documentation>Settlement / Etablissement</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SET"> 

                  <xsd:annotation> 

                    <xsd:documentation>Settlement</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SM"> 

                  <xsd:annotation> 

                    <xsd:documentation>Specialized municipality</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SNO"> 

                  <xsd:annotation> 

                    <xsd:documentation>Subdivision of unorganized / Subdivision non 

organisee</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="SV"> 

                  <xsd:annotation> 

                    <xsd:documentation/> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="T"> 

                  <xsd:annotation> 

                    <xsd:documentation>Town</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TC"> 

                  <xsd:annotation> 

                    <xsd:documentation>Terres reservees aux Cris</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

                <xsd:enumeration value="TI"> 

                  <xsd:annotation> 

                    <xsd:documentation>Terre inuite</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TK"> 

                  <xsd:annotation> 

                    <xsd:documentation>Terres reservees aux Naskapis</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TL"> 

                  <xsd:annotation> 

                    <xsd:documentation>Teslin land</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TP"> 

                  <xsd:annotation> 

                    <xsd:documentation>Township</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="TV"> 

                  <xsd:annotation> 

                    <xsd:documentation>Town / Ville</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="V"> 

                  <xsd:annotation> 

                    <xsd:documentation>Ville</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="VC"> 

                  <xsd:annotation> 

                    <xsd:documentation>Village cri</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="VK"> 

                  <xsd:annotation> 

                    <xsd:documentation>Village naskapi</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="VL"> 

                  <xsd:annotation> 

                    <xsd:documentation>Village</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

                <xsd:enumeration value="VN"> 

                  <xsd:annotation> 

                    <xsd:documentation>Village nordique</xsd:documentation> 

                  </xsd:annotation> 

                </xsd:enumeration> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="ccFPop" type="xsd:integer" minOccurs="0"> 

            <xsd:annotation> 

              <xsd:documentation>Current Census Final Population.  Integer greater than 

or equal to zero.  Optional.</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="ccFPdwell" type="xsd:integer" minOccurs="0"> 

            <xsd:annotation> 

              <xsd:documentation>Current Census Final Dwelling count.  Integer greater 

than or equal to zero.  Optional.</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="prId"> 

            <xsd:annotation> 

              <xsd:documentation>10=NL, 11=PE, 12=NS, 13=NB, 24=QC, 35=ON, 46=MB,47=SK, 

48=AB, 59=BC, 60=YT, 61=NT, 62=NU.  This is a Statistics Canada standard, called the 

Standard Geographical Classification.  The domain is not enumerated by this schema, so 

the 2-character Canada Post mnemonic codes will work just as well in the 

pilot</xsd:documentation> 



OGC 08-002 

Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved.  
 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:length value="2"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="cdId" type="xsd:string"> 

            <xsd:annotation> 

              <xsd:documentation>Once again, this is from the Standard Geographical 

Classification of Statistics Canada.  The hierarchy of an administrative area is PR-CD-

CSD (Province-Census Division-Census Subdivision)</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="boundary" type="gml:MultiSurfacePropertyType"/> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

  <xsd:complexType name="PlaceNameType"> 

    <xsd:annotation> 

      <xsd:documentation> 

            Simplified pilot model based on downloaded geobase gml data. 

         </xsd:documentation> 

    </xsd:annotation> 

    <xsd:complexContent> 

      <xsd:extension base="gml:AbstractFeatureType"> 

        <xsd:sequence> 

          <xsd:element name="cgdiId"> 

            <xsd:annotation> 

              <xsd:documentation>The "cgdiId" is supposed to be a UUID string generated 

and assigned for each feature in the pilot project. 

When the provincial data partners initialize their 

databases, they will need to generate this value for 

each feature.  This could be a pilot wide service, or 

could be done locally.  The format of the string is agreed to be like this 

urn:uuid:39073691-C393-351D-E040-007F010066D1</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="64"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="geographicalName"> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="100"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="cgndbKey"> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="5"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="genericTerm" type="xsd:string"/> 

          <xsd:element name="conciseTerm" type="xsd:string"/> 

          <xsd:element name="latitude" type="xsd:string"/> 

          <xsd:element name="longitude" type="xsd:string"/> 

          <xsd:element name="datum" type="xsd:string"> 

            <xsd:annotation> 

              <xsd:documentation>eg NAD83</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="ntsMap" type="xsd:string"> 

            <xsd:annotation> 

              <xsd:documentation>National Topographic Series mapsheet 

identifier.</xsd:documentation> 

            </xsd:annotation> 



OGC 08-002 

 Copyright © 2008 Open Geospatial Consortium, Inc. All Rights Reserved. 
 

          </xsd:element> 

          <xsd:element name="regionName" type="xsd:string"> 

            <xsd:annotation> 

              <xsd:documentation>Province name</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

          <xsd:element name="featureId"> 

            <xsd:annotation> 

              <xsd:documentation>See document on twiki schema page about this 

property.</xsd:documentation> 

            </xsd:annotation> 

            <xsd:simpleType> 

              <xsd:restriction base="xsd:string"> 

                <xsd:maxLength value="32"/> 

              </xsd:restriction> 

            </xsd:simpleType> 

          </xsd:element> 

          <xsd:element name="pointLocation" type="gml:PointPropertyType"> 

            <xsd:annotation> 

              <xsd:documentation>GeoServer was unable to serve the location property 

name, so we changed it to pointLocation to work around the bug.</xsd:documentation> 

            </xsd:annotation> 

          </xsd:element> 

        </xsd:sequence> 

      </xsd:extension> 

    </xsd:complexContent> 

  </xsd:complexType> 

</xsd:schema> 

 


	Introduction
	Scope
	Document contributor contact points
	Revision history
	Future work

	References
	Terms and definitions
	Conventions
	Abbreviated terms

	Overview
	Issues
	Difficulty of implementing community application schema
	Description
	Discussion
	Background
	The experience in the CGDI IP

	Recommendation

	Ordering of feature properties semantically unimportant, yet imposed by GML.
	Description
	Discussion
	Recommendation

	Performance related to data volumes and bandwidth consumption
	Description
	Discussion
	Verbosity of GML Application Schemas
	Compression and bandwidth

	Recommendation 1
	Recommendation 2
	Recommendation 3

	Feature source connections and truncation or paging of WFS query results
	Description
	Discussion
	Recommendation

	Interactive performance of WFS optimized when used in conjunction with WMS.
	Description
	Discussion
	Recommendation: Balance use of WMS, WFS with and without maxFeatures

	Client – server interoperability impacted by use of WFS 1.0 and WFS 1.1 together
	Discussion
	Recommendation 1
	Recommendation 2



