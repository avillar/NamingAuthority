
  
 

 

Open Geospatial Consortium 
Publication Date: 2014-07-15 

Approval Date: 2014-06-14 

Posted Date: 2014-05-22 

Reference number of this document: OGC 14-002 

Reference URL for this document: http://www.opengeospatial.net/doc/PER/testbed10/annotations 

Category: Public Engineering Report 

Editors: Joan Masó and Raj Singh 

OGC® Testbed 10 Annotations Engineering Report 
 

 

Copyright © 2014 Open Geospatial Consortium. 
To obtain additional rights of use, visit http://www.opengeospatial.org/legal/. 

Warning 

This document is not an OGC Standard. This document is an OGC Public 
Engineering Report created as a deliverable in an OGC Interoperability Initiative 
and is not an official position of the OGC membership. It is distributed for review 
and comment. It is subject to change without notice and may not be referred to as 
an OGC Standard. Further, any OGC Engineering Report should not be referenced 
as required or mandatory technology in procurements.  

 

Document type:  OGC® Engineering Report 
Document subtype: NA 
Document stage:  Approved for public release 
Document language:  English 



OGC 14-002 

ii Copyright © 2014 Open Geospatial Consortium. 
 

 

Abstract 

This OGC Engineering Report provides guidelines for dealing with geospatial 
annotations in OGC standards. It proposes a generic data model and a set of mappings 
into different popular encodings This OGC® document is applicable to OWS context, 
GMLJP2 and any other standards that can require annotations. 

Keywords 

ogcdoc, ogc documents, ows10, annotations, gmljp2, xima, gml, kml, owc, json 

Preface 

This Engineering Report documents a component of the OGC Testbed 10 (Testbed-10)   
that is part of the OGC Interoperability Program (IP). The IP is a global, hands-on 
collaborative agile prototyping program designed to rapidly develop, test and deliver 
proven candidate standards into the OGC Standards Program, where they are formalized 
for public release. 

Testbed 10 was organized around the following threads: 

Cross-Community Interoperability (CCI): Increase Geospatial community 
interoperability by building on CCI OWS-9 work in semantic mediation, volunteer 
geographic information (VGI), provenance and data quality, and Global Gazetteer. 
Explore the potential of interoperability in the hydrology domain and utilizing ontologies 
to more easily share and visualize geospatial data. 

Open Mobility: Explore the geospatial standards requirements needed to support the 
growing emerging mobile environment where client applications are mobile, information 
services are mobile, and increasingly distributed across cloud infrastructures. The Open 
Mobility thread will address these requirements while leveraging on the work achieved in 
the OWS-9 Testbed in the areas of Geopackages and Geopackaging services and new 
OWS Context encodings. 

Aviation: Develop and demonstrate the use of the Aeronautical Information Exchange 
Model (AIXM) and the Flight Information Exchange Model (FIXM), building on the 
work accomplished in prior testbeds to advance the applications of OGC Web Services 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. iii 
 

standards in next generation air traffic management systems to support European and US 
aviation modernization programs. 

Annotations activities were part of the Open Mobility thread. 



OGC 14-002 

iv Copyright © 2014 Open Geospatial Consortium. 
 

 

License Agreement 

Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, 
to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property 
without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, 
distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to 
do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual 
Property is furnished agrees to the terms of this Agreement. 

If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above 
copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR. 

THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS 
THAT MAY BE IN FORCE ANYWHERE IN THE WORLD. 

THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, 
INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR 
PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED 
IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL 
MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE 
UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT 
THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF 
INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY 
DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING 
FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF 
CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH 
THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY. 

This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all 
copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as 
provided in the following sentence, no such termination of this license shall require the termination of any third party end-user 
sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual 
Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, 
copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license 
without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or 
cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party. 

Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual 
Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without 
prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may 
authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any 
LICENSOR standards or specifications. 

This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United 
Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this 
Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, 
and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be 
construed to be a waiver of any rights or remedies available to it. 

None of the Intellectual Property or underlying information or technology may be downloaded or otherwise exported or reexported in 
violation of U.S. export laws and regulations. In addition, you are responsible for complying with any local laws in your jurisdiction 
which may impact your right to import, export or use the Intellectual Property, and you represent that you have complied with any 
regulations or registration procedures required by applicable law to make this license enforceable 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. v 
 

Contents Page 

1	   Introduction ............................................................................................................. 1	  
1.1	   Scope .................................................................................................................. 1	  
1.2	   Document contributor contact points ................................................................. 1	  
1.3	   Revision history .................................................................................................. 1	  
1.4	   Future work ........................................................................................................ 1	  
1.5	   Forward .............................................................................................................. 2	  

2	   References ............................................................................................................... 2	  

3	   Terms and definitions ............................................................................................. 2	  
4	   Conventions ............................................................................................................ 3	  

4.1	   Abbreviated terms .............................................................................................. 3	  
4.2	   UML notation ..................................................................................................... 3	  
4.3	   Data dictionary tables ......................................................................................... 3	  

5	   Annotations overview ............................................................................................. 4	  
5.1	   Annotation aspects ............................................................................................. 5	  
5.2	   Use cases ............................................................................................................ 5	  

6	   Annotation data model ............................................................................................ 7	  
6.1	   Consideration about symbolizers ....................................................................... 9	  

7	   Mapping to specific encodings ............................................................................. 10	  
7.1	   Mapping to GML .............................................................................................. 10	  

7.1.1	   Using the GML mapping into GMLJP2 v2 ................................................. 14	  
7.2	   Mapping to OWS Context Atom encoding ...................................................... 16	  
7.3	   Mapping to KML .............................................................................................. 18	  

8	   Future work ........................................................................................................... 20	  

Annex A  Annotations XML schema and example .......................................................... 21	  
A.1	   General ............................................................................................................. 21	  

A.2	   Annotation application schema .................................................................... 21	  
A.3	   Direct use example ....................................................................................... 26	  
A.4	   GML application schema using annotations schema ................................... 28	  
A.5	   GML features using annotation schema. ..................................................... 29	  

Annex B  KML annotation example ................................................................................. 31	  
B.1	   General ............................................................................................................. 31	  

B.2	   KML annotation example ............................................................................ 31	  
 

 

 



OGC 14-002 

vi Copyright © 2014 Open Geospatial Consortium. 
 

Figures Page 
Figure 1 — The treasure map use case ......................................................................................... 6	  

Figure 2 — The refinery use case .................................................................................................. 7	  

Figure 3 — Annotation UML model ............................................................................................. 8	  

Figure 4 — Google Earth shows an annotation example .......................................................... 20	  

Tables Page 
Table 1 — Contents of data dictionary tables .............................................................................. 3	  

Table 2 — Mapping to Atom encoding ....................................................................................... 16 

Requirements Page 
Requirement 1: A feature is an annotation if it contains some of the elements the UML 

model in the Figure 3. ............................................................................................................. 7	  

Requirement 2: A client shall draw the connector (if exists) from the label area to the 
border or the interior of the location (ignoring the poi). ..................................................... 8	  

Requirement 3: When the encoding supports it, the annotation coordinates will be 
expressed in the same CRS than the feature they are annotating. When the selected 
encoding can reference a different CRS for coordinates, other CRS are allowed but not 
encouraged. .............................................................................................................................. 9	  

Requirement 4: An annotation encoded in GML shall use the elements defined in the 
ann.xsd provided in the Annex A of this document. .......................................................... 14	  

Requirement 5: A GMLJP2 document that contains annotation shall use the elements 
defined in the ann.xsd and provided in the Annex A and define annotations in the 
<gmljp2:annotation> elements provided by the GMLJ2 standard schemas. When no 
annotatedFeature reference is provided, it is assume that the annotation is annotating 
the parent coverage. .............................................................................................................. 15	  

Requirement 6: An OWS Context atom entry is an annotation if it follows the mapping in 
Table 2. ................................................................................................................................... 16	  

Requirement 7: When the annotation entry is annotating another entry of the same atom 
feed, the annotation entry shall point to the annotated feature using a 
atom:entry/atom:link with rel="related" and href="#{entry_id}", 
where {entry_id} is the atom:entry/atom:id of the annotated entry. .............. 17	  

Requirement 8: A KML document that contains annotations shall use the KML structure 
presented above and fully exemplified in the Annex B. ..................................................... 19	  

 



OGC® Engineering Report OGC 14-002 

 

Copyright © 2014 Open Geospatial Consortium. 1 
 

OGC® Testbed 10 Annotations Engineering Report 

1 Introduction 

1.1 Scope 

This OGC® document gives guidelines for dealing with geospatial annotations in OGC 
standards. It proposes a generic data model and a set of mappings into different popular 
encodings 

This OGC® document is applicable to OWS context, GMLJP2 and any other standards 
that can require annotations. 

1.2 Document contributor contact points 

All questions regarding this document should be directed to the editor or the contributors: 

Name Organization 
Joan Masó joan.maso<at>uab.cat 
Raj Singh Rsingh<at>opengeospatial.org 
  

 

1.3 Revision history 

Date Release Editor Primary 
clauses 

modified 

Description 

19/04/2014 0.0.1 Joan Masó All Initial Document 
15/05/2014 0.0.2 Joan Masó All Complete write 
22/05/2014 1.0.0 Raj Singh All General review 
 

1.4 Future work 

These are some aspects that require a review if this document is further considered in the 
OGC standardization process: MotivationType was included in the abstract model in the 
last minute and is not incorporated into the mapping to the encodings. The definition of 
the abstract annotation model is defined as a UML diagram and ann.xsd XML schema 
includes the definition of each annotation element. It could be better to have tables in this 



OGC 14-002 

2 

    

Copyright © 2014 Open Geospatial Consortium. 
 

document fully describing each element of the abstract annotation model. The XML 
ann:Annotation needs and extension point. The requirements listed in this document have 
different targets and need to be in different requirements classes. 

Include some other use cases and extend the model to them if needed and include a 
symbolization language in the model can be aspects that require further consideration. 
See also more generic future work in Section 8. 

1.5 Forward 

Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The Open Geospatial Consortium shall not be held 
responsible for identifying any or all such patent rights. 

Recipients of this document are requested to submit, with their comments, notification of 
any relevant patent claims or other intellectual property rights of which they may be 
aware that might be infringed by any implementation of the standard set forth in this 
document, and to provide supporting documentation. 

2 References 

The following documents are referenced in this document. For dated references, 
subsequent amendments to, or revisions of, any of these publications do not apply. For 
undated references, the latest edition of the normative document referred to applies. 

OGC 07-036 Geographic Markup Language, GML 3.2.1, 
http://portal.opengeospatial.org/files/?artifact_id=20509 

In addition to this document, this report includes an XML Schema Document file and 
some examples as specified in Annex A. 

3 Terms and definitions 

For the purposes of this report, the definitions specified in Clause 4 of the OWS Common 
Implementation Standard [OGC 06-121r3] shall apply. In addition, the following terms 
and definitions apply. 

3.1  
annotation 
any marking on illustrative material for the purpose of clarification [ISO19117] 

NOTE This generic definition of the annotations concept applies here but one of the purposes of this 
document is clarify the definition an annotation. 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 3 
 

4 Conventions 

4.1 Abbreviated terms 

Some more frequently used abbreviated terms: 

UML Unified Modeling Language 

GML Geographic Markup Language 

4.2 UML notation 

Most diagrams that appear in this standard are presented using the Unified Modeling 
Language (UML) static structure diagram, as described in Subclause 5.2 of [OGC 06-
121r3]. 

 

4.3 Data dictionary tables 

The UML model data dictionary is specified herein in a series of tables. The contents of 
the columns in these tables are described in Table 1. 

Table 1 — Contents of data dictionary tables 

Column title Column contents 
Names  

(left column) 
Two names for each included parameter or association (or data structure).  
The first name is the UML model attribute or association role name.  
The second name uses the XML encoding capitalization specified in 

Subclause 11.6.2 of [OGC 06-121r3].  
The name capitalization rules used are specified in Subclause 11.6.2 of 

[OGC 06-121r3]. Some names in the tables may appear to contain spaces, 
but no names contain spaces. 

Definition  
(second column) 

Specifies the definition of this parameter (omitting un-necessary words such 
as “a”, “the”, and “is”). If the parameter value is the identifier of 
something, not a description or definition, the definition of this parameter 
should read something like “Identifier of TBD”. 

Data type and value 
(third column) 

or 
Data type  

(if are no second 
items are included 
in rows of table) 

Normally contains two items: 
The mandatory first item is often the data type used for this parameter, 

using data types appropriate in a UML model, in which this parameter is a 
named attribute of a UML class. Alternately, the first item can identify the 
data structure (or class) referenced by this association, and references a 
separate table used to specify the contents of that class (or data structure). 

The optional second item in the third column of each table should indicate 
the source of values for this parameter, the alternative values, or other 
value information, unless the values are quite clear from other listed 
information. 

Multiplicity and use 
(right or fourth 
column) 

Normally contains two items: 
The mandatory first item specifies the multiplicity and optionality of this 



OGC 14-002 

4 

    

Copyright © 2014 Open Geospatial Consortium. 
 

Column title Column contents 
or 
Multiplicity  

(if are no second 
items are included 
in rows of table) 

parameter in this data structure, either “One (mandatory)”, “One or more 
(mandatory)”, “Zero or one (optional)”, or “Zero or more (optional)”. 

The second item in the right column of each table should specify how any 
multiplicity other than “One (mandatory)” shall be used. If that parameter 
is optional, under what condition(s) shall that parameter be included or not 
included?  If that parameter can be repeated, for what is that parameter 
repeated?  

 
When the data type used for this parameter, in the third column of such a table, is an 
enumeration or code list, all the values specified shall be listed, together with the 
meaning of each value. When this information is extensive, these values and meanings 
should be specified in a separate table that is referenced in the third column of this table 
row. 

The data type of many parameters, in the third table column, is specified as “Character 
String type, not empty”. In the XML Schema Documents specified herein, these 
parameters are encoded with the xsd:string type, which does NOT require that these 
strings not be empty. 

5 Annotations overview 

The draft W3C Open Annotation data model defines an annotation as a relation between 
a piece of information (called body) and a target object made with some motivation. 
Motivations could be highlighting, describing or commenting (see Figure 1). In the case 
of geospatial annotation, the body is an illustrative feature overlapped to a map and 
anchored to a complete geospatial feature (the target object), a part of it, or a spatial 
region for the purpose of making the map presentation more informative. This aim for 
improving presentation adds the need for a graphical representation of the body and the 
target and the need for representing a connector between them. 

 

Figure 1 — Open Annotation data model 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 5 
 

In OGC, annotations were previously proposed in the XML for Image and Map 
Annotations (XIMA) discussion paper 
(http://portal.opengeospatial.org/files/?artifact_id=1020) that was later revised and 
included in GML in JPEG 2000 for Geographic Imagery (GMLJP2) document 
(http://portal.opengeospatial.org/files/?artifact_id=13252) in section 7.6, pages: 15-22. 
XIMA defines annotation as composed by 3 basic elements  

 Pointer: A line that links the annotation (called content in XIMA) with a region in 
space that is being annotated (called annotates in XIMA).  

 Content: A Label that has a text or a picture.  

 Annotates: It is the region of the space we are annotating. E.g.: a point or a 
polygon 

These concepts are also the bases for this document even if they get new names and are 
implemented in a different way. In practice, XIMA was defined as a profile of GML, 
limiting the geometric capabilities to the minimum required and was included in 
GMLJP2. This document takes a different approach and defines a generic data model for 
annotations that is not restricting the geometrical capabilities to define the annotation. 
The model concepts can then be mapped to common existing encodings other than GML. 

5.1 Annotation aspects 

Annotations are very similar to features. They can both describe a real phenomenon, they 
use properties to do that, and some of their properties are geometrical. However, there are 
some practical differences: 

 Annotations are not always required to be geometrically precise (sometimes they 
are just rectangles or arrows pointing to a rough area).  

 Annotations come in small quantities (just a few annotations over a map). This 
implies that they are not long arrays of instances of a specific feature type.  

 Annotations do not require a complex schema with many properties (to have a 
text, or an image pointing to a geometry can be enough).  

 Symbolization of annotations is important, but it is up to clients to present them in 
different ways, and avoid visual collisions of annotations coming from different 
sources. 

5.2 Use cases 

A common use case for annotations is to highlight some element in a georeferenced 
image or in a map. The annotation is composed of 

1. Something identifying a location (point, polygon,...)  



OGC 14-002 

6 

    

Copyright © 2014 Open Geospatial Consortium. 
 

2. Something pointing to that location (not always required) 

3. An associated text or an image saying something about that location or a 
descriptive picture 

An example is the treasure map use case (see Figure 2) where we can clearly see the 
above mentioned 3 elements. 

 

Figure 2 — The treasure map use case 

The thing that we want to highlight is not always a point. It is often an area that requires 
some highlighting via an annotation, hence the need for polygons. This is shown in the 
refinery use case (see Figure 3). 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 7 
 

 

Figure 3 — The refinery use case 

6 Annotation abstract data model 

Requirement 1: A feature is an annotation if it contains the required elements of the UML 
model in Figure 4. 

An annotation is a feature identified by an id that can have metadata associated with it 
and a motivation. The annotation annotates something in the real world represented by an 
anchor. The anchor (called target in the Open Annotation data model) can geometrically 
be marked in the following ways: 

 annotatedFeature: A link to a feature that geographically describes what is 
annotated. 

 location: A geographic object that describes an area being annotated. It does not 
require that it is precisely defined. The recommended symbology is provided in 
locationSym. 

 poi: A point position that represents the object (if the location is not a point). 
Sometimes, when location has a line or a polygon geometry, it is useful to have a 
point that represents it (e.g. in the aviation domain, an airport has a official 
Airport Reference Point). The recommended symbology is provided in poiSym 
(that can make the coordinates visible). poi could also be used to place the icon. 



OGC 14-002 

8 

    

Copyright © 2014 Open Geospatial Consortium. 
 

If all three values are present, this gives the client the option to represent the geometry of 
the feature in any one of 3 levels of detail, from a general point location to a precise 
description of its boundary. 

NOTE 1  To annotate an image as a whole, the annotatedFeature points to the corresponding coverage 
identifier. 

An annotation has a label (called body in the Open Annotation data model) that is 
annotating the anchor. A connector is a linear feature that connects both entities. Many 
times an annotation needs to be more explicit and the Label element provides the 
capability to associate a text or an image with the purpose of being presented near the 
Anchor. 

Requirement 2: A client shall draw the connector (if it exists) from the label area to the 
border, or the interior of the location (ignoring the poi). 

NOTE 2 We need a way to define the position of the anchor to be able to eventually draw a connector 
pointing to it. Since the connector is not geometrically described, the anchor element location is made 
mandatory. 

NOTE 3 If location does not want to be shown, the creating software is encouraged to define location as 
simple as possible (as a single point) and to define a “transparent” locationSym . 

The connector will be drawn from an area next to the label (from the recommededPos, if 
provided) to the border or the interior of the location (ignoring the poi, if provided). 

 class Annotation

Anchor

+ annotatedFeature  :URI [0..1]
+ location  :Geometry
+ poi  :Point [0..1]
+ icon  :Image [0..1]
+ locationSym  :Symbolizer [0..1]
+ poiSym  :Symbolizer [0..1]

Annotation

+ id  :URI
+ metadata  :any [0..*]
+ motivation  :MotivationType [0..1]
+ attributes  :any [0..*]

Connector

+ type  :ConnectorType [0..1]
+ connectorSym  :Symbolizer [0..1]

Label

+ text  :String [0..1]
+ image  :Image [0..1]
+ imageURI  :URI [0..1]
+ recommendedPos  :Point [0..1]
+ textSym  :Symbolizer [0..1]
+ imageSym  :Symbolizer [0..1]

«CodeList»
ConnectorType

+ line
+ arrow

«CodeList»
Motiv ationType

+ bookmarking
+ classifying
+ commenting
+ describing
+ editing
+ highlighting
+ indentifying
+ linking
+ moderating
+ questioning
+ replying
+ tagging

+connector 1

1

+anchor 1

1

+label 1

0

 

Figure 4 — Annotation abstract UML model 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 9 
 

There is a general consensus that a client has to be able to decide how to distribute and 
place annotations over the map. Interactive clients can allow users to move annotation 
around the map. Clients that present more than one file containing overlapping 
annotations and need to be able to avoid collisions and overlaps between them by moving 
and separating them. They should also be able to change symbolization properties of the 
annotations to make them more visible. Nevertheless, the capability to provide a default 
symbolization can be useful. For this reason, the 3 elements of the annotation contain 
some properties for describing the default symbolization: 

 Anchor: if location is provided, locationSym can describe the way the geometry 
has to be symbolized (e.g. a border color or a fill in pattern for a polygon). If poi 
is provided, poiSym can describe the way the point has to be symbolized (e.g. a 
cross with the coordinates as a text, like in Figure 3). Note that poiSym can also 
describe where to position the icon. 

 Label: if text is provided, textSym can describe the style of the text (e.g. white text 
on top of a black background rectangle, like in Figure 3). If image or imageURI 
are provided, imageSym can describe the way the image has to be scaled, rotate 
etc. Both symbolizers can make use of the recommendedPos for both the text and 
the image. In the case that a text and an image are provided at the same time, they 
are competing for the same area next to recommendedPos and the clients have to 
decide how to place them avoiding overlaps. 

 Connector: both type and connectorSym describe the symbology of the connector. 
connectorSym is expected to be a line symbolizer while type allow to decide if the 
connector is a simple line of an arrow (so it will present an arrow cap). In the 
absence of type, line will be used. 

The model is extensible and provides the capability to include any number of additional 
attributes of any kind. 

Requirement 3: When the encoding supports it, the annotation coordinates will be 
expressed in the same CRS as the feature they are annotating. When the selected 
encoding can reference a different CRS for coordinates, other CRSes are allowed but 
discouraged. 

NOTE: Some encodings have constraints in the CRS that they can represent. For example KML 2.2 only 
supports long/lat in WGS84. For that reason the CRS requirement above has been left quite open. 

NOTE2: The presented annotation model is compatible to the more generic Open Annotation Data Model, 
Community Draft, 08 February 2013, http://www.openannotation.org/spec/core/  

6.1 Consideration of symbolizers 

During OWS 10 some alternatives to incorporate a standard symbolization model were 
studied, including: KML styles, OGC Symbology Encoding (OGC SE), SVG and CSS. 
Symbology encodings are deeply related to data encodings and can not be easily adapted. 
Some alternatives have important limitations for annotations such as the impossibility to 



OGC 14-002 

10 Copyright © 2014 Open Geospatial Consortium. 
 

associate an icon or an image to a Point feature in OGC SE or the lack of arrow caps in 
KML. 

Another point is to give clients some freedom in representing the annotations. In some 
cases, clients will have to combine different annotations for the same feature in a single 
session and automatically avoid position or color collisions. 

For these reasons, Symbolizer is deliberately not defined in this document and left for 
future work. Each encoding is expected to have their own capabilities and language to 
symbolize and clients are expected to adapt to it. 

7 Mapping to specific encodings 

In this section we are showing how the general model can be mapped into 3 different 
encodings. The first encoding in GML can be a perfect match to the abstract model 
because of the intrinsic flexibility in GML. For OWS Context and KML, instead of 
aiming for a perfect match, we think that is better to map annotation concepts into 
common OWS context and KML elements. 

7.1 Mapping to GML 

As said before, this document is taking a different practical route than XIMA approach. 
We deliberately avoid creating a profile of GML (that chooses a subset of the GML 
capabilities). Profiles (at least the way XIMA was defined) have problems when you try 
to mix them in a single application, becoming impossible to validate when they share the 
same namespace. 

Instead, this document is suggesting a set of properties (in a different namespace) that can 
be used in the definition of GML applications schemas and in conjunction with the 
geospatial properties that the complete GML provides. 

The namespace chosen in this interoperability experiment is: 
ann="http://www.opengis.net/annotations/1.0" 

The properties are defined in an ann.xsd and they are the same as the ones in the UML 
model defined in the Figure 4 but defined as independent elements in a way that makes 
easy to reuse them by means of XML references. 

 <!--Anchor--> 
 <element name="annotatedFeature" type="ann:FeatureType"/> 
 <element name="location" type="ann:GeometryType"/> 
 <element name="poi" type="ann:PoiType"/> 
 <element name="icon" type="ann:IconType"/> 
 <element name="locationSym" type="ann:SymbolizedType"/> 
 
    <!--Connector-->  
 <element name="connectorType" type="ann:ConnectorTypeType"/> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 11 
 

 <element name="connectorSym" type="ann:SymbolizedType"/> 
  
    <!--Label-->   
 <element name="text" type="ann:TextType"/> 
 <element name="image" type="ann:ImageType"/> 
 <element name="recommendedPos" type="ann:RecommendedPosType"/> 
 <element name="textSym" type="ann:SymbolizedType"/> 
 <element name="imageSym" type="ann:SymbolizedType"/> 

 

The id and the metadata elements in the UML model are mapped to the gml:id and to the 
gml:metaDataProperty respectively. 

For example, let’s imagine that we want to define a road feature. In a normal GML 
application schema, we will do it this way: 

 <element name="Road" type="xmp:RoadType" 
substitutionGroup="gml:AbstractFeature"/> 
 <complexType name="RoadType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <element name="position" type="gml:CurvePropertyType"/> 
     <element name="width" type="double"/> 
     <element name="name" type="string"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <complexType name="RoadPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="xmp:Road"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attributeGroup ref="gml:OwnershipAttributeGroup"/> 
 </complexType> 

 

And we will use this application schema to validate a particular road instance like this: 

  <my_srf:AnnotatedRoad gml:id="ID_ROAD1"> 
   <my_srf:position> 
    <gml:LineString gml:id="ID_ROADPOS1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 
   </my_srf:position> 
   <my_srf:width>4.1</my_srf:width> 
   <my_srf:name>M30</my_srf:name> 
  </my_srf:AnnotatedRoad> 

 



OGC 14-002 

12 Copyright © 2014 Open Geospatial Consortium. 
 

Now we are going to extend the GML definition of a road an create the schema for an 
annotated road by adding the properties defined in the “ann” namespace: 

 <element name="AnnotatedRoad" type="xmp:AnnotatedRoadType" 
substitutionGroup="gml:AbstractFeature"/> 
 <complexType name="AnnotatedRoadType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <!--Anchor--> 
     <element ref="ann:annotatedFeature" minOccurs="0"/> 
     <element ref="ann:location"/> 
     <element ref="ann:poi" minOccurs="0"/> 
     <element ref="ann:icon" minOccurs="0"/> 
     <element ref="ann:locationSym" minOccurs="0"/> 
     <!--Connector--> 
     <element ref="ann:connectorType" minOccurs="0"/> 
     <element ref="ann:connectorSym" minOccurs="0"/> 
     <!--Label--> 
     <element ref="ann:text" minOccurs="0"/> 
     <element ref="ann:image" minOccurs="0"/> 
     <element ref="ann:recommendedPos" minOccurs="0"/> 
     <element ref="ann:textSym" minOccurs="0"/> 
     <element ref="ann:imageSym" minOccurs="0"/> 
     <element name="position" type="gml:CurvePropertyType"/> 
     <element name="width" type="double"/> 
     <element name="name" type="string"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 

 

And this way we are able to add an annotation to a road instance: 

<my_srf:RoadCollection gml:id="ID_ROADS1" 
xmlns:my_srf="http://www.opengis.net/annotations/1.0/examples/example1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:gml="http://www.opengis.net/gml/3.2" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:ann="http://www.opengis.net/annotations/1.0" 
xsi:schemaLocation="http://www.opengis.net/gml/3.2 
http://schemas.opengis.net/gml/3.2.1/gml.xsd 
http://www.opengis.net/annotations/1.0 ../ann.xsd 
http://schemas.opengis.net/annotations/1.0/examples/example1 
AnnotatedRoad.xsd"> 
 <my_srf:road> 
  <my_srf:AnnotatedRoad gml:id="ID_ROAD1"> 
   <ann:annotatedFeature xlink:href="other.xml#1234"/> 
   <ann:location> 
    <gml:LineString gml:id="ID_LINEROAD1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 13 
 

   </ann:location> 
   <ann:poi> 
    <gml:Point gml:id="ID_POIROAD1"> 
     <gml:pos>300 200</gml:pos> 
    </gml:Point> 
   </ann:poi> 
   <ann:icon xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.png"/> 
  
   <!--Connector-->  
   <ann:connectorType>arrow</ann:connectorType> 
    
   <!--Label-->   
   <ann:text>Annotation to the heaven</ann:text> 
   <ann:image xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.jpg"/> 
   <ann:recommendedPos gml:id="POS1"> 
    <gml:pos>400 400</gml:pos> 
   </ann:recommendedPos> 
 
   <my_srf:position> 
    <gml:LineString gml:id="ID_ROADPOS1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 
   </my_srf:position> 
   <my_srf:width>4.1</my_srf:width> 
   <my_srf:name>M30</my_srf:name> 
  </my_srf:AnnotatedRoad> 
 </my_srf:road> 
</my_srf:RoadCollection> 
 

Annotations do not need complex geometrical definitions but they can require common 
shapes like points, short lines, coarse polygons, ellipse etc. In fact, ellipses are not 
defined in the GML schemas. In this XML representation, ann:location is defined as a 
choice between points, arcs, lines, ellipses and polygons. 

 <complexType name="GeometryType"> 
  <choice> 
   <element ref="gml:Point"/> 
   <element ref="gml:LineString"/> 
   <element ref="gml:Arc"/> 
   <element name="Ellipse" type="ann:EllipseGeometryType"/> 
   <element ref="gml:Polygon"/> 
  </choice> 
 </complexType> 

 

The definition of ellipse has been added to the ann.xsd XML schema: 

 <complexType name="EllipseGeometryType"> 
  <annotation> 
   <documentation>Inspired in "Best way to define an Ellipse in 
GML?" http://www.ogcnetwork.net/node/1033</documentation> 



OGC 14-002 

14 Copyright © 2014 Open Geospatial Consortium. 
 

  </annotation> 
  <sequence> 
   <element ref="gml:pos"/> 
   <element name="semiMajorAxis" type="double"/> 
   <element name="semiMinorAxis" type="double"/> 
   <element name="orientation" type="double"/> 
  </sequence> 
 </complexType> 

 

Creating a specific application schema for annotations can be complicated and can make 
interoperability more difficult. An alternative is to use the ann:Annotation object 
available directly in the in the ann.xsd application schema for a single annotation and the 
ann:AnnotationCollection for an array of annotations. 

<ann:AnnotationCollection gml:id="ID_ROADS1" 
xmlns:gml="http://www.opengis.net/gml/3.2" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:ann="http://www.opengis.net/annotations/1.0"> 
 <ann:annotation> 
  <ann:Annotation gml:id="ID_ROAD1"> 
   <ann:location> 
    <gml:LineString gml:id="ID_LINEROAD1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 
   </ann:location> 
     
   <!--Label-->   
   <ann:text>Annotation to the heaven</ann:text> 
  </ann:Annotation> 
 </ann:annotation> 
</ann:AnnotationCollection> 

 

Additionally an ann:StructuredAnnotation class is also provided. The later has been 
added to mimic the UML model completely. However, we believe there is no need to 
apply such a tree complex structure to describe annotation and recommends the 
ann:Annotation class. 

The complete schemas and examples can be found in the Annex A. 

Requirement 4: An annotation encoded in GML shall use the elements defined in the 
ann.xsd provided in the Annex A of this document. 

7.1.1 Using the GML mapping into GMLJP2 v2 

At the time of writing this document the GMLJP2 v2 is in the final stages and it is almost 
ready for its final release as a new OGC standard. The GMLJP2 v1 standard has been 
reviewed, and in the version 2 it uses GMLCOV but removes the XIMA approach. 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 15 
 

GMLCOV has been used to include the GML description of coverages in the JPEG2000 
file. The standard adds placeholders for other features and annotations. Nevertheless, no 
specific annotation encoding is provided or suggested. The proposed annotation schema 
ann.xsd can be used in conjunction to GMLJP2 proposal to include annotations in a 
JPEG2000.  

The following XML fragment illustrates  

<?xml version="1.0" encoding="UTF-8"?> 
<gmljp2:GMLJP2CoverageCollection gml:id="ID_JPEG2000_0" 
   xmlns="http://www.opengis.net/gml/3.2"  
   xmlns:gmljp2="http://www.opengis.net/gmljp2/2.0"  
   xmlns:gmlcov="http://www.opengis.net/gmlcov/1.0"  
   xsi:schemaLocation="http://www.opengis.net/gmljp2/2.0 
../gmlJP2.xsd"> 
 <boundedBy/> 
 <domainSet/> 
 <rangeSet/> 
 <gmlcov:rangeType/> 
 <gmljp2:featureMember> 
  <gmljp2:GMLJP2RectifiedGridCoverage gml:id="ID_1"> 
   <domainSet/> 
   <rangeSet/> 
   <gmlcov:rangeType/> 
   <gmljp2:annotation> 
    <ann:Annotation gml:id="AN001" 
xmlns:ann="http://www.opengis.net/annotations/1.0" xsi:schemaLocation=" 
http://www.opengis.net/annotations/1.0 
http://shcemas.opengis.net/annotations/1.0/ann.xsd"> 
     <ann:location> 
      <gml:LineString gml:id="ID_LINEROAD1"> 
       <gml:pos>300 200</gml:pos> 
       <gml:pos>350 222</gml:pos> 
      </gml:LineString> 
     </ann:location> 
     <ann:text>Annotation to the heaven</ann:text> 
    <ann:Annotation> 
   </gmljp2:annotation> 
  </gmljp2:GMLJP2RectifiedGridCoverage> 
 </gmljp2:featureMember> 
<gmljp2:GMLJP2CoverageCollection> 

 

Requirement 5: A GMLJP2 document that contains annotation shall use the elements 
defined in the ann.xsd and provided in the Annex A and define annotations in the 
<gmljp2:annotation> elements provided by the GMLJ2 standard schemas. When no 
annotatedFeature reference is provided, it is assume that the annotation is annotating the 
parent coverage. 



OGC 14-002 

16 Copyright © 2014 Open Geospatial Consortium. 
 

7.2 Mapping to OWS Context Atom encoding 

There is a temptation to reuse the same GML encoding to include annotations in the 
owc:content section of an atom:entry of a OWS Context document. Even though this 
could be syntactically correct, we believe it makes more sense to map the annotation 
concepts and elements to the common elements of an atom:entry of the OWS Context 
atom:feed document. Table 2 provides the mapping between the abstract UML model for 
annotations and a atom:entry element. 

Requirement 6: An OWS Context atom:entry is an annotation if it follows the mapping in 
Table 2. 

Table 2 — Mapping to Atom encoding 

Names: Annotation 
OWS Context mapping 

Definition Data type and value Multiplicity 
and use 

id 
atom:entry/ 
atom:id 

An unambiguous 
reference to the 
identification of the 
annotation (IRI)  

URI One a 

(mandatory) 

metadata 
atom:entry/ 
atom:link[@rel="via"] 

A reference to a 
metadata about the 
annotation. 

atom:link type.  
@rel shall be "via" 
(e.g. metadata 

document from 
which the metadata 
of the resource is 
derived). 

Zero or more 
(optional) 

motivation 
atom:feed/ 
atom:category 
[@scheme='http://www.o
pengis.net/ 
spec/annotation/motiva
tion'] 
\@term 

This element marks 
this entry as an 
annotation. 

Value SHALL be 
one of the 
MotivationType 
possible values. 

Zero or one 
(optional) 

annotatedFeature 
atom:entry/ 
atom:link[@rel="relate
d"]/@href" 

A reference to a feature 
that is being 
annotated. 

atom:link type.  
@rel shall be 

"related"c 

Zero or more 
(optional) b 

location  
atom:entry/ 
georss:where 

The spatial extent or 
scope of the 
annotation. 

georss:where 
element 

Zero or one 
(optional) 

poi 
(no equivalence in OWC) 

A point inside the 
extent of the 
annotation. 

georss:point element Zero or one 
(optional) 

icon 
atom:entry/ 
atom:link[@rel="icon"] 

An icon representing 
the place being 
annotated. 

atom:link type.  
@rel shall be "icon" 
The attributes length 

Zero or one 
(optional) 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 17 
 

Names: Annotation 
OWS Context mapping 

Definition Data type and value Multiplicity 
and use 

and type SHOULD 
be provided 

text 
atom:entry/ 
atom:content 

A textual label that 
annotates the feature 
position 

Character String 
type, not empty 

The use of 
atom:content with   
@type equal to 
"html" is 
recommended. 

One 
(mandatory) 
d 

imageURI 
atom:entry/ 
atom:link[ 
@rel="enclosure"] 

A image label that 
annotates the feature 
position 

atom:link type. 
@rel shall be 

"enclosure" 
@type shall be and 

image format e 

Zero or one 
(optional) 

None 
atom:feed/ 
atom:category 
[@scheme='http://www.o
pengis.net/ 
spec/annotation'] 
\@term 

This element marks 
this entry as an 
annotation. 

Value SHALL be 
“annotation”. 

Zero or one 
(optional) but 
SHOULD be 
used to help 
clients to 
identify these 
entries  

attributes Any other element Any (outside of the atom or owc 
namespace) 

Zero or more 
(optional) 

a URIs used as identifiers should be in canonical form, as described by section 6 of RFC-3986. Avoid 
the use of URI like http://server.com/path that should be written as http://server.com/path/ 
b In the absence of if it is assumed that the annotation annotates the whole atom feed 
c It can be a URI of an external feature in a GML file (e.g. href=“http://server.net/gml.xml#facility01” or 
a reference to another entry in the same atom feed (e.g. href=“#tag:example.org,2003:3.2397”) 
d It is defined mandatory because OGC 12-084 requires it. Also remember that 
atom:entry/atom:title and atom:entry/atom:updated are also OWS Context Atom mandatory 
elements. 
e Including the image directly in atom:entry/atom:content combined with the title is also a valid 
alternative. If you opt for atom:entry/atom:link[@rel="enclosure"], and because it describes a 
resource potentially large in size and might require special handling, the length and type attribute 
SHOULD be provided. 
 
The OWS Context document can also contain the full description of a feature or a 
coverage that is being annotated in another entry or can transport annotations that 
annotates external features.  

Requirement 7: When the annotation entry is annotating another entry of the same Atom 
feed, the annotation entry shall point to the annotated feature using a 
atom:entry/atom:link with rel="related" and href="#{entry_id}", where {entry_id} 
is the atom:entry/atom:id of the annotated entry. 



OGC 14-002 

18 Copyright © 2014 Open Geospatial Consortium. 
 

7.3 Mapping to KML 

Mapping the model to KML requires an additional effort of imagination because KML 
objects are very limited in the number of properties they have. Fortunately, the concept of 
KML folder allows us for grouping some KML objects in a single box, making possible 
to generate a more complete structure inside a folder that can transport and pack the 
different elements of the annotation.  

Next we will describe a KML structure that maps well with the abstract UML model for 
annotations shown in Figure 4. This is the way we represent the different elements of an 
annotation: 

 <Style>s are used to express the annotation Symbolizers. In fact, we use 3 
different <Style> id’s: “anchor”, “connector” and “label” for the different needed 
symbolizers in an annotation. You can use variants of these names if you require 
different symbolization for different annotations in a single KML file. 

 <Folder> encapsulates a single annotation. “id” and “atom:link” are used to 
express the annotation id and the annotation metadata. 

o <Placemark>s can be used to represent several elements in the annotation 
such as: location, poi, icon, connector, text, and recommendedPos. Note 
that annotatedFeature is the “atom:link” of the first <Placemark>. Also 
note that only one Placemark/Point element can have a name because the 
text in the name is automatically shown as a label in some KML viewers. 

o <GroundOverlay> is used to show and label image. 

The following simplified KML template shows how these annotation elements can be 
combined in a single KML file. 

<?xml version="1.0" encoding="UTF-8"?> 
<kml xmlns="http://www.opengis.net/kml/2.2" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:gx="http://www.google.com/kml/ext/2.2" 
xmlns:kml="http://www.opengis.net/kml/2.2" 
xmlns:atom="http://www.w3.org/2005/Atom"> 
 <Document> 
  <name>Annotation example: Barcelona</name> 
  <Style id="anchor"> 
   <!--Style for the anchor: locationSym and poiSym (including 
icon) --> 
  </Style> 
  <Style id="connector"> 
   <!--Style for the connetor: connectorSym --> 
  </Style> 
  <Style id="label"> 
   <!--Style for the label: textSym and imageSym --> 
  </Style> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 19 
 

  <Folder id="ID_204"> 
   <open>0</open> 
   <atom:link href="http://metadata.usgs.gov/barcelona" 
rel="via"/> 
   <Placemark> 
    <name>location</name> 
    <atom:link href="http://features.server.org/gml#id" 
rel="related"/> 
    <styleUrl>#anchor</styleUrl> 
    <!-- location geometry --> 
   </Placemark> 
   <Placemark> 
    <styleUrl>#anchor</styleUrl> 
    <Point><!-- poi coordinate --></Point> 
   </Placemark> 
   <Placemark> 
    <name>Connector</name> 
    <styleUrl>#connector</styleUrl> 
    <!-- connector line geometry --> 
   </Placemark> 
   <Placemark> 
    <name>ConnectorArrowCap</name> 
    <styleUrl>#connector</styleUrl> 
    <!-- connector arrowcap geometry if ‘type’ is ‘arrow’ --> 
   </Placemark> 
   <Placemark> 
    <name><!-- label ‘text’ --></name> 
    <styleUrl>#label</styleUrl> 
    <Point><!-- recommentedPos coordinate --></Point> 
   </Placemark> 
   <GroundOverlay> 
    <Icon><!-- imageURI --></Icon> 
   </GroundOverlay> 
  </Folder> 
 </Document> 
</kml> 
 
NOTE: We have observed some discrepancies in between Google Earth and Google maps representation of 
the same KML file. The most significant one is that name text is shown as an overlapped text in Google 
Earth but is not shown in Google Maps. 

Requirement 8: A KML document that contains annotations shall use the KML structure 
presented above and fully exemplified in the Annex B. 

Figure 5 shows how Annex B example is presented in Google Earth. The three main 
elements of an annotation are clearly seen: 

 The anchor is represented both by a green polygon and a square icon. 

 The connector is represented by a red arrow 

 The label is seen as a text and image and an icon. 



OGC 14-002 

20 Copyright © 2014 Open Geospatial Consortium. 
 

 

Figure 5 — Google Earth shows an annotation example 

8 Future work 

These are aspects that have been identified as requiring future work: 

 Open Annotation Data Model W3C Community draft was taken into account in 
the abstract UML model for annotations but more work can be done in this 
direction. 

 Reexamine the symbolization encodings and add a solution to the abstract model. 
Consider adopting OGC SE and send a CR to OGC SE when needed, or adopt 
W3C CSS3 to better align with the larger software marketplace. 

 Implement the mappings in integrated clients and demonstrate the degree of 
interoperability of the presented annotation model. 

 Test the annotation model in GMLJP2 implementations and suggest it as an 
extension to GMLJP2. 

 Include mappings to other encodings such as OWS Context JSON. Suggest this 
model to the OWS Context SWG to explore how the SWG can endorse it. 

 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 21 
 

Annex A 
 

Annotations XML schema and example 

A.1 General 

This Annex provides additional information related to the Section 7.1. In particular, it 
provides the full version of the annotation application schema, an XML example that 
used directly it to generate annotations, an example of a GML application schema that 
includes elements of the annotation application schema and an example of a GML 
instance based on the GML application schema example. 

A.2 Annotation application schema 

This is the full application schema ann.xsd. 

<?xml version="1.0" encoding="windows-1252"?> 
<schema xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:gml="http://www.opengis.net/gml/3.2" 
xmlns:ann="http://www.opengis.net/annotations/1.0" 
targetNamespace="http://www.opengis.net/annotations/1.0" 
elementFormDefault="qualified" version="1.0"> 
 <import namespace="http://www.w3.org/1999/xlink" 
schemaLocation="../../xlink/1.0.0/xlinks.xsd"/> 
 <import namespace="http://www.opengis.net/gml/3.2" 
schemaLocation="../../gml/3.2.1/gml.xsd"/> 
 
 <!--Anchor--> 
 <element name="annotatedFeature" type="ann:FeatureType"/> 
 <element name="location" type="ann:GeometryType"/> 
 <element name="poi" type="ann:PoiType"/> 
 <element name="icon" type="ann:IconType"/> 
 <element name="locationSym" type="ann:SymbolizedType"/> 
 
 <element name="anchor" type="ann:AnchorPropertyType"/> 
 <complexType name="AnchorPropertyType"> 
  <sequence> 
   <element ref="ann:Anchor"/> 
  </sequence> 
 </complexType> 
 <element name="Anchor" type="ann:AnchorType"/> 
 
 <complexType name="AnchorType"> 
  <sequence> 
   <element ref="ann:annotatedFeature" minOccurs="0"/> 
   <element ref="ann:location"/> 
   <element ref="ann:poi"  minOccurs="0"/> 
   <element ref="ann:icon" minOccurs="0"/> 



OGC 14-002 

22 Copyright © 2014 Open Geospatial Consortium. 
 

   <element ref="ann:locationSym" minOccurs="0"/> 
  </sequence> 
 </complexType> 
     
    <!--Connector-->  
 <element name="connectorType" type="ann:ConnectorTypeType"/> 
 <element name="connectorSym" type="ann:SymbolizedType"/> 
  
 <element name="connector" type="ann:ConnectorPropertyType"/> 
 <complexType name="ConnectorPropertyType"> 
  <sequence> 
   <element ref="ann:Connector"/> 
  </sequence> 
 </complexType> 
 <element name="Connector" type="ann:ConnectorType"/> 
 
 <complexType name="ConnectorType"> 
  <sequence> 
   <element ref="ann:connectorType" minOccurs="0"/> 
   <element ref="ann:connectorSym" minOccurs="0"/> 
  </sequence> 
 </complexType> 
 
    <!--Label-->   
 <element name="text" type="ann:TextType"/> 
 <element name="image" type="ann:ImageType"/> 
 <element name="recommendedPos" type="ann:RecommendedPosType"/> 
 <element name="textSym" type="ann:SymbolizedType"/> 
 <element name="imageSym" type="ann:SymbolizedType"/> 
 
 <element name="label" type="ann:LabelPropertyType"/> 
 <complexType name="LabelPropertyType"> 
  <sequence> 
   <element ref="ann:Label"/> 
  </sequence> 
 </complexType> 
 <element name="Label" type="ann:LabelType"/> 
 
 <complexType name="LabelType"> 
  <sequence> 
   <element ref="ann:text" minOccurs="0"/> 
   <element ref="ann:image" minOccurs="0"/> 
   <element ref="ann:recommendedPos" minOccurs="0"/> 
   <element ref="ann:textSym" minOccurs="0"/> 
   <element ref="ann:imageSym" minOccurs="0"/> 
  </sequence> 
 </complexType> 
 
 
 <simpleType name="TextType"> 
  <annotation> 
   <documentation>Text to be presented on the screen next to the 
feature</documentation> 
  </annotation> 
  <restriction base="string"/> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 23 
 

 </simpleType> 
 
 <complexType name="ImageType"  mixed="true"> 
  <annotation> 
   <documentation>Image to be presented on the screen next to 
the feature; probably a picture</documentation> 
  </annotation> 
  <sequence> 
   <any namespace="##other" processContents="lax" minOccurs="0" 
maxOccurs="unbounded"/> 
  </sequence>  
  <attributeGroup ref="xlink:simpleLink"/> 
 </complexType> 
  
 <complexType name="IconType"> 
  <annotation> 
   <documentation>Icon pointing to the feature center position 
such as a pin</documentation> 
  </annotation> 
  <sequence> 
   <any namespace="##other" processContents="lax" minOccurs="0" 
maxOccurs="unbounded"/> 
  </sequence> 
  <attributeGroup ref="xlink:simpleLink"/> 
 </complexType> 
 
 <complexType name="FeatureType"> 
  <annotation> 
   <documentation>A feature id that is being annotated by this 
one</documentation> 
  </annotation> 
  <attributeGroup ref="xlink:simpleLink"/> 
 </complexType> 
  
 <simpleType name="ConnectorTypeCodeType"> 
  <restriction base="string"> 
   <enumeration value="line"/> 
   <enumeration value="arrow"/> 
  </restriction> 
 </simpleType> 
 <simpleType name="ConnectorTypeType"> 
  <annotation> 
   <documentation>A code describing the arrow and its cap. The 
arrow connects the text or the image to the center of the 
feature</documentation> 
  </annotation> 
  <union memberTypes="ann:ConnectorTypeCodeType string"/> 
 </simpleType> 
  
 <complexType name="RecommendedPosType"> 
  <annotation> 
   <documentation>Last or recommended position of the text 
and/or image</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:PointType"/> 



OGC 14-002 

24 Copyright © 2014 Open Geospatial Consortium. 
 

  </complexContent> 
 </complexType> 
  
 <complexType name="SymbolizedType"> 
  <annotation> 
   <documentation>Generic Symbolizer</documentation> 
  </annotation> 
  <sequence> 
   <any namespace="##other" processContents="lax" minOccurs="0" 
maxOccurs="unbounded"/> 
  </sequence> 
  <attribute name="href" type="anyURI"/> 
 </complexType> 
  
 <!--
======================================================================= 
        Generic annotation for direct use without speciifc application 
schema 
=======================================================================
=--> 
 <element name="AnnotationCollection" 
type="ann:AnnotationCollectionType" 
substitutionGroup="gml:AbstractFeature"/> 
 <complexType name="AnnotationCollectionType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <choice  minOccurs="0" maxOccurs="unbounded"> 
     <element name="annotation" 
type="ann:AnnotationPropertyType"/> 
     <element name="structuredAnnotation" 
type="ann:StructuredAnnotationPropertyType"/> 
    </choice> 
   </extension> 
  </complexContent> 
 </complexType> 
 <complexType name="AnnotationCollectionPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="ann:AnnotationCollection"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attributeGroup ref="gml:OwnershipAttributeGroup"/> 
 </complexType> 
  
 <element name="StructuredAnnotation" 
type="ann:StructuredAnnotationType" 
substitutionGroup="gml:AbstractFeature"/>  
 <complexType name="StructuredAnnotationType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <element name="anchor" type="ann:AnchorPropertyType"/> 
     <element name="connector" 
type="ann:ConnectorPropertyType"/> 
     <element name="label" type="ann:LabelPropertyType"/> 
    </sequence> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 25 
 

   </extension> 
  </complexContent> 
 </complexType> 
 <complexType name="StructuredAnnotationPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="ann:StructuredAnnotation"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attributeGroup ref="gml:OwnershipAttributeGroup"/> 
 </complexType> 
 
 <element name="Annotation" type="ann:AnnotationType" 
substitutionGroup="gml:AbstractFeature"/>  
 <complexType name="AnnotationType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <!--Anchor--> 
     <element ref="ann:annotatedFeature" minOccurs="0"/> 
     <element ref="ann:location"/> 
     <element ref="ann:poi"  minOccurs="0"/> 
     <element ref="ann:icon" minOccurs="0"/> 
     <element ref="ann:locationSym" minOccurs="0"/> 
     
     <!--Connector-->  
     <element ref="ann:connectorType" minOccurs="0"/> 
     <element ref="ann:connectorSym" minOccurs="0"/> 
     
     <!--Label-->   
     <element ref="ann:text" minOccurs="0"/> 
     <element ref="ann:image" minOccurs="0"/> 
     <element ref="ann:recommendedPos" minOccurs="0"/> 
     <element ref="ann:textSym" minOccurs="0"/> 
     <element ref="ann:imageSym" minOccurs="0"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <complexType name="AnnotationPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="ann:Annotation"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attributeGroup ref="gml:OwnershipAttributeGroup"/> 
 </complexType> 
 
 <complexType name="PoiType"> 
  <sequence> 
   <element ref="gml:Point"/> 
  </sequence> 
 </complexType> 
 <complexType name="GeometryType"> 
  <choice> 
   <element ref="gml:Point"/> 
   <element ref="gml:LineString"/> 
   <element ref="gml:Arc"/> 



OGC 14-002 

26 Copyright © 2014 Open Geospatial Consortium. 
 

   <element name="Ellipse" type="ann:EllipseGeometryType"/> 
   <element ref="gml:Polygon"/> 
  </choice> 
 </complexType> 
 <complexType name="EllipseGeometryType"> 
  <annotation> 
   <documentation>Inspired in "Best way to define an Ellipse in 
GML?" http://www.ogcnetwork.net/node/1033</documentation> 
  </annotation> 
  <sequence> 
   <element ref="gml:pos"> 
    <annotation> 
     <documentation>The gml:pos element indicates the 
position of the center, or origin, of the ellipse. </documentation> 
    </annotation> 
   </element> 
   <element name="semiMajorAxis" type="double"> 
    <annotation> 
     <documentation>The gs:semiMajorAxis and 
gs:semiMinorAxis elements are the length of the semi-major and semi-
minor axes respectively.</documentation> 
    </annotation> 
   </element> 
   <element name="semiMinorAxis" type="double"> 
    <annotation> 
     <documentation>The gs:semiMajorAxis and 
gs:semiMinorAxis elements are the length of the semi-major and semi-
minor axes respectively.</documentation> 
    </annotation> 
   </element> 
   <element name="orientation" type="double"> 
    <annotation> 
     <documentation>The gs:orientation element is the angle 
by which the semi-major axis is rotated from the first axis of the CRS 
towards the second axis. For WGS 84, the orientation indicates rotation 
from Northing to Easting, which, if specified in degrees, is roughly 
equivalent to a compass bearing (if magnetic north were the same as the 
WGS Nnorth pPole).  
</documentation> 
    </annotation> 
   </element> 
  </sequence> 
 </complexType> 
</schema> 

 

A.3 Direct use example 

This is an XML instance that uses the ann.xsd and contains two annotations using the flat 
annotation alternative and the structured annotation alternative. 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 27 
 

<ann:AnnotationCollection gml:id="ID_ROADS1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:gml="http://www.opengis.net/gml/3.2" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:ann="http://www.opengis.net/annotations/1.0" 
xsi:schemaLocation="http://www.opengis.net/gml/3.2 
../../../gml/3.2.1/gml.xsd http://www.opengis.net/annotations/1.0 
../ann.xsd"> 
 <ann:annotation> 
  <ann:Annotation gml:id="ID_ROAD1"> 
   <!--Anchor-->    
   <ann:annotatedFeature xlink:href="other.xml#1234"/> 
   <ann:location> 
    <gml:LineString gml:id="ID_LINEROAD1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 
   </ann:location> 
   <ann:poi> 
    <gml:Point gml:id="ID_POIROAD1"> 
     <gml:pos>300 200</gml:pos> 
    </gml:Point> 
   </ann:poi> 
   <ann:icon xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.png"/> 
  
   <!--Connector-->  
   <ann:connectorType>arrow</ann:connectorType> 
    
   <!--Label-->   
   <ann:text>Annotation to the heaven</ann:text> 
   <ann:image xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.jpg"/> 
   <ann:recommendedPos gml:id="POS1"> 
    <gml:pos>400 400</gml:pos> 
   </ann:recommendedPos> 
  </ann:Annotation> 
 </ann:annotation> 
 <ann:structuredAnnotation> 
  <ann:StructuredAnnotation gml:id="ID_ROAD2"> 
   <ann:anchor> 
    <ann:Anchor> 
     <ann:annotatedFeature xlink:href="other.xml#1234"/> 
     <ann:location> 
      <gml:LineString gml:id="ID_LINEROAD2"> 
       <gml:pos>300 200</gml:pos> 
       <gml:pos>350 222</gml:pos> 
      </gml:LineString> 
     </ann:location> 
     <ann:poi> 
      <gml:Point gml:id="ID_POIROAD2"> 
       <gml:pos>300 200</gml:pos> 
      </gml:Point> 
     </ann:poi> 
     <ann:icon xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.png"/> 



OGC 14-002 

28 Copyright © 2014 Open Geospatial Consortium. 
 

    </ann:Anchor> 
   </ann:anchor> 
   <ann:connector> 
    <ann:Connector> 
     <ann:connectorType>arrow</ann:connectorType> 
    </ann:Connector> 
   </ann:connector> 
   <ann:label> 
    <ann:Label> 
     <ann:text>Annotation to the heaven</ann:text> 
     <ann:image xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.jpg"/> 
     <ann:recommendedPos gml:id="POS2"> 
      <gml:pos>400 400</gml:pos> 
     </ann:recommendedPos> 
    </ann:Label> 
   </ann:label> 
  </ann:StructuredAnnotation> 
 </ann:structuredAnnotation> 
</ann:AnnotationCollection> 

 

A.4 GML application schema using annotations schema 

This is an example of GML application schema that uses the ann.xsd and the GML 
schemas to include some annotation properties and some GML properties in the 
definition of a annotated road feature type. 

<?xml version="1.0" encoding="windows-1252"?> 
<schema xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:gml="http://www.opengis.net/gml/3.2" 
xmlns:ann="http://www.opengis.net/annotations/1.0" 
xmlns:xmp="http://www.opengis.net/annotations/1.0/examples/example1" 
targetNamespace="http://www.opengis.net/annotations/1.0/examples/exampl
e1" elementFormDefault="qualified" version="1.0"> 
 <import namespace="http://www.opengis.net/gml/3.2" 
schemaLocation="../../../gml/3.2.1/gml.xsd"/> 
 <import namespace="http://www.opengis.net/annotations/1.0" 
schemaLocation="../ann.xsd"/> 
 
 <element name="RoadCollection" type="xmp:RoadCollectionType" 
substitutionGroup="gml:AbstractFeature"/> 
 <complexType name="RoadCollectionType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <element name="road" 
type="xmp:AnnotatedRoadPropertyType" minOccurs="0" 
maxOccurs="unbounded"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 29 
 

 <complexType name="RoadCollectionPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="xmp:RoadCollection"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attributeGroup ref="gml:OwnershipAttributeGroup"/> 
 </complexType> 
 <element name="AnnotatedRoad" type="xmp:AnnotatedRoadType" 
substitutionGroup="gml:AbstractFeature"/> 
 <complexType name="AnnotatedRoadType"> 
  <complexContent> 
   <extension base="gml:AbstractFeatureType"> 
    <sequence> 
     <!--Anchor--> 
     <element ref="ann:annotatedFeature" minOccurs="0"/> 
     <element ref="ann:location"/> 
     <element ref="ann:poi" minOccurs="0"/> 
     <element ref="ann:icon" minOccurs="0"/> 
     <element ref="ann:locationSym" minOccurs="0"/> 
     <!--Connector--> 
     <element ref="ann:connectorType" minOccurs="0"/> 
     <element ref="ann:connectorSym" minOccurs="0"/> 
     <!--Label--> 
     <element ref="ann:text" minOccurs="0"/> 
     <element ref="ann:image" minOccurs="0"/> 
     <element ref="ann:recommendedPos" minOccurs="0"/> 
     <element ref="ann:textSym" minOccurs="0"/> 
     <element ref="ann:imageSym" minOccurs="0"/> 
     <element name="position" type="gml:CurvePropertyType"/> 
     <element name="width" type="double"/> 
     <element name="name" type="string"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <complexType name="AnnotatedRoadPropertyType"> 
  <sequence minOccurs="0"> 
   <element ref="xmp:AnnotatedRoad"/> 
  </sequence> 
  <attributeGroup ref="gml:AssociationAttributeGroup"/> 
  <attributeGroup ref="gml:OwnershipAttributeGroup"/> 
 </complexType> 
</schema> 

 

A.5 GML features using annotation schema. 

This GML instance uses the previous application schema to define an annotated road 
feature. 



OGC 14-002 

30 Copyright © 2014 Open Geospatial Consortium. 
 

<my_srf:RoadCollection gml:id="ID_ROADS1" 
xmlns:my_srf="http://www.opengis.net/annotations/1.0/examples/example1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:gml="http://www.opengis.net/gml/3.2" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:ann="http://www.opengis.net/annotations/1.0" 
xsi:schemaLocation="http://www.opengis.net/gml/3.2 
../../../gml/3.2.1/gml.xsd http://www.opengis.net/annotations/1.0 
../ann.xsd http://www.opengis.net/annotations/1.0/examples/example1 
AnnotatedRoad.xsd"> 
 <my_srf:road> 
  <my_srf:AnnotatedRoad gml:id="ID_ROAD1"> 
   <ann:annotatedFeature xlink:href="other.xml#1234"/> 
   <ann:location> 
    <gml:LineString gml:id="ID_LINEROAD1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 
   </ann:location> 
   <ann:poi> 
    <gml:Point gml:id="ID_POIROAD1"> 
     <gml:pos>300 200</gml:pos> 
    </gml:Point> 
   </ann:poi> 
   <ann:icon xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.png"/> 
  
   <!--Connector-->  
   <ann:connectorType>arrow</ann:connectorType> 
    
   <!--Label-->   
   <ann:text>Annotation to the heaven</ann:text> 
   <ann:image xlink:href="http://www.diakonima.gr/wp-
content/uploads/2009/06/road_to_heaven_this_one1.jpg"/> 
   <ann:recommendedPos gml:id="POS1"> 
    <gml:pos>400 400</gml:pos> 
   </ann:recommendedPos> 
   <my_srf:position> 
    <gml:LineString gml:id="ID_ROADPOS1"> 
     <gml:pos>300 200</gml:pos> 
     <gml:pos>350 222</gml:pos> 
    </gml:LineString> 
   </my_srf:position> 
   <my_srf:width>4.1</my_srf:width> 
   <my_srf:name>M30</my_srf:name> 
  </my_srf:AnnotatedRoad> 
 </my_srf:road> 
</my_srf:RoadCollection> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 31 
 

Annex B 
 

KML annotation example 

B.1 General 

The mapping between the annotation abstract data model and KML is explained in 
Subsection 7.3. This Annex includes a full KML document that illustrates all the aspects 
of the model and honors the proposed structure for annotations in KML. The KML 
includes an anchor a connector and a label. It marks Barcelona city with a polygon 
(anchor) and icon (anchor), an arrow (connector), a text and a picture (label). 

B.2 KML annotation example 

This is a full KML example created during the OWS10 IE. 

<?xml version="1.0" encoding="UTF-8"?> 
<kml xmlns="http://www.opengis.net/kml/2.2" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:gx="http://www.google.com/kml/ext/2.2" 
xmlns:kml="http://www.opengis.net/kml/2.2" 
xmlns:atom="http://www.w3.org/2005/Atom" 
xsi:schemaLocation="http://www.opengis.net/kml/2.2 
schemas\2.2.0\ogckml22.xsd"> 
 <Document> 
  <name>Annotation example: Barcelona</name> 
  <Style id="anchor"> 
   <IconStyle> 
    <scale>1</scale> 
    <heading>0</heading> 
     <Icon>  
     <href>http://maps.google.com/mapfiles/kml/shapes/cross-
hairs_highlight.png</href>  
     </Icon>  
    <hotSpot x="20" y="20" xunits="pixels" yunits="pixels"/> 
   </IconStyle> 
   <LineStyle> 
    <color>ff00ff55</color> 
    <width>3</width> 
   </LineStyle> 
   <PolyStyle> 
    <color>ffffffff</color> 
    <fill>0</fill> 
   </PolyStyle> 
  </Style> 
  <Style id="connector"> 
   <LineStyle> 
    <color>ff0000ff</color> 
    <width>5</width> 



OGC 14-002 

32 Copyright © 2014 Open Geospatial Consortium. 
 

   </LineStyle> 
   <PolyStyle> 
    <color>ff0000ff</color> 
   </PolyStyle> 
  </Style> 
  <Style id="label"> 
   <IconStyle> 
    <scale>1</scale> 
    <heading>0</heading> 
     <Icon>  
     <href>http://maps.google.com/mapfiles/kml/pushpin/ylw-
pushpin.png</href>  
     </Icon>  
    <hotSpot x="20" y="2" xunits="pixels" yunits="pixels"/> 
   </IconStyle> 
   <LabelStyle> 
    <scale>1.6</scale> 
   </LabelStyle> 
  </Style> 
  <Folder id="ID_204"> 
   <name>Barcelona Annotation</name> 
   <open>0</open> 
   <atom:link href="http://metadata.usgs.gov/barcelona" 
rel="via"/> 
   <LookAt> 
    <longitude>2.30</longitude> 
    <latitude>41.35</latitude> 
    <tilt>0</tilt> 
    <range>35000</range> 
   </LookAt> 
   <Placemark> 
    <name>location</name> 
    <atom:link href="http://features.server.org/gml#id" 
rel="related"/> 
    <styleUrl>#anchor</styleUrl> 
    <Polygon> 
     <outerBoundaryIs> 
      <LinearRing> 
       <coordinates> 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 33 
 

        2.073639824519578,41.37452244462061,0 
2.05804577339133,41.35406278582955,0 
2.075388103255338,41.34712555059506,0 
2.107622294113374,41.3360311338853,0 
2.121911163609469,41.31652845586448,0 
2.152920003107866,41.28913819473688,0 
2.176382914536645,41.31381322978167,0 
2.176950008147636,41.3393838649064,0 
2.207216433538022,41.38450586742957,0 
2.232587379144657,41.41428095733288,0 
2.211479776812355,41.43005352266692,0 
2.202149839451644,41.44722711183467,0 
2.19158871068049,41.45406371124539,0 
2.149643194095574,41.43521126968913,0 
2.133102307936627,41.4133862970405,0 
2.104176167331617,41.38794227385851,0 
2.073639824519578,41.37452244462061,0  
       </coordinates> 
      </LinearRing> 
     </outerBoundaryIs> 
    </Polygon> 
   </Placemark> 
   <Placemark> 
    <styleUrl>#anchor</styleUrl> 
    <Point> 
    
 <coordinates>2.181361931153667,41.40640566656117,0</coordinates> 
    </Point> 
   </Placemark> 
   <Placemark> 
    <name>Connector</name> 
    <styleUrl>#connector</styleUrl> 
    <LineString> 
     <tessellate>1</tessellate> 
     <coordinates> 
      2.389738560344565,41.44643286255504,0 
2.281305678929304,41.44567833933932,0 
2.181361931153667,41.40640566656117,0  
     </coordinates> 
    </LineString> 
   </Placemark> 
   <Placemark> 
    <name>ConnectorArrowCap</name> 
    <styleUrl>#connector</styleUrl> 
    <Polygon> 
     <outerBoundaryIs> 
      <LinearRing> 
       <coordinates> 
 2.181361931153667,41.40640566656117,0 
2.190231576991641,41.4180151568839,0 
2.198322244853606,41.40420441241492,0 
2.181361931153667,41.40640566656117,0  
       </coordinates> 
      </LinearRing> 
     </outerBoundaryIs> 
    </Polygon> 



OGC 14-002 

34 Copyright © 2014 Open Geospatial Consortium. 
 

   </Placemark> 
   <Placemark> 
    <name>Barcelona</name> 
    <styleUrl>#label</styleUrl> 
    <Point> 
    
 <coordinates>2.389738560344565,41.44643286255504,0</coordinates> 
    </Point> 
   </Placemark> 
   <GroundOverlay> 
    <name>Modernisme</name> 
    <Icon> 
     <href>barcelona-spain.jpg</href> 
     <viewBoundScale>0.75</viewBoundScale> 
    </Icon> 
    <LatLonBox> 
     <north>41.4350345631495</north> 
     <south>41.37804251097081</south> 
     <east>2.516908862505561</east> 
     <west>2.401215711019699</west> 
    </LatLonBox> 
   </GroundOverlay> 
  </Folder> 
 </Document> 
</kml> 

 



OGC 14-002 

Copyright © 2014 Open Geospatial Consortium. 35 
 

Bibliography 

[1] OGC 01-019 XML for Image and Map Annotations (XIMA) discussion paper, 
http://portal.opengeospatial.org/files/?artifact_id=1020 

[2] OGC 05-047r3 GML in JPEG 2000 for Geographic Imagery Encoding 
Specification, http://portal.opengeospatial.org/files/?artifact_id=13252 

[3] OGC 07-036 GML Default Styling, GML 3.2.1 AnnexH, 
http://portal.opengeospatial.org/files/?artifact_id=20509 

[4] SVG specification (W3C website) http://www.w3.org/Graphics/SVG/ 

[5] OGC 07-147r2 KML v 2.2, 
http://portal.opengeospatial.org/files/?artifact_id=27810 

[6] OGC 05-077r4 Symbology Encoding v 1.1, 
http://portal.opengeospatial.org/files/?artifact_id=16700 

[7] Open Annotation Data Model, Community Draft, 08 February 2013, 
http://www.openannotation.org/spec/core/ 

 


