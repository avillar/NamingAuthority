
05-027r1 Image CRSs Paper.doc
OGC 05-027

OGC 05-027



Open Geospatial Consortium Inc.

Date: 2005-04-14

Reference number of this OGC™ document: OGC 05-027r1

Version: 1.1.0

Category: OGC™ Recommendation Paper

Editor: Arliss Whiteside

Recommended XML/GML 3.1.1 encoding 
of image CRS definitions 

Copyright © Open Geospatial Consortium (2005)

Document type: 

OGC™ Recommendation Paper

Document subtype: 
(none)

Document stage: 
Expanded Recommendation Paper

Document language:
English

Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.


Contents
Page

vi.
Preface


ii.
Document contributor contact points
v

iii.
Revision history
vi

iv.
Changes to the OGC Abstract Specification
vi

v.
Future work
vi

Foreword
vii

Introduction
viii

1
Scope
1

2
Conformance
1

3
Normative references
1

4
Terms and definitions
3

5
Conventions
3

5.1
Symbols (and abbreviated terms)
3

5.2
UML Notation
4

5.3
Document terms and definitions
4

6
Unrectified image coordinate reference systems
4

6.1
Overview
4

6.2
Simple UML model
5

6.3
Full XML document template
6

6.4
Recommended simple XML document template
8

6.5
Full UML model
9

7
Georectified image coordinate reference systems
10

7.1
Overview
10

7.2
Simple UML model
11

7.3
Full XML document template
12

7.4
Recommended simple XML document template
17

7.5
Full UML model
20

8
Coordinate transformations
22

8.1
Introduction
22

8.2
Simple UML model
22

8.3
XML document example templates
23

8.3.1
Image georeferencing Transformation full template
23

8.3.2
Image georeferencing Transformation recommended simple template
24

8.3.3
Grid elevation model Transformation full template
25

8.3.4
Grid elevation model Transformation recommended simple template
26

8.3.5
Concatenated operation full template
27

8.3.6
Concatenated operation recommended simple template
29

8.3.7
XML schema fragment
30

8.4
Full UML model
30

9
Standard URNs and XML definitions
32

9.1
Overview
32

9.2
Image CRSs with origin in centre of first pixel
32

9.3
Image CRSs with origin in corner of first pixel
34

9.4
Grid 2D square coordinate system
35

9.5
Row coordinate axis
36

9.6
Column coordinate axis
37

9.7
Image datum at pixel center
37

9.8
Image datum at pixel corner
38

9.9
Grid spacing unit of measure
39

10
Supporting information
39

Annex A (informative)  Application schema examples
40

A.1
Introduction
40

A.2
Extended operation parameter definition
40

A.2.1
Introduction
40

A.2.2
UML package
40

A.2.3
Application schema
41

A.2.4
Standard contents of parameterType
43

A.2.5
Example XML document
48

A.3
Universal image geometry model transformation
49

A.3.1
Introduction
49

A.3.2
UML package
50

A.3.3
Application schemas
56

A.3.4
Example XML documents
71

Annex B (informative)  Image coordinate operation methods
84

B.1
Introduction
84

B.2
Ground-to-image transformations
84

B.3
Elevation coverage for 2D to 3D coordinate transformation
84

B.4
Single-image-to-ground transformations
84

B.5
Elevation coverage with single-image-to-ground transformation
85

Bibliography
86


 

Figures
Page

5Figure 1— ImageCRS simple UML class diagram


Figure 2 — ImageCRS full UML class diagram
10

Figure 3 — DerivedCRS simple UML class diagram
12

Figure 4 — DerivedCRS full UML class diagram
21

Figure 5 — Transformation and ConcatenatedOperation simple class diagram
22

Figure 6 — Transformation and ConcatenatedOperation full UML class diagram
31

Figure A.1 — UML package for Extended Operation Method
41

Figure A.3 — UML package for UIGM transformation, page 1
51

Figure A.3 — UML package for UIGM transformation, page 2
52

Figure A.5 — UML package for UIGM transformation, page 3
53

Figure A.6 — UML package for UIGM transformation, page 4
54

Figure A.7 — UML package for UIGM transformation, page 5
55


Tables
Page

32Table 1 — Standard URNs for unrectified images CRSs



i. 
Preface


This expanded OGC™ Recommendation Paper specifies XML encoding of data defining image coordinate reference systems and coordinate operations. The previous version was limited to CRSs for individual (monoscopic) unrectified images. This extension also covers georectified images. This paper might be expanded in the future to also cover stereoscopic images.

This expanded paper adapts more the parts of [OGC 05-014], titled Image CRSs for IH4DS.

Many key contents of this paper are provided in the attached set of files, in the same zip file. These files include the:


a) Example XML documents included and XML Schemas referenced in Clause 6 “Unrectified image coordinate reference systems”, Clause 7 “Georectified image coordinate reference systems”, and Clause 8 “Coordinate transformations”

b) Standard definitions encoded in XML in Clause 9 “Standard URNs and XML definitions”


c) Example Application Schemas and XML documents in Annex A "Application schema examples".


The changes made in this document version, relative to the previous version, are tracked by Microsoft Word, and can be viewed if desired. If you choose to submit suggested changes by editing this document, please first accept all the current changes, and then make your suggested changes with change tracking on.


ii. Document contributor contact points


All questions regarding this document should be directed to the editor or the contributors:


		Person

		Company

		Address

		Phone

		Email



		Arliss Whiteside

		BAE SYSTEMS National Security Solutions

		10920 Technology Dr. 
San Diego, CA 
92127-1874 USA

		+1 858-592-1608

		Arliss.Whiteside@baesystems.com



		

		

		

		

		





iii. Revision history


		Date

		Release

		Editor

		Primary clauses modified

		Description



		2004-12-09

		0.0.0

		Arliss Whiteside

		All

		Initial version



		2005-01-28

		1.0.0

		Arliss Whiteside

		Cover, i

		Edited as approved Recommendation Paper



		2005-03-08

		1.0.1

		Arliss Whiteside

		7, 8

		Added new Clauses 7 and 8



		2005-04-14

		1.1.0

		Arliss Whiteside

		Cover, i, 7.2, 8.3

		Edited as approved Recommendation Paper





iv. Changes to the OGC Abstract Specification


The OGC™ Abstract Specification does not require changes to accommodate the technical contents of this document.


v. Future work


Improvements of this document are needed to:


d) Modify XML schemas to reflect recent changes in the Topic 2 UML model [OGC 04-046r3]

e) Specify standard XML encodings of some well-known operation methods, coordinate operations, CRSs, units, etc., and specify URNs to reference them

Foreword


This OGC™ Recommendation Paper expands and supersedes previous OGC Recommendation Paper numbered 05-012, also titled "Recommended XML/GML3.1.1 encoding of image CRS definitions". This document is based on the GML 3.1.1 OGC Recommendation Paper [04-092r4]. This document uses XML Schemas as specified by the W3C.


This document contains two informative annexes.

Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.


Introduction


This document recommends standard XML encodings of data defining monoscopic image coordinate reference systems. The scope of this encoding now includes unrectified and georectified images. The recommended CRSs for georectified images are recommended for multiple georectified images that are ready to be mosaicked together.


These recommended encodings are based on GML 3.1.1 and use XML Schemas. These image CRS definitions will often be referenced in data transferred between client and server software that implements various standardised interfaces. This specified definition data encoding is expected to be used by multiple OGC Implementation Specifications. That is, each of these specifications is expected to use a subset and/or superset of this recommended definition data.


The position or location of a point can be described using coordinates. Such coordinates are unambiguous only when the coordinate reference system on which those coordinates are based is fully defined. Each position is described by a set of coordinates based on a specified coordinate reference system. Coordinates are often used in datasets in which all coordinates belong to the same coordinate reference system. This paper specifies XML encoding of data defining image coordinate reference systems.


Recommended XML/GML 3.1.1 encoding of image CRS definitions

1 Scope


This OGC™ Recommendation Paper specifies standard XML encodings of definition data for monoscopic image coordinate reference systems and coordinate operations. These recommended encodings are based on GML 3.1.1 and use XML Schemas. This encoding is intended for use when referencing or transferring such definition data between client and server software that uses OGC standard interfaces, as specified in other documents. The expected uses of this definition data transfer include those described in Annex B of document [OGC 05-011].


The scope of this encoding now includes unrectified and georectified images. The recommended CRSs for georectified images are recommended for multiple georectified images that are ready to be mosaicked together. The current scope of this encoding does not include stereoscopic (multiple) images exploited together.

This Recommendation Paper specifies standard XML encodings of image CRS definition data applicable to multiple separate OGC interface Implementation Specifications. Each such Implementation Specification should specify one or more subsets and/or supersets of the definition data specified herein, each to be used for one or more purposes. That is, for each operation specified, the Implementation Specification should specify which specific image CRSs should be supported.


This document also defines a Profile of GML 3.1.1 for unrectified image CRSs. That profile includes all the elements and types in all the XML Schema fragments listed herein. That profile omits essentially all the CRS-related GML 3.1.1 elements and types not discussed in this document.


2 Conformance


Conformance with this specification shall be checked using all the relevant tests specified in each separate specification that normatively references this specification, and specifically references the applicable parts of this specification.


3 Normative references

The following normative documents contain provisions which, through reference in this text, constitute provisions of this specification. For dated references, subsequent amendments to, or revisions of, any of these publications do not apply. For undated references, the latest edition of the normative document referred to applies.


IETF RFC 2141 (May 1997), URN Syntax, R. Moats <http://www.ietf.org/rfc/rfc2141.txt>


IETF RFC 2396 (August 1998), Uniform Resource Identifiers (URI): Generic Syntax, Berners-Lee, T., Fielding, N., and Masinter, L., eds., <http://www.ietf.org/rfc/rfc2396.txt>


ISO 8601, Data elements and interchange formats - Information interchange Representation of dates and times

ISO 19105:2000, Geographic information — Conformance and Testing

ISO 19109:2004, Geographic Information – Rules for Application Schemas

ISO 19115:2003, Geographic information — Metadata

OGC 99-107, OGC Abstract Specification Topic 7: The Earth Imagery Case, old version


OGC 04-046r3, The OpenGIS Abstract Specification, Topic 2: Spatial referencing by coordinates

OGC 04-092r4, Geography Markup Language (GML) version 3.1.1 schemas (draft)

OGC 05-008, OGC Web Services Common Specification

OGC 05-010, URNs of definitions in ogc namespace

OGC 05-011, Recommended XML/GML 3.1.1 encoding of common CRS definitions

W3C Recommendation 6 October 2000, Extensible Markup Language (XML) 1.0 (Second Edition), http://www.w3.org/TR/REC-xml


W3C Recommendation 2 May 2001: XML Schema Part 0: Primer, http://www.w3.org/TR/2001/REC-xmlschema-0-20010502/

W3C Recommendation 2 May 2001: XML Schema Part 1: Structures, http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/

W3C Recommendation 2 May 2001: XML Schema Part 2: Datatypes, http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/

In addition to this document, this Recommendation Paper includes several normative XML Schema files and XML documents. After this document is approved, these files will be posted online at the URL http://schemas.opengeospatial.net/ImageCRSs/1.1.0. These XML Schema files are also bundled with the present document. In the event of a discrepancy between the bundled and online versions of the XML Schema files, the online files shall be considered authoritative.


4 Terms and definitions


For the purposes of this specification, many of the definitions specified in Clauses 4 of the OGC Abstract Specification Topic 2 [04-046r3] and OWS Common Specification [OGC 05-008] shall apply. In addition, the following terms and definitions apply.


Application Schema


conceptual schema for data required by one or more applications [ISO 19101]


GML Application Schema


an XML Schema written according to the GML 3 rules for Application Schemas, which defines a vocabulary of geographic objects for a particular domain of discourse [GML 3.0]


object


an XML document element of a type derived from AbstractGMLType [GML 3.0]


profile


specified logical subset of XML Schema specified elements and types, defined to enhance interoperability and to curtail ambiguity [adapted from GML 3.0]


sequence


finite, ordered collection of related items (objects or values) that may be repeated [ISO 19107]

set


unordered collection of related items (objects or values) with no repetition [ISO 19107]


Uniform Resource Identifier (URI) 


simple and extensible means for identifying a resource; a short string or address; classified as a name, a locator, or both [RFC 2396]


5 Conventions


5.1 Symbols (and abbreviated terms)


CRS
Coordinate Reference System


GML
Geography Markup Language


IETF
Internet Engineering Task Force


ISO
International Organization for Standardization


OGC
Open Geospatial Consortium


OWS
OGC Web Service, or Open Web Service


TBD
To Be Determined


TBR
To Be Reviewed


UML
Unified Modeling Language


URI
Universal Resource Identifier


URL
Uniform Resource Locator


URN
Universal Resource Name


XML
eXtensible Markup Language


1D
One Dimensional


2D
Two Dimensional


3D
Three Dimensional


5.2 UML Notation


All diagrams in this document are Unified Modeling Language (UML) class diagrams, as described in Subclause 5.2 of [OGC 05-008].


5.3 Document terms and definitions


This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008].


6 Unrectified image coordinate reference systems


6.1 Overview


The definition of the CRS of each unrectified image shall be represented by the SC_ImageCRS class in the UML model in Topic 2. (This SC_ImageCRS class is clearly the best alternative for modelling the CRS of each unrectified image.) The definition of this class shall be XML encoded using the CRS portion of GML 3.1.1.


This CRS of each unrectified image shall be identified as the CRS of feature geometries measured or computed in that unrectified image. This CRS will also be used for identification of the georeferencing coordinate transformations discussed in Subclause 7.2.2.1 of the “WCTS profile for unrectified images” [draft].


NOTE 
An unrectified image is usually georeferenced to a 3D CRS that represents positions relative to the earth (or other planet or moon). That 3D CRS can be represented by a 3D GeographicCRS, GeocentricCRS, or CompoundCRS in the UML model in Topic 2. Such a CompoundCRS combines a (2D) ProjectedCRS with a (1D) VerticalCRS.

This clause specifies how to define the CRS-related objects for unrectified images. These definitions are usually not required to be transferred between servers and clients. However, these definitions shall be used in defining georeferencing coordinate transformations, and shall be referenced by those coordinate transformation definitions.


References to these CRSs shall be in the form of the anyURI type specified by XML Schema. As specified in Subclause 10.3 of [05-008], such an anyURI value can be either a URL with standard form or a URN in the “ogc” URN namespace.


6.2 Simple UML model


Figure 1 is a simplified UML class diagram extracted from Topic 2 that shows all the concrete (non-abstract) object classes and associations related to the SC_ImageCRS class. To keep this diagram simple, none of the class attributes are displayed. This diagram shows that the SC_ImageCRS class can use either a CS_CartesianCS or CS_AffineCS, but a CS_AffineCS is rarely used and is not required by this WCTS profile.


    {XOR}


Rarely used


CD_ImageDatum


(from CD_Datum)


CS_CartesianCS


(from CS_CoordinateSystem)


CS_CoordinateSystemAxis


(from CS_CoordinateSystem)


2


0..*


+usesAxis2


0..*


SC_ImageCRS


(from SC_CoordinateReferenceSystem)


0..*


1


0..*


+usesDatum


1


0..1


0..*


+usesCartesianCS


0..1


0..*


CS_AffineCS


(from CS_CoordinateSystem)


2


0..*


+usesAxis2


0..*


0..1


0..*0..*


0..1


+usesAffineCS




Figure 1— ImageCRS simple UML class diagram


Notice that the ImageCRS class does NOT include or reference any coordinate Transformations or operations which can be used to georeference this image. However, the coordinate Transformations or operations available to georeference an unrectified image can be saved with that image. These transformations must reference or include the SC_ImageCRS used for that unrectified image.

6.3 Full XML document template


An example template XML document completely defining an ImageCRS is:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentImageCRSs.xsd" gml:id="ImageTBDCRSpixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<srsName>Image TBD CRS pixel centers</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpixelCenter</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS>




<CartesianCS gml:id="Grid2dSquareCS">





<csName>2D square-cell grid based coordinate system</csName>





<csID>





<name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name>





</csID>





<remarks>A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 


In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.


The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.


If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 


The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. </remarks>





<usesAxis>






<CoordinateSystemAxis gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid row axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name>







</axisID>







<remarks>For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. </remarks>







<axisAbbrev>R</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>





<usesAxis>






<CoordinateSystemAxis gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid column axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name>







</axisID>







<remarks>For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. </remarks>







<axisAbbrev>C</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>




</CartesianCS>



</usesCartesianCS>



<usesImageDatum>




<ImageDatum gml:id="ImageDatumPixelCenter">





<datumName>Origin at center of first pixel</datumName>





<datumID>






<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name>





</datumID>





<remarks>A 2D image datum with the origin at the center of the first pixel in the image file. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>





<anchorPoint>center of first pixel</anchorPoint>





<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell>




</ImageDatum>



</usesImageDatum>


</ImageCRS>

6.4 Recommended simple XML document template


The above template XML document can be simplified by referencing the standard XML documents specified in Clause 8, becoming:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentImageCRSs.xsd" gml:id="ImageTBDCRSpixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 -->



<srsName>Image TBD CRS pixel centers</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpixelCenter</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/>


</ImageCRS>

This simplified template XML document is recommended for use in defining the CRSs of unrectified images. Of course, the included XML comments and <remarks> elements can be removed or edited.

The corresponding GML 3.1.1 XML Schema fragment for defining an ImageCRS is attached in the file fragmentImageCRSs.xsd.


6.5 Full UML model


Figure 2 is a more complete UML class diagram extracted from Topic 2 that shows essentially all the classes and associations related to the SC_ImageCRS class. 


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier


+ alias [0..*] : GenericName


+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


RS_ReferenceSystem


+ name : RS_Identifier


+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


SC_CRS


+ scope [0..*] : CharacterString


(from SC_CoordinateReferenceSystem)


<<Abstract>>


EX_Extent


(from EX_Extent)


<<DataType>>


MD_Identifier


+ authority [0..1] : CI_Citation


+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString


+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


IO_IdentifiedObject


+ name : RS_Identifier


(from IO_IdentifiedObject)


<<Abstract>>


CS_RangeMeaning


+ exact


+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>


CS_AxisDirection


+ columnNegative


+ columnPositive


+ rowNegative


+ rowPositive


(from CS_CoordinateSystem)


<<CodeList>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString


+ axisDirection : CS_AxisDirection


+ axisUnitID : UnitOfMeasure


+ minimumValue [0..1] : Number


+ maximumValue [0..1] : Number


+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem


(from CS_CoordinateSystem)


<<Abstract>>


0..*


0..*


+usesAxis


0..*


{ordered}


0..*


CD_Datum


+ anchorPoint [0..1] : CharacterString


+ realizationEpoch [0..1] : Date


+ domainOfValidity [0..1] : EX_Extent


+ scope [0..*] : CharacterString


(from CD_Datum)


<<Abstract>>


CD_PixelInCell


+ cellCenter


+ cellCorner


(from CD_Datum)


<<CodeList>>


Defined in 


ISO 19115


    {XOR}


SC_SingleCRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


CD_ImageDatum


+ pixelinCell : CD_PixelinCell


(from CD_Datum)


CS_CartesianCS


(from CS_CoordinateSystem)


CS_AffineCS


(from CS_CoordinateSystem)


SC_ImageCRS


(from SC_CoordinateReferenceSystem)


0..*


1


0..*


+usesDatum


1


0..1


0..*


+usesCartesianCS0..1


0..*


0..10..*


+usesAffineCS


0..10..*




Figure 2 — ImageCRS full UML class diagram


7 Georectified image coordinate reference systems


7.1 Overview


The definition of the CRSs used for multiple georectified images should be represented by the SC_DerivedCRS class in the UML model in Topic 2. This SC_DerivedCRS class is not the only alternative for representing the definition of the CRS of a georectified image, but is recommended when multiple georectified images do or should use the same image CRS. Multiple georectified images must use the same CRS, or closely related CRSs, when those georectified images are directly ready for image mosaicking.


To support image mosaicking, these georectified images must use exactly the same pixel positions wherever they (do or might) overlap. This means that the grids must have the same baseCRSs, grid point spacings in that CRS, and grid rotation in that CRS. When different origins are used, these origins must be grid points in the same SC_DerivedCRS.

This CRS for a georectified image should be identified as the CRS of feature geometries measured or computed in that georectified image. This CRS should also be used for identification of the georeferencing coordinate transformations discussed in Subclause 7.2.2.1 of the “WCTS profile for unrectified images” [draft].


NOTE 1
The gml:RectifiedGrid element in grids.xsd specifies the locations of a grid of points in a base or external coordinate reference system (CRS). The relationship between those grid points and the image pixels is largely defined by gml:coverageFunction. However, a gml: _Coverage is not a CRS, so does not define a CRS suitable for positions that are measured or computed in that georectified image. Also, it does not define a CRS that can be used as the sourceCRS or TargetCRS of a coordinate Transformation.

The definition of this class shall be XML encoded using the CRS portion of GML 3.1.1. The baseCRS of a georectified image SC_DerivedCRS is 2D and is usually either a GeographicCRS or a ProjectedCRS. The usesCS Coordinate System of a georectified image SC_DerivedCRS specifies a 2D grid of positions, with integer coordinate values designating grid point indices. The definedByConversion of a georectified image SC_DerivedCRS specifies the grid origin, grid spacing, and any rotation in the base CRS.

NOTE 2
Non-integer values of coordinates in the usesCS Coordinate System specify positions between the grid points.


This clause specifies how to define these CRS objects for georectified images. These definitions are usually not required to be transferred between servers and clients. However, these definitions shall be used in defining the definedByConversion and georeferencing coordinate transformations, and shall be referenced by those coordinate transformation definitions.


References to these CRSs shall be in the form of the anyURI type specified by XML Schema. As specified in Subclause 10.3 of [05-008], such an anyURI value can be either a URL with standard form or a URN in the “ogc” URN namespace.


7.2 Simple UML model


Figure 3 is a simplified UML class diagram extracted from Topic 2 that shows all the concrete (non-abstract) object classes and associations related to the SC_DerivedCRS class when used for a georectified image. To keep this diagram simple, none of the class attributes are displayed. This diagram shows that the SC_DerivedCRS class can use as its baseCRS either a SC_GeographicCRS or SC_ProjectedCRS. The CC_Conversion class is detailed in Subclause 6.4, the SC_GeographicCRS class is detailed in Subclause 6.2, and the SC_ProjectedCRS class is detailed in Subclause 6.3, all in [OGC 05-011].

SC_DerivedCRSType


(from SC_CoordinateReferenceSystem)


<<CodeList>>


CS_CartesianCS


(from CS_CoordinateSystem)


CS_CoordinateSystemAxis


(from CS_CoordinateSystem)


2


0..*


+usesAxis


0..*


2


SC_GeographicCRS


(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS


(from SC_CoordinateReferenceSystem)


1


0..*


+base


CRS


1


0..*


    {XOR}


SC_DerivedCRS


(from SC_CoordinateReferenceSystem)


1


0..*


+usesCartesianCS


1


0..*


0..1


0..*


+baseCRS


0..1


0..1


0..*


+baseCRS


0..1


CC_Conversion


(from CC_CoordinateOperation)


1


0..*


+definedBy


Conversion


1


0..*


0..*0..*




Figure 3 — DerivedCRS simple UML class diagram


Notice that this SC_DerivedCRS class does NOT include or reference any coordinate Transformations or operations which could be used to georeference the original image that was georectified. However, the coordinate Transformations and operations used to georeference and georectify the original image should be saved with the georectified image. One of these transformations must reference or include the SC_DerivedCRS used for that georectified image.

NOTE 
The image georectification process must use a georeferencing coordinate Transformation (or ConcatenatedOperation). That georeferencing Transformation must have the unrectified image CRS (ImageCRS) as its source (or target) CRS. That georeferencing Transformation could have the georectified image CRS (DerivedCRS) as its target (or source) CRS; in this case, the definedByConversion is not used to perform the georectification. Alternately, that georeferencing Transformation could have the (GeographicCRS or ProjectedCRS) baseCRS of the georectified image CRS (DerivedCRS) as its target (or source) CRS; in this case (discussed in Clause 8), the definedByConversion must also be used to perform the georectification. There are probably other useful alternatives.

7.3 Full XML document template


An example template XML document completely defining a DerivedCRS for a georectified image is:


<?xml version="1.0" encoding="UTF-8"?>


<DerivedCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml


fragmentGeorectifiedGridCRSs.xsd" gml:id="GeorectifiedImageXXXXCRS">



<!-- Specific georectified image or grid must be identified in this gml:id.  -->



<!-- Last updated 2005-03-08 -->



<!-- ========================================================== -->



<srsName>Georectified Image XXXX CRS</srsName>



<!-- Specific georectified image or grid must be identified in srsName. -->



<srsID>




<name codeSpace="urn:opengis:def:crs:OGC:0.20:GeorectifiedImageXXXXCRS">GeorectifiedImageXXXXCRS</name>




<!-- Specific image must be identified in "name" value. -->



</srsID>



<remarks>Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. </remarks>



<baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/>



<!-- Specific 2D CRS that was georectified into must be identified in baseCRS, usually a ProjectedCRS or GeographicCRS -->



<!-- ================================================= -->



<definedByConversion>




<Conversion gml:id="GeorectifiedImageXXXXConversion">





<!-- Specific georectified image or grid must be identified in this gml:id. -->





<coordinateOperationName>Georectified image XXXX conversion</coordinateOperationName>





<!-- Specific image must be identified in this coordinateOperationName. -->





<usesMethod>






<OperationMethod gml:id="EPSG9624">







<methodName>Affine general parametric transformation</methodName>







<methodID>








<name codeSpace="urn:opengis:method:EPSG:6.3:">9624</name>







</methodID>







<methodFormula>


XT   =  A0  +  A1. XS  +  A2.YS; 


YT   =  B0  +  B1. XS  +  B2.YS; 


where XT , YT  are the coordinates of a point P in the target coordinate system; 




XS , YS  are the coordinates of P in the source coordinate system. 


Reversibility: The parameter values for an affine transformation cannot be used for the reverse transformation. However, the reverse transformation is another affine transformation using the same formulas but with different parameter values. The reverse parameter values, indicated by a prime ('), can be calculated from those of the forward transformation as follows:


D    = A1 . B2   -   A2 . B1; 


A0' = (A2 . B0   -   B2 . A0) / D; 


B0' = (B1 . A0   -   A1 . B0) / D; 


A1' = +B2 / D; 


A2' = - A2 / D; 


B1' = - B1 / D; 


B2' = +A1 / D. 


See Section 2.4.2.1 of EPSG Guidance Note 7. </methodFormula>







<sourceDimensions>2</sourceDimensions>







<targetDimensions>2</targetDimensions>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8623">









<parameterName>A0</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8623</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8624">









<parameterName>A1</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8624</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8625">









<parameterName>A2</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8625</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8639">









<parameterName>B0</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8639</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8640">









<parameterName>B1</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8640</name>









</parameterID>








</OperationParameter>







</usesParameter>







<!-- =============================================== -->







<usesParameter>








<OperationParameter gml:id="EPSG8641">









<parameterName>B2</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8641</name>









</parameterID>








</OperationParameter>







</usesParameter>






</OperationMethod>





</usesMethod>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.










The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.










The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/>





</usesValue>




</Conversion>



</definedByConversion>



<!-- ================================================ -->



<derivedCRSType codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType>



<!-- ================================================ -->



<usesCS>




<CartesianCS gml:id="Grid2dSquareCS">





<csName>2D square-cell grid based coordinate system</csName>





<csID>






<name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name>





</csID>





<remarks>A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 


In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.


The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.


If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 


The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. </remarks>





<usesAxis>






<CoordinateSystemAxis gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid row axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name>







</axisID>







<remarks>For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. </remarks>







<axisAbbrev>R</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>





<usesAxis>






<CoordinateSystemAxis gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">







<name>Grid column axis</name>







<axisID>








<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name>







</axisID>







<remarks>For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. </remarks>







<axisAbbrev>C</axisAbbrev>







<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axisDirection>






</CoordinateSystemAxis>





</usesAxis>




</CartesianCS>



</usesCS>


</DerivedCRS>

The above template XML document uses the operation Method catalogued by EPSG using code 9624, because that EPSG method seems closest to the desired Method. However, various other operation Methods could be used, including Methods specified by the OGC. For example, one or more operation Methods could be defined that use parts of the gml:RectifiedGrid element as operation Parameters.

7.4 Recommended simple XML document template


The above example template XML document can be simplified by referencing the standard XML documents specified in Clause 9, and referencing the EPSG 9624 Operation Method, becoming:


<?xml version="1.0" encoding="UTF-8"?>


<DerivedCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml


fragmentGeorectifiedGridCRSs.xsd" gml:id="GeorectifiedImageXXXXCRS">



<!-- Specific georectified image or grid must be identified in this gml:id.  -->



<!-- Last updated 2005-03-08 -->



<!-- ========================================================== -->



<srsName>Georectified Image XXXX CRS</srsName>



<!-- Specific georectified image or grid must be identified in srsName. -->



<srsID>




<name codeSpace="urn:opengis:def:crs:OGC:0.:GeorectifiedImageCRS">GeorectifiedImageXXXXCRS</name>




<!-- Specific image must be identified in "name" value. -->



</srsID>



<remarks>Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. </remarks>



<baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/>



<!-- Specific 2D CRS that was georectified into must be identified in baseCRS, usually a ProjectedCRS or GeographicCRS -->



<!-- ================================================= -->



<definedByConversion>




<Conversion gml:id="GeorectifiedImageXXXXConversion">





<!-- Specific georectified image or grid must be identified in this gml:id. -->





<coordinateOperationName>Georectified image XXXX conversion</coordinateOperationName>





<!-- Specific image must be identified in this coordinateOperationName. -->





<usesMethod xlink:href="urn:opengis:method:EPSG:6.3:9624"/>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted. The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted.










The value of this parameter is often 0.0. -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/>





</usesValue>





<!-- ============================================ -->





<usesValue>






<value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value>






<!-- Specific uom code and parameter value must be inserted -->






<valueOfParameter xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/>





</usesValue>




</Conversion>



</definedByConversion>



<!-- ================================================ -->



<derivedCRSType codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType>



<usesCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>


</DerivedCRS>

This simplified template XML document is recommended for use in defining the CRSs of georectified images. Of course, the OperationMethod can be changed, and the included XML comments and <remarks> elements can be removed or edited.

The corresponding GML 3.1.1 XML Schema fragment for defining a DerivedCRS for a georectified image is attached in the file fragmentGeorectifiedImageCRSs.xsd. An example XML document defining the EPSG 9624 Operation Method is also attached.

7.5 Full UML model


Figure 4 is a more complete UML class diagram extracted from Topic 2 that shows essentially all the classes and associations related to the SC_DerivedCRS class. Again, the CC_Conversion class is detailed in Subclause 6.4, the SC_GeographicCRS class is detailed in Subclause 6.2, and the SC_ProjectedCRS class is detailed in Subclause 6.3, all in [OGC 05-011]

0..*


SC_DerivedCRSType


+ geographic


+ vertical


+ geocentric


+ engineering


+ image


+ temporal


(from SC_CoordinateReferenceSystem)


<<CodeList>>


RS_ReferenceSystem


+ name : RS_Identifier


+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


(derived)


SC_CRS


+ scope [0..*] : CharacterString


(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeneralDerivedCRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_Conversion


(from CC_CoordinateOperation)


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier


+ alias [0..*] : GenericName


+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


SC_SingleCRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeographicCRS


(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS


(from SC_CoordinateReferenceSystem)


0..*


+definedBy


Conversion


1


0..*


1


+base


CRS


1


0..*


1


0..*


MD_Identifier


+ authority [0..1] : CI_Citation


+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString


+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


EX_Extent


(from EX_Extent)


<<DataType>>


Defined in 


ISO 19115


CS_AxisDirection


+ east


+ north


+ south


+ west


(from CS_CoordinateSystem)


<<CodeList>>


CS_RangeMeaning


+ exact


+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>


IO_IdentifiedObject


+ name : RS_Identifier


(from IO_IdentifiedObject)


<<Abstract>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString


+ axisDirection : CS_AxisDirection


+ axisUnitID : UnitOfMeasure


+ minimumValue [0..1] : Number


+ maximumValue [0..1] : Number


+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem


(from CS_CoordinateSystem)


<<Abstract>>


CS_CartesianCS


(from CS_CoordinateSystem)


+usesAxis


0..*


{ordered}


0..*


0..*


0..*


SC_DerivedCRS


+ derivedCRSType : SC_DerivedCRSType


(from SC_CoordinateReferenceSystem)


1


0..*


+base


CRS


1


1


0..*


+usesCS1


0..*




Figure 4 — DerivedCRS full UML class diagram


8 Coordinate transformations


8.1 Introduction


An unrectified image can be georeferenced by at least one coordinate transformation, between the CRS of the unrectified image and a reference CRS for positions relative to the earth (or other planet or moon). This georeferencing coordinate transformation can be represented by a coordinate Transformation in the UML model in Topic 2. A frequent alternative to using one Transformation is using a ConcatenatedOperation that sequentially combines two or more Transformations.


The reference CRS is usually 3D, while the unrectified image is only 2D. The georeferencing coordinate transformation is thus assumed to be from the reference 3D CRS to the 2D image CRS. If the reference CRS is 2D, that would be equivalent to combining the georeferencing coordinate transformation with the elevation model coordinate transformation discussed later in this clause.


8.2 Simple UML model


Figure 5 is a simplified UML class diagram extracted from Topic 2 for a CC_Transformation and CC_ConcatenatedOperation. This diagram shows most of the concrete (non-abstract) classes and associations related to the CC_Transformation and CC_ConcatenatedOperation classes, except for the CC_ParameterValueGroup and CC_OperationParameterGroup classes. The CC_ParameterValueGroup and CC_OperationParameterGroup classes are not always useful, but are useful for some operation methods used for image geometry models. 


(ordered)


CC_ConcatenatedOperation


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_Transformation


(from CC_CoordinateOperation)


2..*0..*


+useOperation


2..*0..*


0..*


1


+usesValue


0..*


1


CC_OperationParameter


(from CC_CoordinateOperation)


0..*


1


0..*


+valueOfParameter


1


CC_OperationMethod


(from CC_CoordinateOperation)


1


0..*


+usesMethod1


0..*


0..*


0..*


+usesParameter


0..*


0..*




Figure 5 — Transformation and ConcatenatedOperation simple class diagram


To keep this diagram simple, none of the class attributes are displayed. The CC_ConcatenatedOperation class can also have usesOperation associations to the CC_Conversion class, with each associated object of CC_Conversion class substituting for an object of CC_Transformation class in this UML model.


This simplified UML diagram does not include the two associations with the role names sourceCRS and targetCRS, required to the abstract SC_CRS class from both the CC_Transformation and CC_ConcatenatedOperation classes. For a georeferencing Transformation, the targetCRS will be a SC_ImageCRS and the sourceCRS will be the reference CRS used in that georeferencing, both being non-abstract subclasses of the SC_CRS class.


8.3 XML document example templates


8.3.1 Image georeferencing Transformation full template


An example template XML document defining a CC_Transformation for image georeferencing is:


<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentTransformations.xsd" gml:id="TemplateGeoreferencingTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 -->



<coordinateOperationName>Example template for image georeferencing coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 3D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesMethod>




<OperationMethod gml:id="ReplacementSensorModel">





<methodName>Replacement Sensor Model (RSM) coordinate Transformation</methodName>





<methodID>






<name codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name>





</methodID>





<remarks>This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). </remarks>





<methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. </methodFormula>





<sourceDimensions>3</sourceDimensions>





<targetDimensions>2</targetDimensions>





<usesParameter>






<OperationParameter gml:id="RSMParameters">







<parameterName>Parameters for Replacement Sensor Model (RSM). </parameterName>







<parameterID>








<name codeSpace="http://baesystems.com/rsm/rsmParameters"/>







</parameterID>







<remarks>The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. </remarks>






</OperationParameter>





</usesParameter>




</OperationMethod>



</usesMethod>



<usesValue>




<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>




<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>



</usesValue>


</Transformation>

This example template uses the “Replacement Sensor Model (RSM)” Operation Method for georeferencing Transformations. That example method uses one parameter named “RSMParameters” that contains the URL of a file containing all the RSM parameters for a specific image. That RSM Operation Method is an extension of the “Universal image geometry model transformation” discussed in Subclause A.3.

8.3.2 Image georeferencing Transformation recommended simple template


That Operation Method could be specified elsewhere and referenced by this georeferencing Transformations template, instead of being included in-line. Doing this produces the simplified template XML document:

<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentTransformations.xsd" gml:id="TemplateGeoreferencingTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 -->



<coordinateOperationName>Example template for image georeferencing coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 3D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/>



<usesValue>




<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>




<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>



</usesValue>


</Transformation>

This simplified template XML document is recommended for use in defining the image georeferencing coordinate Transformations. Of course, the OperationMethod can be changed, and the included XML comments and <remarks> elements can be removed or edited.

8.3.3 Grid elevation model Transformation full template


A template XML document defining a CC_Transformation for a grid elevation model is:


<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentTransformations.xsd" gml:id="TemplateGridElevationModelTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 -->



<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This targetCRS must be 3D. -->



</targetCRS>



<usesMethod>




<OperationMethod gml:id="GridElevationModel">





<methodName>Grid elevation model</methodName>





<methodID>






<name codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name>





</methodID>





<remarks>This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. </remarks>





<methodFormula>The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. </methodFormula>





<sourceDimensions>2</sourceDimensions>





<targetDimensions>3</targetDimensions>





<usesParameter>






<OperationParameter gml:id="GridElevationData">







<parameterName>Grid Elevation Data</parameterName>







<parameterID>








<name codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name>







</parameterID>







<remarks>The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. </remarks>






</OperationParameter>





</usesParameter>




</OperationMethod>



</usesMethod>



<usesValue>




<valueFile>http://baesystems.com/DEM/TBD</valueFile>




<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>



</usesValue>


</Transformation>

This example template uses the “GridElevationModel” Operation Method. That example method uses one parameter named “GridElevationData” that contains the URL of a file containing the grid elevation data.

8.3.4 Grid elevation model Transformation recommended simple template


That Operation Method could be specified elsewhere and referenced by this GridElevationModel Transformations template, instead of being included in-line. Doing this produces the simplified template XML document:

<?xml version="1.0" encoding="UTF-8"?>


<Transformation xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentTransformations.xsd" gml:id="TemplateGridElevationModelTransformation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 -->



<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>



<operationVersion>1.0</operationVersion>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This targetCRS must be 3D. -->



</targetCRS>



<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/>



<usesValue>




<valueFile>http://baesystems.com/DEM/TBD</valueFile>




<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>



</usesValue>


</Transformation>

This simplified template XML document is recommended for use in defining grid elevation model coordinate Transformations. Of course, the OperationMethod can be changed, and the included XML comments and <remarks> elements can be removed or edited.

8.3.5 Concatenated operation full template

A template XML document defining a CC_ConcatenatedOperation that combines the two full transformation templates above is:


<?xml version="1.0" encoding="UTF-8"?>


<ConcatenatedOperation xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentTransformations.xsd" gml:id="TemplateConcatenatedOperation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-04-13 -->



<coordinateOperationName>Template for ConcatenatedOperation</coordinateOperationName>



<remarks>Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. </remarks>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesSingleOperation>




<Transformation gml:id="TemplateGridElevationModelTransformation">





<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the sourceCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This targetCRS must be 3D. -->





</targetCRS>





<usesMethod>






<OperationMethod gml:id="GridElevationModel">







<methodName>Grid elevation model</methodName>







<methodID>








<name codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name>







</methodID>







<remarks>This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. </remarks>







<methodFormula>The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. </methodFormula>







<sourceDimensions>2</sourceDimensions>







<targetDimensions>3</targetDimensions>







<usesParameter>








<OperationParameter gml:id="GridElevationData">









<parameterName>Grid Elevation Data</parameterName>









<parameterID>










<name codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name>









</parameterID>









<remarks>The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. </remarks>








</OperationParameter>







</usesParameter>






</OperationMethod>





</usesMethod>





<usesValue>






<valueFile>http://baesystems.com/DEM/TBD</valueFile>






<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>





</usesValue>




</Transformation>



</usesSingleOperation>



<usesSingleOperation>




<Transformation gml:id="TemplateGeoreferencingTransformation">





<coordinateOperationName>Template for image georeferencing coordinate Transformation</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the targetCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>





<usesMethod>






<OperationMethod gml:id="ReplacementSensorModel">







<methodName>Replacement Sensor Model (RSM) coordinate Transformation</methodName>







<methodID>








<name codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name>







</methodID>







<remarks>This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). </remarks>







<methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. </methodFormula>







<sourceDimensions>3</sourceDimensions>







<targetDimensions>2</targetDimensions>







<usesParameter>








<OperationParameter gml:id="RSMParameters">









<parameterName>Parameters for Replacement Sensor Model (RSM). </parameterName>









<parameterID>










<name codeSpace="http://baesystems.com/rsm/rsmParameters"/>









</parameterID>









<remarks>The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. </remarks>








</OperationParameter>







</usesParameter>






</OperationMethod>





</usesMethod>





<usesValue>






<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>






<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>





</usesValue>




</Transformation>



</usesSingleOperation>


</ConcatenatedOperation>







































































































































































8.3.6 Concatenated operation recommended simple template

The above template uses the “Replacement Sensor Model (RSM)” and “GridElevationModel” Operation Methods. Those Operation Methods could be specified elsewhere and referenced by this template, instead of being included in-line. Doing this produces the simplified template XML document:

<?xml version="1.0" encoding="UTF-8"?>


<ConcatenatedOperation xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml fragmentTransformations.xsd" gml:id="TemplateConcatenatedOperation">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-04-13 -->



<coordinateOperationName>Template for ConcatenatedOperation</coordinateOperationName>



<remarks>Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. </remarks>



<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">




<!-- This sourceCRS must be 2D. -->



</sourceCRS>



<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>



<usesSingleOperation>




<Transformation gml:id="TemplateGridElevationModelTransformation">





<coordinateOperationName>Template for grid elevation model coordinate Transformations</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the sourceCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This targetCRS must be 3D. -->





</targetCRS>





<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/>





<usesValue>






<valueFile>http://baesystems.com/DEM/TBD</valueFile>






<valueOfParameter xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/>





</usesValue>




</Transformation>



</usesSingleOperation>



<usesSingleOperation>




<Transformation gml:id="TemplateGeoreferencingTransformation">





<coordinateOperationName>Template for image georeferencing coordinate Transformation</coordinateOperationName>





<operationVersion>1.0</operationVersion>





<sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD">






<!-- This sourceCRS must be the same as the targetCRS above. -->





</sourceCRS>





<targetCRS xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/>





<usesMethod xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/>





<usesValue>






<valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</valueFile>






<valueOfParameter xlink:href="http://baesystems.com/rsm/rsmParameters"/>





</usesValue>




</Transformation>



</usesSingleOperation>


</ConcatenatedOperation>





















































































This simplified template XML document is recommended for use in defining such concatenated Transformations. Of course, the OperationMethods can be changed, and the included XML comments and <remarks> elements can be removed or edited. 

8.3.7 XML schema fragment


The corresponding GML 3.1.1 XML Schema fragment for defining a CC_Transformation or CC_ConcatenatedOperation is attached in file fragmentTransformations.xsd. That XML Schema fragment omits the encoding of the validArea and positionalAccuracy attributes in the UML model. Example XML documents defining the Operation Methods that might be defined elsewhere are also attached

8.4 Full UML model


Figure 6 is a more complete UML class diagram extracted from Topic 2 for a coordinate CC_Transformation and CC_ConcatenatedOperation. This diagram shows essentially all the classes and associations related to the CC_Transformation and CC_ConcatenatedOperation classes, except for the:


a) Contents of the DQ_PositionalAccuracy and EX_Extent classes, defined in ISO 19115


b) Contents of the SC_CRS class, such asdefined in Clauses 6 and 7

DQ_PositionalAccuracy


(from DQ_DataQuality)


<<Abstract>>


EX_Extent


(from EX_Extent)


<<DataType>>


IO_IdentifiedObject


+ name : RS_Identifier


(from IO_IdentifiedObject)


<<Abstract>>


Defined in 


ISO 19115


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier


+ alias [0..*] : GenericName


+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


CC_ParameterValue


+ value : Measure


+ stringValue : CharacterString


+ integerValue : Integer


+ booleanValue : Boolean


+ valueList : Sequence<Measure>


+ integerValueList : Sequence<Integer>


+ valueFile : CharacterString


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter


(from CC_CoordinateOperation)


0..*


1


0..*


+valueOfParameter


1


CC_OperationMethod


+ formula : CharacterString


+ sourceDimensions : Integer


+ targetDimensions : Integer


(from CC_CoordinateOperation)


CC_Operation


(from CC_CoordinateOperation)


<<Abstract>>


0..*


1


0..*


+usesMethod


1


CC_Transformation


+ operationVersion : CharacterString


(from CC_CoordinateOperation)


SC_CRS


(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_CoordinateOperation


+ operationVersion [0..1] : CharacterString


+ domainOfValidity [0..1] : EX_Extent


+ scope [0..*] : CharacterString


+ coordinateOperationAccuracy [0..*] : DQ_PositionalAccuracy


(from CC_CoordinateOperation)


<<Abstract>>


0..1


0..*


+target 


CRS


0..1


0..*


Target


0..1


0..*


+source 


CRS


0..1


0..*


Source


CC_ConcatenatedOperation


(from CC_CoordinateOperation)


CC_SingleOperation


(from CC_CoordinateOperation)


<<Abstract>>


0..*2..*0..*


+usesOperation


2..*


{ordered}


CC_OperationParameterGroup


+ maximumOccurs [0..1] : Integer


(from CC_CoordinateOperation)


CC_ParameterValueGroup


(from CC_CoordinateOperation)


+valuesOfGroup


1


0..*


1


0..*


CC_GeneralParameterValue


(from CC_CoordinateOperation)


<<Abstract>>


1


0..*


1


+usesValue0..*


2..*


1


2..*


+includesValue


1


CC_GeneralOperationParameter


+ minimumOccurs [0..1] : Integer


(from CC_CoordinateOperation)


<<Abstract>>


0..*


0..*


0..*


+usesParameter


0..*


2..*


0..*


+includesParameter


2..*


0..*




Figure 6 — Transformation and ConcatenatedOperation full UML class diagram


Notice that each Transformation and ConcatenatedOperation inherits two associations with the role names sourceCRS and targetCRS, required to the abstract SC_CRS class from both the CC_Transformation and CC_ConcatenatedOperation classes. For a georeferencing Transformation, the targetCRS will be a SC_ImageCRS and the sourceCRS will be the reference CRS used in that georeferencing, both being non-abstract subclasses of the SC_CRS class.

9 Standard URNs and XML definitions

9.1 Overview

This clause specifies a standard set of definitions and corresponding URNs that shall be used whenever applicable for unrectified and georectified images. These definitions are encoded in GML 3.1.1 [OGC 04-092r4].


Whenever applicable, CRS definitions for images shall use the eight URNs in the “ogc” URN namespace that are specified in Table 1. The first two these URNs use the format for not-completely-specified objects specified in Subclause 7.2 of “URNs of definitions in ogc namespace” [OGC 05-010]. The remaining six of these URNs use the format for single objects specified in Subclause 7.1.


Table 1 — Standard URNs for unrectified images CRSs

		URN

		Object name & gml:id

		Definition specified in



		urn:ogc:def:crs:OGC:0.0: ImageCRSpixelCenter:TBD a

		ImageTBDCRSpixelCenter

		Subclause 7.2



		urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD a

		ImageTBDCRSpixelCorner

		Subclause 7.3



		urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS

		Grid2dSquareCS

		Subclause 7.4



		urn:ogc:def:axis:OGC:0.0:Row

		Row

		Subclause 7.5



		urn:ogc:def:axis:OGC:0.0:Column

		Column

		Subclause 7.6



		urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter

		ImageDatumPixelCenter

		Subclause 7.7



		urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner

		ImageDatumPixelCorner

		Subclause 7.8



		urn:ogc:def:uom:OGC:0.0:GridSpacing

		GridSpacing

		Subclause 7.9



		a
This “TBD” shall be replaced by the image identifier alphanumeric character string.





NOTE 
These image CRSa and components were defined and used in the XML document attached to Discussion Paper “Image CRSs for IH4DS” [OGC 05-014]. The definitions of these components have now been updated to use a later version of the CRS Schemas, in [OGC 04-092r4].


9.2 Image CRSs with origin in centre of first pixel


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD” shall reference the definition of an (unrectified) image CRS with its origin in the centre of the first pixel in the image file. This image CRS shall be for the image, or image group, whose alphanumeric character string identifier is substituted for the “TBD” in this URN.


NOTE 1
This document does not specify any format for an image alphanumeric identifier, since many different formats are used for such identifiers. One such format could concatenate a camera identifier with the image collection date and time.

The definitions of these image CRSs shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml


../gml/3.1.1/base/coordinateReferenceSystems.xsd" gml:id="ImageTBDCRSpixelCenter">



<!-- Specific image or group shall be identified by "TBD" in this gml:id. -->



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<!-- ========================================================== -->



<srsName>Image TBD CRS pixel centers</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">TBD</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/>


</ImageCRS>

NOTE 2
It is not expected to be necessary in most cases to produce an XML document that specifies the image CRS for a specific image identifier, since this CRS definition can be referenced using the specified URN value with the “TBD” replaced by the specific image identifier. However, it is possible to do this, as shown in the following example.

EXAMPLE 
If this XML document were modified to specify the image CRS with its origin in the centre of first pixel for an image with the identifier “C543D041201T084027”, this XML document could be:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml


../gml/3.1.1/base/coordinateReferenceSystems.xsd" gml:id="ImageC543D041201T084027CRSpixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<srsName>Image C543D041201T084027 CRS pixel centers</srsName>



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">C543D041201T084027</name>




<!-- This name specifies the URN by which this CRS can be referenced. -->



</srsID>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/>


</ImageCRS>

9.3 Image CRSs with origin in corner of first pixel


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD” shall reference the definition of an (unrectified) image CRS with its origin in the outside corner of the first pixel in the image file. This image CRS shall be for the image, or image group, whose identifier is substituted for the “TBD” in this URN.


The definitions of these image CRSs shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml


../gml/3.1.1/base/coordinateReferenceSystems.xsd" gml:id="ImageTBDCRSpixelCorner">



<!-- Specific image or group shall be identified by "TBD" in this gml:id. -->



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 -->



<!-- ========================================================== -->



<srsName>Image TBD CRS pixel corner</srsName>



<!-- Specific image or group shall be identified by "TBD" in this srsName. -->



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">TBD</name>




<!-- Specifies the URN that can be used to reference this image CRS. This URN includes the image name as a parameter. The specific image or group shall be identified by the "TBD" in the "name" value. -->



</srsID>



<remarks>Parameterized definition of 2D image coordinate reference systems with the origin at the outside corner of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 


This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. </remarks>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/>


</ImageCRS>

EXAMPLE 
If this XML document were modified to specify the image CRS with its origin in the outside corner of first pixel for an image with the identifier “C543D041201T084027”, this XML document could be:


<?xml version="1.0" encoding="UTF-8"?>


<ImageCRS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/coordinateReferenceSystems.xsd" gml:id="ImageC543D041201T084027CRSpixelCorner">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<srsName>Image C543D041201T084027 CRS pixel corners</srsName>



<srsID>




<name codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">C543D041201T084027</name>




<!-- This name specifies the URN by which this CRS can be referenced. -->



</srsID>



<usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/>



<usesImageDatum xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/>


</ImageCRS>

9.4 Grid 2D square coordinate system


The URN “urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS” shall reference the definition of a Coordinate System for a 2D grid with square grid cells. The definition of this grid shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<CartesianCS xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/coordinateSystems.xsd" gml:id="Grid2dSquareCS">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<csName>2D square-cell grid based coordinate system</csName>



<csID>




<name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name>



</csID>



<remarks>2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value will be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 


In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.


The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.


If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 


The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. </remarks>



<usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Row"/>



<usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Column"/>


</CartesianCS>

This xml document references the two standard grid axes specified below.


9.5 Row coordinate axis


The URN “urn:ogc:def:axis:OGC:0.0:Row” shall reference the definition of the row coordinate axis for a 2D square grid coordinate system. The definition of this row axis shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<CoordinateSystemAxis xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/coordinateSystems.xsd" gml:id="Row" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 -->



<name>Grid row axis</name>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name>



</axisID>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Line</name>



</axisID>



<remarks>For this first grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. </remarks>



<axisAbbrev>R</axisAbbrev>



<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDirection>


</CoordinateSystemAxis>

9.6 Column coordinate axis


The URN “urn:ogc:def:axis:OGC:0.0:Column” shall reference the definition of the column coordinate axis for a 2D square grid coordinate system. The definition of this column axis shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<CoordinateSystemAxis xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/coordinateSystems.xsd" gml:id="Column" gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 -->



<name>Grid column axis</name>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name>



</axisID>



<axisID>




<name codeSpace="urn:ogc:def:axis:OGC:1.0:">Sample</name>



</axisID>



<remarks>For this second grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. </remarks>



<axisAbbrev>C</axisAbbrev>



<axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axisDirection>


</CoordinateSystemAxis>

9.7 Image datum at pixel center


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter” shall reference the definition of an image datum with the origin at the centre of the first pixel. The definition of this image datum shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageDatum xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/datums.xsd" gml:id="ImageDatumPixelCenter">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<datumName>Origin at center of first pixel</datumName>



<datumID>




<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name>



</datumID>



<remarks>2D image datum with the origin at the center of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>



<anchorPoint>center of first pixel</anchorPoint>



<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell>


</ImageDatum>

9.8 Image datum at pixel corner


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner” shall reference the definition of an image datum with the origin at the outside corner of the first pixel. The definition of this image datum shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<ImageDatum xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/datums.xsd" gml:id="mageDatumPixelCorner">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<datumName>Origin at outside corner of first pixel</datumName>



<datumID>




<name codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCorner</name>



</datumID>



<remarks>2D image datum with the origin at the outside corner of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. </remarks>



<anchorPoint>outside corner of first pixel</anchorPoint>



<pixelInCell codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCorner</pixelInCell>


</ImageDatum>

9.9 Grid spacing unit of measure


The URN “urn:ogc:def:uom:OGC:0.0:GridSpacing” shall reference the definition of the grid spacing unit of measure (uom). The definition of this unit shall be the same as can be XML encoded using GML 3.1.1 as:


<?xml version="1.0" encoding="UTF-8"?>


<BaseUnit xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/datums.xsd" gml:id="GridSpacing">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<name>Spacing between adjacent grid points, or between centers of adjacent pixels</name>



<name codeSpace="urn:ogc:def:uom:OGC:1.0:">GridSpacing</name>



<quantityType>Length</quantityType>



<unitsSystem xlink:href="urn:ogc:def:uom:OGC:1.0:GridSpacing"/>


</BaseUnit>

10 Supporting information


This clause introduces information provided in the annexes supporting the encoding described in Clauses 6 and 7:


· Annex A (informative) provides example application schemas based on these XML Schemas, with corresponding example XML documents and UML models.


· Annex B (informative) describes some unrectified image operation methods.


Annex A
(informative)

Application schema examples


A.1
Introduction


This annex provides two Application Schemas based on the CRS Schemas that are applicable to images. Each of these example Application Schemas includes a corresponding example XML document using that Application Schema plus the example UML model from which that Application Schemas was converted. For more information on Application Schemas, see Subclauses B.3 and B.4 of “Recommended XML encoding of common CRS definitions” [OGC 05-011].


These XML examples use URNs to reference known objects using "xlink:href" and "gml:uom" XML attributes, based on documents [OGC 05-010] and [OGC 05-011].

A.2
Extended operation parameter definition


A.2.1
Introduction


This subclause provides an example of encoding additional information for Operation Parameters. The following subclauses contain:


f) A draft class diagram of a UML package for an Extended Operation Parameter, which builds on the UML model in OGC Abstract Specification Topic 2.


g) A draft XML Schema for encoding an Extended Operation Parameter, produced by converting this UML package.


h) A XML encoding of the possible contents of the <<CodeList>> stereotyped ParameterType class in this UML package.


i) An example XML document based on this draft XML Schema for encoding an Extended Operation Parameter

A.2.2
UML package


Figure A.1 is a class diagram of an example UML package for an Extended Operation Method. This UML package builds on the UML model in OGC Abstract Specification Topic 2.


CC_OperationParameter


(from CC_CoordinateOperation)


CC_OperationMethod


(from CC_CoordinateOperation)


CC_GeneralOperationParameter


(from CC_CoordinateOperation)


<<Abstract>>


0..n


0..n


0..n


+usesParameter0..n


ExtendedOperationParameter


+ parameterType : ParameterType


ParameterType


+ measure


+ length


+ scale


+ time


+ grid length


+ angle choice


+ angle


+ dms angle


+ length or angle


+ string


+ positive integer


+ non negative integer


+ boolean


+ measure list


+ length list


+ scale list


+ angle list


+ time list


+ grid length list


+ velocity list


+ integer list


+ positive integer list


+ any URI


<<CodeList>>




Figure A.1 — UML package for Extended Operation Method


A.2.3
Application schema


This subclause contains an example XML Schema for encoding an Extended Operation Parameter, produced by converting the above UML package. This XML Schema builds on the coordinateOperations.xsd XML Schema. This draft XML Schema is written following the same GML 3 patterns and ISO 19118 XML encoding rules as used in the CRS Schemas in GML 3.1.1. As required, this draft XML Schema is written as an Application Schema in a different namespace.


This example XML Schema is:


<?xml version="1.0" encoding="UTF-8"?>


<schema xmlns:ex="http://www.opengis.net/examples" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" xmlns="http://www.w3.org/2001/XMLSchema" targetNamespace="http://www.opengis.net/examples" elementFormDefault="qualified" xml:lang="en">



<annotation>




<documentation>





<name>extendedOperationParameter.xsd</name>





<scope>How to encode extended information for operation parameters. </scope>





<description>Example Application Schema to encode extended information for operation parameters. Builds on coordinateOperations.xsd, and follows same GML 3 patterns and ISO 19118 encoding. Written in the "ex" namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-28</description>





<copyright>Copyright (c) 2Open Geospatial Consortium (2005) </copyright>





<conformance>This schema encodes a draft Extended Operation Parameter package that builds on the Coordinate Operation (CC_) package of the extended UML Model for OGC Abstract Specification Topic 2: Spatial Referencing by Coordinates. That draft package defines a subtype of the CC_OperationParameter class for recording more information. </conformance>




</documentation>



</annotation>



<!-- ======================================================


       includes and imports



====================================================== -->



<import namespace="http://www.opengis.net/gml" schemaLocation="../gml/3.1.1/base/coordinateOperations.xsd"/>



<!-- ======================================================


       elements and types



====================================================== -->



<element name="ExtendedOperationParameter" type="ex:ExtendedOperationParameterType" substitutionGroup="gml:OperationParameter"/>



<!-- =================================================== -->



<complexType name="ExtendedOperationParameterType">




<annotation>





<documentation>Extended definition of an operation parameter. </documentation>




</annotation>




<complexContent>





<extension base="gml:OperationParameterType">






<sequence>







<element ref="ex:parameterType"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<element name="parameterType" type="ex:ParameterTypeType"/>



<!-- =================================================== -->



<complexType name="ParameterTypeType">




<annotation>





<documentation>Data type of an operation parameter. Usually refers to a data type defined in measures.xsd or allowed in the ParameterValueType of coordinateOperations.xsd. </documentation>





<documentation>A text string with a required codeSpace attribute. Similar to gml:CodeType. </documentation>




</annotation>




<simpleContent>





<extension base="string">






<attribute name="codeSpace" type="anyURI" use="required">







<annotation>








<documentation>Reference to a source of information specifying the values and meanings of all the allowed string values for this ParameterTypeType. </documentation>







</annotation>






</attribute>





</extension>




</simpleContent>



</complexType>



<!-- =================================================== -->


</schema>

A.2.4
Standard contents of parameterType

A standard set of allowed values and their meanings for the parameterType element is specified in the <<CodeList>> stereotyped class in the UML model that was converted. Those string values and their meanings are specified in the following UML document, using the gml:Dictionary element:


<?xml version="1.0" encoding="UTF-8"?>


<Dictionary xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/gml ../gml/3.1.1/base/dictionary.xsd" gml:id="parameterTypeDictionary">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-04-13 -->



<name>parameterType standard values</name>



<name>Data type of an operation parameter. Usually refers to a data type defined in measures.xsd or allowed in the ParameterValueType of coordinateOperations.xsd. </name>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="measure">





<description>General numeric value of an operation parameter, with its associated unit of measure. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">measure</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="length">





<description>Value of a length (or distance) quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">length</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="scale">





<description>Value of a scale factor (or ratio) that has no physical unit. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a scale factor, such as one, percent, permil, or parts-per-million. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">scale</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="time">





<description>Value of a time or temporal quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a time value, such as seconds or weeks. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">time</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="gridLength">





<description>Value of a length (or distance) quantity in a grid, where the grid spacing does not have any associated physical units, or does not have a constant physical spacing. This grid length will often be used in a digital image grid, where the base units are likely to be pixel spacings. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for length along the axes of a grid, such as pixel spacings or grid spacings.</description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">grid length</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="angleChoice">





<description>Value of an angle quantity provided in either degree-minute-second format or single value format. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">angle choice</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="angle">





<description>Value of an angle quantity recorded as a single number, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for an angle, such as degrees or radians. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">angle</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="dmsAngle">





<description>Value of an angle operation parameter, in either degree-minute-second format or single value format. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">dms angle</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="lengthOrAngle">





<description>Value of a length or angle quantity, where an angle can be recorded in either degree-minute-second format or single value format. Often used for horizontal ground coordinates. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">length or angle</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="string">





<description>String value of an operation parameter. A string value does not have an associated unit of measure. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">string</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="positiveInteger">





<description>Positive integer value of an operation parameter, usually used for a count. An integer value does not have an associated unit of measure. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">positive integer</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="nonNegativeInteger">





<description>Zero or positive integer value of an operation parameter. An integer value does not have an associated unit of measure. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">non negative integer</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="boolean">





<description>Boolean value of an operation parameter. A Boolean value does not have an associated unit of measure. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">boolean</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="measureList">





<description>Ordered sequence of two or more numeric values of an operation parameter list, where each value has the same associated unit of measure. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">measure list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="lengthList">





<description>Ordered sequence of two or more numeric values of an operation parameter list of Length measures. Each value has the same associated unit of measure suitable for a length, such as metres or feet. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">length list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="scaleList">





<description>Ordered sequence of two or more numeric values of an operation parameter list of Scale measures. Each value has the same associated unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">scale list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="angleList">





<description>Ordered sequence of two or more numeric values of an operation parameter list of Angle measures, each recorded as a single number. Each value has the same associated unit of measure suitable for an angle, such as degrees or radians. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">angle list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="timeList">





<description>Ordered sequence of two or more numeric values of an operation parameter list of Time measures, each recorded as a single number. Each value has the same associated unit of measure suitable for a time value, such as seconds or days. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">time list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="gridLengthList">





<description>Ordered sequence of two or more numeric values of an operation parameter list of Grid Length measures. Each value has the same associated unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">grid length list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="velocityList">





<description>Ordered sequence of two or more numeric values of an operation parameter list of Velocity measures. Each value has the same associated unit of measure suitable for a velocity, such as metres per second or miles per hour. An element of this type contains a space-separated list of double values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">velocity list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="integerList">





<description>Ordered sequence of two or more integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated list of integer values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">integer list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="positiveIntegerList">





<description>Ordered sequence of two or more positive integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated list of integer values. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">positive integer list</name>




</Definition>



</dictionaryEntry>



<!-- ===================================================== -->



<dictionaryEntry>




<Definition gml:id="anyURI">





<description>Reference to a file or a part of a file containing one or more parameter values, each numeric value with its associated unit of measure. When referencing a part of a file, that file must contain multiple identified parts, such as an XML encoded document. Furthermore, the referenced file or part of a file can reference another part of the same or different files, as allowed in XML documents. </description>





<name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">anyURI</name>




</Definition>



</dictionaryEntry>


</Dictionary>















































































































































































































































































































































 


A.2.5
Example XML document


An example XML document based on this example XML Schema for encoding Extended Operation Parameters applied to the Transverse Mercator Operation Method is:


<?xml version="1.0" encoding="UTF-8"?>


<OperationMethod xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:ex="http://www.opengis.net/examples" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/examples extendedOperationParameter.xsd" gml:id="EPSG9807">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<methodName>Transverse Mercator</methodName>



<methodID>




<name codeSpace="urn:ogc:def:method:EPSG:6.3:">9807</name>



</methodID>



<methodFormula>See Section 1.4.6 "Transverse Mercator" of EPSG Guidance Note 7, December 2000. </methodFormula>



<sourceDimensions>2</sourceDimensions>



<targetDimensions>2</targetDimensions>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="EPSG8801">





<parameterName>Latitude of natural origin</parameterName>





<parameterID>






<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8801</name>





</parameterID>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">AngleChoiceType</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="EPSG8802">





<parameterName>Longitude of natural origin</parameterName>





<parameterID>






<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8802</name>





</parameterID>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">AngleChoiceType</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="EPSG8805">





<parameterName>Scale factor at natural origin</parameterName>





<parameterID>






<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8805</name>





</parameterID>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">ScaleType</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="EPSG8806">





<parameterName>False Easting</parameterName>





<parameterID>






<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8806</name>





</parameterID>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="EPSG8807">





<parameterName>False Northing</parameterName>





<parameterID>






<name codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8807</name>





</parameterID>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>


</OperationMethod>

NOTE 
Subclause D.2.4 of document [OGC 05-011] provides a corresponding example XML document not using this Application Schema.


A.3
Universal image geometry model transformation


A.3.1
Introduction


Standardized XML encoding is needed for a number of frequently-used types of image coordinate transformations. This subclause provides an example of one such encoding, applied to an example image coordinate transformation. That example type of image coordinate transformation is the one described in Section 6.5 of OGC Abstract Specification old Topic 7: The Earth Imagery Case [OGC 99-107], namely the Universal Image Geometry Model (UIGM). That UIGM transformation is from a 3D ground coordinate reference system to a 2D image coordinate reference system, and has been simplified here for brevity. The following subclauses contain:


j) A draft class diagram of a UML package for this simplified UIGM transformation, which builds on the UML model in OGC Abstract Specification Topic 2.


k) Two draft XML Schemas for encoding this simplified UIGM transformation, produced by converting this UML package.


l) An example XML document based on this draft XML Schema for encoding an example UIGM transformation, plus an example XML document based on the Application Schema in Subclause A.2.3 for encoding the Operation Method used by this UIGM transformation.


A.3.2
UML package


Figures A.3 to A.7 contain the five parts of a draft class diagram of a UML package for this simplified UIGM transformation. Figure A.3 shows the top level of the class diagram, without showing the components of the SectionParametersGroup and MonoscopicErrorsGroup. This diagram is incomplete in that some of the needed association role names and multiplicities are not shown due to lack of space. Figure A.3 shows the top level within the SectionParametersGroup, without showing the components of the NormalizationParametersGroup and PolynomialGroup. Figure A.5 shows one example parameter value in the NormalizationParametersGroup, with a note listing the other nine parameter values. Figure A.6 shows two example parameter values in the PolynomialGroup, with a note listing the six other parameter values. Figure A.7 shows the complete contents of the MonoscopicErrorsGroup.


CC_ParameterValueGroup


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_Transformation


(from CC_CoordinateOperation)


CC_GeneralOperationParameter


(from CC_CoordinateOperation)


<<Abstract>>


CC_OperationParameterGroup


(from CC_CoordinateOperation)


0..n


2..*


0..n


+includesParameter


2..*


CC_OperationMethod


(from CC_CoordinateOperation)


0..n


0..n


0..n


+usesParameter0..n


LinearCoefficientsValue


+ scaleValueList : Sequence<Scale>


CC_OperationParameter


(from CC_CoordinateOperation)


1


0..*


1


0..*


ImageIdValue


+ stringValue : CharacterString


1


0..n


+valueOfParameter


1


0..n


VersionValue


+ integerValue : Integer


1


0..*


1


0..*


NumberSectionsValue


+ integerValueList : Sequence<Integer>


1


0..n


+valueOfParameter


1


0..n


SectionParametersGroup


1


0..*


+valuesOfGroup


1


0..*


UIGM1Transformation


1


0..n


+usesMethod


1


0..n


11


11


11


11


1..64


MonoscopicErrorsGroup


1


0..n


+valuesOfGroup


1


0..n


1


1..64


1




Figure A.3 — UML package for UIGM transformation, page 1


CC_ParameterValueGroup


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter


(from CC_CoordinateOperation)


CC_OperationParameterGroup


(from CC_CoordinateOperation)


UIGM1Transformation


NormalizationParametersGroup


1


0..*


+valuesOfGroup


1


0..*


PolynomialsGroup


1


0..n


+valuesOfGroup


1


0..n


SectionParametersGroup


1


0..*


+valuesOfGroup


1


0..*


1..641..64


1


1


SectionNumberValue


+ integerValueList : Sequence<Integer>


1


0..n


+valueOfParameter


1


0..n


1


1


1


1


+includesNormalization


ParametersGroup


+includesPolyn


omialsGroup


+includesSection


NumberValue




Figure A.3 — UML package for UIGM transformation, page 2


CC_ParameterValueGroup


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter


(from CC_CoordinateOperation)


Nine other value 


classes not shown:


NorthOffsetValue


VerticalOffsetValue


EastScaleValue


NorthScaleValue


VerticalScaleValue


RowOffsetValue


ColumnOffsetValue


RowScaleValue


ColumnScaleValue


UIGM1Transformation


SectionParametersGroup


1..641..64


CC_OperationParameterGroup


(from CC_CoordinateOperation)


1


0..*


+valuesOfGroup


1


0..*


NormalizationParametersGroup


1


+includesNormalization


ParametersGroup


1


0..*


1


0..*


+valuesOfGroup


1


EastOffsetValue


+ angleValue : Angle


+ lengthValue : Length


<<Union>>


1


0..*


+valueOfParameter


1


0..*


11


+includesEast


OffsetValue




Figure A.5 — UML package for UIGM transformation, page 3


CC_ParameterValueGroup


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter


(from CC_CoordinateOperation)


Six other value classes not shown:


RowDenominatorPowersValue


RowDenominatorCoefficientsValue


ColumnNumeratorPowersValue


ColumnNumeratorCoefficientsValue


ColumnDenominatorPowersValue


ColumnDenominatorCoefficientsV...


UIGM1Transformation


CC_OperationParameterGroup


(from CC_CoordinateOperation)


SectionParametersGroup


1


0..*


+valuesOfGroup


1


0..*


1..641..64


RowNumeratorPowersValue


+ integerValueList : Sequence<Integer>


1


0..n


+valueOfParameter


1


0..n


RowNumeratorCoefficientsValue


+ scaleValueList : Sequence<Scale>


1


0..n


+valueOfParameter


1


0..n


PolynomialsGroup


0..n


1


0..n


+valuesOfGroup


1


1


+includesPoly


nomialsGroup


1


1+includesRowNumerator


PowersValue


1


+includesRowNumerator


CoefficientsValue


11




Figure A.6 — UML package for UIGM transformation, page 4


CC_ParameterValueGroup


(from CC_CoordinateOperation)


CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameterGroup


(from CC_CoordinateOperation)


UIGM1Transformation


ReferenceHeightValue


+ lengthValue : Length


AbsoluteErrorValue


+ lengthValue : Length


MonoscopicErrorsGroup


1


0..n


+valuesOfGroup


1


0..n


11


11


11


BinDistancesValue


+ lengthValueList : Sequence<Length>


RelativeErrorGroup


1


0..n


+valuesOfGroup


1


0..n


0..9


1


0..9


+includesRelative


ErrorGroup


1


+includesReference


HeightValue


+includesAbsolute


ErrorValue


+includesBinDistances


Value


BinErrorValue


+ lengthValue : Length


11


+includesBinErrorValue


CC_OperationParameter


(from CC_CoordinateOperation)


1


0..n


+valueOfParameter


1


0..n


1


0..n


+valueOfParameter


1


0..n


1


0..*


1


+valueOfParameter


0..*


1


0..n


+valueOfParameter


1


0..n




Figure A.7 — UML package for UIGM transformation, page 5


A.3.3
Application schemas


This subclause contains example XML Schemas for encoding this simplified UIGM transformation, produced by converting the above UML package. These XML Schemas build on coordinateOperations.xsd. These draft XML Schemas are written following the same GML 3 patterns and ISO 19118 XML encoding rules as used in the CRS Schemas in GML 3.1.1.

The first draft Application Schema is:


<?xml version="1.0" encoding="UTF-8"?>


<schema xmlns="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ex="http://www.opengis.net/examples" targetNamespace="http://www.opengis.net/examples" elementFormDefault="qualified" xml:lang="en">



<annotation>




<documentation>





<name>UIGM1transformation.xsd</name>





<scope>How to encode definition of Universal Image Geometry Model for one image. </scope>





<description>Example Application Schema to encode ground-to-image coordinate transformation data for a specific image, using the Universal Image Geometry Model type of coordinate transformation as described in Section 6.5 of OGC Abstract Specification Topic 7 : The Earth Imagery Case (OGC document 99-107). This example does not encode data for the image correction tables, stereoscopic position error estimates, and most information not used by the image geometry model. Builds on coordinateOperations.xsd and typedValues.xsd, and follows same GML 3 patterns and ISO 19118 encoding. Written in the "ex" namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-28</description>





<copyright>Copyright (c) Open Geospatial consortium (2005) </copyright>





<conformance>This schema encodes a draft UIGM package that builds on the Coordinate Operation (CC_) package of the extended UML Model for OGC Abstract Specification Topic 2: Spatial Referencing by Coordinates. That draft package defines restricted subtypes of the CC_Transformation,  CC_ParameterValue, and CC_ParameterValueGroup classes as needed for the UIGM transformation. </conformance>




</documentation>



</annotation>



<!-- ======================================================


       includes and imports



====================================================== -->



<include schemaLocation="typedValues.xsd"/>



<import namespace="http://www.opengis.net/gml" schemaLocation="../gml/3.1.1/base/coordinateOperations.xsd"/>



<import namespace="http://www.w3.org/1999/xlink" schemaLocation="../gml/3.1.1/xlink/xlinks.xsd"/>



<!-- ======================================================


       elements and types



====================================================== -->



<element name="UIGM1Transformation" type="ex:UIGM1TransformationType" substitutionGroup="gml:_GeneralTransformation"/>



<!-- =================================================== -->



<complexType name="UIGM1TransformationType">




<annotation>





<documentation>Specific Universal Image Geometry Model type of coordinate transformation. Extends the AbstractGeneralTransformationType with restricted values for included elements, including elements in the coordinateOperationID element with the IdentifierType. If appropriate, the "codeSpace" element could have the string value "UIGM1", and the "code" element should then identify the specific image. The other elements in the IdentifierType can be omitted. The "coordinateOperationName" element shall have a string value that names a UIGM1 Transformation for a specific image and specific ground coordinate reference system. The "_PositionalAccuracy" and "metaDataProperty" elements can be omitted. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralTransformationType">






<sequence>







<element ref="ex:usesUIGM1Method"/>







<element ref="ex:usesImageIdValue"/>







<element ref="ex:usesVersionValue"/>







<element ref="ex:usesLinearCoefficientsValue"/>







<element ref="ex:usesNumberSectionsValue"/>







<element ref="ex:usesSectionParameters"/>







<element ref="ex:usesMonoscopicErrors"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<element name="usesUIGM1Method">




<annotation>





<documentation>Reference to UIGM1 operation method. </documentation>




</annotation>




<complexType>





<sequence/>





<attribute ref="xlink:href" use="required" fixed="urn:ogc:def:method:UIGM:1.0:MethodUIGM1"/>




</complexType>



</element>



<!-- =================================================== -->



<element name="usesImageIdValue" type="ex:StringValueType">




<annotation>





<documentation>Alphanumeric text identifying one specific original image. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="usesVersionValue" type="ex:IntegerValueType">




<annotation>





<documentation>Increasing numbers of the Image Support Data Version integer are used to identify versions with increasing quality of the image geometry model data for the same original image. This Version shall be “0” before the original image support data is adjusted. The minimum value is 0, and the maximum value is 9. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="usesLinearCoefficientsValue" type="ex:ScaleListValueType">




<annotation>





<documentation>The values of the coefficients of the approximate linear sensor model, which is used to find the proper image geometry model section for a ground coordinate position. The parameter value shall contain an ordered list of eight double precision floating point numbers, four for the section number in the image row axis followed by four for the image column axis. These coefficients shall be recorded with Scale units, but various implied units are used by the various coefficients. </documentation>




</annotation>



</element>



<!-- =================================================== -->


<element name="usesNumberSectionsValue" type="ex:IntegerListValueType">




<annotation>





<documentation>The numbers of rows and columns of sections into which the image geometry model is divided for this image. The parameter value shall contain an ordered list of two small integers, the first specifying the number of rows and the second specifying the number of columns. For each integer, the minimum value is 1, and the maximum value is 8. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<!-- =================================================== -->



<element name="usesSectionParameters">




<annotation>





<documentation>Group of parameters for one section of the universal image geometry model. There shall be from 1 up to 64 model sections for one image. If the model for this image is not divided into sections, there shall be only one repetition of this group of parameters. </documentation>




</annotation>




<complexType>





<sequence>






<element ref="ex:includesSectionNumberValue"/>






<element ref="ex:includesNormalizationParameters"/>






<element ref="ex:includesPolynomials"/>






<element ref="gml:valuesOfGroup"/>





</sequence>




</complexType>



</element>



<!-- =================================================== -->



<element name="includesSectionNumberValue" type="ex:IntegerListValueType">




<annotation>





<documentation>The row and column numbers of this section of the universal image geometry model for this image. The parameter value contains an ordered list of two small integers, the first specifying the row number and the second specifying the column number. For each integer, the minimum value is 1, and the maximum value is 8.</documentation>




</annotation>



</element>



<!-- =================================================== -->



<!-- =================================================== -->



<element name="includesNormalizationParameters">




<annotation>





<documentation>Group of ground position normalization parameters and image position un-normalization parameters, for this section of the universal image geometry model. </documentation>




</annotation>




<complexType>





<sequence>






<element ref="ex:includesEastOffsetValue"/>






<element ref="ex:includesNorthOffsetValue"/>






<element ref="ex:includesVerticalOffsetValue"/>






<element ref="ex:includesEastScaleValue"/>






<element ref="ex:includesNorthScaleValue"/>






<element ref="ex:includesVerticalScaleValue"/>






<element ref="ex:includesRowOffsetValue"/>






<element ref="ex:includesColumnOffsetValue"/>






<element ref="ex:includesRowScaleValue"/>






<element ref="ex:includesColumnScaleValue"/>






<element ref="gml:valuesOfGroup"/>





</sequence>




</complexType>



</element>



<!-- =================================================== -->



<element name="includesEastOffsetValue" type="ex:AngleOrLengthValueType">




<annotation>





<documentation>East position offset for normalizing ground coordinates. The units shall be either angle or length units. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesNorthOffsetValue" type="ex:AngleOrLengthValueType">




<annotation>





<documentation>North position offset for normalizing ground coordinates. The units shall be the same as for the East Offset, either angle or length units. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesVerticalOffsetValue" type="ex:LengthValueType">




<annotation>





<documentation>Vertical position offset for normalizing ground coordinates. The units shall be length units. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesEastScaleValue" type="ex:AngleOrLengthValueType">




<annotation>





<documentation>East scale factor for normalizing ground coordinates. The units shall be the same as for the East Offset, either angle or length units. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesNorthScaleValue" type="ex:AngleOrLengthValueType">




<annotation>





<documentation>North scale factor for normalizing ground coordinates. The units shall be the same as for the North Offset, either angle or length units. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesVerticalScaleValue" type="ex:LengthValueType">




<annotation>





<documentation>Vertical scale factor for normalizing ground coordinates. The units shall be the same as for the Vertical Offset, and shall be length units. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesRowOffsetValue" type="ex:GridLengthValueType">




<annotation>





<documentation>Image row position offset for un-normalizing image coordinates. The units shall be one grid spacing. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesColumnOffsetValue" type="ex:GridLengthValueType">




<annotation>





<documentation>Image column position offset for un-normalizing image coordinates. The units shall be one grid spacing. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesRowScaleValue" type="ex:GridLengthValueType">




<annotation>





<documentation>Image row scale factors for un-normalizing image coordinates. The units shall be one grid spacing. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesColumnScaleValue" type="ex:GridLengthValueType">




<annotation>





<documentation>Image column scale factors for un-normalizing image coordinates. The units shall be one grid spacing. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<!-- =================================================== -->



<element name="includesPolynomials">




<annotation>





<documentation>Numerator and denominator polynomial parameters for this section of the universal image geometry model. </documentation>




</annotation>




<complexType>





<sequence>






<element ref="ex:includesRowNumeratorPowersValue"/>






<element ref="ex:includesRowNumeratorCoefficientsValue"/>






<element ref="ex:includesRowDenominatorPowersValue"/>






<element ref="ex:includesRowDenominatorCoefficientsValue"/>






<element ref="ex:includesColumnNumeratorPowersValue"/>






<element ref="ex:includesColumnNumeratorCoefficientsValue"/>






<element ref="ex:includesColumnDenominatorPowersValue"/>






<element ref="ex:includesColumnDenominatorCoefficientsValue"/>






<element ref="gml:valuesOfGroup"/>





</sequence>




</complexType>



</element>



<!-- =================================================== -->



<element name="includesRowNumeratorPowersValue" type="ex:IntegerListValueType">




<annotation>





<documentation>Maximum powers of the three ground coordinates in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesRowNumeratorCoefficientsValue" type="ex:ScaleListValueType">




<annotation>




<documentation>Polynomial coefficients in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesRowDenominatorPowersValue" type="ex:IntegerListValueType">




<annotation>





<documentation>Maximum powers of the three ground coordinates in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesRowDenominatorCoefficientsValue" type="ex:ScaleListValueType">




<annotation>





<documentation>Polynomial coefficients in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesColumnNumeratorPowersValue" type="ex:IntegerListValueType">




<annotation>





<documentation>Maximum powers of the three ground coordinates in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesColumnNumeratorCoefficientsValue" type="ex:ScaleListValueType">




<annotation>





<documentation>Polynomial coefficients in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesColumnDenominatorPowersValue" type="ex:IntegerListValueType">




<annotation>





<documentation>Maximum powers of the three ground coordinates in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesColumnDenominatorCoefficientsValue" type="ex:ScaleListValueType">




<annotation>





<documentation>Polynomial coefficients in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<!-- =================================================== -->



<element name="usesMonoscopicErrors">




<annotation>





<documentation>Group of parameters for horizontal error estimates when a position in this one image is used to determine the corresponding ground coordinates, using this universal image geometry model for this image. </documentation>




</annotation>




<complexType>





<sequence>






<element ref="ex:includesReferenceHeightValue"/>






<element ref="ex:includesAbsoluteErrorValue"/>






<element ref="ex:includesRelativeError" minOccurs="0" maxOccurs="9"/>






<element ref="gml:valuesOfGroup"/>





</sequence>




</complexType>



</element>



<!-- =================================================== -->



<element name="includesReferenceHeightValue" type="ex:LengthValueType">




<annotation>





<documentation>The value of the ground elevation or height used to estimate the recorded horizontal error estimate when a position in this one image is used to determine the corresponding ground coordinates. This reference height is in the Vertical coordinate system axis of the ground CRS used by the universal image geometry model for this image. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesAbsoluteErrorValue" type="ex:LengthValueType">




<annotation>





<documentation>The value of the horizontal absolute error estimate when a position in this one (monoscopic) image is used to determine the corresponding ground coordinates. This error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one meter units. The minimum value is 0.0. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<!-- =================================================== -->



<element name="includesRelativeError">




<annotation>





<documentation>Relative error estimate for one distance bin between two points. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. </documentation>




</annotation>




<complexType>





<sequence>






<element ref="ex:includesBinDistancesValue"/>






<element ref="ex:includesBinErrorValue"/>






<element ref="gml:valuesOfGroup"/>





</sequence>




</complexType>



</element>



<!-- =================================================== -->



<element name="includesBinDistancesValue" type="ex:LengthListValueType">




<annotation>





<documentation>The minimum and maximum ground distances between two points for this distance bin recorded for horizontal relative error estimates. The parameter value shall contain an ordered list of two Length measures, always in one meter units. The first value specifies the bin minimum distance, and the second value specifies the bin maximum distance. The minimum values are 0.0. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="includesBinErrorValue" type="ex:LengthValueType">




<annotation>





<documentation>The value of the horizontal relative error estimate between two points for this distance bin recorded for horizontal relative error estimates. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. The relative error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one meter units. The minimum value is 0.0. </documentation>




</annotation>



</element>



<!-- =================================================== -->


</schema>

The above example Application Schema is shortened by building on a separate example Application Schema. This other Application Schema defines XML Schema complexTypes for a number of types of operation parameter values. The complexTypes defined include 8 parameter types used in the Application Schema above, plus 8 TBD more types expected to be useful in other image geometry model transformations. This second draft XML Application Schema is:


<?xml version="1.0" encoding="UTF-8"?>


<schema xmlns="http://www.w3.org/2001/XMLSchema" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ex="http://www.opengis.net/examples" targetNamespace="http://www.opengis.net/examples" elementFormDefault="qualified" xml:lang="en">



<annotation>




<documentation>





<name>typedValues.xsd</name>





<scope>How to encode operation parameter values with specific types, including length, angle, and scale measures.. </scope>





<description>Example Application Schema to encode operation parameter values with specific types. Builds on measures.xsd, and follows same GML 3 patterns. Written in the "ex" namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-28</description>





<copyright>Copyright (c) Open Geospatial consortium (2005) </copyright>




</documentation>



</annotation>



<!-- ======================================================


       includes and imports



====================================================== -->



<import namespace="http://www.opengis.net/gml" schemaLocation="../gml/3.1.1/base/coordinateOperations.xsd"/>



<!-- ======================================================


       elements and types



====================================================== -->



<complexType name="StringValueType">




<annotation>





<documentation>Alphanumeric text operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="gml:stringValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="IntegerValueType">




<annotation>





<documentation>Integer operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="gml:integerValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="LengthValueType">




<annotation>





<documentation>Length measure operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:lengthValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="ScaleValueType">




<annotation>





<documentation>Scale measure operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:scaleValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="AngleValueType">




<annotation>





<documentation>Angle measure operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:angleValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="AngleOrLengthValueType">




<annotation>





<documentation>Angle or Length measure operation parameter value, sometimes used for horizontal coordinate parameters. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<choice>








<element ref="ex:angleValue"/>








<element ref="ex:lengthValue"/>







</choice>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="TimeValueType">




<annotation>





<documentation>Time measure operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:gridLengthValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="GridLengthValueType">




<annotation>





<documentation>Grid Length measure operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:gridLengthValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="SpeedValueType">




<annotation>





<documentation>Velocity measure operation parameter value. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:speedValue"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="IntegerListValueType">




<annotation>





<documentation>Ordered sequence of two or more integer operation parameter values. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="gml:integerValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="LengthListValueType">




<annotation>





<documentation>Ordered sequence of two or more Length operation parameter values.</documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:lengthValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="ScaleListValueType">




<annotation>





<documentation>Ordered sequence of two or more Scale Factor operation parameter values. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:scaleValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="AngleListValueType">




<annotation>





<documentation>Ordered sequence of two or more Angle operation parameter values. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:angleValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="TimeListValueType">




<annotation>





<documentation>Ordered sequence of two or more Time operation parameter values. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:timeValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="GridLengthListValueType">




<annotation>





<documentation>Ordered sequence of two or more Grid Length operation parameter values. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:gridLengthValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<complexType name="SpeedListValueType">




<annotation>





<documentation>Ordered sequence of two or more Velocity operation parameter values. </documentation>




</annotation>




<complexContent>





<extension base="gml:AbstractGeneralParameterValueType">






<sequence>







<element ref="ex:speedValueList"/>







<element ref="gml:valueOfParameter"/>






</sequence>





</extension>




</complexContent>



</complexType>



<!-- =================================================== -->



<!-- =================================================== -->



<element name="lengthValue" type="gml:LengthType" substitutionGroup="gml:value">




<annotation>





<documentation>Length value of an operation parameter, with a unit of measure suitable for a length, such as metres or feet. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="scaleValue" type="gml:ScaleType" substitutionGroup="gml:value">




<annotation>





<documentation>Scale factor value of an operation parameter, with a unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="angleValue" type="gml:AngleType" substitutionGroup="gml:value">




<annotation>





<documentation>Angle value of an operation parameter, recorded as a single number, with a unit of measure suitable for an angle, such as degrees or radians. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="timeValue" type="gml:TimeType" substitutionGroup="gml:value">




<annotation>





<documentation>Time value of an operation parameter, recorded as a single number, with a unit of measure suitable for a time value, such as seconds or days. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="gridLengthValue" type="gml:GridLengthType" substitutionGroup="gml:value">




<annotation>





<documentation>Grid length value of an operation parameter, with a unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. Used when the grid spacing does not have any associated physical units, or does not have a constant physical spacing. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="speedValue" type="gml:SpeedType" substitutionGroup="gml:value">




<annotation>





<documentation>Speed value of an operation parameter, with a unit of measure suitable for a speed, such as metres per second or miles per hour. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="lengthValueList" type="gml:MeasureListType" substitutionGroup="gml:valueList">




<annotation>





<documentation>Ordered sequence of two or more length values of an operation parameter, with a unit of measure suitable for a length, such as metres or feet. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="scaleValueList" type="gml:MeasureListType" substitutionGroup="gml:valueList">




<annotation>





<documentation>Ordered sequence of two or more scale factor values of an operation parameter, with a unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="angleValueList" type="gml:MeasureListType" substitutionGroup="gml:valueList">




<annotation>





<documentation>Ordered sequence of two or more angle values of an operation parameter, each recorded as a single number, with a unit of measure suitable for an angle, such as degrees or radians. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="timeValueList" type="gml:MeasureListType" substitutionGroup="gml:valueList">




<annotation>





<documentation>Ordered sequence of two or more time values of an operation parameter, each recorded as a single number, with a unit of measure suitable for a time value, such as seconds or days. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="gridLengthValueList" type="gml:MeasureListType" substitutionGroup="gml:valueList">




<annotation>





<documentation>Ordered sequence of two or more grid length values of an operation parameter, with a unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. Used when the grid spacing does not have any associated physical units, or does not have a constant physical spacing. </documentation>




</annotation>



</element>



<!-- =================================================== -->



<element name="speedValueList" type="gml:MeasureListType" substitutionGroup="gml:valueList">




<annotation>





<documentation>Ordered sequence of two or more spped values of an operation parameter, with a unit of measure suitable for a speed, such as metres per second or miles per hour. </documentation>




</annotation>



</element>



<!-- =================================================== -->


</schema>

A.3.4
Example XML documents


An example XML document based on the above two example Application Schemas for encoding this simplified UIGM transformation is:


<?xml version="1.0" encoding="UTF-8"?>


<UIGM1Transformation xmlns="http://www.opengis.net/examples" xmlns:gml="http://www.opengis.net/gml" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/examples UIGM1transformation.xsd" gml:id="AaaaAaaa">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<gml:coordinateOperationName>Aaaa Aaaa</gml:coordinateOperationName>



<gml:operationVersion>1</gml:operationVersion>



<gml:sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.6:7405" xlink:title="OSGB36 /British National Grid + ODN"/>



<gml:targetCRS xlink:href="urn:ogc:def:crs:UIGM:1.0:mageCRS"/>



<usesUIGM1Method xlink:href="urn:ogc:def:method:UIGM:1.0:MethodUIGM1"/>



<usesImageIdValue>




<gml:stringValue>AAAAAA</gml:stringValue>




<gml:valueOfParameter xlink:href="urn:ogc:def:parameter:UIGM:1.0:mageID"/>



</usesImageIdValue>



<usesVersionValue>




<gml:integerValue>1</gml:integerValue>




<gml:valueOfParameter xlink:href="urn:ogc:def:parameter:UIGM:1.0:Version"/>



</usesVersionValue>



<usesLinearCoefficientsValue>




<scaleValueList uom="urn:ogc:def:uom:unity">9.999 9.999 9.999 9.999 9.999 9.999 9.999 9.999</scaleValueList>




<gml:valueOfParameter xlink:href="urn:ogc:def:parameter:UIGM:1.0:LinearCoefficients"/>



</usesLinearCoefficientsValue>



<usesNumberSectionsValue>




<gml:integerValueList>1 1</gml:integerValueList>




<gml:valueOfParameter xlink:href="urn:ogc:def:parameter:UIGM:1.0:NumberSections"/>



</usesNumberSectionsValue>



<usesSectionParameters>




<includesSectionNumberValue>





<gml:integerValueList>1 1</gml:integerValueList>





<gml:valueOfParameter xlink:href="urn:ogc:def:parameter:UIGM:1.0:SectionNumber"/>




</includesSectionNumberValue>




<includesNormalizationParameters>





<includesEastOffsetValue>






<angleValue uom="urn:ogc:def:uom:degree">99.999</angleValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:EastOffset"/>





</includesEastOffsetValue>





<includesNorthOffsetValue>






<angleValue uom="urn:ogc:def:uom:degree">9.999</angleValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:NorthOffset"/>





</includesNorthOffsetValue>





<includesVerticalOffsetValue>






<lengthValue uom="urn:ogc:def:uom:metre">99.999</lengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:VerticalOffset"/>





</includesVerticalOffsetValue>





<includesEastScaleValue>






<angleValue uom="urn:ogc:def:uom:degree">9.999</angleValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:EastScale"/>





</includesEastScaleValue>





<includesNorthScaleValue>






<angleValue uom="urn:ogc:def:uom:degree">9.999</angleValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:NorthScale"/>





</includesNorthScaleValue>





<includesVerticalScaleValue>






<lengthValue uom="urn:ogc:def:uom:metre">9.999</lengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:VerticalScale"/>





</includesVerticalScaleValue>





<includesRowOffsetValue>






<gridLengthValue uom="urn:ogc:def:uom:PixelSpacing">9999.99</gridLengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:RowOffset"/>





</includesRowOffsetValue>





<includesColumnOffsetValue>






<gridLengthValue uom="urn:ogc:def:uom:PixelSpacing">9999.99</gridLengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnOffset"/>





</includesColumnOffsetValue>





<includesRowScaleValue>






<gridLengthValue uom="urn:ogc:def:uom:PixelSpacing">999.99</gridLengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:RowScale"/>





</includesRowScaleValue>





<includesColumnScaleValue>






<gridLengthValue uom="urn:ogc:def:uom:PixelSpacing">999.99</gridLengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnScale"/>





</includesColumnScaleValue>





<gml:valuesOfGroup xlink:href="urn:ogc:def:method:UIGM:1.0:NormalizationParameters"/>




</includesNormalizationParameters>




<includesPolynomials>





<includesRowNumeratorPowersValue>






<gml:integerValueList>1 1 1</gml:integerValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:RowNumeratorPowers"/>





</includesRowNumeratorPowersValue>





<includesRowNumeratorCoefficientsValue>






<scaleValueList uom="urn:ogc:def:uom:unity">0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999</scaleValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:RowNumeratorCoefficients"/>





</includesRowNumeratorCoefficientsValue>





<includesRowDenominatorPowersValue>






<gml:integerValueList>1 1 1</gml:integerValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:RowDenominatorPowers"/>





</includesRowDenominatorPowersValue>





<includesRowDenominatorCoefficientsValue>






<scaleValueList uom="urn:ogc:def:uom:unity">0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999</scaleValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:RowDenominatorCoefficients"/>





</includesRowDenominatorCoefficientsValue>





<includesColumnNumeratorPowersValue>






<gml:integerValueList>1 1 1</gml:integerValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnNumeratorPowers"/>





</includesColumnNumeratorPowersValue>





<includesColumnNumeratorCoefficientsValue>






<scaleValueList uom="urn:ogc:def:uom:unity">0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999</scaleValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnNumeratorCoefficients"/>





</includesColumnNumeratorCoefficientsValue>





<includesColumnDenominatorPowersValue>






<gml:integerValueList>1 1 1</gml:integerValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnDenominatorPowers"/>





</includesColumnDenominatorPowersValue>





<includesColumnDenominatorCoefficientsValue>






<scaleValueList uom="urn:ogc:def:uom:unity">0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999</scaleValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnDenominatorCoefficients"/>





</includesColumnDenominatorCoefficientsValue>





<gml:valuesOfGroup xlink:href="urn:ogc:def:method:UIGM:1.0:Polynomials"/>




</includesPolynomials>




<gml:valuesOfGroup xlink:href="urn:ogc:def:method:UIGM:1.0:SectionParameters"/>



</usesSectionParameters>



<usesMonoscopicErrors>




<includesReferenceHeightValue>





<lengthValue uom="urn:ogc:def:uom:metre">999</lengthValue>





<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:ReferenceHeight"/>




</includesReferenceHeightValue>




<includesAbsoluteErrorValue>





<lengthValue uom="urn:ogc:def:uom:metre">99.99</lengthValue>





<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:AbsoluteError"/>




</includesAbsoluteErrorValue>




<includesRelativeError>





<includesBinDistancesValue>






<lengthValueList uom="urn:ogc:def:uom:metre">0 1000</lengthValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:BinDistances"/>





</includesBinDistancesValue>





<includesBinErrorValue>






<lengthValue uom="urn:ogc:def:uom:metre">9.99</lengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:BinError"/>





</includesBinErrorValue>





<gml:valuesOfGroup xlink:href="urn:ogc:def:method:UIGM:1.0:RelativeError"/>




</includesRelativeError>




<includesRelativeError>





<includesBinDistancesValue>






<lengthValueList uom="urn:ogc:def:uom:metre">1000 10000</lengthValueList>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:BinDistances"/>





</includesBinDistancesValue>





<includesBinErrorValue>






<lengthValue uom="urn:ogc:def:uom:metre">9.99</lengthValue>






<gml:valueOfParameter xlink:href="urn:ogc:def:method:UIGM:1.0:BinError"/>





</includesBinErrorValue>





<gml:valuesOfGroup xlink:href="urn:ogc:def:method:UIGM:1.0:RelativeError"/>




</includesRelativeError>




<gml:valuesOfGroup xlink:href="urn:ogc:def:method:UIGM:1.0:MonoscopicErrors"/>



</usesMonoscopicErrors>


</UIGM1Transformation>

The above XML example uses dummy values such as "Aaaa" in place of real values for some text string values. Similarly, this example also uses dummy values such as "99.99" in place of real values for some numerical values. This example assumes that the Application Schemas specified in Subclause A.3.3 are accessible using the location UIGM1transformation.xsd.

The above XML example also assumes that (complete) information for several items is available elsewhere. The definition of the sourceCRS and targetCRS are assumed to be available elsewhere, and can be encoded in XML as shown in the example XML in Clause 7 of this document and in Subclauses 6.2.2, 6.3.2, and 6.6.2 of “Recommended XML encoding of common CRS definitions” [OGC 05-011].


The definition of the simplified UIGM OperationMethod can be XML encoded using the example Application Schema from Subclause A.2.3, and could be:


<?xml version="1.0" encoding="UTF-8"?>


<OperationMethod xmlns="http://www.opengis.net/gml" xmlns:gml="http://www.opengis.net/gml" xmlns:ex="http://www.opengis.net/examples" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/examples extendedOperationParameter.xsd http://www.opengis.net/gml ../gml/3.1.1/base/coordinateOperations.xsd" gml:id="MethodUIGM1">



<!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28-->



<methodName>Universal Image Geometry Model Transformation (simplified)</methodName>



<remarks>This operation method implements the universal image geometry model that transforms ground coordinates into georeferenced image coordinates. This image geometry model uses one ratio of two polynomial functions to compute the row image coordinate, and uses a similar ratio of two different polynomials to compute the column image coordinate. All four polynomials are functions of three ground coordinates: two horizontal coordinates and one vertical coordinate. In the polynomial functions, the three ground coordinates and two image coordinates are each offset and scaled to have a range from -1.0 to +1.0 over an image or image section. For brevity, this simplified operation method specification does not include all geometry model parameters or all optional XML elements. </remarks>



<methodFormula>See Section 6.5 of document OGC 04-071. </methodFormula>



<sourceDimensions>3</sourceDimensions>



<targetDimensions>2</targetDimensions>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="ImageID">





<parameterName>Image ID</parameterName>





<remarks>Alphanumeric text identifying one specific original image. </remarks>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">string</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="Version">





<parameterName>Image Support Data Version</parameterName>





<remarks>Increasing numbers of the Image Support Data Version Number are used to identify versions with increasing quality of the image geometry model data for the same original image. This Image Support Data Version field shall be 0 before the original image support data is adjusted. Minimum value is 0, maximum value is 9. </remarks>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">nonNegativeInteger</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="LinearCoefficients">





<parameterName>Linear Sensor Model Coefficients</parameterName>





<remarks>The values of the coefficients of the approximate linear sensor model, which is used to find the proper image geometry model section for a ground coordinate position. The parameter value shall contain an ordered list of eight double precision floating point numbers, four for the section number in the image row axis, followed by four for the image column axis. These coefficients shall be recorded with Scale units, but various implied units are used by the various coefficients. </remarks>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<ex:ExtendedOperationParameter gml:id="NumberSections">





<parameterName>Number of Sections</parameterName>





<remarks>The numbers of rows and columns of sections into which the image geometry model is divided for this image. The parameter value shall contain an ordered list of two small integers, the first specifying the number of rows and the second specifying the number of columns. For each integer, the minimum value is 1, and the maximum value is 8. </remarks>





<ex:parameterType codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType>




</ex:ExtendedOperationParameter>



</usesParameter>



<usesParameter>




<OperationParameterGroup gml:id="SectionParameters">





<groupName>Image Section Parameters</groupName>





<remarks>Parameters for one section of the universal image geometry model. There shall be from 1 up to 64 model sections for one image. If the model for this image is not divided into sections, there shall be only one repetition of this group of parameters. </remarks>





<maximumOccurs>64</maximumOccurs>





<includesParameter>






<ex:ExtendedOperationParameter gml:id="SectionNumber">







<parameterName>Section Number</parameterName>







<remarks>The row and column numbers of this section of the universal image geometry model for this image. The parameter value contains an ordered list of two small integers, the first specifying the row number and the second specifying the column number. For each integer, the minimum value is 1, and the maximum value is 8. </remarks>







<ex:parameterType codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType>






</ex:ExtendedOperationParameter>





</includesParameter>





<includesParameter>






<OperationParameterGroup gml:id="NormalizationParameters">







<groupName>Ground and Image Position Normalization Parameters</groupName>







<remarks>Ground position normalization parameters and image position un-normalization parameters, for this section of the universal image geometry model. </remarks>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="EastOffset">









<parameterName>East Ground Position Offset</parameterName>









<remarks>East position offset for normalizing ground coordinates. The units shall be either length or angle units. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="NorthOffset">









<parameterName>North Ground Position Offset</parameterName>









<remarks>North position offset for normalizing ground coordinates. The units shall be the same as for the East Offset, and either length or angle units. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="VerticalOffset">









<parameterName>Vertical Ground Position Offset</parameterName>









<remarks>Vertical position offset for normalizing ground coordinates. The units shall be length units. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="EastScale">









<parameterName>East Ground Position Scale</parameterName>









<remarks>East scale factor for normalizing ground coordinates. The units shall be the same as for the East Offset, either length or angle units. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="NorthScale">









<parameterName>North Ground Position Scale</parameterName>









<remarks>North scale factor for normalizing ground coordinates. The units shall be the same as for the North Offset, either length or angle units. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="VerticalScale">









<parameterName>Vertical Ground Position Scale</parameterName>









<remarks>Vertical scale factor for normalizing ground coordinates. The units shall be the same as for the Vertical Offset, and shall be length units. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="RowOffset">









<parameterName>Image Row Position Offset</parameterName>









<remarks>Image row position offset for un-normalizing image coordinates. The units shall be one grid spacing. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="ColumnOffset">









<parameterName>Image Column Position Offset</parameterName>









<remarks>Image column position offset for un-normalizing image coordinates. The units shall be one grid spacing. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="RowScale">









<parameterName>Image Row Position Scale</parameterName>









<remarks>Image row scale factors for un-normalizing image coordinates. The units shall be one grid spacing. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="ColumnScale">









<parameterName>Image Column Position Scale</parameterName>









<remarks>Image column scale factors for un-normalizing image coordinates. The units shall be one grid spacing. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>






</OperationParameterGroup>





</includesParameter>





<includesParameter>






<OperationParameterGroup gml:id="Polynomials">







<groupName>Numerator and Denominator Polynomials</groupName>







<remarks>Numerator and denominator polynomial parameters for this section of the universal image geometry model. </remarks>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="RowNumeratorPowers">









<parameterName>Row Numerator Maximum Powers</parameterName>









<remarks>Maximum powers of the three ground coordinates in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="RowNumeratorCoefficients">









<parameterName>Row Numerator Polynomial Coefficients</parameterName>









<remarks>Polynomial coefficients in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="RowDenominatorPowers">









<parameterName>Row Denominator Maximum Powers</parameterName>









<remarks>Maximum powers of the three ground coordinates in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="RowDenominatorCoefficients">









<parameterName>Row Denominator Polynomial Coefficients</parameterName>









<remarks>Polynomial coefficients in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="ColumnNumeratorPowers">









<parameterName>Column Numerator Maximum Powers</parameterName>









<remarks>Maximum powers of the three ground coordinates in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="ColumnNumeratorCoefficients">









<parameterName>Column Numerator Polynomial Coefficients</parameterName>









<remarks>Polynomial coefficients in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="ColumnDenominatorPowers">









<parameterName>Column Denominator Maximum Powers</parameterName>









<remarks>Maximum powers of the three ground coordinates in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="ColumnDenominatorCoefficients">









<parameterName>Column Denominator Polynomial Coefficients</parameterName>









<remarks>Polynomial coefficients in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>






</OperationParameterGroup>





</includesParameter>




</OperationParameterGroup>



</usesParameter>



<usesParameter>




<OperationParameterGroup gml:id="MonoscopicErrors">





<groupName>Monoscopic Error Estimates</groupName>





<remarks>Horizontal error estimates for when a position in this one image is used to determine the corresponding ground coordinates, using this universal image geometry model for this image. </remarks>





<includesParameter>






<ex:ExtendedOperationParameter gml:id="ReferenceHeight">







<parameterName>Monoscopic Error Estimate Reference Height</parameterName>







<remarks>The value of the ground elevation or height used to estimate the recorded horizontal error estimate when a position in this one image is used to determine the corresponding ground coordinates. This reference height is in the Vertical coordinate system axis of the ground CRS used by the universal image geometry model for this image. </remarks>







<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>






</ex:ExtendedOperationParameter>





</includesParameter>





<includesParameter>






<ex:ExtendedOperationParameter gml:id="AbsoluteError">







<parameterName>Monoscopic Absolute Error Estimate</parameterName>







<remarks>The value of the horizontal absolute error estimate when a position in this one (monoscopic) image is used to determine the corresponding ground coordinates. This error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one metre units. The minimum value is 0.0. </remarks>







<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>






</ex:ExtendedOperationParameter>





</includesParameter>





<includesParameter>






<OperationParameterGroup gml:id="RelativeError">







<groupName>Bin Relative Error Estimates</groupName>







<minimumOccurs>0</minimumOccurs>







<remarks>Relative error estimate for one distance bin between two points. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. </remarks>







<maximumOccurs>9</maximumOccurs>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="BinDistances">









<parameterName>Monoscopic Relative Error Estimate Bin Distances</parameterName>









<remarks>The minimum and maximum ground distances between two points for this distance bin recorded for horizontal relative error estimates. The parameter value shall contain an ordered list of two Length measures, always in one metre units. The first value specifies the bin minimum distance, and the second value specifies the bin maximum distance. The minimum values are 0.0. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthListType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>







<includesParameter>








<ex:ExtendedOperationParameter gml:id="BinError">









<parameterName>Bin Monoscopic Relative Error Estimate</parameterName>









<remarks>The value of the horizontal relative error estimate between two points for this distance bin recorded for horizontal relative error estimates. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. The relative error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one metre units. The minimum value is 0.0. </remarks>









<ex:parameterType codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType>








</ex:ExtendedOperationParameter>







</includesParameter>






</OperationParameterGroup>





</includesParameter>




</OperationParameterGroup>



</usesParameter>


</OperationMethod>

Annex B
(informative)

Image coordinate operation methods


B.1
Introduction


This annex discusses the following non-exhaustive list of coordinate transformation types applicable to image coordinate reference systems: 


m) Ground-to-image transformations

n) Elevation coverage for 2D to 3D coordinate transformations


o) Single-image-to-ground transformations


p) Elevation coverage with single-image-to-ground transformations


B.2
Ground-to-image transformations


This set of operation methods defines transformations used for ground-to-image coordinate transformations, with one method used for each image geometry model type. The input to such a transformation is usually 3D ground coordinates, and the output is usually 2D image coordinates. These methods will usually use operation parameters for directly transforming 3D ground coordinates to 2D image coordinates.


B.3
Elevation coverage for 2D to 3D coordinate transformation


This operation method defines a transformation using an elevation coverage for 2D to 3D coordinate transformations. One operation method can be used for each elevation coverage format, with one operation parameter that references the elevation coverage data. The input to this transformation is 2D horizontal coordinates (plus the separately specified elevation coverage), and the output is 3D coordinates. This transformation can be used in a Concatenated Operation with a ground-to-image transformation, to go from 2D ground coordinates to 2D image coordinates.


B.4
Single-image-to-ground transformations


This set of operation methods defines transformations used for single (or monoscopic) image-to-ground transformations, with one operation method used for each image geometry model type. These methods could use parameters for directly transforming 2D image coordinates to multiple 3D ground coordinates. Alternately, these transformations could use parameters for directly transforming 3D ground coordinates to 2D image coordinates (like ground-to-image transformations).


The output from such a transformation is usually 3D ground coordinates, and the input can be 2D image plus 3D ground coordinates. In that case, the 3D ground coordinates are used to provide a fixed elevation value, to be used with the 2D image input coordinates. The horizontal position is included with each elevation to facilitate ground coordinate transformations. Inclusion of the horizontal position also allows the client to provide an approximate horizontal ground position, when known. Server software implementing such transformations is allowed to make use of this approximate horizontal position, to speed computation.


B.5
Elevation coverage with single-image-to-ground transformation


This operation method defines a transformation using an elevation coverage with a single-image-to-ground transformation. One operation method can be used for each elevation coverage format, with one operation parameter that references the elevation coverage data. This assumes that interface implementations will first use a separate single-image-to-ground transformation to compute two or more points along the image ray. The implementation will then intersect this ray with the ground shape defined by the elevation coverage.


The output from this transformation is usually 3D ground coordinates, and the input can be 2D image plus 3D ground coordinates (plus the separately specified elevation coverage). In that case, the input 3D ground coordinates are used to provide an approximate elevation value, to be used with the 2D image input coordinates. The horizontal position is included with each elevation to facilitate ground coordinate transformations. Inclusion of the horizontal position also allows the client to provide an approximate horizontal ground position, when known. Server software implementing such transformations is allowed to make use of this approximate horizontal position, to speed computation.


Bibliography


[1] ISO 19118, Geographic information – Encoding


[2] Version N1316 of ISO CD 19118: Geographic information - Encoding is supplemented by XML Schema documents posted on David Skogan’s web page on ISO 19118 encoding: http://www.ifi.uio.no/~davids/encoding.


[3] OGC 00-045r1, Draft RFC on Image Coordinate Transformations


[4] OGC 01-009, Implementation Specification: Coordinate Transformation Services


[5] OGC 03-010r9, Recommended XML encoding of coordinate reference systems and coordinate transformations


[6] OGC 04-071, Some image geometry models


[7] OGC 05-013, Web Coordinate Transformation Service (WCTS) Implementation Specification (draft)

[8] 

[9] OGC 05-014, Image CRSs for IH4DS

		viii

		© Open Geospatial Consortium (2005)





© Open Geospatial Consortium (2005)
vii





05-027r1 Image CRSs Paper.pdf


 


 


Open Geospatial Consortium Inc. 
Date: 2005-04-14 


Reference number of this OGC™ document: OGC 05-027r1 


Version: 1.1.0 


Category: OGC™ Recommendation Paper 


Editor: Arliss Whiteside 


Recommended XML/GML 3.1.1 encoding  
of image CRS definitions  


Copyright © Open Geospatial Consortium (2005) 


Recipients of this document are invited to submit, with their comments, notification 
of any relevant patent rights of which they are aware and to provide supporting 
documentation. 


Document type:   OGC™ Recommendation Paper 
Document subtype:  (none) 
Document stage:  Expanded Recommendation Paper 
Document language: English 


  
 







OGC 05-027r1 


Contents Page 


i. Preface......................................................................................................................v 


ii. Document contributor contact points.......................................................................v 


iii. Revision history ..................................................................................................... vi 


iv. Changes to the OGC Abstract Specification.......................................................... vi 


v. Future work............................................................................................................ vi 


Foreword ........................................................................................................................... vii 


Introduction...................................................................................................................... viii 


1 Scope........................................................................................................................1 


2 Conformance............................................................................................................1 


3 Normative references ...............................................................................................1 


4 Terms and definitions ..............................................................................................3 


5 Conventions .............................................................................................................3 
5.1 Symbols (and abbreviated terms).......................................................................3 
5.2 UML Notation....................................................................................................4 
5.3 Document terms and definitions ........................................................................4 


6 Unrectified image coordinate reference systems .....................................................4 
6.1 Overview............................................................................................................4 
6.2 Simple UML model ...........................................................................................5 
6.3 Full XML document template............................................................................6 
6.4 Recommended simple XML document template ..............................................8 
6.5 Full UML model ................................................................................................9 


7 Georectified image coordinate reference systems .................................................10 
7.1 Overview..........................................................................................................10 
7.2 Simple UML model .........................................................................................11 
7.3 Full XML document template..........................................................................12 
7.4 Recommended simple XML document template ............................................17 
7.5 Full UML model ..............................................................................................20 


8 Coordinate transformations....................................................................................22 
8.1 Introduction......................................................................................................22 
8.2 Simple UML model .........................................................................................22 
8.3 XML document example templates .................................................................23 


8.3.1 Image georeferencing Transformation full template .................................23 
8.3.2 Image georeferencing Transformation recommended simple template.....24 
8.3.3 Grid elevation model Transformation full template ..................................25 


ii © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


8.3.4 Grid elevation model Transformation recommended simple template......26 
8.3.5 Concatenated operation full template ........................................................27 
8.3.6 Concatenated operation recommended simple template............................27 
8.3.7 XML schema fragment ..............................................................................30 


8.4 Full UML model ..............................................................................................30 


9 Standard URNs and XML definitions....................................................................32 
9.1 Overview..........................................................................................................32 
9.2 Image CRSs with origin in centre of first pixel ...............................................32 
9.3 Image CRSs with origin in corner of first pixel...............................................34 
9.4 Grid 2D square coordinate system...................................................................35 
9.5 Row coordinate axis.........................................................................................36 
9.6 Column coordinate axis ...................................................................................37 
9.7 Image datum at pixel center.............................................................................37 
9.8 Image datum at pixel corner ............................................................................38 
9.9 Grid spacing unit of measure ...........................................................................39 


10 Supporting information..........................................................................................39 


Annex A (informative)  Application schema examples.....................................................40 
A.1 Introduction......................................................................................................40 
A.2 Extended operation parameter definition.........................................................40 


A.2.1 Introduction................................................................................................40 
A.2.2 UML package.............................................................................................40 
A.2.3 Application schema....................................................................................41 
A.2.4 Standard contents of parameterType .........................................................43 
A.2.5 Example XML document...........................................................................48 


A.3 Universal image geometry model transformation............................................49 
A.3.1 Introduction................................................................................................49 
A.3.2 UML package.............................................................................................50 
A.3.3 Application schemas ..................................................................................56 
A.3.4 Example XML documents .........................................................................71 


Annex B (informative)  Image coordinate operation methods ..........................................75 
B.1 Introduction................................................................................................84 
B.2 Ground-to-image transformations..............................................................84 
B.3 Elevation coverage for 2D to 3D coordinate transformation.....................84 
B.4 Single-image-to-ground transformations ...................................................84 
B.5 Elevation coverage with single-image-to-ground transformation .............85 


Bibliography ......................................................................................................................86 
  


© Open Geospatial Consortium (2005) iii 
 







OGC 05-027r1 


Figures Page 
Figure 1— ImageCRS simple UML class diagram......................................................................... 5 
Figure 2 — ImageCRS full UML class diagram........................................................................... 10 
Figure 3 — DerivedCRS simple UML class diagram................................................................... 12 
Figure 4 — DerivedCRS full UML class diagram........................................................................ 21 
Figure 5 — Transformation and ConcatenatedOperation simple class diagram........................... 22 
Figure 6 — Transformation and ConcatenatedOperation full UML class diagram ...................... 31 
Figure A.1 — UML package for Extended Operation Method..................................................... 41 
Figure A.3 — UML package for UIGM transformation, page 1................................................... 51 
Figure A.3 — UML package for UIGM transformation, page 2................................................... 52 
Figure A.5 — UML package for UIGM transformation, page 3................................................... 53 
Figure A.6 — UML package for UIGM transformation, page 4................................................... 54 
Figure A.7 — UML package for UIGM transformation, page 5................................................... 55 


Tables Page 
Table 1 — Standard URNs for unrectified images CRSs ............................................................. 32 


iv © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


i. Preface 


This expanded OGC™ Recommendation Paper specifies XML encoding of data defining 
image coordinate reference systems and coordinate operations. The previous version was 
limited to CRSs for individual (monoscopic) unrectified images. This extension also 
covers georectified images. This paper might be expanded in the future to also cover 
stereoscopic images. 


This expanded paper adapts more the parts of [OGC 05-014], titled Image CRSs for 
IH4DS. 


Many key contents of this paper are provided in the attached set of files, in the same zip 
file. These files include the: 


a) Example XML documents included and XML Schemas referenced in Clause 6 
“Unrectified image coordinate reference systems”, Clause 7 “Georectified image 
coordinate reference systems”, and Clause 8 “Coordinate transformations” 


b) Standard definitions encoded in XML in Clause 9 “Standard URNs and XML 
definitions” 


c) Example Application Schemas and XML documents in Annex A "Application 
schema examples". 


The changes made in this document version, relative to the previous version, are tracked 
by Microsoft Word, and can be viewed if desired. If you choose to submit suggested 
changes by editing this document, please first accept all the current changes, and then 
make your suggested changes with change tracking on. 


ii. Document contributor contact points 


All questions regarding this document should be directed to the editor or the contributors: 


Person Company Address Phone Email 


Arliss Whiteside BAE SYSTEMS 
National Security 
Solutions 


10920 Technology Dr. 
San Diego, CA  
92127-1874 USA 


+1 858-592-1608 Arliss.Whiteside@bae
systems.com 


     
 


© Open Geospatial Consortium (2005) v 
 







OGC 05-027r1 


iii. Revision history 


Date Release Editor Primary clauses 
modified 


Description 


2004-12-09 0.0.0 Arliss 
Whiteside 


All Initial version 


2005-01-28 1.0.0 Arliss 
Whiteside 


Cover, i Edited as approved Recommendation Paper 


2005-03-08 1.0.1 Arliss 
Whiteside 


7, 8 Added new Clauses 7 and 8 


2005-04-14 1.1.0 Arliss 
Whiteside 


Cover, i, 7.2, 8.3 Edited as approved Recommendation Paper 


 


iv. Changes to the OGC Abstract Specification 


The OGC™ Abstract Specification does not require changes to accommodate the 
technical contents of this document. 


v. Future work 


Improvements of this document are needed to: 


a) Modify XML schemas to reflect recent changes in the Topic 2 UML model [OGC 04-
046r3] 


b) Specify standard XML encodings of some well-known operation methods, coordinate 
operations, CRSs, units, etc., and specify URNs to reference them 


vi © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


Foreword 


This OGC™ Recommendation Paper expands and supersedes previous OGC 
Recommendation Paper numbered 05-012, also titled "Recommended XML/GML3.1.1 
encoding of image CRS definitions". This document is based on the GML 3.1.1 OGC 
Recommendation Paper [04-092r4]. This document uses XML Schemas as specified by 
the W3C. 


This document contains two informative annexes. 


Attention is drawn to the possibility that some of the elements of this document may be 
the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held 
responsible for identifying any or all such patent rights. 


© Open Geospatial Consortium (2005) vii 
 







OGC 05-027r1 


Introduction 


This document recommends standard XML encodings of data defining monoscopic 
image coordinate reference systems. The scope of this encoding now includes unrectified 
and georectified images. The recommended CRSs for georectified images are 
recommended for multiple georectified images that are ready to be mosaicked together. 


These recommended encodings are based on GML 3.1.1 and use XML Schemas. These 
image CRS definitions will often be referenced in data transferred between client and 
server software that implements various standardised interfaces. This specified definition 
data encoding is expected to be used by multiple OGC Implementation Specifications. 
That is, each of these specifications is expected to use a subset and/or superset of this 
recommended definition data. 


The position or location of a point can be described using coordinates. Such coordinates 
are unambiguous only when the coordinate reference system on which those coordinates 
are based is fully defined. Each position is described by a set of coordinates based on a 
specified coordinate reference system. Coordinates are often used in datasets in which all 
coordinates belong to the same coordinate reference system. This paper specifies XML 
encoding of data defining image coordinate reference systems. 


viii © Open Geospatial Consortium (2005)
 







OGC™ Recommendation Paper OGC 05-027r1


 


Recommended XML/GML 3.1.1 encoding of image CRS 
definitions 


1 Scope 


This OGC™ Recommendation Paper specifies standard XML encodings of definition 
data for monoscopic image coordinate reference systems and coordinate operations. 
These recommended encodings are based on GML 3.1.1 and use XML Schemas. This 
encoding is intended for use when referencing or transferring such definition data 
between client and server software that uses OGC standard interfaces, as specified in 
other documents. The expected uses of this definition data transfer include those 
described in Annex B of document [OGC 05-011]. 


The scope of this encoding now includes unrectified and georectified images. The 
recommended CRSs for georectified images are recommended for multiple georectified 
images that are ready to be mosaicked together. The current scope of this encoding does 
not include stereoscopic (multiple) images exploited together. 


This Recommendation Paper specifies standard XML encodings of image CRS definition 
data applicable to multiple separate OGC interface Implementation Specifications. Each 
such Implementation Specification should specify one or more subsets and/or supersets 
of the definition data specified herein, each to be used for one or more purposes. That is, 
for each operation specified, the Implementation Specification should specify which 
specific image CRSs should be supported. 


This document also defines a Profile of GML 3.1.1 for unrectified image CRSs. That 
profile includes all the elements and types in all the XML Schema fragments listed 
herein. That profile omits essentially all the CRS-related GML 3.1.1 elements and types 
not discussed in this document. 


2 Conformance 


Conformance with this specification shall be checked using all the relevant tests specified 
in each separate specification that normatively references this specification, and 
specifically references the applicable parts of this specification. 


3 Normative references 


The following normative documents contain provisions which, through reference in this 
text, constitute provisions of this specification. For dated references, subsequent 


© Open Geospatial Consortium (2005) 1 
 







OGC 05-027r1 


amendments to, or revisions of, any of these publications do not apply. For undated 
references, the latest edition of the normative document referred to applies. 


IETF RFC 2141 (May 1997), URN Syntax, R. Moats 
<http://www.ietf.org/rfc/rfc2141.txt> 


IETF RFC 2396 (August 1998), Uniform Resource Identifiers (URI): Generic Syntax, 
Berners-Lee, T., Fielding, N., and Masinter, L., eds., 
<http://www.ietf.org/rfc/rfc2396.txt> 


ISO 8601, Data elements and interchange formats - Information interchange 
Representation of dates and times 


ISO 19105:2000, Geographic information — Conformance and Testing 


ISO 19109:2004, Geographic Information – Rules for Application Schemas 


ISO 19115:2003, Geographic information — Metadata 


OGC 99-107, OGC Abstract Specification Topic 7: The Earth Imagery Case, old version 


OGC 04-046r3, The OpenGIS Abstract Specification, Topic 2: Spatial referencing by 
coordinates 


OGC 04-092r4, Geography Markup Language (GML) version 3.1.1 schemas (draft) 


OGC 05-008, OGC Web Services Common Specification 


OGC 05-010, URNs of definitions in ogc namespace 


OGC 05-011, Recommended XML/GML 3.1.1 encoding of common CRS definitions 


W3C Recommendation 6 October 2000, Extensible Markup Language (XML) 1.0 
(Second Edition), http://www.w3.org/TR/REC-xml 


W3C Recommendation 2 May 2001: XML Schema Part 0: Primer, 
http://www.w3.org/TR/2001/REC-xmlschema-0-20010502/


W3C Recommendation 2 May 2001: XML Schema Part 1: Structures, 
http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/


W3C Recommendation 2 May 2001: XML Schema Part 2: Datatypes, 
http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/


In addition to this document, this Recommendation Paper includes several normative 
XML Schema files and XML documents. After this document is approved, these files 
will be posted online at the URL http://schemas.opengeospatial.net/ImageCRSs/1.1.0. 
These XML Schema files are also bundled with the present document. In the event of a 


2 © Open Geospatial Consortium (2005)
 



http://www.w3.org/TR/2001/REC-xmlschema-0-20010502/

http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/

http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/





OGC 05-027r1 


discrepancy between the bundled and online versions of the XML Schema files, the 
online files shall be considered authoritative. 


4 Terms and definitions 


For the purposes of this specification, many of the definitions specified in Clauses 4 of 
the OGC Abstract Specification Topic 2 [04-046r3] and OWS Common Specification 
[OGC 05-008] shall apply. In addition, the following terms and definitions apply. 


4.1  
Application Schema 
conceptual schema for data required by one or more applications [ISO 19101] 


4.2  
GML Application Schema 
an XML Schema written according to the GML 3 rules for Application Schemas, which 
defines a vocabulary of geographic objects for a particular domain of discourse [GML 
3.0] 


4.3  
object 
an XML document element of a type derived from AbstractGMLType [GML 3.0] 


4.4  
profile 
specified logical subset of XML Schema specified elements and types, defined to 
enhance interoperability and to curtail ambiguity [adapted from GML 3.0] 


4.5  
sequence 
finite, ordered collection of related items (objects or values) that may be repeated [ISO 
19107] 


4.6  
set 
unordered collection of related items (objects or values) with no repetition [ISO 19107] 


4.7  
Uniform Resource Identifier (URI)  
simple and extensible means for identifying a resource; a short string or address; 
classified as a name, a locator, or both [RFC 2396] 


5 Conventions 


5.1 Symbols (and abbreviated terms) 


CRS Coordinate Reference System 


© Open Geospatial Consortium (2005) 3 
 







OGC 05-027r1 


GML Geography Markup Language 


IETF Internet Engineering Task Force 


ISO International Organization for Standardization 


OGC Open Geospatial Consortium 


OWS OGC Web Service, or Open Web Service 


TBD To Be Determined 


TBR To Be Reviewed 


UML Unified Modeling Language 


URI Universal Resource Identifier 


URL Uniform Resource Locator 


URN Universal Resource Name 


XML eXtensible Markup Language 


1D One Dimensional 


2D Two Dimensional 


3D Three Dimensional 


5.2 UML Notation 


All diagrams in this document are Unified Modeling Language (UML) class diagrams, as 
described in Subclause 5.2 of [OGC 05-008]. 


5.3 Document terms and definitions 


This document uses the specification terms defined in Subclause 5.3 of [OGC 05-008]. 


6 Unrectified image coordinate reference systems 


6.1 Overview 


The definition of the CRS of each unrectified image shall be represented by the 
SC_ImageCRS class in the UML model in Topic 2. (This SC_ImageCRS class is clearly 
the best alternative for modelling the CRS of each unrectified image.) The definition of 
this class shall be XML encoded using the CRS portion of GML 3.1.1. 


This CRS of each unrectified image shall be identified as the CRS of feature geometries 
measured or computed in that unrectified image. This CRS will also be used for 
identification of the georeferencing coordinate transformations discussed in Subclause 
7.2.2.1 of the “WCTS profile for unrectified images” [draft]. 


4 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


NOTE  An unrectified image is usually georeferenced to a 3D CRS that represents positions relative to 
the earth (or other planet or moon). That 3D CRS can be represented by a 3D GeographicCRS, 
GeocentricCRS, or CompoundCRS in the UML model in Topic 2. Such a CompoundCRS combines a (2D) 
ProjectedCRS with a (1D) VerticalCRS. 


This clause specifies how to define the CRS-related objects for unrectified images. These 
definitions are usually not required to be transferred between servers and clients. 
However, these definitions shall be used in defining georeferencing coordinate 
transformations, and shall be referenced by those coordinate transformation definitions. 


References to these CRSs shall be in the form of the anyURI type specified by XML 
Schema. As specified in Subclause 10.3 of [05-008], such an anyURI value can be either 
a URL with standard form or a URN in the “ogc” URN namespace. 


6.2 Simple UML model 


Figure 1 is a simplified UML class diagram extracted from Topic 2 that shows all the 
concrete (non-abstract) object classes and associations related to the SC_ImageCRS 
class. To keep this diagram simple, none of the class attributes are displayed. This 
diagram shows that the SC_ImageCRS class can use either a CS_CartesianCS or 
CS_AffineCS, but a CS_AffineCS is rarely used and is not required by this WCTS 
profile. 


    {XOR}


Rarely used


CD_ImageDatum
(from CD_Datum)


CS_CartesianCS
(from CS_CoordinateSystem)


CS_CoordinateSystemAxis
(from CS_CoordinateSystem)


2


0..*


+usesAxis 2


0..*


SC_ImageCRS
(from SC_CoordinateReferenceSystem)


0..* 10..*


+usesDatum


1


0..1


0..*


+usesCartesianCS 0..1


0..*


CS_AffineCS
(from CS_CoordinateSystem)


2


0..*


+usesAxis2


0..*


0..1


0..*0..*


0..1 +usesAffineCS


 


Figure 1— ImageCRS simple UML class diagram 


Notice that the ImageCRS class does NOT include or reference any coordinate 
Transformations or operations which can be used to georeference this image. However, 
the coordinate Transformations or operations available to georeference an unrectified 
image can be saved with that image. These transformations must reference or include the 
SC_ImageCRS used for that unrectified image. 


© Open Geospatial Consortium (2005) 5 
 







OGC 05-027r1 


6.3 Full XML document template 


An example template XML document completely defining an ImageCRS is: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml fragmentImageCRSs.xsd" 
gml:id="ImageTBDCRSpixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <srsName>Image TBD CRS pixel centers</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpix
elCenter</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 
image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the center of the first pixel in the image 
file. This CRS definition can be used for any size image, since no 
image size is specified.  
 
This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS> 
  <CartesianCS gml:id="Grid2dSquareCS"> 
   <csName>2D square-cell grid based coordinate system</csName> 
   <csID> 
    <name 
codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name> 
   </csID> 
   <remarks>A 2D grid-based coordinate system for use by an image 
or other continuous grid coverage. It can be used for a grid of any 
size, since no grid size is defined. This coordinate system specifies 
that each row coordinate value shall be listed before the column 
coordinate value. The grid cells are assumed to be square, with the 
same grid spacing or pixel spacing in each direction.  
 
In a grid coverage file, the "row" axis shall be the first axis by 
which grid points are sequenced, and the "column" axis shall be the 
second axis, as could be specified by the "scanDirection : 
Sequence(CharacterString)" attribute of the CV_SequenceRule class in 
Clause 8 of ISO 19123. With linear sequencing, the grid points in the 
first row shall be listed first, followed by other rows, with the grid 
points in each row listed in column number order. This relationship 
between the "row" and "column" names and the first grid points shall 


6 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


apply whether this Grid2dSquareCS is associated with a grid file before 
or after that file is recorded. 
 
The "row" and "column" axis names are used here although the 
"scanDirection : Sequence(CharacterString)" attribute may provide other 
axis names. Use of other axis names would require defining different 
CartesianCSs for other names, or adding other names as additional 
axisID values. The following XML includes the axis names "line" and 
"sample" as additional axisID values. 
 
If not otherwise identified in an image file, the "row" axis shall be 
the first axis whose number of pixels is identified, and the "column" 
axis shall be the second axis, as could be specified by the 
"extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in 
Clause 8 of ISO 19123. In either case, the first point in the grid 
coverage file is assumed to be numbered (1, 1), meaning row 1, column 
1.  
 
The first row in a grid is sometimes called the "top" row, the first 
column is sometimes called the "left" column, and the first grid point 
is then called the "upperLeft" point. If desired, those names can be 
used with this Grid2dSquareCS. However other names can also be used, 
since this Grid2dSquareCS has been defined so that it does not depend 
on such left/right, top/bottom, and up/down names. </remarks> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Row" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid row axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name> 
     </axisID> 
     <remarks>For this grid axis, row coordinate values match 
grid row numbers, but allow fractional coordinate values between grid 
points. The first row in a grid is sometimes called the "top" row, so 
the direction of this axis is "down", but these terms are not required. 
</remarks> 
     <axisAbbrev>R</axisAbbrev> 
    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDi
rection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Column" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid column axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name> 
     </axisID> 
     <remarks>For this grid axis, column coordinate values 
match grid column numbers, but allow fractional coordinate values 
between grid points. The first column is sometimes called the "left" 
column, so the direction of this axis is "right", but these terms are 
not required. </remarks> 
     <axisAbbrev>C</axisAbbrev> 


© Open Geospatial Consortium (2005) 7 
 







OGC 05-027r1 


    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axi
sDirection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
  </CartesianCS> 
 </usesCartesianCS> 
 <usesImageDatum> 
  <ImageDatum gml:id="ImageDatumPixelCenter"> 
   <datumName>Origin at center of first pixel</datumName> 
   <datumID> 
    <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name> 
   </datumID> 
   <remarks>A 2D image datum with the origin at the center of the 
first pixel in the image file. In an image file, the pixels in the 
first row are assumed to be listed first, followed by other rows, with 
pixels in each row listed (and collected) in column number order. 
</remarks> 
   <anchorPoint>center of first pixel</anchorPoint> 
   <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell> 
  </ImageDatum> 
 </usesImageDatum> 
</ImageCRS> 
  


6.4 Recommended simple XML document template 


The above template XML document can be simplified by referencing the standard XML 
documents specified in Clause 8, becoming: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml fragmentImageCRSs.xsd" 
gml:id="ImageTBDCRSpixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 --> 
 <srsName>Image TBD CRS pixel centers</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">ImageTBDCRSpix
elCenter</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 
image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the center of the first pixel in the image 
file. This CRS definition can be used for any size image, since no 
image size is specified.  
 


8 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS 
xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/> 
</ImageCRS> 
  
This simplified template XML document is recommended for use in defining the CRSs of 
unrectified images. Of course, the included XML comments and <remarks> elements can 
be removed or edited. 


The corresponding GML 3.1.1 XML Schema fragment for defining an ImageCRS is 
attached in the file fragmentImageCRSs.xsd. 


6.5 Full UML model 


Figure 2 is a more complete UML class diagram extracted from Topic 2 that shows 
essentially all the classes and associations related to the SC_ImageCRS class.  


© Open Geospatial Consortium (2005) 9 
 







OGC 05-027r1 


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier
+ alias [0..*] : GenericName
+ remarks [0..1] : CharacterString


(from IO_Identi fiedObject)


<<Abstract>>
RS_ReferenceSystem


+ name : RS_Identifier
+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


SC_CRS


+ scope [0..*] : CharacterString
(from SC_CoordinateReferenceSystem)


<<Abstract>>


EX_Extent
(from EX_Extent)


<<DataType>>


MD_Identifier


+ authority [0..1] : CI_Citation
+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString
+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


IO_IdentifiedObject


+ name : RS_Identifier
(from IO_Identi fiedObject)


<<Abstract>>
CS_RangeMeaning


+ exact
+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>
CS_AxisDirection


+ columnNegative
+ columnPositive
+ rowNegative
+ rowPositive


(from CS_CoordinateSystem)


<<CodeList>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString
+ axisDirection : CS_AxisDirection
+ axisUnitID : UnitOfMeasure
+ minimumValue [0..1] : Number
+ maximumValue [0..1] : Number
+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem
(from CS_CoordinateSystem)


<<Abstract>>


0..*


0..*


+usesAxis


0..*
{ordered}


0..*
CD_Datum


+ anchorPoint [0..1] : CharacterString
+ realizationEpoch [0..1] : Date
+ domainOfValidity [0..1] : EX_Extent
+ scope [0..*] : CharacterString


(from CD_Datum)


<<Abstract>>


CD_PixelInCell


+ cellCenter
+ cellCorner


(from CD_Datum)


<<CodeList>>


Defined in 
ISO 19115


    {XOR}


SC_SingleCRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


CD_ImageDatum


+ pixelinCell : CD_PixelinCell
(from CD_Datum)


CS_CartesianCS
(from CS_CoordinateSystem)


CS_AffineCS
(from CS_CoordinateSystem)SC_ImageCRS


(from SC_CoordinateReferenceSystem)


0..*1 0..*


+usesDatum


1


0..1


0..*


+usesCartesianCS 0..1


0..*


0..10..*


+usesAffineCS


0..10..*


 


Figure 2 — ImageCRS full UML class diagram 


7 Georectified image coordinate reference systems 


7.1 Overview 


The definition of the CRSs used for multiple georectified images should be represented 
by the SC_DerivedCRS class in the UML model in Topic 2. This SC_DerivedCRS class 
is not the only alternative for representing the definition of the CRS of a georectified 
image, but is recommended when multiple georectified images do or should use the same 
image CRS. Multiple georectified images must use the same CRS, or closely related 
CRSs, when those georectified images are directly ready for image mosaicking. 


10 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


To support image mosaicking, these georectified images must use exactly the same pixel 
positions wherever they (do or might) overlap. This means that the grids must have the 
same baseCRSs, grid point spacings in that CRS, and grid rotation in that CRS. When 
different origins are used, these origins must be grid points in the same SC_DerivedCRS. 


This CRS for a georectified image should be identified as the CRS of feature geometries 
measured or computed in that georectified image. This CRS should also be used for 
identification of the georeferencing coordinate transformations discussed in Subclause 
7.2.2.1 of the “WCTS profile for unrectified images” [draft]. 


NOTE 1 The gml:RectifiedGrid element in grids.xsd specifies the locations of a grid of points in a base 
or external coordinate reference system (CRS). The relationship between those grid points and the image 
pixels is largely defined by gml:coverageFunction. However, a gml: _Coverage is not a CRS, so does not 
define a CRS suitable for positions that are measured or computed in that georectified image. Also, it does 
not define a CRS that can be used as the sourceCRS or TargetCRS of a coordinate Transformation. 


The definition of this class shall be XML encoded using the CRS portion of GML 3.1.1. 
The baseCRS of a georectified image SC_DerivedCRS is 2D and is usually either a 
GeographicCRS or a ProjectedCRS. The usesCS Coordinate System of a georectified 
image SC_DerivedCRS specifies a 2D grid of positions, with integer coordinate values 
designating grid point indices. The definedByConversion of a georectified image 
SC_DerivedCRS specifies the grid origin, grid spacing, and any rotation in the base CRS. 


NOTE 2 Non-integer values of coordinates in the usesCS Coordinate System specify positions between 
the grid points. 


This clause specifies how to define these CRS objects for georectified images. These 
definitions are usually not required to be transferred between servers and clients. 
However, these definitions shall be used in defining the definedByConversion and 
georeferencing coordinate transformations, and shall be referenced by those coordinate 
transformation definitions. 


References to these CRSs shall be in the form of the anyURI type specified by XML 
Schema. As specified in Subclause 10.3 of [05-008], such an anyURI value can be either 
a URL with standard form or a URN in the “ogc” URN namespace. 


7.2 Simple UML model 


Figure 3 is a simplified UML class diagram extracted from Topic 2 that shows all the 
concrete (non-abstract) object classes and associations related to the SC_DerivedCRS 
class when used for a georectified image. To keep this diagram simple, none of the class 
attributes are displayed. This diagram shows that the SC_DerivedCRS class can use as its 
baseCRS either a SC_GeographicCRS or SC_ProjectedCRS. The CC_Conversion class is 
detailed in Subclause 6.4, the SC_GeographicCRS class is detailed in Subclause 6.2, and 
the SC_ProjectedCRS class is detailed in Subclause 6.3, all in [OGC 05-011]. 


© Open Geospatial Consortium (2005) 11 
 







OGC 05-027r1 


SC_DerivedCRSType
(from SC_CoordinateReferenceSystem)


<<CodeList>>


CS_CartesianCS
(from CS_CoordinateSystem)


CS_CoordinateSystemAxis
(from CS_CoordinateSystem)


2


0..*


+usesAxis


0..*


2


SC_GeographicCRS
(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS
(from SC_CoordinateReferenceSystem)


1 0..*


+base
CRS


1 0..*


    {XOR}


SC_DerivedCRS
(from SC_CoordinateReferenceSystem)


1


0..*


+usesCartesianCS1


0..*


0..1


0..*


+baseCRS 0..1 0..1


0..*


+baseCRS0..1


CC_Conversion
(from CC_CoordinateOperation)


1


0..*


+definedBy
Conversion1


0..*


0..* 0..*


 


Figure 3 — DerivedCRS simple UML class diagram 


Notice that this SC_DerivedCRS class does NOT include or reference any coordinate 
Transformations or operations which could be used to georeference the original image 
that was georectified. However, the coordinate Transformations and operations used to 
georeference and georectify the original image should be saved with the georectified 
image. One of these transformations must reference or include the SC_DerivedCRS used 
for that georectified image. 


NOTE  The image georectification process must use a georeferencing coordinate Transformation (or 
ConcatenatedOperation). That georeferencing Transformation must have the unrectified image CRS 
(ImageCRS) as its source (or target) CRS. That georeferencing Transformation could have the georectified 
image CRS (DerivedCRS) as its target (or source) CRS; in this case, the definedByConversion is not used 
to perform the georectification. Alternately, that georeferencing Transformation could have the 
(GeographicCRS or ProjectedCRS) baseCRS of the georectified image CRS (DerivedCRS) as its target (or 
source) CRS; in this case (discussed in Clause 8), the definedByConversion must also be used to perform 
the georectification. There are probably other useful alternatives. 


7.3 Full XML document template 


An example template XML document completely defining a DerivedCRS for a 
georectified image is: 


<?xml version="1.0" encoding="UTF-8"?> 
<DerivedCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentGeorectifiedGridCRSs.xsd" gml:id="GeorectifiedImageXXXXCRS"> 
 <!-- Specific georectified image or grid must be identified in this 
gml:id.  --> 
 <!-- Last updated 2005-03-08 --> 
 <!-- ========================================================== --> 
 <srsName>Georectified Image XXXX CRS</srsName> 
 <!-- Specific georectified image or grid must be identified in 
srsName. --> 
 <srsID> 


12 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


  <name 
codeSpace="urn:opengis:def:crs:OGC:0.20:GeorectifiedImageXXXXCRS">Geore
ctifiedImageXXXXCRS</name> 
  <!-- Specific image must be identified in "name" value. --> 
 </srsID> 
 <remarks>Template for georectified 2D image coordinate reference 
system definition. In this CRS, the origin is at the center of the 
first pixel in the georectified image file. This CRS template can be 
used for any size georectified image, since no image size is specified. 
A CRS definition using this template is expected to be needed and thus 
created before the georectified image pixels are produced. The 
coordinate Conversion used by this CRS definition is expected to NOT 
closely approximate the reverse of the coordinate Transformation used 
to georectify this image. This CRS template is not expected to be 
useful for an ungeorectified image. </remarks> 
 <baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/> 
 <!-- Specific 2D CRS that was georectified into must be identified 
in baseCRS, usually a ProjectedCRS or GeographicCRS --> 
 <!-- ================================================= --> 
 <definedByConversion> 
  <Conversion gml:id="GeorectifiedImageXXXXConversion"> 
   <!-- Specific georectified image or grid must be identified in 
this gml:id. --> 
   <coordinateOperationName>Georectified image XXXX 
conversion</coordinateOperationName> 
   <!-- Specific image must be identified in this 
coordinateOperationName. --> 
   <usesMethod> 
    <OperationMethod gml:id="EPSG9624"> 
     <methodName>Affine general parametric 
transformation</methodName> 
     <methodID> 
      <name 
codeSpace="urn:opengis:method:EPSG:6.3:">9624</name> 
     </methodID> 
     <methodFormula> 
XT   =  A0  +  A1. XS  +  A2.YS;  
YT   =  B0  +  B1. XS  +  B2.YS;  
where XT , YT  are the coordinates of a point P in the target 
coordinate system;  
  XS , YS  are the coordinates of P in the source coordinate 
system.  
 
Reversibility: The parameter values for an affine transformation cannot 
be used for the reverse transformation. However, the reverse 
transformation is another affine transformation using the same formulas 
but with different parameter values. The reverse parameter values, 
indicated by a prime ('), can be calculated from those of the forward 
transformation as follows: 
D    = A1 . B2   -   A2 . B1;  
A0' = (A2 . B0   -   B2 . A0) / D;  
B0' = (B1 . A0   -   A1 . B0) / D;  
A1' = +B2 / D;  
A2' = - A2 / D;  
B1' = - B1 / D;  
B2' = +A1 / D.  
 
See Section 2.4.2.1 of EPSG Guidance Note 7. </methodFormula> 


© Open Geospatial Consortium (2005) 13 
 







OGC 05-027r1 


     <sourceDimensions>2</sourceDimensions> 
     <targetDimensions>2</targetDimensions> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8623"> 
       <parameterName>A0</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8623</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8624"> 
       <parameterName>A1</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8624</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8625"> 
       <parameterName>A2</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8625</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8639"> 
       <parameterName>B0</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8639</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8640"> 
       <parameterName>B1</parameterName> 
       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8640</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
     <!-- =============================================== --> 
     <usesParameter> 
      <OperationParameter gml:id="EPSG8641"> 
       <parameterName>B2</parameterName> 
       <parameterID> 


14 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


        <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8641</name> 
       </parameterID> 
      </OperationParameter> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
        The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
        The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/> 
   </usesValue> 
  </Conversion> 


© Open Geospatial Consortium (2005) 15 
 







OGC 05-027r1 


 </definedByConversion> 
 <!-- ================================================ --> 
 <derivedCRSType 
codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType> 
 <!-- ================================================ --> 
 <usesCS> 
  <CartesianCS gml:id="Grid2dSquareCS"> 
   <csName>2D square-cell grid based coordinate system</csName> 
   <csID> 
    <name 
codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name> 
   </csID> 
   <remarks>A 2D grid-based coordinate system for use by an image 
or other continuous grid coverage. It can be used for a grid of any 
size, since no grid size is defined. This coordinate system specifies 
that each row coordinate value shall be listed before the column 
coordinate value. The grid cells are assumed to be square, with the 
same grid spacing or pixel spacing in each direction.  
 
In a grid coverage file, the "row" axis shall be the first axis by 
which grid points are sequenced, and the "column" axis shall be the 
second axis, as could be specified by the "scanDirection : 
Sequence(CharacterString)" attribute of the CV_SequenceRule class in 
Clause 8 of ISO 19123. With linear sequencing, the grid points in the 
first row shall be listed first, followed by other rows, with the grid 
points in each row listed in column number order. This relationship 
between the "row" and "column" names and the first grid points shall 
apply whether this Grid2dSquareCS is associated with a grid file before 
or after that file is recorded. 
 
The "row" and "column" axis names are used here although the 
"scanDirection : Sequence(CharacterString)" attribute may provide other 
axis names. Use of other axis names would require defining different 
CartesianCSs for other names, or adding other names as additional 
axisID values. The following XML includes the axis names "line" and 
"sample" as additional axisID values. 
 
If not otherwise identified in an image file, the "row" axis shall be 
the first axis whose number of pixels is identified, and the "column" 
axis shall be the second axis, as could be specified by the 
"extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in 
Clause 8 of ISO 19123. In either case, the first point in the grid 
coverage file is assumed to be numbered (1, 1), meaning row 1, column 
1.  
 
The first row in a grid is sometimes called the "top" row, the first 
column is sometimes called the "left" column, and the first grid point 
is then called the "upperLeft" point. If desired, those names can be 
used with this Grid2dSquareCS. However other names can also be used, 
since this Grid2dSquareCS has been defined so that it does not depend 
on such left/right, top/bottom, and up/down names. </remarks> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Row" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid row axis</name> 
     <axisID> 


16 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name> 
     </axisID> 
     <remarks>For this grid axis, row coordinate values match 
grid row numbers, but allow fractional coordinate values between grid 
points. The first row in a grid is sometimes called the "top" row, so 
the direction of this axis is "down", but these terms are not required. 
</remarks> 
     <axisAbbrev>R</axisAbbrev> 
    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDi
rection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
   <usesAxis> 
    <CoordinateSystemAxis gml:id="Column" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
     <name>Grid column axis</name> 
     <axisID> 
      <name 
codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name> 
     </axisID> 
     <remarks>For this grid axis, column coordinate values 
match grid column numbers, but allow fractional coordinate values 
between grid points. The first column is sometimes called the "left" 
column, so the direction of this axis is "right", but these terms are 
not required. </remarks> 
     <axisAbbrev>C</axisAbbrev> 
    
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axi
sDirection> 
    </CoordinateSystemAxis> 
   </usesAxis> 
  </CartesianCS> 
 </usesCS> 
</DerivedCRS> 
 
The above template XML document uses the operation Method catalogued by EPSG 
using code 9624, because that EPSG method seems closest to the desired Method. 
However, various other operation Methods could be used, including Methods specified 
by the OGC. For example, one or more operation Methods could be defined that use parts 
of the gml:RectifiedGrid element as operation Parameters. 


7.4 Recommended simple XML document template 


The above example template XML document can be simplified by referencing the 
standard XML documents specified in Clause 9, and referencing the EPSG 9624 
Operation Method, becoming: 


© Open Geospatial Consortium (2005) 17 
 







OGC 05-027r1 


<?xml version="1.0" encoding="UTF-8"?> 
<DerivedCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentGeorectifiedGridCRSs.xsd" gml:id="GeorectifiedImageXXXXCRS"> 
 <!-- Specific georectified image or grid must be identified in this 
gml:id.  --> 
 <!-- Last updated 2005-03-08 --> 
 <!-- ========================================================== --> 
 <srsName>Georectified Image XXXX CRS</srsName> 
 <!-- Specific georectified image or grid must be identified in 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:opengis:def:crs:OGC:0.:GeorectifiedImageCRS">Georectifie
dImageXXXXCRS</name> 
  <!-- Specific image must be identified in "name" value. --> 
 </srsID> 
 <remarks>Template for georectified 2D image coordinate reference 
system definition. In this CRS, the origin is at the center of the 
first pixel in the georectified image file. This CRS template can be 
used for any size georectified image, since no image size is specified. 
A CRS definition using this template is expected to be needed and thus 
created before the georectified image pixels are produced. The 
coordinate Conversion used by this CRS definition is expected to NOT 
closely approximate the reverse of the coordinate Transformation used 
to georectify this image. This CRS template is not expected to be 
useful for an ungeorectified image. </remarks> 
 <baseCRS xlink:href="urn:opengis:def:crs:EPSG:6.3:YYYY"/> 
 <!-- Specific 2D CRS that was georectified into must be identified 
in baseCRS, usually a ProjectedCRS or GeographicCRS --> 
 <!-- ================================================= --> 
 <definedByConversion> 
  <Conversion gml:id="GeorectifiedImageXXXXConversion"> 
   <!-- Specific georectified image or grid must be identified in 
this gml:id. --> 
   <coordinateOperationName>Georectified image XXXX 
conversion</coordinateOperationName> 
   <!-- Specific image must be identified in this 
coordinateOperationName. --> 
   <usesMethod xlink:href="urn:opengis:method:EPSG:6.3:9624"/> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8623"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 


18 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8624"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8625"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8639"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be 
inserted. 
        The value of this parameter is often 0.0. --> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8640"/> 
   </usesValue> 
   <!-- ============================================ --> 
   <usesValue> 
    <value uom="urn:opengis:def:uom:EPSG:6.3:ZZZZ">9999</value> 
    <!-- Specific uom code and parameter value must be inserted 
--> 
    <valueOfParameter 
xlink:href="urn:opengis:def:parameter:EPSG:6.3:8641"/> 
   </usesValue> 
  </Conversion> 
 </definedByConversion> 
 <!-- ================================================ --> 
 <derivedCRSType 
codeSpace="#DerivedCRSTypeValues">#image</derivedCRSType> 
 <usesCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
</DerivedCRS> 
 
This simplified template XML document is recommended for use in defining the CRSs of 
georectified images. Of course, the OperationMethod can be changed, and the included 
XML comments and <remarks> elements can be removed or edited. 


The corresponding GML 3.1.1 XML Schema fragment for defining a DerivedCRS for a 
georectified image is attached in the file fragmentGeorectifiedImageCRSs.xsd. An 
example XML document defining the EPSG 9624 Operation Method is also attached. 


© Open Geospatial Consortium (2005) 19 
 







OGC 05-027r1 


7.5 Full UML model 


Figure 4 is a more complete UML class diagram extracted from Topic 2 that shows 
essentially all the classes and associations related to the SC_DerivedCRS class. Again, 
the CC_Conversion class is detailed in Subclause 6.4, the SC_GeographicCRS class is 
detailed in Subclause 6.2, and the SC_ProjectedCRS class is detailed in Subclause 6.3, all 
in [OGC 05-011] 


20 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


0..*


SC_DerivedCRSType


+ geographic
+ vertical
+ geocentric
+ engineering
+ image
+ temporal


(from SC_CoordinateReferenceSystem)


<<CodeList>>


RS_ReferenceSystem


+ name : RS_Identifier
+ domainOfValidity [0..*] : EX_Extent


(from RS_ReferenceSystem)


<<Abstract>>


(derived)


SC_CRS


+ scope [0..*] : CharacterString
(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeneralDerivedCRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_Conversion
(from CC_CoordinateOperation)


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier
+ alias [0..*] : GenericName
+ remarks [0..1] : CharacterString


(from IO_Identi fiedObject)


<<Abstract>>


SC_SingleCRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


SC_GeographicCRS
(from SC_CoordinateReferenceSystem)


SC_ProjectedCRS
(from SC_CoordinateReferenceSystem)


0..*


+definedBy
Conversion 1


0..*


1


+base
CRS


1


0..*


1


0..*


MD_Identifier


+ authority [0..1] : CI_Citation
+ code : CharacterString


(from MD_Metadata)


<<DataType>>


RS_Identifier


+ codeSpace [0..1] : CharacterString
+ version [0..1] : CharacterString


(from RS_ReferenceSystem)


EX_Extent
(from EX_Extent)


<<DataType>>


Defined in 
ISO 19115


CS_AxisDirection


+ east
+ north
+ south
+ west


(from CS_CoordinateSystem)


<<CodeList>>


CS_RangeMeaning


+ exact
+ wraparound


(from CS_CoordinateSystem)


<<CodeList>>
IO_IdentifiedObject


+ name : RS_Identifier
(from IO_Identi fiedObject)


<<Abstract>>


CS_CoordinateSystemAxis


+ axisAbbrev : CharacterString
+ axisDirection : CS_AxisDirection
+ axisUnitID : UnitOfMeasure
+ minimumValue [0..1] : Number
+ maximumValue [0..1] : Number
+ rangeMeaning [0..1] : CS_RangeMeaning


(from CS_CoordinateSystem)


CS_CoordinateSystem
(from CS_CoordinateSystem)


<<Abstract>>


CS_CartesianCS
(from CS_CoordinateSystem)


+usesAxis


0..*


{ordered}


0..*0..* 0..*


SC_DerivedCRS


+ derivedCRSType : SC_DerivedCRSType
(from SC_CoordinateReferenceSystem)


1


0..*


+base
CRS


1


1


0..*


+usesCS1


0..*


 


Figure 4 — DerivedCRS full UML class diagram 


© Open Geospatial Consortium (2005) 21 
 







OGC 05-027r1 


8 Coordinate transformations 


8.1 Introduction 


An unrectified image can be georeferenced by at least one coordinate transformation, 
between the CRS of the unrectified image and a reference CRS for positions relative to 
the earth (or other planet or moon). This georeferencing coordinate transformation can be 
represented by a coordinate Transformation in the UML model in Topic 2. A frequent 
alternative to using one Transformation is using a ConcatenatedOperation that 
sequentially combines two or more Transformations. 


The reference CRS is usually 3D, while the unrectified image is only 2D. The 
georeferencing coordinate transformation is thus assumed to be from the reference 3D 
CRS to the 2D image CRS. If the reference CRS is 2D, that would be equivalent to 
combining the georeferencing coordinate transformation with the elevation model 
coordinate transformation discussed later in this clause. 


8.2 Simple UML model 


Figure 5 is a simplified UML class diagram extracted from Topic 2 for a 
CC_Transformation and CC_ConcatenatedOperation. This diagram shows most of the 
concrete (non-abstract) classes and associations related to the CC_Transformation and 
CC_ConcatenatedOperation classes, except for the CC_ParameterValueGroup and 
CC_OperationParameterGroup classes. The CC_ParameterValueGroup and 
CC_OperationParameterGroup classes are not always useful, but are useful for some 
operation methods used for image geometry models.  


(ordered)


CC_ConcatenatedOperation
(from CC_CoordinateOperation)


CC_ParameterValue
(from CC_CoordinateOperation)


<<Union>>


CC_Transformation
(from CC_CoordinateOperation)


2..*0..*


+useOperation


2..*0..*


0..*


1


+usesValue 0..*


1


CC_OperationParameter
(from CC_CoordinateOperation)


0..* 10..*


+valueOfParameter


1


CC_OperationMethod
(from CC_CoordinateOperation)


1


0..*


+usesMethod 1


0..*


0..*


0..*


+usesParameter 0..*


0..*


 


Figure 5 — Transformation and ConcatenatedOperation simple class diagram 


To keep this diagram simple, none of the class attributes are displayed. The 
CC_ConcatenatedOperation class can also have usesOperation associations to the 


22 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


CC_Conversion class, with each associated object of CC_Conversion class substituting 
for an object of CC_Transformation class in this UML model. 


This simplified UML diagram does not include the two associations with the role names 
sourceCRS and targetCRS, required to the abstract SC_CRS class from both the 
CC_Transformation and CC_ConcatenatedOperation classes. For a georeferencing 
Transformation, the targetCRS will be a SC_ImageCRS and the sourceCRS will be the 
reference CRS used in that georeferencing, both being non-abstract subclasses of the 
SC_CRS class. 


8.3 XML document example templates 


8.3.1 Image georeferencing Transformation full template 


An example template XML document defining a CC_Transformation for image 
georeferencing is: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentTransformations.xsd" 
gml:id="TemplateGeoreferencingTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 --> 
 <coordinateOperationName>Example template for image georeferencing 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 3D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesMethod> 
  <OperationMethod gml:id="ReplacementSensorModel"> 
   <methodName>Replacement Sensor Model (RSM) coordinate 
Transformation</methodName> 
   <methodID> 
    <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name> 
   </methodID> 
   <remarks>This operation method is for a coordinate 
Transformation that georeferences an unrectified image using the 
Replacement Sensor Model (RSM). </remarks> 
  
 <methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
</methodFormula> 
   <sourceDimensions>3</sourceDimensions> 
   <targetDimensions>2</targetDimensions> 
   <usesParameter> 
    <OperationParameter gml:id="RSMParameters"> 
     <parameterName>Parameters for Replacement Sensor Model 
(RSM). </parameterName> 
     <parameterID> 


© Open Geospatial Consortium (2005) 23 
 







OGC 05-027r1 


      <name 
codeSpace="http://baesystems.com/rsm/rsmParameters"/> 
     </parameterID> 
     <remarks>The value of this operation parameter is the 
URL of a file containing all the parameters for the Replacement Sensor 
Model (RSM) for the specific image. </remarks> 
    </OperationParameter> 
   </usesParameter> 
  </OperationMethod> 
 </usesMethod> 
 <usesValue> 
 
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
  <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
 </usesValue> 
</Transformation> 
 
This example template uses the “Replacement Sensor Model (RSM)” Operation Method 
for georeferencing Transformations. That example method uses one parameter named 
“RSMParameters” that contains the URL of a file containing all the RSM parameters for 
a specific image. That RSM Operation Method is an extension of the “Universal image 
geometry model transformation” discussed in Subclause A.3. 


8.3.2 Image georeferencing Transformation recommended simple template 


That Operation Method could be specified elsewhere and referenced by this 
georeferencing Transformations template, instead of being included in-line. Doing this 
produces the simplified template XML document: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentTransformations.xsd" 
gml:id="TemplateGeoreferencingTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 --> 
 <coordinateOperationName>Example template for image georeferencing 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 3D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/> 
 <usesValue> 
 
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 


24 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


  <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
 </usesValue> 
</Transformation> 
 
This simplified template XML document is recommended for use in defining the image 
georeferencing coordinate Transformations. Of course, the OperationMethod can be 
changed, and the included XML comments and <remarks> elements can be removed or 
edited. 


8.3.3 Grid elevation model Transformation full template 


A template XML document defining a CC_Transformation for a grid elevation model is: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentTransformations.xsd" 
gml:id="TemplateGridElevationModelTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 --> 
 <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This targetCRS must be 3D. --> 
 </targetCRS> 
 <usesMethod> 
  <OperationMethod gml:id="GridElevationModel"> 
   <methodName>Grid elevation model</methodName> 
   <methodID> 
    <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name> 
   </methodID> 
   <remarks>This operation method is for a coordinate 
Transformation that implements an elevation model using grid elevation 
data. </remarks> 
   <methodFormula>The elevation value for the input horizontal 
position shall be bilinear interpolated between the surrounding four 
grid points, and added to the input horizontal coordinates. 
</methodFormula> 
   <sourceDimensions>2</sourceDimensions> 
   <targetDimensions>3</targetDimensions> 
   <usesParameter> 
    <OperationParameter gml:id="GridElevationData"> 
     <parameterName>Grid Elevation Data</parameterName> 
     <parameterID> 
      <name 
codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name> 
     </parameterID> 


© Open Geospatial Consortium (2005) 25 
 







OGC 05-027r1 


     <remarks>The value of this operation parameter is the 
URL of a source of grid elevation data, in the 3D targetCRS of the 
coordinate Transformation that contains the value of this operation 
parameter. </remarks> 
    </OperationParameter> 
   </usesParameter> 
  </OperationMethod> 
 </usesMethod> 
 <usesValue> 
  <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
  <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
 </usesValue> 
</Transformation> 
 
This example template uses the “GridElevationModel” Operation Method. That example 
method uses one parameter named “GridElevationData” that contains the URL of a file 
containing the grid elevation data. 


8.3.4 Grid elevation model Transformation recommended simple template 


That Operation Method could be specified elsewhere and referenced by this 
GridElevationModel Transformations template, instead of being included in-line. Doing 
this produces the simplified template XML document: 


<?xml version="1.0" encoding="UTF-8"?> 
<Transformation xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentTransformations.xsd" 
gml:id="TemplateGridElevationModelTransformation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-03-08 --> 
 <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
 <operationVersion>1.0</operationVersion> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This targetCRS must be 3D. --> 
 </targetCRS> 
 <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/> 
 <usesValue> 
  <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
  <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
 </usesValue> 
</Transformation> 
 
This simplified template XML document is recommended for use in defining grid 
elevation model coordinate Transformations. Of course, the OperationMethod can be 


26 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


changed, and the included XML comments and <remarks> elements can be removed or 
edited. 


8.3.5 Concatenated operation full template 


A template XML document defining a CC_ConcatenatedOperation that combines the two 
full transformation templates above is: 


<?xml version="1.0" encoding="UTF-8"?> 
<ConcatenatedOperation xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentTransformations.xsd" gml:id="TemplateConcatenatedOperation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-04-13 --> 
 <coordinateOperationName>Template for 
ConcatenatedOperation</coordinateOperationName> 
 <remarks>Template for coordinate ConcatenatedOperation to 
unrectified image coordinates from ground CRS coordinates. </remarks> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesSingleOperation> 
  <Transformation 
gml:id="TemplateGridElevationModelTransformation"> 
   <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the sourceCRS 
above. --> 
   </sourceCRS> 
   <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This targetCRS must be 3D. --> 
   </targetCRS> 
   <usesMethod> 
    <OperationMethod gml:id="GridElevationModel"> 
     <methodName>Grid elevation model</methodName> 
     <methodID> 
      <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">GridElevationModel</name> 
     </methodID> 
     <remarks>This operation method is for a coordinate 
Transformation that implements an elevation model using grid elevation 
data. </remarks> 
     <methodFormula>The elevation value for the input 
horizontal position shall be bilinear interpolated between the 
surrounding four grid points, and added to the input horizontal 
coordinates. </methodFormula> 
     <sourceDimensions>2</sourceDimensions> 
     <targetDimensions>3</targetDimensions> 
     <usesParameter> 
      <OperationParameter gml:id="GridElevationData"> 
       <parameterName>Grid Elevation Data</parameterName> 


© Open Geospatial Consortium (2005) 27 
 







OGC 05-027r1 


       <parameterID> 
        <name 
codeSpace="urn:ogc:def:parameter:OGC:0.0:">GridElevationData</name> 
       </parameterID> 
       <remarks>The value of this operation parameter is 
the URL of a source of grid elevation data, in the 3D targetCRS of the 
coordinate Transformation that contains the value of this operation 
parameter. </remarks> 
      </OperationParameter> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <usesValue> 
    <valueFile>http://baesystems.com/DEM/TBD</valueFile> 
    <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
 <usesSingleOperation> 
  <Transformation gml:id="TemplateGeoreferencingTransformation"> 
   <coordinateOperationName>Template for image georeferencing 
coordinate Transformation</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the targetCRS 
above. --> 
   </sourceCRS> 
   <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
   <usesMethod> 
    <OperationMethod gml:id="ReplacementSensorModel"> 
     <methodName>Replacement Sensor Model (RSM) coordinate 
Transformation</methodName> 
     <methodID> 
      <name 
codeSpace="urn:ogc:def:method:OGC:0.0:">ReplacementSensorModel</name> 
     </methodID> 
     <remarks>This operation method is for a coordinate 
Transformation that georeferences an unrectified image using the 
Replacement Sensor Model (RSM). </remarks> 
    
 <methodFormula>urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
</methodFormula> 
     <sourceDimensions>3</sourceDimensions> 
     <targetDimensions>2</targetDimensions> 
     <usesParameter> 
      <OperationParameter gml:id="RSMParameters"> 
       <parameterName>Parameters for Replacement Sensor 
Model (RSM). </parameterName> 
       <parameterID> 
        <name 
codeSpace="http://baesystems.com/rsm/rsmParameters"/> 
       </parameterID> 
       <remarks>The value of this operation parameter is 
the URL of a file containing all the parameters for the Replacement 
Sensor Model (RSM) for the specific image. </remarks> 


28 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


      </OperationParameter> 
     </usesParameter> 
    </OperationMethod> 
   </usesMethod> 
   <usesValue> 
   
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
    <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
</ConcatenatedOperation> 
 


8.3.6 Concatenated operation recommended simple template 


The above template uses the “Replacement Sensor Model (RSM)” and 
“GridElevationModel” Operation Methods. Those Operation Methods could be specified 
elsewhere and referenced by this template, instead of being included in-line. Doing this 
produces the simplified template XML document: 


<?xml version="1.0" encoding="UTF-8"?> 
<ConcatenatedOperation xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
fragmentTransformations.xsd" gml:id="TemplateConcatenatedOperation"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-04-13 --> 
 <coordinateOperationName>Template for 
ConcatenatedOperation</coordinateOperationName> 
 <remarks>Template for coordinate ConcatenatedOperation to 
unrectified image coordinates from ground CRS coordinates. </remarks> 
 <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
  <!-- This sourceCRS must be 2D. --> 
 </sourceCRS> 
 <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
 <usesSingleOperation> 
  <Transformation 
gml:id="TemplateGridElevationModelTransformation"> 
   <coordinateOperationName>Template for grid elevation model 
coordinate Transformations</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the sourceCRS 
above. --> 
   </sourceCRS> 
   <targetCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This targetCRS must be 3D. --> 
   </targetCRS> 
   <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:GridElevationModel"/> 
   <usesValue> 
    <valueFile>http://baesystems.com/DEM/TBD</valueFile> 


© Open Geospatial Consortium (2005) 29 
 







OGC 05-027r1 


    <valueOfParameter 
xlink:href="urn:ogc:def:parameter:OGC:0.0:GridElevationData"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
 <usesSingleOperation> 
  <Transformation gml:id="TemplateGeoreferencingTransformation"> 
   <coordinateOperationName>Template for image georeferencing 
coordinate Transformation</coordinateOperationName> 
   <operationVersion>1.0</operationVersion> 
   <sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.3:TBD"> 
    <!-- This sourceCRS must be the same as the targetCRS 
above. --> 
   </sourceCRS> 
   <targetCRS 
xlink:href="urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD"/> 
   <usesMethod 
xlink:href="urn:ogc:def:method:OGC:0.0:ReplacementSensorModel"/> 
   <usesValue> 
   
 <valueFile>http://baesystems.com/rsm/rsmParameterValues/TBD.xml</val
ueFile> 
    <valueOfParameter 
xlink:href="http://baesystems.com/rsm/rsmParameters"/> 
   </usesValue> 
  </Transformation> 
 </usesSingleOperation> 
</ConcatenatedOperation> 
 
This simplified template XML document is recommended for use in defining such 
concatenated Transformations. Of course, the OperationMethods can be changed, and the 
included XML comments and <remarks> elements can be removed or edited.  


8.3.7 XML schema fragment 


The corresponding GML 3.1.1 XML Schema fragment for defining a CC_Transformation 
or CC_ConcatenatedOperation is attached in file fragmentTransformations.xsd. That 
XML Schema fragment omits the encoding of the validArea and positionalAccuracy 
attributes in the UML model. Example XML documents defining the Operation Methods 
that might be defined elsewhere are also attached 


8.4 Full UML model 


Figure 6 is a more complete UML class diagram extracted from Topic 2 for a coordinate 
CC_Transformation and CC_ConcatenatedOperation. This diagram shows essentially all 
the classes and associations related to the CC_Transformation and 
CC_ConcatenatedOperation classes, except for the: 


a) Contents of the DQ_PositionalAccuracy and EX_Extent classes, defined in ISO 
19115 


b) Contents of the SC_CRS class, such asdefined in Clauses 6 and 7 


30 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


DQ_PositionalAccuracy
(from DQ_DataQuali ty)


<<Abstract>>


EX_Extent
(from EX_Extent)


<<DataType>>


IO_IdentifiedObject


+ name : RS_Identifier
(from IO_IdentifiedObject)


<<Abstract>>


Defined in 
ISO 19115


IO_IdentifiedObjectBase


+ identifier [0..*] : RS_Identifier
+ alias [0..*] : GenericName
+ remarks [0..1] : CharacterString


(from IO_IdentifiedObject)


<<Abstract>>


CC_ParameterValue


+ value : Measure
+ stringValue : CharacterString
+ integerValue : Integer
+ booleanValue : Boolean
+ valueList : Sequence<Measure>
+ integerValueList : Sequence<Integer>
+ valueFile : CharacterString


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter
(from CC_CoordinateOperation)


0..* 10..*


+valueOfParameter


1


CC_OperationMethod


+ formula : CharacterString
+ sourceDimensions : Integer
+ targetDimensions : Integer


(from CC_CoordinateOperation)


CC_Operation
(from CC_CoordinateOperation)


<<Abstract>>


0..*
1


0..*


+usesMethod


1


CC_Transformation


+ operationVersion : CharacterString
(from CC_CoordinateOperation)


SC_CRS
(from SC_CoordinateReferenceSystem)


<<Abstract>>


CC_CoordinateOperation


+ operationVersion [0..1] : CharacterString
+ domainOfValidity [0..1] : EX_Extent
+ scope [0..*] : CharacterString
+ coordinateOperationAccuracy [0..*] : DQ_PositionalAccuracy


(from CC_CoordinateOperation)


<<Abstract>>


0..1


0..*


+target 
CRS


0..1


0..*


Target


0..1


0..*


+source 
CRS


0..1


0..*


Source


CC_ConcatenatedOperation
(from CC_CoordinateOperation) CC_SingleOperation


(from CC_CoordinateOperation)


<<Abstract>>0..* 2..*0..*


+usesOperation


2..*


{ordered}


CC_OperationParameterGroup


+ maximumOccurs [0..1] : Integer
(from CC_CoordinateOperation)


CC_ParameterValueGroup
(from CC_CoordinateOperation)


+valuesOfGroup


10..* 10..*


CC_GeneralParameterValue
(from CC_CoordinateOperation)


<<Abstract>>


1


0..*


1


+usesValue0..*


2..*


1


2..* +includesValue


1


CC_GeneralOperationParameter


+ minimumOccurs [0..1] : Integer
(from CC_CoordinateOperation)


<<Abstract>>


0..*


0..*


0..*


+usesParameter 0..*


2..*


0..*


+includesParameter 2..*


0..*


 


Figure 6 — Transformation and ConcatenatedOperation full UML class diagram 


© Open Geospatial Consortium (2005) 31 
 







OGC 05-027r1 


Notice that each Transformation and ConcatenatedOperation inherits two associations 
with the role names sourceCRS and targetCRS, required to the abstract SC_CRS class 
from both the CC_Transformation and CC_ConcatenatedOperation classes. For a 
georeferencing Transformation, the targetCRS will be a SC_ImageCRS and the 
sourceCRS will be the reference CRS used in that georeferencing, both being non-
abstract subclasses of the SC_CRS class. 


9 Standard URNs and XML definitions 


9.1 Overview 


This clause specifies a standard set of definitions and corresponding URNs that shall be 
used whenever applicable for unrectified and georectified images. These definitions are 
encoded in GML 3.1.1 [OGC 04-092r4]. 


Whenever applicable, CRS definitions for images shall use the eight URNs in the “ogc” 
URN namespace that are specified in Table 1. The first two these URNs use the format 
for not-completely-specified objects specified in Subclause 7.2 of “URNs of definitions 
in ogc namespace” [OGC 05-010]. The remaining six of these URNs use the format for 
single objects specified in Subclause 7.1. 


Table 1 — Standard URNs for unrectified images CRSs 


URN Object name & gml:id Definition 
specified in 


urn:ogc:def:crs:OGC:0.0: ImageCRSpixelCenter:TBD a ImageTBDCRSpixelCenter Subclause 7.2 


urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD a ImageTBDCRSpixelCorner Subclause 7.3 


urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS Grid2dSquareCS Subclause 7.4 


urn:ogc:def:axis:OGC:0.0:Row Row Subclause 7.5 


urn:ogc:def:axis:OGC:0.0:Column Column Subclause 7.6 


urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter ImageDatumPixelCenter Subclause 7.7 


urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner ImageDatumPixelCorner Subclause 7.8 


urn:ogc:def:uom:OGC:0.0:GridSpacing GridSpacing Subclause 7.9 
a This “TBD” shall be replaced by the image identifier alphanumeric character string. 


 
NOTE  These image CRSa and components were defined and used in the XML document attached to 
Discussion Paper “Image CRSs for IH4DS” [OGC 05-014]. The definitions of these components have now 
been updated to use a later version of the CRS Schemas, in [OGC 04-092r4]. 


9.2 Image CRSs with origin in centre of first pixel 


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCenter:TBD” shall reference 
the definition of an (unrectified) image CRS with its origin in the centre of the first pixel 
in the image file. This image CRS shall be for the image, or image group, whose 
alphanumeric character string identifier is substituted for the “TBD” in this URN. 


32 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


NOTE 1 This document does not specify any format for an image alphanumeric identifier, since many 
different formats are used for such identifiers. One such format could concatenate a camera identifier with 
the image collection date and time. 


The definitions of these image CRSs shall be the same as can be XML encoded using 
GML 3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateReferenceSystems.xsd" 
gml:id="ImageTBDCRSpixelCenter"> 
 <!-- Specific image or group shall be identified by "TBD" in this 
gml:id. --> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <!-- ========================================================== --> 
 <srsName>Image TBD CRS pixel centers</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">TBD</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 
image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the center of the first pixel in the image 
file. This CRS definition can be used for any size image, since no 
image size is specified.  
 
This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS 
xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/> 
</ImageCRS> 
 
NOTE 2 It is not expected to be necessary in most cases to produce an XML document that specifies the 
image CRS for a specific image identifier, since this CRS definition can be referenced using the specified 
URN value with the “TBD” replaced by the specific image identifier. However, it is possible to do this, as 
shown in the following example. 


EXAMPLE  If this XML document were modified to specify the image CRS with its origin in the centre 
of first pixel for an image with the identifier “C543D041201T084027”, this XML document could be: 
<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 


© Open Geospatial Consortium (2005) 33 
 







OGC 05-027r1 


xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateReferenceSystems.xsd" 
gml:id="ImageC543D041201T084027CRSpixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <srsName>Image C543D041201T084027 CRS pixel centers</srsName> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCenter:">C543D041201T084027</na
me> 
  <!-- This name specifies the URN by which this CRS can be referenced. --> 
 </srsID> 
 <usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCenter"/> 
</ImageCRS> 
 


9.3 Image CRSs with origin in corner of first pixel 


The URN value “urn:ogc:def:crs:OGC:0.0:ImageCRSpixelCorner:TBD” shall reference 
the definition of an (unrectified) image CRS with its origin in the outside corner of the 
first pixel in the image file. This image CRS shall be for the image, or image group, 
whose identifier is substituted for the “TBD” in this URN. 


The definitions of these image CRSs shall be the same as can be XML encoded using 
GML 3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateReferenceSystems.xsd" 
gml:id="ImageTBDCRSpixelCorner"> 
 <!-- Specific image or group shall be identified by "TBD" in this 
gml:id. --> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 --> 
 <!-- ========================================================== --> 
 <srsName>Image TBD CRS pixel corner</srsName> 
 <!-- Specific image or group shall be identified by "TBD" in this 
srsName. --> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">TBD</name> 
  <!-- Specifies the URN that can be used to reference this image 
CRS. This URN includes the image name as a parameter. The specific 
image or group shall be identified by the "TBD" in the "name" value. --
> 
 </srsID> 
 <remarks>Parameterized definition of 2D image coordinate reference 
systems with the origin at the outside corner of the first pixel in the 
image file. This CRS definition can be used for any size image, since 
no image size is specified.  
 


34 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


This CRS definition is designed to be used for ungeorectified images, 
and is not expected to be used for a georectified image. This 
definition can be used for a georeferenced or ungeoreferenced image, 
where a georeferenced image CRS is associated with the coordinate 
Transformation(s) that georeference it. </remarks> 
 <usesCartesianCS 
xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/> 
</ImageCRS> 
 
EXAMPLE  If this XML document were modified to specify the image CRS with its origin in the 
outside corner of first pixel for an image with the identifier “C543D041201T084027”, this XML document 
could be: 
<?xml version="1.0" encoding="UTF-8"?> 
<ImageCRS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateReferenceSystems.xsd" 
gml:id="ImageC543D041201T084027CRSpixelCorner"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <srsName>Image C543D041201T084027 CRS pixel corners</srsName> 
 <srsID> 
  <name 
codeSpace="urn:ogc:def:crs:OGC:1.0:ImageCRSpixelCorner:">C543D041201T084027</na
me> 
  <!-- This name specifies the URN by which this CRS can be referenced. --> 
 </srsID> 
 <usesCartesianCS xlink:href="urn:ogc:def:cs:OGC:1.0:Grid2dSquareCS"/> 
 <usesImageDatum 
xlink:href="urn:ogc:def:datum:OGC:1.0:ImageDatumPixelCorner"/> 
</ImageCRS> 
 


9.4 Grid 2D square coordinate system 


The URN “urn:ogc:def:cs:OGC:0.0:Grid2dSquareCS” shall reference the definition of a 
Coordinate System for a 2D grid with square grid cells. The definition of this grid shall 
be the same as can be XML encoded using GML 3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<CartesianCS xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateSystems.xsd" gml:id="Grid2dSquareCS"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <csName>2D square-cell grid based coordinate system</csName> 
 <csID> 
  <name codeSpace="urn:ogc:def:cs:OGC:1.0:">Grid2dSquareCS</name> 
 </csID> 
 <remarks>2D grid-based coordinate system for use by an image or 
other continuous grid coverage. It can be used for a grid of any size, 
since no grid size is defined. This coordinate system specifies that 
each row coordinate value will be listed before the column coordinate 


© Open Geospatial Consortium (2005) 35 
 







OGC 05-027r1 


value. The grid cells are assumed to be square, with the same grid 
spacing or pixel spacing in each direction.  
 
In a grid coverage file, the "row" axis shall be the first axis by 
which grid points are sequenced, and the "column" axis shall be the 
second axis, as could be specified by the "scanDirection : 
Sequence(CharacterString)" attribute of the CV_SequenceRule class in 
Clause 8 of ISO 19123. With linear sequencing, the grid points in the 
first row shall be listed first, followed by other rows, with the grid 
points in each row listed in column number order. This relationship 
between the "row" and "column" names and the first grid points shall 
apply whether this Grid2dSquareCS is associated with a grid file before 
or after that file is recorded. 
 
The "row" and "column" axis names are used here although the 
"scanDirection : Sequence(CharacterString)" attribute may provide other 
axis names. Use of other axis names would require defining different 
CartesianCSs for other names, or adding other names as additional 
axisID values. The following XML includes the axis names "line" and 
"sample" as additional axisID values. 
 
If not otherwise identified in an image file, the "row" axis shall be 
the first axis whose number of pixels is identified, and the "column" 
axis shall be the second axis, as could be specified by the 
"extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in 
Clause 8 of ISO 19123. In either case, the first point in the grid 
coverage file is assumed to be numbered (1, 1), meaning row 1, column 
1.  
 
The first row in a grid is sometimes called the "top" row, the first 
column is sometimes called the "left" column, and the first grid point 
is then called the "upperLeft" point. If desired, those names can be 
used with this Grid2dSquareCS. However other names can also be used, 
since this Grid2dSquareCS has been defined so that it does not depend 
on such left/right, top/bottom, and up/down names. </remarks> 
 <usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Row"/> 
 <usesAxis xlink:href="urn:ogc:def:axis:OGC:1.0:Column"/> 
</CartesianCS> 
 
This xml document references the two standard grid axes specified below. 


9.5 Row coordinate axis 


The URN “urn:ogc:def:axis:OGC:0.0:Row” shall reference the definition of the row 
coordinate axis for a 2D square grid coordinate system. The definition of this row axis 
shall be the same as can be XML encoded using GML 3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<CoordinateSystemAxis xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateSystems.xsd" gml:id="Row" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 


36 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 --> 
 <name>Grid row axis</name> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Row</name> 
 </axisID> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Line</name> 
 </axisID> 
 <remarks>For this first grid axis, row coordinate values match grid 
row numbers, but allow fractional coordinate values between grid 
points. The first row in a grid is sometimes called the "top" row, so 
the direction of this axis is "down", but these terms are not required. 
</remarks> 
 <axisAbbrev>R</axisAbbrev> 
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:rowPositive</axisDi
rection> 
</CoordinateSystemAxis> 
 


9.6 Column coordinate axis 


The URN “urn:ogc:def:axis:OGC:0.0:Column” shall reference the definition of the 
column coordinate axis for a 2D square grid coordinate system. The definition of this 
column axis shall be the same as can be XML encoded using GML 3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<CoordinateSystemAxis xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateSystems.xsd" gml:id="Column" 
gml:uom="urn:ogc:def:uom:OGC:1.0:GridSpacing"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28 --> 
 <name>Grid column axis</name> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Column</name> 
 </axisID> 
 <axisID> 
  <name codeSpace="urn:ogc:def:axis:OGC:1.0:">Sample</name> 
 </axisID> 
 <remarks>For this second grid axis, column coordinate values match 
grid column numbers, but allow fractional coordinate values between 
grid points. The first column is sometimes called the "left" column, so 
the direction of this axis is "right", but these terms are not 
required. </remarks> 
 <axisAbbrev>C</axisAbbrev> 
 <axisDirection>urn:ogc:def:axisDirection:OGC:1.0:columnPositive</axi
sDirection> 
</CoordinateSystemAxis> 
 


9.7 Image datum at pixel center 


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCenter” shall reference the 
definition of an image datum with the origin at the centre of the first pixel. The definition 
of this image datum shall be the same as can be XML encoded using GML 3.1.1 as: 


© Open Geospatial Consortium (2005) 37 
 







OGC 05-027r1 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageDatum xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/datums.xsd" gml:id="ImageDatumPixelCenter"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <datumName>Origin at center of first pixel</datumName> 
 <datumID> 
  <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCenter</name> 
 </datumID> 
 <remarks>2D image datum with the origin at the center of the first 
pixel in the image file, usually the first pixel collected by the image 
sensor. In an image file, the pixels in the first row are assumed to be 
listed first, followed by other rows, with pixels in each row listed 
(and collected) in column number order. </remarks> 
 <anchorPoint>center of first pixel</anchorPoint> 
 <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCenter</pixelInCell> 
</ImageDatum> 
 


9.8 Image datum at pixel corner 


The URN “urn:ogc:def:datum:OGC:0.0:ImageDatumPixelCorner” shall reference the 
definition of an image datum with the origin at the outside corner of the first pixel. The 
definition of this image datum shall be the same as can be XML encoded using GML 
3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<ImageDatum xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/datums.xsd" gml:id="mageDatumPixelCorner"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <datumName>Origin at outside corner of first pixel</datumName> 
 <datumID> 
  <name 
codeSpace="urn:ogc:def:datum:OGC:1.0:">ImageDatumPixelCorner</name> 
 </datumID> 
 <remarks>2D image datum with the origin at the outside corner of the 
first pixel in the image file, usually the first pixel collected by the 
image sensor. In an image file, the pixels in the first row are assumed 
to be listed first, followed by other rows, with pixels in each row 
listed (and collected) in column number order. </remarks> 
 <anchorPoint>outside corner of first pixel</anchorPoint> 
 <pixelInCell 
codeSpace="urn:ogc:def:pixelInCell:OGC:1.0:">cellCorner</pixelInCell> 
</ImageDatum> 
 


38 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


9.9 Grid spacing unit of measure 


The URN “urn:ogc:def:uom:OGC:0.0:GridSpacing” shall reference the definition of the 
grid spacing unit of measure (uom). The definition of this unit shall be the same as can be 
XML encoded using GML 3.1.1 as: 


<?xml version="1.0" encoding="UTF-8"?> 
<BaseUnit xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/datums.xsd" gml:id="GridSpacing"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <name>Spacing between adjacent grid points, or between centers of 
adjacent pixels</name> 
 <name codeSpace="urn:ogc:def:uom:OGC:1.0:">GridSpacing</name> 
 <quantityType>Length</quantityType> 
 <unitsSystem xlink:href="urn:ogc:def:uom:OGC:1.0:GridSpacing"/> 
</BaseUnit> 
  


10 Supporting information 


This clause introduces information provided in the annexes supporting the encoding 
described in Clauses 6 and 7: 


Annex A (informative) provides example application schemas based on these XML Schemas, 
with corresponding example XML documents and UML models. 


• 


• Annex B (informative) describes some unrectified image operation methods. 


© Open Geospatial Consortium (2005) 39 
 







OGC 05-027r1 


Annex A 
(informative) 


 
Application schema examples 


A.1 Introduction 


This annex provides two Application Schemas based on the CRS Schemas that are 
applicable to images. Each of these example Application Schemas includes a 
corresponding example XML document using that Application Schema plus the example 
UML model from which that Application Schemas was converted. For more information 
on Application Schemas, see Subclauses B.3 and B.4 of “Recommended XML encoding 
of common CRS definitions” [OGC 05-011]. 


These XML examples use URNs to reference known objects using "xlink:href" and 
"gml:uom" XML attributes, based on documents [OGC 05-010] and [OGC 05-011]. 


A.2 Extended operation parameter definition 


A.2.1 Introduction 


This subclause provides an example of encoding additional information for Operation 
Parameters. The following subclauses contain: 


a) A draft class diagram of a UML package for an Extended Operation Parameter, which 
builds on the UML model in OGC Abstract Specification Topic 2. 


b) A draft XML Schema for encoding an Extended Operation Parameter, produced by 
converting this UML package. 


c) A XML encoding of the possible contents of the <<CodeList>> stereotyped 
ParameterType class in this UML package. 


d) An example XML document based on this draft XML Schema for encoding an 
Extended Operation Parameter 


A.2.2 UML package 


Figure A.1 is a class diagram of an example UML package for an Extended Operation 
Method. This UML package builds on the UML model in OGC Abstract Specification 
Topic 2. 


40 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


CC_OperationParameter
(from CC_CoordinateOperation)


CC_OperationMethod
(from CC_CoordinateOperation)


CC_GeneralOperationParameter
(from CC_CoordinateOperation)


<<Abstract>>


0..n


0..n


0..n


+usesParameter0..n


ExtendedOperationParameter
+ parameterType : ParameterType


ParameterType
+ measure
+ length
+ scale
+ time
+ grid length
+ angle choice
+ angle
+ dms angle
+ length or angle
+ string
+ positive integer
+ non negative integer
+ boolean
+ measure list
+ length list
+ scale list
+ angle list
+ time list
+ grid length list
+ velocity list
+ integer list
+ positive integer list
+ any URI


<<CodeList>>


 


Figure A.1 — UML package for Extended Operation Method 


A.2.3 Application schema 


This subclause contains an example XML Schema for encoding an Extended Operation 
Parameter, produced by converting the above UML package. This XML Schema builds 
on the coordinateOperations.xsd XML Schema. This draft XML Schema is written 
following the same GML 3 patterns and ISO 19118 XML encoding rules as used in the 
CRS Schemas in GML 3.1.1. As required, this draft XML Schema is written as an 
Application Schema in a different namespace. 


This example XML Schema is: 


<?xml version="1.0" encoding="UTF-8"?> 
<schema xmlns:ex="http://www.opengis.net/examples" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns="http://www.w3.org/2001/XMLSchema" 
targetNamespace="http://www.opengis.net/examples" 
elementFormDefault="qualified" xml:lang="en"> 
 <annotation> 
  <documentation> 
   <name>extendedOperationParameter.xsd</name> 
   <scope>How to encode extended information for operation 
parameters. </scope> 


© Open Geospatial Consortium (2005) 41 
 







OGC 05-027r1 


   <description>Example Application Schema to encode extended 
information for operation parameters. Builds on 
coordinateOperations.xsd, and follows same GML 3 patterns and ISO 19118 
encoding. Written in the "ex" namespace. Primary editor: Arliss 
Whiteside. Last updated 2005-01-28</description> 
   <copyright>Copyright (c) 2Open Geospatial Consortium (2005) 
</copyright> 
   <conformance>This schema encodes a draft Extended Operation 
Parameter package that builds on the Coordinate Operation (CC_) package 
of the extended UML Model for OGC Abstract Specification Topic 2: 
Spatial Referencing by Coordinates. That draft package defines a 
subtype of the CC_OperationParameter class for recording more 
information. </conformance> 
  </documentation> 
 </annotation> 
 <!-- ====================================================== 
       includes and imports 
 ====================================================== --> 
 <import namespace="http://www.opengis.net/gml" 
schemaLocation="../gml/3.1.1/base/coordinateOperations.xsd"/> 
 <!-- ====================================================== 
       elements and types 
 ====================================================== --> 
 <element name="ExtendedOperationParameter" 
type="ex:ExtendedOperationParameterType" 
substitutionGroup="gml:OperationParameter"/> 
 <!-- =================================================== --> 
 <complexType name="ExtendedOperationParameterType"> 
  <annotation> 
   <documentation>Extended definition of an operation parameter. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:OperationParameterType"> 
    <sequence> 
     <element ref="ex:parameterType"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <element name="parameterType" type="ex:ParameterTypeType"/> 
 <!-- =================================================== --> 
 <complexType name="ParameterTypeType"> 
  <annotation> 
   <documentation>Data type of an operation parameter. Usually 
refers to a data type defined in measures.xsd or allowed in the 
ParameterValueType of coordinateOperations.xsd. </documentation> 
   <documentation>A text string with a required codeSpace 
attribute. Similar to gml:CodeType. </documentation> 
  </annotation> 
  <simpleContent> 
   <extension base="string"> 
    <attribute name="codeSpace" type="anyURI" use="required"> 
     <annotation> 


42 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


      <documentation>Reference to a source of information 
specifying the values and meanings of all the allowed string values for 
this ParameterTypeType. </documentation> 
     </annotation> 
    </attribute> 
   </extension> 
  </simpleContent> 
 </complexType> 
 <!-- =================================================== --> 
</schema> 
  


A.2.4 Standard contents of parameterType 


A standard set of allowed values and their meanings for the parameterType element is 
specified in the <<CodeList>> stereotyped class in the UML model that was converted. 
Those string values and their meanings are specified in the following UML document, 
using the gml:Dictionary element: 


<?xml version="1.0" encoding="UTF-8"?> 
<Dictionary xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xsi:schemaLocation="http://www.opengis.net/gml 
../gml/3.1.1/base/dictionary.xsd" gml:id="parameterTypeDictionary"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-04-13 --> 
 <name>parameterType standard values</name> 
 <name>Data type of an operation parameter. Usually refers to a data 
type defined in measures.xsd or allowed in the ParameterValueType of 
coordinateOperations.xsd. </name> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="measure"> 
   <description>General numeric value of an operation parameter, 
with its associated unit of measure. </description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">measure</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="length"> 
   <description>Value of a length (or distance) quantity, with 
its units. Uses the MeasureType with the restriction that the unit of 
measure referenced by uom must be suitable for a length, such as metres 
or feet. </description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">length</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="scale"> 
   <description>Value of a scale factor (or ratio) that has no 
physical unit. Uses the MeasureType with the restriction that the unit 
of measure referenced by uom must be suitable for a scale factor, such 
as one, percent, permil, or parts-per-million. </description> 


© Open Geospatial Consortium (2005) 43 
 







OGC 05-027r1 


   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">scale</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="time"> 
   <description>Value of a time or temporal quantity, with its 
units. Uses the MeasureType with the restriction that the unit of 
measure referenced by uom must be suitable for a time value, such as 
seconds or weeks. </description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">time</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="gridLength"> 
   <description>Value of a length (or distance) quantity in a 
grid, where the grid spacing does not have any associated physical 
units, or does not have a constant physical spacing. This grid length 
will often be used in a digital image grid, where the base units are 
likely to be pixel spacings. Uses the MeasureType with the restriction 
that the unit of measure referenced by uom must be suitable for length 
along the axes of a grid, such as pixel spacings or grid 
spacings.</description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">grid 
length</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="angleChoice"> 
   <description>Value of an angle quantity provided in either 
degree-minute-second format or single value format. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">angle 
choice</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="angle"> 
   <description>Value of an angle quantity recorded as a single 
number, with its units. Uses the MeasureType with the restriction that 
the unit of measure referenced by uom must be suitable for an angle, 
such as degrees or radians. </description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">angle</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="dmsAngle"> 
   <description>Value of an angle operation parameter, in either 
degree-minute-second format or single value format. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">dms 
angle</name> 


44 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="lengthOrAngle"> 
   <description>Value of a length or angle quantity, where an 
angle can be recorded in either degree-minute-second format or single 
value format. Often used for horizontal ground coordinates. 
</description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">length or 
angle</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="string"> 
   <description>String value of an operation parameter. A string 
value does not have an associated unit of measure. </description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">string</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="positiveInteger"> 
   <description>Positive integer value of an operation parameter, 
usually used for a count. An integer value does not have an associated 
unit of measure. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">positive 
integer</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="nonNegativeInteger"> 
   <description>Zero or positive integer value of an operation 
parameter. An integer value does not have an associated unit of 
measure. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">non 
negative integer</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="boolean"> 
   <description>Boolean value of an operation parameter. A 
Boolean value does not have an associated unit of measure. 
</description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">boolean</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="measureList"> 
   <description>Ordered sequence of two or more numeric values of 
an operation parameter list, where each value has the same associated 


© Open Geospatial Consortium (2005) 45 
 







OGC 05-027r1 


unit of measure. An element of this type contains a space-separated 
list of double values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">measure 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="lengthList"> 
   <description>Ordered sequence of two or more numeric values of 
an operation parameter list of Length measures. Each value has the same 
associated unit of measure suitable for a length, such as metres or 
feet. An element of this type contains a space-separated list of double 
values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">length 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="scaleList"> 
   <description>Ordered sequence of two or more numeric values of 
an operation parameter list of Scale measures. Each value has the same 
associated unit of measure suitable for a scale factor, such as one, 
percent, permil, or parts-per-million. An element of this type contains 
a space-separated list of double values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">scale 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="angleList"> 
   <description>Ordered sequence of two or more numeric values of 
an operation parameter list of Angle measures, each recorded as a 
single number. Each value has the same associated unit of measure 
suitable for an angle, such as degrees or radians. An element of this 
type contains a space-separated list of double values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">angle 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="timeList"> 
   <description>Ordered sequence of two or more numeric values of 
an operation parameter list of Time measures, each recorded as a single 
number. Each value has the same associated unit of measure suitable for 
a time value, such as seconds or days. An element of this type contains 
a space-separated list of double values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">time 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="gridLengthList"> 


46 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   <description>Ordered sequence of two or more numeric values of 
an operation parameter list of Grid Length measures. Each value has the 
same associated unit of measure suitable for length along the axes of a 
grid, such as pixel spacings or grid spacings. An element of this type 
contains a space-separated list of double values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">grid 
length list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="velocityList"> 
   <description>Ordered sequence of two or more numeric values of 
an operation parameter list of Velocity measures. Each value has the 
same associated unit of measure suitable for a velocity, such as metres 
per second or miles per hour. An element of this type contains a space-
separated list of double values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">velocity 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="integerList"> 
   <description>Ordered sequence of two or more integer values of 
an operation parameter list, usually used for counts. These integer 
values do not have an associated unit of measure. An element of this 
type contains a space-separated list of integer values. </description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">integer 
list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="positiveIntegerList"> 
   <description>Ordered sequence of two or more positive integer 
values of an operation parameter list, usually used for counts. These 
integer values do not have an associated unit of measure. An element of 
this type contains a space-separated list of integer values. 
</description> 
   <name codeSpace="urn:ogc:def:parameterType:OGC:1.0:">positive 
integer list</name> 
  </Definition> 
 </dictionaryEntry> 
 <!-- ===================================================== --> 
 <dictionaryEntry> 
  <Definition gml:id="anyURI"> 
   <description>Reference to a file or a part of a file 
containing one or more parameter values, each numeric value with its 
associated unit of measure. When referencing a part of a file, that 
file must contain multiple identified parts, such as an XML encoded 
document. Furthermore, the referenced file or part of a file can 
reference another part of the same or different files, as allowed in 
XML documents. </description> 
   <name 
codeSpace="urn:ogc:def:parameterType:OGC:1.0:">anyURI</name> 
  </Definition> 
 </dictionaryEntry> 


© Open Geospatial Consortium (2005) 47 
 







OGC 05-027r1 


</Dictionary> 
  


A.2.5 Example XML document 


An example XML document based on this example XML Schema for encoding Extended 
Operation Parameters applied to the Transverse Mercator Operation Method is: 


<?xml version="1.0" encoding="UTF-8"?> 
<OperationMethod xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:ex="http://www.opengis.net/examples" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/examples 
extendedOperationParameter.xsd" gml:id="EPSG9807"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <methodName>Transverse Mercator</methodName> 
 <methodID> 
  <name codeSpace="urn:ogc:def:method:EPSG:6.3:">9807</name> 
 </methodID> 
 <methodFormula>See Section 1.4.6 "Transverse Mercator" of EPSG 
Guidance Note 7, December 2000. </methodFormula> 
 <sourceDimensions>2</sourceDimensions> 
 <targetDimensions>2</targetDimensions> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="EPSG8801"> 
   <parameterName>Latitude of natural origin</parameterName> 
   <parameterID> 
    <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8801</name> 
   </parameterID> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">AngleChoiceType</ex:parameterType
> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="EPSG8802"> 
   <parameterName>Longitude of natural origin</parameterName> 
   <parameterID> 
    <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8802</name> 
   </parameterID> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">AngleChoiceType</ex:parameterType
> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="EPSG8805"> 
   <parameterName>Scale factor at natural origin</parameterName> 
   <parameterID> 
    <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8805</name> 
   </parameterID> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">ScaleType</ex:parameterType> 


48 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="EPSG8806"> 
   <parameterName>False Easting</parameterName> 
   <parameterID> 
    <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8806</name> 
   </parameterID> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="EPSG8807"> 
   <parameterName>False Northing</parameterName> 
   <parameterID> 
    <name 
codeSpace="urn:ogc:def:parameter:EPSG:6.3:">8807</name> 
   </parameterID> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
</OperationMethod> 
 
NOTE  Subclause D.2.4 of document [OGC 05-011] provides a corresponding example XML 
document not using this Application Schema. 


A.3 Universal image geometry model transformation 


A.3.1 Introduction 


Standardized XML encoding is needed for a number of frequently-used types of image 
coordinate transformations. This subclause provides an example of one such encoding, 
applied to an example image coordinate transformation. That example type of image 
coordinate transformation is the one described in Section 6.5 of OGC Abstract 
Specification old Topic 7: The Earth Imagery Case [OGC 99-107], namely the Universal 
Image Geometry Model (UIGM). That UIGM transformation is from a 3D ground 
coordinate reference system to a 2D image coordinate reference system, and has been 
simplified here for brevity. The following subclauses contain: 


a) A draft class diagram of a UML package for this simplified UIGM transformation, 
which builds on the UML model in OGC Abstract Specification Topic 2. 


b) Two draft XML Schemas for encoding this simplified UIGM transformation, 
produced by converting this UML package. 


c) An example XML document based on this draft XML Schema for encoding an 
example UIGM transformation, plus an example XML document based on the 
Application Schema in Subclause A.2.3 for encoding the Operation Method used by 
this UIGM transformation. 


© Open Geospatial Consortium (2005) 49 
 







OGC 05-027r1 


A.3.2 UML package 


Figures A.3 to A.7 contain the five parts of a draft class diagram of a UML package for 
this simplified UIGM transformation. Figure A.3 shows the top level of the class 
diagram, without showing the components of the SectionParametersGroup and 
MonoscopicErrorsGroup. This diagram is incomplete in that some of the needed 
association role names and multiplicities are not shown due to lack of space. Figure A.3 
shows the top level within the SectionParametersGroup, without showing the components 
of the NormalizationParametersGroup and PolynomialGroup. Figure A.5 shows one 
example parameter value in the NormalizationParametersGroup, with a note listing the 
other nine parameter values. Figure A.6 shows two example parameter values in the 
PolynomialGroup, with a note listing the six other parameter values. Figure A.7 shows 
the complete contents of the MonoscopicErrorsGroup.


50 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


CC_ParameterValueGroup
(from CC_CoordinateOperation)


CC_ParameterValue
(from CC_CoordinateOperation)


<<Union>>
CC_Transformation


(from CC_CoordinateOperation)


CC_GeneralOperationParameter
(from CC_CoordinateOperation)


<<Abstract>>


CC_OperationParameterGroup
(from CC_CoordinateOperation)


0..n


2..*


0..n


+includesParameter


2..*


CC_OperationMethod
(from CC_CoordinateOperation)


0..n


0..n


0..n


+usesParameter 0..n


LinearCoefficientsValue
+ scaleValueList : Sequence<Scale>


CC_OperationParameter
(from CC_CoordinateOperation)


1


0..*


1


0..*


ImageIdValue
+ stringValue : CharacterString


1


0..n


+valueOfParameter


1


0..n


VersionValue
+ integerValue : Integer


1


0..*


1


0..*


NumberSectionsValue
+ integerValueList : Sequence<Integer>


1


0..n


+valueOfParameter


1


0..n


SectionParametersGroup


1


0..*


+valuesOfGroup 1


0..*


UIGM1Transformation


1


0..n


+usesMethod


1


0..n


11


11 11


11


1..64


MonoscopicErrorsGroup


1


0..n


+valuesOfGroup1


0..n


11..64 1


 


Figure A.3 — UML package for UIGM transformation, page 1 


© Open Geospatial Consortium (2005) 51 
 







OGC 05-027r1 


CC_ParameterValueGroup
(from CC_CoordinateOperation)


CC_ParameterValue
(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter
(from CC_CoordinateOperation)CC_OperationParameterGroup


(from CC_CoordinateOperation)


UIGM1Transformation


NormalizationParametersGroup


1


0..*


+valuesOfGroup
1


0..*


PolynomialsGroup


1


0..n


+valuesOfGroup


1


0..n


SectionParametersGroup


1


0..*


+valuesOfGroup


1


0..*


1..641..64


1


1


SectionNumberValue
+ integerValueList : Sequence<Integer>


1


0..n


+valueOfParameter 1


0..n


1


1


1


1


+includesNormalization
ParametersGroup


+includesPolyn
omialsGroup


+includesSection
NumberValue


 


Figure A.3 — UML package for UIGM transformation, page 2 


52 © Open Geospatial Consortium (2005) 
 







OGC 05-027r1 


CC_ParameterValueGroup
(from CC_CoordinateOperation) CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter
(from CC_CoordinateOperation)


Nine other value 
classes not shown:
NorthOffsetValue
VerticalOffsetValue
EastScaleValue
NorthScaleValue
VerticalScaleValue
RowOffsetValue
ColumnOffsetValue
RowScaleValue
ColumnScaleValue


UIGM1Transformation


SectionParametersGroup


1..641..64


CC_OperationParameterGroup
(from CC_CoordinateOperation)


1


0..*


+valuesOfGroup 1


0..*


NormalizationParametersGroup


1
+includesNormalization


ParametersGroup1


0..*


1


0..*


+valuesOfGroup1


EastOffsetValue
+ angleValue : Angle
+ lengthValue : Length


<<Union>>


1


0..*


+valueOfParameter 1


0..*


11


+includesEast
OffsetValue


 


Figure A.5 — UML package for UIGM transformation, page 3 


© Open Geospatial Consortium (2005) 53 
 







OGC 05-027r1 


CC_ParameterValueGroup
(from CC_CoordinateOperation) CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameter
(from CC_CoordinateOperation)


Six other value classes not shown:
RowDenominatorPowersValue
RowDenominatorCoefficientsValue
ColumnNumeratorPowersValue
ColumnNumeratorCoefficientsValue
ColumnDenominatorPowersValue
ColumnDenominatorCoefficientsV...


UIGM1Transformation


CC_OperationParameterGroup
(from CC_CoordinateOperation)


SectionParametersGroup


1


0..*


+valuesOfGroup 1


0..*


1..641..64
RowNumeratorPowersValue


+ integerValueList : Sequence<Integer>


1


0..n


+valueOfParameter


1


0..n


RowNumeratorCoefficientsValue
+ scaleValueList : Sequence<Scale>


1


0..n


+valueOfParameter 1


0..n


PolynomialsGroup


0..n


1


0..n


+valuesOfGroup1


1


+includesPoly
nomialsGroup


1


1 +includesRowNumerator
PowersValue


1


+includesRowNumerator
CoefficientsValue


11


 


Figure A.6 — UML package for UIGM transformation, page 4 


54 © Open Geospatial Consortium (2005) 
 







OGC 05-027r1 


CC_ParameterValueGroup
(from CC_CoordinateOperation) CC_ParameterValue


(from CC_CoordinateOperation)


<<Union>>


CC_OperationParameterGroup
(from CC_CoordinateOperation)


UIGM1Transformation


ReferenceHeightValue
+ lengthValue : Length


AbsoluteErrorValue
+ lengthValue : Length


MonoscopicErrorsGroup


1


0..n


+valuesOfGroup


1


0..n


11


11


11


BinDistancesValue
+ lengthValueList : Sequence<Length>


RelativeErrorGroup


1


0..n


+valuesOfGroup1


0..n


0..9


1


0..9


+includesRelative
ErrorGroup


1


+includesReference
HeightValue


+includesAbsolute
ErrorValue


+includesBinDistances
Value


BinErrorValue
+ lengthValue : Length11


+includesBinErrorValue


CC_OperationParameter
(from CC_CoordinateOperation)


1


0..n


+valueOfParameter


1


0..n


1


0..n


+valueOfParameter
1


0..n


1


0..*


1+valueOfParameter


0..*


1


0..n


+valueOfParameter


1


0..n


 


Figure A.7 — UML package for UIGM transformation, page 5 


© Open Geospatial Consortium (2005) 55 
 







OGC 05-027r1 


A.3.3 Application schemas 


This subclause contains example XML Schemas for encoding this simplified UIGM 
transformation, produced by converting the above UML package. These XML Schemas 
build on coordinateOperations.xsd. These draft XML Schemas are written following the 
same GML 3 patterns and ISO 19118 XML encoding rules as used in the CRS Schemas 
in GML 3.1.1. 


The first draft Application Schema is: 


<?xml version="1.0" encoding="UTF-8"?> 
<schema xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:ex="http://www.opengis.net/examples" 
targetNamespace="http://www.opengis.net/examples" 
elementFormDefault="qualified" xml:lang="en"> 
 <annotation> 
  <documentation> 
   <name>UIGM1transformation.xsd</name> 
   <scope>How to encode definition of Universal Image Geometry 
Model for one image. </scope> 
   <description>Example Application Schema to encode ground-to-
image coordinate transformation data for a specific image, using the 
Universal Image Geometry Model type of coordinate transformation as 
described in Section 6.5 of OGC Abstract Specification Topic 7 : The 
Earth Imagery Case (OGC document 99-107). This example does not encode 
data for the image correction tables, stereoscopic position error 
estimates, and most information not used by the image geometry model. 
Builds on coordinateOperations.xsd and typedValues.xsd, and follows 
same GML 3 patterns and ISO 19118 encoding. Written in the "ex" 
namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-
28</description> 
   <copyright>Copyright (c) Open Geospatial consortium (2005) 
</copyright> 
   <conformance>This schema encodes a draft UIGM package that 
builds on the Coordinate Operation (CC_) package of the extended UML 
Model for OGC Abstract Specification Topic 2: Spatial Referencing by 
Coordinates. That draft package defines restricted subtypes of the 
CC_Transformation,  CC_ParameterValue, and CC_ParameterValueGroup 
classes as needed for the UIGM transformation. </conformance> 
  </documentation> 
 </annotation> 
 <!-- ====================================================== 
       includes and imports 
 ====================================================== --> 
 <include schemaLocation="typedValues.xsd"/> 
 <import namespace="http://www.opengis.net/gml" 
schemaLocation="../gml/3.1.1/base/coordinateOperations.xsd"/> 
 <import namespace="http://www.w3.org/1999/xlink" 
schemaLocation="../gml/3.1.1/xlink/xlinks.xsd"/> 
 <!-- ====================================================== 
       elements and types 
 ====================================================== --> 


56 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


 <element name="UIGM1Transformation" 
type="ex:UIGM1TransformationType" 
substitutionGroup="gml:_GeneralTransformation"/> 
 <!-- =================================================== --> 
 <complexType name="UIGM1TransformationType"> 
  <annotation> 
   <documentation>Specific Universal Image Geometry Model type of 
coordinate transformation. Extends the 
AbstractGeneralTransformationType with restricted values for included 
elements, including elements in the coordinateOperationID element with 
the IdentifierType. If appropriate, the "codeSpace" element could have 
the string value "UIGM1", and the "code" element should then identify 
the specific image. The other elements in the IdentifierType can be 
omitted. The "coordinateOperationName" element shall have a string 
value that names a UIGM1 Transformation for a specific image and 
specific ground coordinate reference system. The "_PositionalAccuracy" 
and "metaDataProperty" elements can be omitted. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralTransformationType"> 
    <sequence> 
     <element ref="ex:usesUIGM1Method"/> 
     <element ref="ex:usesImageIdValue"/> 
     <element ref="ex:usesVersionValue"/> 
     <element ref="ex:usesLinearCoefficientsValue"/> 
     <element ref="ex:usesNumberSectionsValue"/> 
     <element ref="ex:usesSectionParameters"/> 
     <element ref="ex:usesMonoscopicErrors"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <element name="usesUIGM1Method"> 
  <annotation> 
   <documentation>Reference to UIGM1 operation method. 
</documentation> 
  </annotation> 
  <complexType> 
   <sequence/> 
   <attribute ref="xlink:href" use="required" 
fixed="urn:ogc:def:method:UIGM:1.0:MethodUIGM1"/> 
  </complexType> 
 </element> 
 <!-- =================================================== --> 
 <element name="usesImageIdValue" type="ex:StringValueType"> 
  <annotation> 
   <documentation>Alphanumeric text identifying one specific 
original image. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="usesVersionValue" type="ex:IntegerValueType"> 
  <annotation> 
   <documentation>Increasing numbers of the Image Support Data 
Version integer are used to identify versions with increasing quality 
of the image geometry model data for the same original image. This 


© Open Geospatial Consortium (2005) 57 
 







OGC 05-027r1 


Version shall be “0” before the original image support data is 
adjusted. The minimum value is 0, and the maximum value is 9. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="usesLinearCoefficientsValue" 
type="ex:ScaleListValueType"> 
  <annotation> 
   <documentation>The values of the coefficients of the 
approximate linear sensor model, which is used to find the proper image 
geometry model section for a ground coordinate position. The parameter 
value shall contain an ordered list of eight double precision floating 
point numbers, four for the section number in the image row axis 
followed by four for the image column axis. These coefficients shall be 
recorded with Scale units, but various implied units are used by the 
various coefficients. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="usesNumberSectionsValue" 
type="ex:IntegerListValueType"> 
  <annotation> 
   <documentation>The numbers of rows and columns of sections 
into which the image geometry model is divided for this image. The 
parameter value shall contain an ordered list of two small integers, 
the first specifying the number of rows and the second specifying the 
number of columns. For each integer, the minimum value is 1, and the 
maximum value is 8. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <!-- =================================================== --> 
 <element name="usesSectionParameters"> 
  <annotation> 
   <documentation>Group of parameters for one section of the 
universal image geometry model. There shall be from 1 up to 64 model 
sections for one image. If the model for this image is not divided into 
sections, there shall be only one repetition of this group of 
parameters. </documentation> 
  </annotation> 
  <complexType> 
   <sequence> 
    <element ref="ex:includesSectionNumberValue"/> 
    <element ref="ex:includesNormalizationParameters"/> 
    <element ref="ex:includesPolynomials"/> 
    <element ref="gml:valuesOfGroup"/> 
   </sequence> 
  </complexType> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesSectionNumberValue" 
type="ex:IntegerListValueType"> 
  <annotation> 
   <documentation>The row and column numbers of this section of 
the universal image geometry model for this image. The parameter value 
contains an ordered list of two small integers, the first specifying 


58 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


the row number and the second specifying the column number. For each 
integer, the minimum value is 1, and the maximum value is 
8.</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <!-- =================================================== --> 
 <element name="includesNormalizationParameters"> 
  <annotation> 
   <documentation>Group of ground position normalization 
parameters and image position un-normalization parameters, for this 
section of the universal image geometry model. </documentation> 
  </annotation> 
  <complexType> 
   <sequence> 
    <element ref="ex:includesEastOffsetValue"/> 
    <element ref="ex:includesNorthOffsetValue"/> 
    <element ref="ex:includesVerticalOffsetValue"/> 
    <element ref="ex:includesEastScaleValue"/> 
    <element ref="ex:includesNorthScaleValue"/> 
    <element ref="ex:includesVerticalScaleValue"/> 
    <element ref="ex:includesRowOffsetValue"/> 
    <element ref="ex:includesColumnOffsetValue"/> 
    <element ref="ex:includesRowScaleValue"/> 
    <element ref="ex:includesColumnScaleValue"/> 
    <element ref="gml:valuesOfGroup"/> 
   </sequence> 
  </complexType> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesEastOffsetValue" 
type="ex:AngleOrLengthValueType"> 
  <annotation> 
   <documentation>East position offset for normalizing ground 
coordinates. The units shall be either angle or length units. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesNorthOffsetValue" 
type="ex:AngleOrLengthValueType"> 
  <annotation> 
   <documentation>North position offset for normalizing ground 
coordinates. The units shall be the same as for the East Offset, either 
angle or length units. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesVerticalOffsetValue" 
type="ex:LengthValueType"> 
  <annotation> 
   <documentation>Vertical position offset for normalizing ground 
coordinates. The units shall be length units. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 


© Open Geospatial Consortium (2005) 59 
 







OGC 05-027r1 


 <element name="includesEastScaleValue" 
type="ex:AngleOrLengthValueType"> 
  <annotation> 
   <documentation>East scale factor for normalizing ground 
coordinates. The units shall be the same as for the East Offset, either 
angle or length units. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesNorthScaleValue" 
type="ex:AngleOrLengthValueType"> 
  <annotation> 
   <documentation>North scale factor for normalizing ground 
coordinates. The units shall be the same as for the North Offset, 
either angle or length units. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesVerticalScaleValue" 
type="ex:LengthValueType"> 
  <annotation> 
   <documentation>Vertical scale factor for normalizing ground 
coordinates. The units shall be the same as for the Vertical Offset, 
and shall be length units. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesRowOffsetValue" 
type="ex:GridLengthValueType"> 
  <annotation> 
   <documentation>Image row position offset for un-normalizing 
image coordinates. The units shall be one grid spacing. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesColumnOffsetValue" 
type="ex:GridLengthValueType"> 
  <annotation> 
   <documentation>Image column position offset for un-normalizing 
image coordinates. The units shall be one grid spacing. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesRowScaleValue" type="ex:GridLengthValueType"> 
  <annotation> 
   <documentation>Image row scale factors for un-normalizing 
image coordinates. The units shall be one grid spacing. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesColumnScaleValue" 
type="ex:GridLengthValueType"> 
  <annotation> 


60 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   <documentation>Image column scale factors for un-normalizing 
image coordinates. The units shall be one grid spacing. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <!-- =================================================== --> 
 <element name="includesPolynomials"> 
  <annotation> 
   <documentation>Numerator and denominator polynomial parameters 
for this section of the universal image geometry model. 
</documentation> 
  </annotation> 
  <complexType> 
   <sequence> 
    <element ref="ex:includesRowNumeratorPowersValue"/> 
    <element ref="ex:includesRowNumeratorCoefficientsValue"/> 
    <element ref="ex:includesRowDenominatorPowersValue"/> 
    <element ref="ex:includesRowDenominatorCoefficientsValue"/> 
    <element ref="ex:includesColumnNumeratorPowersValue"/> 
    <element 
ref="ex:includesColumnNumeratorCoefficientsValue"/> 
    <element ref="ex:includesColumnDenominatorPowersValue"/> 
    <element 
ref="ex:includesColumnDenominatorCoefficientsValue"/> 
    <element ref="gml:valuesOfGroup"/> 
   </sequence> 
  </complexType> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesRowNumeratorPowersValue" 
type="ex:IntegerListValueType"> 
  <annotation> 
   <documentation>Maximum powers of the three ground coordinates 
in the numerator polynomial for computing the image row coordinate. The 
parameter value shall contain an ordered list of three small integers, 
corresponding to the East, North, and Vertical ground coordinate axes. 
For each integer, the minimum value is 1. For the East and North axis 
integers, the maximum value is 5. For the Vertical axis integer, the 
maximum value is 3. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesRowNumeratorCoefficientsValue" 
type="ex:ScaleListValueType"> 
  <annotation> 
   <documentation>Polynomial coefficients in the numerator 
polynomial for computing the image row coordinate. The parameter value 
shall contain an ordered list of from 8 to 144 Scale measures. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesRowDenominatorPowersValue" 
type="ex:IntegerListValueType"> 
  <annotation> 


© Open Geospatial Consortium (2005) 61 
 







OGC 05-027r1 


   <documentation>Maximum powers of the three ground coordinates 
in the denominator polynomial for computing the image row coordinate. 
The parameter value shall contain an ordered list of three small 
integers, corresponding to the East, North, and Vertical ground 
coordinate axes. For each integer, the minimum value is 1. For the East 
and North axis integers, the maximum value is 5. For the Vertical axis 
integer, the maximum value is 3. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesRowDenominatorCoefficientsValue" 
type="ex:ScaleListValueType"> 
  <annotation> 
   <documentation>Polynomial coefficients in the denominator 
polynomial for computing the image row coordinate. The parameter value 
shall contain an ordered list of from 8 to 144 Scale measures. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesColumnNumeratorPowersValue" 
type="ex:IntegerListValueType"> 
  <annotation> 
   <documentation>Maximum powers of the three ground coordinates 
in the numerator polynomial for computing the image column coordinate. 
The parameter value shall contain an ordered list of three small 
integers, corresponding to the East, North, and Vertical ground 
coordinate axes. For each integer, the minimum value is 1. For the East 
and North axis integers, the maximum value is 5. For the Vertical axis 
integer, the maximum value is 3. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesColumnNumeratorCoefficientsValue" 
type="ex:ScaleListValueType"> 
  <annotation> 
   <documentation>Polynomial coefficients in the numerator 
polynomial for computing the image column coordinate. The parameter 
value shall contain an ordered list of from 8 to 144 Scale measures. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesColumnDenominatorPowersValue" 
type="ex:IntegerListValueType"> 
  <annotation> 
   <documentation>Maximum powers of the three ground coordinates 
in the denominator polynomial for computing the image column 
coordinate. The parameter value shall contain an ordered list of three 
small integers, corresponding to the East, North, and Vertical ground 
coordinate axes. For each integer, the minimum value is 1. For the East 
and North axis integers, the maximum value is 5. For the Vertical axis 
integer, the maximum value is 3. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 


62 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


 <element name="includesColumnDenominatorCoefficientsValue" 
type="ex:ScaleListValueType"> 
  <annotation> 
   <documentation>Polynomial coefficients in the denominator 
polynomial for computing the image column coordinate. The parameter 
value shall contain an ordered list of from 8 to 144 Scale measures. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <!-- =================================================== --> 
 <element name="usesMonoscopicErrors"> 
  <annotation> 
   <documentation>Group of parameters for horizontal error 
estimates when a position in this one image is used to determine the 
corresponding ground coordinates, using this universal image geometry 
model for this image. </documentation> 
  </annotation> 
  <complexType> 
   <sequence> 
    <element ref="ex:includesReferenceHeightValue"/> 
    <element ref="ex:includesAbsoluteErrorValue"/> 
    <element ref="ex:includesRelativeError" minOccurs="0" 
maxOccurs="9"/> 
    <element ref="gml:valuesOfGroup"/> 
   </sequence> 
  </complexType> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesReferenceHeightValue" 
type="ex:LengthValueType"> 
  <annotation> 
   <documentation>The value of the ground elevation or height 
used to estimate the recorded horizontal error estimate when a position 
in this one image is used to determine the corresponding ground 
coordinates. This reference height is in the Vertical coordinate system 
axis of the ground CRS used by the universal image geometry model for 
this image. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesAbsoluteErrorValue" 
type="ex:LengthValueType"> 
  <annotation> 
   <documentation>The value of the horizontal absolute error 
estimate when a position in this one (monoscopic) image is used to 
determine the corresponding ground coordinates. This error estimate 
shall be recorded as the Circular Error (CE) with 90% confidence, 
always in one meter units. The minimum value is 0.0. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <!-- =================================================== --> 
 <element name="includesRelativeError"> 
  <annotation> 
   <documentation>Relative error estimate for one distance bin 
between two points. These error estimates are for use when multiple 


© Open Geospatial Consortium (2005) 63 
 







OGC 05-027r1 


positions in one (monoscopic) image are used to determine the 
corresponding ground coordinates. </documentation> 
  </annotation> 
  <complexType> 
   <sequence> 
    <element ref="ex:includesBinDistancesValue"/> 
    <element ref="ex:includesBinErrorValue"/> 
    <element ref="gml:valuesOfGroup"/> 
   </sequence> 
  </complexType> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesBinDistancesValue" 
type="ex:LengthListValueType"> 
  <annotation> 
   <documentation>The minimum and maximum ground distances 
between two points for this distance bin recorded for horizontal 
relative error estimates. The parameter value shall contain an ordered 
list of two Length measures, always in one meter units. The first value 
specifies the bin minimum distance, and the second value specifies the 
bin maximum distance. The minimum values are 0.0. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="includesBinErrorValue" type="ex:LengthValueType"> 
  <annotation> 
   <documentation>The value of the horizontal relative error 
estimate between two points for this distance bin recorded for 
horizontal relative error estimates. These error estimates are for use 
when multiple positions in one (monoscopic) image are used to determine 
the corresponding ground coordinates. The relative error estimate shall 
be recorded as the Circular Error (CE) with 90% confidence, always in 
one meter units. The minimum value is 0.0. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
</schema> 
  
The above example Application Schema is shortened by building on a separate example 
Application Schema. This other Application Schema defines XML Schema 
complexTypes for a number of types of operation parameter values. The complexTypes 
defined include 8 parameter types used in the Application Schema above, plus 8 TBD 
more types expected to be useful in other image geometry model transformations. This 
second draft XML Application Schema is: 


<?xml version="1.0" encoding="UTF-8"?> 
<schema xmlns="http://www.w3.org/2001/XMLSchema" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:ex="http://www.opengis.net/examples" 
targetNamespace="http://www.opengis.net/examples" 
elementFormDefault="qualified" xml:lang="en"> 
 <annotation> 
  <documentation> 
   <name>typedValues.xsd</name> 


64 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   <scope>How to encode operation parameter values with specific 
types, including length, angle, and scale measures.. </scope> 
   <description>Example Application Schema to encode operation 
parameter values with specific types. Builds on measures.xsd, and 
follows same GML 3 patterns. Written in the "ex" namespace. Primary 
editor: Arliss Whiteside. Last updated 2005-01-28</description> 
   <copyright>Copyright (c) Open Geospatial consortium (2005) 
</copyright> 
  </documentation> 
 </annotation> 
 <!-- ====================================================== 
       includes and imports 
 ====================================================== --> 
 <import namespace="http://www.opengis.net/gml" 
schemaLocation="../gml/3.1.1/base/coordinateOperations.xsd"/> 
 <!-- ====================================================== 
       elements and types 
 ====================================================== --> 
 <complexType name="StringValueType"> 
  <annotation> 
   <documentation>Alphanumeric text operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="gml:stringValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="IntegerValueType"> 
  <annotation> 
   <documentation>Integer operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="gml:integerValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="LengthValueType"> 
  <annotation> 
   <documentation>Length measure operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:lengthValue"/> 


© Open Geospatial Consortium (2005) 65 
 







OGC 05-027r1 


     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="ScaleValueType"> 
  <annotation> 
   <documentation>Scale measure operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:scaleValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="AngleValueType"> 
  <annotation> 
   <documentation>Angle measure operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:angleValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="AngleOrLengthValueType"> 
  <annotation> 
   <documentation>Angle or Length measure operation parameter 
value, sometimes used for horizontal coordinate parameters. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <choice> 
      <element ref="ex:angleValue"/> 
      <element ref="ex:lengthValue"/> 
     </choice> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="TimeValueType"> 
  <annotation> 


66 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   <documentation>Time measure operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:gridLengthValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="GridLengthValueType"> 
  <annotation> 
   <documentation>Grid Length measure operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:gridLengthValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="SpeedValueType"> 
  <annotation> 
   <documentation>Velocity measure operation parameter value. 
</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:speedValue"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="IntegerListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more integer 
operation parameter values. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="gml:integerValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 


© Open Geospatial Consortium (2005) 67 
 







OGC 05-027r1 


 <!-- =================================================== --> 
 <complexType name="LengthListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more Length 
operation parameter values.</documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:lengthValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="ScaleListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more Scale Factor 
operation parameter values. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:scaleValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="AngleListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more Angle operation 
parameter values. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:angleValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="TimeListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more Time operation 
parameter values. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:timeValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 


68 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="GridLengthListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more Grid Length 
operation parameter values. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:gridLengthValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <complexType name="SpeedListValueType"> 
  <annotation> 
   <documentation>Ordered sequence of two or more Velocity 
operation parameter values. </documentation> 
  </annotation> 
  <complexContent> 
   <extension base="gml:AbstractGeneralParameterValueType"> 
    <sequence> 
     <element ref="ex:speedValueList"/> 
     <element ref="gml:valueOfParameter"/> 
    </sequence> 
   </extension> 
  </complexContent> 
 </complexType> 
 <!-- =================================================== --> 
 <!-- =================================================== --> 
 <element name="lengthValue" type="gml:LengthType" 
substitutionGroup="gml:value"> 
  <annotation> 
   <documentation>Length value of an operation parameter, with a 
unit of measure suitable for a length, such as metres or feet. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="scaleValue" type="gml:ScaleType" 
substitutionGroup="gml:value"> 
  <annotation> 
   <documentation>Scale factor value of an operation parameter, 
with a unit of measure suitable for a scale factor, such as one, 
percent, permil, or parts-per-million. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="angleValue" type="gml:AngleType" 
substitutionGroup="gml:value"> 
  <annotation> 


© Open Geospatial Consortium (2005) 69 
 







OGC 05-027r1 


   <documentation>Angle value of an operation parameter, recorded 
as a single number, with a unit of measure suitable for an angle, such 
as degrees or radians. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="timeValue" type="gml:TimeType" 
substitutionGroup="gml:value"> 
  <annotation> 
   <documentation>Time value of an operation parameter, recorded 
as a single number, with a unit of measure suitable for a time value, 
such as seconds or days. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="gridLengthValue" type="gml:GridLengthType" 
substitutionGroup="gml:value"> 
  <annotation> 
   <documentation>Grid length value of an operation parameter, 
with a unit of measure suitable for length along the axes of a grid, 
such as pixel spacings or grid spacings. Used when the grid spacing 
does not have any associated physical units, or does not have a 
constant physical spacing. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="speedValue" type="gml:SpeedType" 
substitutionGroup="gml:value"> 
  <annotation> 
   <documentation>Speed value of an operation parameter, with a 
unit of measure suitable for a speed, such as metres per second or 
miles per hour. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="lengthValueList" type="gml:MeasureListType" 
substitutionGroup="gml:valueList"> 
  <annotation> 
   <documentation>Ordered sequence of two or more length values 
of an operation parameter, with a unit of measure suitable for a 
length, such as metres or feet. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="scaleValueList" type="gml:MeasureListType" 
substitutionGroup="gml:valueList"> 
  <annotation> 
   <documentation>Ordered sequence of two or more scale factor 
values of an operation parameter, with a unit of measure suitable for a 
scale factor, such as one, percent, permil, or parts-per-million. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="angleValueList" type="gml:MeasureListType" 
substitutionGroup="gml:valueList"> 
  <annotation> 


70 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   <documentation>Ordered sequence of two or more angle values of 
an operation parameter, each recorded as a single number, with a unit 
of measure suitable for an angle, such as degrees or radians. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="timeValueList" type="gml:MeasureListType" 
substitutionGroup="gml:valueList"> 
 
  <annotation> 
   <documentation>Ordered sequence of two or more time values of 
an operation parameter, each recorded as a single number, with a unit 
of measure suitable for a time value, such as seconds or days. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="gridLengthValueList" type="gml:MeasureListType" 
substitutionGroup="gml:valueList"> 
  <annotation> 
   <documentation>Ordered sequence of two or more grid length 
values of an operation parameter, with a unit of measure suitable for 
length along the axes of a grid, such as pixel spacings or grid 
spacings. Used when the grid spacing does not have any associated 
physical units, or does not have a constant physical spacing. 
</documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
 <element name="speedValueList" type="gml:MeasureListType" 
substitutionGroup="gml:valueList"> 
  <annotation> 
   <documentation>Ordered sequence of two or more spped values of 
an operation parameter, with a unit of measure suitable for a speed, 
such as metres per second or miles per hour. </documentation> 
  </annotation> 
 </element> 
 <!-- =================================================== --> 
</schema> 
  


A.3.4 Example XML documents 


An example XML document based on the above two example Application Schemas for 
encoding this simplified UIGM transformation is: 


<?xml version="1.0" encoding="UTF-8"?> 
<UIGM1Transformation xmlns="http://www.opengis.net/examples" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/examples 
UIGM1transformation.xsd" gml:id="AaaaAaaa"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <gml:coordinateOperationName>Aaaa Aaaa</gml:coordinateOperationName> 
 <gml:operationVersion>1</gml:operationVersion> 


© Open Geospatial Consortium (2005) 71 
 







OGC 05-027r1 


 <gml:sourceCRS xlink:href="urn:ogc:def:crs:EPSG:6.6:7405" 
xlink:title="OSGB36 /British National Grid + ODN"/> 
 <gml:targetCRS xlink:href="urn:ogc:def:crs:UIGM:1.0:mageCRS"/> 
 <usesUIGM1Method 
xlink:href="urn:ogc:def:method:UIGM:1.0:MethodUIGM1"/> 
 <usesImageIdValue> 
  <gml:stringValue>AAAAAA</gml:stringValue> 
  <gml:valueOfParameter 
xlink:href="urn:ogc:def:parameter:UIGM:1.0:mageID"/> 
 </usesImageIdValue> 
 <usesVersionValue> 
  <gml:integerValue>1</gml:integerValue> 
  <gml:valueOfParameter 
xlink:href="urn:ogc:def:parameter:UIGM:1.0:Version"/> 
 </usesVersionValue> 
 <usesLinearCoefficientsValue> 
  <scaleValueList uom="urn:ogc:def:uom:unity">9.999 9.999 9.999 
9.999 9.999 9.999 9.999 9.999</scaleValueList> 
  <gml:valueOfParameter 
xlink:href="urn:ogc:def:parameter:UIGM:1.0:LinearCoefficients"/> 
 </usesLinearCoefficientsValue> 
 <usesNumberSectionsValue> 
  <gml:integerValueList>1 1</gml:integerValueList> 
  <gml:valueOfParameter 
xlink:href="urn:ogc:def:parameter:UIGM:1.0:NumberSections"/> 
 </usesNumberSectionsValue> 
 <usesSectionParameters> 
  <includesSectionNumberValue> 
   <gml:integerValueList>1 1</gml:integerValueList> 
   <gml:valueOfParameter 
xlink:href="urn:ogc:def:parameter:UIGM:1.0:SectionNumber"/> 
  </includesSectionNumberValue> 
  <includesNormalizationParameters> 
   <includesEastOffsetValue> 
    <angleValue 
uom="urn:ogc:def:uom:degree">99.999</angleValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:EastOffset"/> 
   </includesEastOffsetValue> 
   <includesNorthOffsetValue> 
    <angleValue uom="urn:ogc:def:uom:degree">9.999</angleValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:NorthOffset"/> 
   </includesNorthOffsetValue> 
   <includesVerticalOffsetValue> 
    <lengthValue 
uom="urn:ogc:def:uom:metre">99.999</lengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:VerticalOffset"/> 
   </includesVerticalOffsetValue> 
   <includesEastScaleValue> 
    <angleValue uom="urn:ogc:def:uom:degree">9.999</angleValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:EastScale"/> 
   </includesEastScaleValue> 
   <includesNorthScaleValue> 
    <angleValue uom="urn:ogc:def:uom:degree">9.999</angleValue> 


72 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:NorthScale"/> 
   </includesNorthScaleValue> 
   <includesVerticalScaleValue> 
    <lengthValue 
uom="urn:ogc:def:uom:metre">9.999</lengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:VerticalScale"/> 
   </includesVerticalScaleValue> 
   <includesRowOffsetValue> 
    <gridLengthValue 
uom="urn:ogc:def:uom:PixelSpacing">9999.99</gridLengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:RowOffset"/> 
   </includesRowOffsetValue> 
   <includesColumnOffsetValue> 
    <gridLengthValue 
uom="urn:ogc:def:uom:PixelSpacing">9999.99</gridLengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnOffset"/> 
   </includesColumnOffsetValue> 
   <includesRowScaleValue> 
    <gridLengthValue 
uom="urn:ogc:def:uom:PixelSpacing">999.99</gridLengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:RowScale"/> 
   </includesRowScaleValue> 
   <includesColumnScaleValue> 
    <gridLengthValue 
uom="urn:ogc:def:uom:PixelSpacing">999.99</gridLengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnScale"/> 
   </includesColumnScaleValue> 
   <gml:valuesOfGroup 
xlink:href="urn:ogc:def:method:UIGM:1.0:NormalizationParameters"/> 
  </includesNormalizationParameters> 
  <includesPolynomials> 
   <includesRowNumeratorPowersValue> 
    <gml:integerValueList>1 1 1</gml:integerValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:RowNumeratorPowers"/> 
   </includesRowNumeratorPowersValue> 
   <includesRowNumeratorCoefficientsValue> 
    <scaleValueList uom="urn:ogc:def:uom:unity">0.999999 
0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 
0.999999</scaleValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:RowNumeratorCoefficients"/> 
   </includesRowNumeratorCoefficientsValue> 
   <includesRowDenominatorPowersValue> 
    <gml:integerValueList>1 1 1</gml:integerValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:RowDenominatorPowers"/> 
   </includesRowDenominatorPowersValue> 
   <includesRowDenominatorCoefficientsValue> 


© Open Geospatial Consortium (2005) 73 
 







OGC 05-027r1 


    <scaleValueList uom="urn:ogc:def:uom:unity">0.999999 
0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 
0.999999</scaleValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:RowDenominatorCoefficients"/> 
   </includesRowDenominatorCoefficientsValue> 
   <includesColumnNumeratorPowersValue> 
    <gml:integerValueList>1 1 1</gml:integerValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnNumeratorPowers"/> 
   </includesColumnNumeratorPowersValue> 
   <includesColumnNumeratorCoefficientsValue> 
    <scaleValueList uom="urn:ogc:def:uom:unity">0.999999 
0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 
0.999999</scaleValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnNumeratorCoefficients"/> 
   </includesColumnNumeratorCoefficientsValue> 
   <includesColumnDenominatorPowersValue> 
    <gml:integerValueList>1 1 1</gml:integerValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnDenominatorPowers"/> 
   </includesColumnDenominatorPowersValue> 
   <includesColumnDenominatorCoefficientsValue> 
    <scaleValueList uom="urn:ogc:def:uom:unity">0.999999 
0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 
0.999999</scaleValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ColumnDenominatorCoefficients"/
> 
   </includesColumnDenominatorCoefficientsValue> 
   <gml:valuesOfGroup 
xlink:href="urn:ogc:def:method:UIGM:1.0:Polynomials"/> 
  </includesPolynomials> 
  <gml:valuesOfGroup 
xlink:href="urn:ogc:def:method:UIGM:1.0:SectionParameters"/> 
 </usesSectionParameters> 
 <usesMonoscopicErrors> 
  <includesReferenceHeightValue> 
   <lengthValue uom="urn:ogc:def:uom:metre">999</lengthValue> 
   <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:ReferenceHeight"/> 
  </includesReferenceHeightValue> 
  <includesAbsoluteErrorValue> 
   <lengthValue uom="urn:ogc:def:uom:metre">99.99</lengthValue> 
   <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:AbsoluteError"/> 
  </includesAbsoluteErrorValue> 
  <includesRelativeError> 
   <includesBinDistancesValue> 
    <lengthValueList uom="urn:ogc:def:uom:metre">0 
1000</lengthValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:BinDistances"/> 
   </includesBinDistancesValue> 
   <includesBinErrorValue> 
    <lengthValue uom="urn:ogc:def:uom:metre">9.99</lengthValue> 


74 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:BinError"/> 
   </includesBinErrorValue> 
   <gml:valuesOfGroup 
xlink:href="urn:ogc:def:method:UIGM:1.0:RelativeError"/> 
  </includesRelativeError> 
  <includesRelativeError> 
   <includesBinDistancesValue> 
    <lengthValueList uom="urn:ogc:def:uom:metre">1000 
10000</lengthValueList> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:BinDistances"/> 
   </includesBinDistancesValue> 
   <includesBinErrorValue> 
    <lengthValue uom="urn:ogc:def:uom:metre">9.99</lengthValue> 
    <gml:valueOfParameter 
xlink:href="urn:ogc:def:method:UIGM:1.0:BinError"/> 
   </includesBinErrorValue> 
   <gml:valuesOfGroup 
xlink:href="urn:ogc:def:method:UIGM:1.0:RelativeError"/> 
  </includesRelativeError> 
  <gml:valuesOfGroup 
xlink:href="urn:ogc:def:method:UIGM:1.0:MonoscopicErrors"/> 
 </usesMonoscopicErrors> 
</UIGM1Transformation> 
  
The above XML example uses dummy values such as "Aaaa" in place of real values for 
some text string values. Similarly, this example also uses dummy values such as "99.99" 
in place of real values for some numerical values. This example assumes that the 
Application Schemas specified in Subclause A.3.3 are accessible using the location 
UIGM1transformation.xsd. 


The above XML example also assumes that (complete) information for several items is 
available elsewhere. The definition of the sourceCRS and targetCRS are assumed to be 
available elsewhere, and can be encoded in XML as shown in the example XML in 
Clause 7 of this document and in Subclauses 6.2.2, 6.3.2, and 6.6.2 of “Recommended 
XML encoding of common CRS definitions” [OGC 05-011]. 


The definition of the simplified UIGM OperationMethod can be XML encoded using the 
example Application Schema from Subclause A.2.3, and could be: 


<?xml version="1.0" encoding="UTF-8"?> 
<OperationMethod xmlns="http://www.opengis.net/gml" 
xmlns:gml="http://www.opengis.net/gml" 
xmlns:ex="http://www.opengis.net/examples" 
xmlns:xlink="http://www.w3.org/1999/xlink" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.opengis.net/examples 
extendedOperationParameter.xsd http://www.opengis.net/gml 
../gml/3.1.1/base/coordinateOperations.xsd" gml:id="MethodUIGM1"> 
 <!-- Primary editor: Arliss Whiteside. Last updated 2005-01-28--> 
 <methodName>Universal Image Geometry Model Transformation 
(simplified)</methodName> 


© Open Geospatial Consortium (2005) 75 
 







OGC 05-027r1 


 <remarks>This operation method implements the universal image 
geometry model that transforms ground coordinates into georeferenced 
image coordinates. This image geometry model uses one ratio of two 
polynomial functions to compute the row image coordinate, and uses a 
similar ratio of two different polynomials to compute the column image 
coordinate. All four polynomials are functions of three ground 
coordinates: two horizontal coordinates and one vertical coordinate. In 
the polynomial functions, the three ground coordinates and two image 
coordinates are each offset and scaled to have a range from -1.0 to 
+1.0 over an image or image section. For brevity, this simplified 
operation method specification does not include all geometry model 
parameters or all optional XML elements. </remarks> 
 <methodFormula>See Section 6.5 of document OGC 04-071. 
</methodFormula> 
 <sourceDimensions>3</sourceDimensions> 
 <targetDimensions>2</targetDimensions> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="ImageID"> 
   <parameterName>Image ID</parameterName> 
   <remarks>Alphanumeric text identifying one specific original 
image. </remarks> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">string</ex:parameterType> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="Version"> 
   <parameterName>Image Support Data Version</parameterName> 
   <remarks>Increasing numbers of the Image Support Data Version 
Number are used to identify versions with increasing quality of the 
image geometry model data for the same original image. This Image 
Support Data Version field shall be 0 before the original image support 
data is adjusted. Minimum value is 0, maximum value is 9. </remarks> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">nonNegativeInteger</ex:parameterT
ype> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="LinearCoefficients"> 
   <parameterName>Linear Sensor Model 
Coefficients</parameterName> 
   <remarks>The values of the coefficients of the approximate 
linear sensor model, which is used to find the proper image geometry 
model section for a ground coordinate position. The parameter value 
shall contain an ordered list of eight double precision floating point 
numbers, four for the section number in the image row axis, followed by 
four for the image column axis. These coefficients shall be recorded 
with Scale units, but various implied units are used by the various 
coefficients. </remarks> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <ex:ExtendedOperationParameter gml:id="NumberSections"> 
   <parameterName>Number of Sections</parameterName> 


76 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


   <remarks>The numbers of rows and columns of sections into 
which the image geometry model is divided for this image. The parameter 
value shall contain an ordered list of two small integers, the first 
specifying the number of rows and the second specifying the number of 
columns. For each integer, the minimum value is 1, and the maximum 
value is 8. </remarks> 
   <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType> 
  </ex:ExtendedOperationParameter> 
 </usesParameter> 
 <usesParameter> 
  <OperationParameterGroup gml:id="SectionParameters"> 
   <groupName>Image Section Parameters</groupName> 
   <remarks>Parameters for one section of the universal image 
geometry model. There shall be from 1 up to 64 model sections for one 
image. If the model for this image is not divided into sections, there 
shall be only one repetition of this group of parameters. </remarks> 
   <maximumOccurs>64</maximumOccurs> 
   <includesParameter> 
    <ex:ExtendedOperationParameter gml:id="SectionNumber"> 
     <parameterName>Section Number</parameterName> 
     <remarks>The row and column numbers of this section of 
the universal image geometry model for this image. The parameter value 
contains an ordered list of two small integers, the first specifying 
the row number and the second specifying the column number. For each 
integer, the minimum value is 1, and the maximum value is 8. </remarks> 
     <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType> 
    </ex:ExtendedOperationParameter> 
   </includesParameter> 
   <includesParameter> 
    <OperationParameterGroup gml:id="NormalizationParameters"> 
     <groupName>Ground and Image Position Normalization 
Parameters</groupName> 
     <remarks>Ground position normalization parameters and 
image position un-normalization parameters, for this section of the 
universal image geometry model. </remarks> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="EastOffset"> 
       <parameterName>East Ground Position 
Offset</parameterName> 
       <remarks>East position offset for normalizing 
ground coordinates. The units shall be either length or angle units. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterTy
pe> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="NorthOffset"> 
       <parameterName>North Ground Position 
Offset</parameterName> 
       <remarks>North position offset for normalizing 
ground coordinates. The units shall be the same as for the East Offset, 
and either length or angle units. </remarks> 


© Open Geospatial Consortium (2005) 77 
 







OGC 05-027r1 


       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterTy
pe> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="VerticalOffset"> 
       <parameterName>Vertical Ground Position 
Offset</parameterName> 
       <remarks>Vertical position offset for normalizing 
ground coordinates. The units shall be length units. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="EastScale"> 
       <parameterName>East Ground Position 
Scale</parameterName> 
       <remarks>East scale factor for normalizing ground 
coordinates. The units shall be the same as for the East Offset, either 
length or angle units. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterTy
pe> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="NorthScale"> 
       <parameterName>North Ground Position 
Scale</parameterName> 
       <remarks>North scale factor for normalizing ground 
coordinates. The units shall be the same as for the North Offset, 
either length or angle units. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthOrAngleType</ex:parameterTy
pe> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="VerticalScale"> 
       <parameterName>Vertical Ground Position 
Scale</parameterName> 
       <remarks>Vertical scale factor for normalizing 
ground coordinates. The units shall be the same as for the Vertical 
Offset, and shall be length units. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="RowOffset"> 
       <parameterName>Image Row Position 
Offset</parameterName> 


78 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


       <remarks>Image row position offset for un-
normalizing image coordinates. The units shall be one grid spacing. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="ColumnOffset"> 
       <parameterName>Image Column Position 
Offset</parameterName> 
       <remarks>Image column position offset for un-
normalizing image coordinates. The units shall be one grid spacing. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="RowScale"> 
       <parameterName>Image Row Position 
Scale</parameterName> 
       <remarks>Image row scale factors for un-
normalizing image coordinates. The units shall be one grid spacing. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="ColumnScale"> 
       <parameterName>Image Column Position 
Scale</parameterName> 
       <remarks>Image column scale factors for un-
normalizing image coordinates. The units shall be one grid spacing. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">GridLengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
    </OperationParameterGroup> 
   </includesParameter> 
   <includesParameter> 
    <OperationParameterGroup gml:id="Polynomials"> 
     <groupName>Numerator and Denominator 
Polynomials</groupName> 
     <remarks>Numerator and denominator polynomial parameters 
for this section of the universal image geometry model. </remarks> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="RowNumeratorPowers"> 
       <parameterName>Row Numerator Maximum 
Powers</parameterName> 
       <remarks>Maximum powers of the three ground 
coordinates in the numerator polynomial for computing the image row 
coordinate. The parameter value shall contain an ordered list of three 
small integers, corresponding to the East, North, and Vertical ground 


© Open Geospatial Consortium (2005) 79 
 







OGC 05-027r1 


coordinate axes. For each integer, the minimum value is 1. For the East 
and North axis integers, the maximum value is 5. For the Vertical axis 
integer, the maximum value is 3. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="RowNumeratorCoefficients"> 
       <parameterName>Row Numerator Polynomial 
Coefficients</parameterName> 
       <remarks>Polynomial coefficients in the numerator 
polynomial for computing the image row coordinate. The parameter value 
shall contain an ordered list of from 8 to 144 Scale measures. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="RowDenominatorPowers"> 
       <parameterName>Row Denominator Maximum 
Powers</parameterName> 
       <remarks>Maximum powers of the three ground 
coordinates in the denominator polynomial for computing the image row 
coordinate. The parameter value shall contain an ordered list of three 
small integers, corresponding to the East, North, and Vertical ground 
coordinate axes. For each integer, the minimum value is 1. For the East 
and North axis integers, the maximum value is 5. For the Vertical axis 
integer, the maximum value is 3. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="RowDenominatorCoefficients"> 
       <parameterName>Row Denominator Polynomial 
Coefficients</parameterName> 
       <remarks>Polynomial coefficients in the 
denominator polynomial for computing the image row coordinate. The 
parameter value shall contain an ordered list of from 8 to 144 Scale 
measures. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="ColumnNumeratorPowers"> 
       <parameterName>Column Numerator Maximum 
Powers</parameterName> 
       <remarks>Maximum powers of the three ground 
coordinates in the numerator polynomial for computing the image column 
coordinate. The parameter value shall contain an ordered list of three 


80 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


small integers, corresponding to the East, North, and Vertical ground 
coordinate axes. For each integer, the minimum value is 1. For the East 
and North axis integers, the maximum value is 5. For the Vertical axis 
integer, the maximum value is 3. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="ColumnNumeratorCoefficients"> 
       <parameterName>Column Numerator Polynomial 
Coefficients</parameterName> 
       <remarks>Polynomial coefficients in the numerator 
polynomial for computing the image column coordinate. The parameter 
value shall contain an ordered list of from 8 to 144 Scale measures. 
</remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="ColumnDenominatorPowers"> 
       <parameterName>Column Denominator Maximum 
Powers</parameterName> 
       <remarks>Maximum powers of the three ground 
coordinates in the denominator polynomial for computing the image 
column coordinate. The parameter value shall contain an ordered list of 
three small integers, corresponding to the East, North, and Vertical 
ground coordinate axes. For each integer, the minimum value is 1. For 
the East and North axis integers, the maximum value is 5. For the 
Vertical axis integer, the maximum value is 3. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">integerList</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter 
gml:id="ColumnDenominatorCoefficients"> 
       <parameterName>Column Denominator Polynomial 
Coefficients</parameterName> 
       <remarks>Polynomial coefficients in the 
denominator polynomial for computing the image column coordinate. The 
parameter value shall contain an ordered list of from 8 to 144 Scale 
measures. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">ScaleListType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
    </OperationParameterGroup> 
   </includesParameter> 
  </OperationParameterGroup> 
 </usesParameter> 
 <usesParameter> 
  <OperationParameterGroup gml:id="MonoscopicErrors"> 
   <groupName>Monoscopic Error Estimates</groupName> 


© Open Geospatial Consortium (2005) 81 
 







OGC 05-027r1 


   <remarks>Horizontal error estimates for when a position in 
this one image is used to determine the corresponding ground 
coordinates, using this universal image geometry model for this image. 
</remarks> 
   <includesParameter> 
    <ex:ExtendedOperationParameter gml:id="ReferenceHeight"> 
     <parameterName>Monoscopic Error Estimate Reference 
Height</parameterName> 
     <remarks>The value of the ground elevation or height 
used to estimate the recorded horizontal error estimate when a position 
in this one image is used to determine the corresponding ground 
coordinates. This reference height is in the Vertical coordinate system 
axis of the ground CRS used by the universal image geometry model for 
this image. </remarks> 
     <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
    </ex:ExtendedOperationParameter> 
   </includesParameter> 
   <includesParameter> 
    <ex:ExtendedOperationParameter gml:id="AbsoluteError"> 
     <parameterName>Monoscopic Absolute Error 
Estimate</parameterName> 
     <remarks>The value of the horizontal absolute error 
estimate when a position in this one (monoscopic) image is used to 
determine the corresponding ground coordinates. This error estimate 
shall be recorded as the Circular Error (CE) with 90% confidence, 
always in one metre units. The minimum value is 0.0. </remarks> 
     <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
    </ex:ExtendedOperationParameter> 
   </includesParameter> 
   <includesParameter> 
    <OperationParameterGroup gml:id="RelativeError"> 
     <groupName>Bin Relative Error Estimates</groupName> 
     <minimumOccurs>0</minimumOccurs> 
     <remarks>Relative error estimate for one distance bin 
between two points. These error estimates are for use when multiple 
positions in one (monoscopic) image are used to determine the 
corresponding ground coordinates. </remarks> 
     <maximumOccurs>9</maximumOccurs> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="BinDistances"> 
       <parameterName>Monoscopic Relative Error Estimate 
Bin Distances</parameterName> 
       <remarks>The minimum and maximum ground distances 
between two points for this distance bin recorded for horizontal 
relative error estimates. The parameter value shall contain an ordered 
list of two Length measures, always in one metre units. The first value 
specifies the bin minimum distance, and the second value specifies the 
bin maximum distance. The minimum values are 0.0. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthListType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
     <includesParameter> 
      <ex:ExtendedOperationParameter gml:id="BinError"> 


82 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


       <parameterName>Bin Monoscopic Relative Error 
Estimate</parameterName> 
       <remarks>The value of the horizontal relative 
error estimate between two points for this distance bin recorded for 
horizontal relative error estimates. These error estimates are for use 
when multiple positions in one (monoscopic) image are used to determine 
the corresponding ground coordinates. The relative error estimate shall 
be recorded as the Circular Error (CE) with 90% confidence, always in 
one metre units. The minimum value is 0.0. </remarks> 
       <ex:parameterType 
codeSpace="parameterTypeCodeList.xml">LengthType</ex:parameterType> 
      </ex:ExtendedOperationParameter> 
     </includesParameter> 
    </OperationParameterGroup> 
   </includesParameter> 
  </OperationParameterGroup> 
 </usesParameter> 
</OperationMethod> 


© Open Geospatial Consortium (2005) 83 
 







OGC 05-027r1 


Annex B 
(informative) 


 
Image coordinate operation methods 


B.1 Introduction 


This annex discusses the following non-exhaustive list of coordinate transformation types 
applicable to image coordinate reference systems:  


a) Ground-to-image transformations 
b) Elevation coverage for 2D to 3D coordinate transformations 
c) Single-image-to-ground transformations 
d) Elevation coverage with single-image-to-ground transformations 


B.2 Ground-to-image transformations 


This set of operation methods defines transformations used for ground-to-image 
coordinate transformations, with one method used for each image geometry model type. 
The input to such a transformation is usually 3D ground coordinates, and the output is 
usually 2D image coordinates. These methods will usually use operation parameters for 
directly transforming 3D ground coordinates to 2D image coordinates. 


B.3 Elevation coverage for 2D to 3D coordinate transformation 


This operation method defines a transformation using an elevation coverage for 2D to 3D 
coordinate transformations. One operation method can be used for each elevation 
coverage format, with one operation parameter that references the elevation coverage 
data. The input to this transformation is 2D horizontal coordinates (plus the separately 
specified elevation coverage), and the output is 3D coordinates. This transformation can 
be used in a Concatenated Operation with a ground-to-image transformation, to go from 
2D ground coordinates to 2D image coordinates. 


B.4 Single-image-to-ground transformations 


This set of operation methods defines transformations used for single (or monoscopic) 
image-to-ground transformations, with one operation method used for each image 
geometry model type. These methods could use parameters for directly transforming 2D 
image coordinates to multiple 3D ground coordinates. Alternately, these transformations 
could use parameters for directly transforming 3D ground coordinates to 2D image 
coordinates (like ground-to-image transformations). 


The output from such a transformation is usually 3D ground coordinates, and the input 
can be 2D image plus 3D ground coordinates. In that case, the 3D ground coordinates are 


84 © Open Geospatial Consortium (2005)
 







OGC 05-027r1 


used to provide a fixed elevation value, to be used with the 2D image input coordinates. 
The horizontal position is included with each elevation to facilitate ground coordinate 
transformations. Inclusion of the horizontal position also allows the client to provide an 
approximate horizontal ground position, when known. Server software implementing 
such transformations is allowed to make use of this approximate horizontal position, to 
speed computation. 


B.5 Elevation coverage with single-image-to-ground transformation 


This operation method defines a transformation using an elevation coverage with a 
single-image-to-ground transformation. One operation method can be used for each 
elevation coverage format, with one operation parameter that references the elevation 
coverage data. This assumes that interface implementations will first use a separate 
single-image-to-ground transformation to compute two or more points along the image 
ray. The implementation will then intersect this ray with the ground shape defined by the 
elevation coverage. 


The output from this transformation is usually 3D ground coordinates, and the input can 
be 2D image plus 3D ground coordinates (plus the separately specified elevation 
coverage). In that case, the input 3D ground coordinates are used to provide an 
approximate elevation value, to be used with the 2D image input coordinates. The 
horizontal position is included with each elevation to facilitate ground coordinate 
transformations. Inclusion of the horizontal position also allows the client to provide an 
approximate horizontal ground position, when known. Server software implementing 
such transformations is allowed to make use of this approximate horizontal position, to 
speed computation. 


© Open Geospatial Consortium (2005) 85 
 







OGC 05-027r1 


Bibliography 


[1] ISO 19118, Geographic information – Encoding 


[2] Version N1316 of ISO CD 19118: Geographic information - Encoding is 
supplemented by XML Schema documents posted on David Skogan’s web page on 
ISO 19118 encoding: http://www.ifi.uio.no/~davids/encoding. 


[3] OGC 00-045r1, Draft RFC on Image Coordinate Transformations 


[4] OGC 01-009, Implementation Specification: Coordinate Transformation Services 


[5] OGC 03-010r9, Recommended XML encoding of coordinate reference systems and 
coordinate transformations 


[6] OGC 04-071, Some image geometry models 


[7] OGC 05-013, Web Coordinate Transformation Service (WCTS) Implementation 
Specification (draft) 


[8] OGC 05-014, Image CRSs for IH4DS 


 


86 © Open Geospatial Consortium (2005)
 





		Scope

		Conformance

		Normative references

		Terms and definitions

		Conventions

		Symbols (and abbreviated terms)

		UML Notation

		Document terms and definitions



		Unrectified image coordinate reference systems

		Overview

		Simple UML model

		Full XML document template

		Recommended simple XML document template

		Full UML model



		Georectified image coordinate reference systems

		Overview

		Simple UML model

		Full XML document template

		Recommended simple XML document template

		Full UML model



		Coordinate transformations

		Introduction

		Simple UML model

		XML document example templates

		Image georeferencing Transformation full template

		Image georeferencing Transformation recommended simple templ

		Grid elevation model Transformation full template

		Grid elevation model Transformation recommended simple templ

		Concatenated operation full template

		Concatenated operation recommended simple template

		XML schema fragment



		Full UML model



		Standard URNs and XML definitions

		Overview

		Image CRSs with origin in centre of first pixel

		Image CRSs with origin in corner of first pixel

		Grid 2D square coordinate system

		Row coordinate axis

		Column coordinate axis

		Image datum at pixel center

		Image datum at pixel corner

		Grid spacing unit of measure



		Supporting information





templateImageCRSsimplified.xml
 
	
	 Image TBD CRS pixel centers
	
	 
		 ImageTBDCRSpixelCenter
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
	 




exampleMethodEPSG9624.xml
 
	
	 Affine general parametric transformation
	 
		 9624
	
	 
XT   =  A0  +  A1. XS  +  A2.YS; 
YT   =  B0  +  B1. XS  +  B2.YS; 
where XT , YT  are the coordinates of a point P in the target coordinate system; 
		XS , YS  are the coordinates of P in the source coordinate system. 

Reversibility: The parameter values for an affine transformation cannot be used for the reverse transformation. However, the reverse transformation is another affine transformation using the same formulas but with different parameter values. The reverse parameter values, indicated by a prime ('), can be calculated from those of the forward transformation as follows:
D    = A1 . B2   -   A2 . B1; 
A0' = (A2 . B0   -   B2 . A0) / D; 
B0' = (B1 . A0   -   A1 . B0) / D; 
A1' = +B2 / D; 
A2' = - A2 / D; 
B1' = - B1 / D; 
B2' = +A1 / D. 

See Section 2.4.2.1 of EPSG Guidance Note 7. 
	 2
	 2
	
	 
		 
			 A0
			 
				 8623
			
		
	
	
	 
		 
			 A1
			 
				 8624
			
		
	
	
	 
		 
			 A2
			 
				 8625
			
		
	
	
	 
		 
			 B0
			 
				 8639
			
		
	
	
	 
		 
			 B1
			 
				 8640
			
		
	
	
	 
		 
			 B2
			 
				 8641
			
		
	




exampleMethodGridElevation.xml
 
	
	 Grid elevation model
	 
		 GridElevationModel
	
	 This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. 
	 The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. 
	 2
	 3
	 
		 
			 Grid Elevation Data
			 
				 GridElevationData
			
			 The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. 
		
	




exampleMethodRSM.xml
 
	
	 Replacement Sensor Model (RSM) coordinate Transformation
	 
		 ReplacementSensorModel
	
	 This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). 
	 urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
	 3
	 2
	 
		 
			 Parameters for Replacement Sensor Model (RSM). 
			 
				 
			
			 The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. 
		
	




fragmentGeorectifiedGridCRSs.xsd
 
	 
		 
			 fragmentGeorectifiedGridCRSs.xsd
			 How to encode ImageCRS definitions for WCTS image profile. 
			 Primary editor: Arliss Whiteside. Last updated 2005-01-28
			 Copyright (c) Open Geospatial Consortium (2005) 
		
	
	
	 
	
	 
	
	 
		 
			 Basic encoding for reference system objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this reference system is identified. 
		
	
	
	 
		 
			 Description of a spatial and/or temporal reference system used by a dataset. 
		
		 
			 
				 
					 
						 
							 Set of alterative identifications of this reference system. The first srsID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this reference system, including source information. 
						
					
					 
				
			
		
	
	
	 
		 
			 An identification of a reference system. 
		
	
	
	 
	
	 
		 
			 Association to a reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	 
		 
			 Abstract coordinate reference system, usually defined by a coordinate system and a datum. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
	
	
	 
	
	 
		 
			 Association to a CRS abstract coordinate reference system, either referencing or containing the definition of that CRS. 
		
		 
			 
		
		 
	
	
	
	 
		 
			 An identification of a CRS object. The first use of the IdentifierType for an object, if any, is normally the primary identification code, and any others are aliases. 
		
		 
			 
				 
					 The code or name for this Identifier, often from a controlled list or pattern defined by a code space. The optional codeSpace attribute is normally included to identify or reference a code space within which one or more codes are defined. This code space is often defined by some authority organization, where one organization may define multiple code spaces. The range and format of each Code Space identifier is defined by that code space authority. Information about that code space authority can be included as metaDataProperty elements which are optionally allowed in all CRS objects. 
				
			
			 
			 
				 
					 Remarks about this code or alias. 
				
			
		
	
	
	 
		 
			 Identifier of the version of the associated codeSpace or code, as specified by the codeSpace or code authority. This version is included only when the "code" or "codeSpace" uses versions. When appropriate, the version is identified by the effective date, coded using ISO 8601 date format. 
		
	
	
	 
		 
			 Information about this object or code. Contains text or refers to external text.  
		
	
	
	 
		 
			 Description of domain of usage, or limitations of usage, for which this CRS object is valid. 
		
	
	
	
	 
		 
			 A coordinate reference system consists of an ordered sequence of coordinate system axes that are related to the earth through a datum. A coordinate reference system is defined by one datum and by one coordinate system. Most coordinate reference system do not move relative to the earth, except for engineering coordinate reference systems defined on moving platforms such as cars, ships, aircraft, and spacecraft. For further information, see OGC Abstract Specification Topic 2.

Coordinate reference systems are commonly divided into sub-types. The common classification criterion for sub-typing of coordinate reference systems is the way in which they deal with earth curvature. This has a direct effect on the portion of the earth's surface that can be covered by that type of CRS with an acceptable degree of error. The exception to the rule is the subtype "Temporal" which has been added by analogy. 
		
	
	
	 
	
	 
		 
			 Association to a coordinate reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	 
		 
			 Association to the Cartesian coordinate system used by this CRS. 
		
	
	
	 
	
	 
		 
			 A coordinate reference system that is defined by its coordinate conversion from another coordinate reference system (not by a datum). This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Association to the coordinate reference system used by this derived CRS. 
		
	
	
	 
		 
			 Association to the coordinate conversion used to define this derived CRS. 
		
	
	
	 
	
	 
		 
			 A coordinate reference system that is defined by its coordinate conversion from another coordinate reference system but is not a projected coordinate reference system. This category includes coordinate reference systems derived from a projected coordinate reference system. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
	
	 
		 
			 Type of a derived coordinate reference system. 
		
		 
			 
				 
					 
						 Reference to a source of information specifying the values and meanings of all the allowed string values for this DerivedCRSTypeType. 
					
				
			
		
	
	
	 
		 
			 Association to the coordinate system used by this CRS. 
		
	
	
	 
	
	 
		 
			 Association to a non-projected derived coordinate reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for coordinate system axis objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
						 
							 The name by which this coordinate system axis is identified. 
						
					
				
				 
			
		
	
	
	 
		 
			 Definition of a coordinate system axis. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate system axis. The first axisID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate system axis, including data source information. 
						
					
					 
					 
				
				 
			
		
	
	
	 
		 
			 An identification of a coordinate system axis. 
		
	
	
	 
		 
			 The abbreviation used for this coordinate system axis. This abbreviation can be used to identify the ordinates in a coordinate tuple. Examples are X and Y. The codeSpace attribute can reference a source of more information on a set of standardized abbreviations, or on this abbreviation. 
		
	
	
	 
		 
			 Direction of this coordinate system axis (or in the case of Cartesian projected coordinates, the direction of this coordinate system axis at the origin). Examples: north or south, east or west, up or down. Within any set of coordinate system axes, only one of each pair of terms can be used. For earth-fixed CRSs, this direction is often approximate and intended to provide a human interpretable meaning to the axis. When a geodetic datum is used, the precise directions of the axes may therefore vary slightly from this approximate direction. Note that an EngineeringCRS can include specific descriptions of the directions of its coordinate system axes. For example, the path of a linear CRS axis can be referenced in another document, such as referencing a GML feature that references or includes a curve geometry. The codeSpace attribute can reference a source of more information on a set of standardized directions, or on this direction. 
		
	
	
	 
		 
			 Identifier of the unit of measure used for this coordinate system axis. The value of this coordinate in a coordinate tuple shall be recorded using this unit of measure, whenever those coordinates use a coordinate reference system that uses a coordinate system that uses this axis.
		
	
	
	 
	
	 
		 
			 Association to a coordinate system axis, either referencing or containing the definition of that axis. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for coordinate system objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this coordinate system is identified. 
		
	
	
	 
		 
			 A coordinate system (CS) is the set of coordinate system axes that spans a given coordinate space. A CS is derived from a set of (mathematical) rules for specifying how coordinates in a given space are to be assigned to points. The coordinate values in a coordinate tuple shall be recorded in the order in which the coordinate system axes associations are recorded, whenever those coordinates use a coordinate reference system that uses this coordinate system. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate system. The first csID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate system, including data source information. 
						
					
					 
						 
							 Ordered sequence of associations to the coordinate system axes included in this coordinate system. 
						
					
				
			
		
	
	
	 
		 
			 An identification of a coordinate system. 
		
	
	
	 
		 
			 Association to a coordinate system axis. 
		
	
	
	 
	
	 
		 
			 Association to a coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A 1-, 2-, or 3-dimensional coordinate system. Gives the position of points relative to orthogonal straight axes in the 2- and 3-dimensional cases. In the 1-dimensional case, it contains a single straight coordinate axis. In the multi-dimensional case, all axes shall have the same length unit of measure. A CartesianCS shall have one, two, or three usesAxis associations. 
		
		 
			 
		
	
	
	 
	
	 
		 
			 Association to a Cartesian coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for coordinate operation objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this coordinate operation is identified. 
		
	
	
	 
		 
			 A mathematical operation on coordinates that transforms or converts coordinates to another coordinate reference system. Many but not all coordinate operations (from CRS A to CRS B) also uniquely define the inverse operation (from CRS B to CRS A). In some cases, the operation method algorithm for the inverse operation is the same as for the forward algorithm, but the signs of some operation parameter values must be reversed. In other cases, different algorithms are required for the forward and inverse operations, but the same operation parameter values are used. If (some) entirely different parameter values are needed, a different coordinate operation shall be defined.
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate operation. The first coordinateOperationID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate operation, including source information. 
						
					
					 
					 
					 
					 
				
			
		
	
	
	 
		 
			 An identification of a coordinate operation. 
		
	
	
	 
		 
			 Version of the coordinate transformation (i.e., instantiation due to the stochastic nature of the parameters). Mandatory when describing a transformation, and should not be supplied for a conversion. 
		
	
	
	 
		 
			 Association to the source CRS (coordinate reference system) of this coordinate operation. 
		
	
	
	 
		 
			 Association to the target CRS (coordinate reference system) of this coordinate operation. For constraints on multiplicity of "sourceCRS" and "targetCRS", see UML model of Coordinate Operation package in OGC Abstract Specification topic 2. 
		
	
	
	 
	
	 
		 
			 Association to a coordinate operation, either referencing or containing the definition of that coordinate operation. 
		
		 
			 
		
		 
	
	
	 
		 
			 A single (not concatenated) coordinate operation. 
		
	
	
	 
	
	 
		 
			 Association to a single operation, either referencing or containing the definition of that single operation. 
		
		 
			 
		
		 
	
	
	 
		 
			 A parameterized mathematical operation on coordinates that transforms or converts coordinates to another coordinate reference system. This coordinate operation uses an operation method, usually with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type.

This abstract complexType shall not be directly used, extended, or restricted in a compliant Application Schema. 
		
	
	
	 
	
	 
		 
			 Association to an abstract operation, either referencing or containing the definition of that operation. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 An abstract operation on coordinates that does not include any change of datum. The best-known example of a coordinate conversion is a map projection. The parameters describing coordinate conversions are defined rather than empirically derived. Note that some conversions have no parameters.

This abstract complexType is expected to be extended for well-known operation methods with many Conversion instances, in Application Schemas that define operation-method-specialized element names and contents. This conversion uses an operation method, usually with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type. All concrete types derived from this type shall extend this type to include a "usesMethod" element that references the "OperationMethod" element. Similarly, all concrete types derived from this type shall extend this type to include zero or more elements each named "uses...Value" that each use the type of an element substitutable for the "_generalParameterValue" element. 
		
		 
			 
				 
					 
					 
					 
					 
					 
				
				 
			
		
	
	
	 
	
	 
		 
			 Association to a general conversion, either referencing or containing the definition of that conversion. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A concrete operation on coordinates that does not include any change of Datum. The best-known example of a coordinate conversion is a map projection. The parameters describing coordinate conversions are defined rather than empirically derived. Note that some conversions have no parameters.

This concrete complexType can be used with all operation methods, without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one Conversion instance. 
		
		 
			 
				 
					 
					 
						 
							 Unordered list of composition associations to the set of parameter values used by this conversion operation. 
						
					
				
			
		
	
	
	 
		 
			 Association to the operation method used by this coordinate operation. 
		
	
	
	 
		 
			 Composition association to a parameter value used by this coordinate operation. 
		
	
	
	 
	
	 
		 
			 Association to a concrete general-purpose conversion, either referencing or containing the definition of that conversion. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Abstract parameter value or group of parameter values.
			
This abstract complexType is expected to be extended and restricted for well-known operation methods with many instances, in Application Schemas that define operation-method-specialized element names and contents. Specific parameter value elements are directly contained in concrete subtypes, not in this abstract type. All concrete types derived from this type shall extend this type to include one "...Value" element with an appropriate type, which should be one of the element types allowed in the ParameterValueType. In addition, all derived concrete types shall extend this type to include a "valueOfParameter" element that references one element substitutable for the "OperationParameter" element. 
		
		 
	
	
	 
	
	 
		 
			 A parameter value, ordered sequence of values, or reference to a file of parameter values. This concrete complexType can be used for operation methods without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one instance. This complexType can be used, extended, or restricted for well-known operation methods, especially for methods with many instances. 
		
		 
			 
				 
					 
						 
						 
						 
						 
						 
						 
						 
						 
					
					 
				
			
		
	
	
	 
		 
			 Numeric value of an operation parameter, with its associated unit of measure. 
		
	
	
	 
		 
			 Value of an angle operation parameter, in either degree-minute-second format or single value format. 
		
	
	
	 
		 
			 String value of an operation parameter. A string value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Positive integer value of an operation parameter, usually used for a count. An integer value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Boolean value of an operation parameter. A Boolean value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list, where each value has the same associated unit of measure. An element of this type contains a space-separated sequence of double values. 
		
	
	
	 
		 
			 Ordered sequence of two or more integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated sequence of integer values. 
		
	
	
	 
		 
			 Reference to a file or a part of a file containing one or more parameter values, each numeric value with its associated unit of measure. When referencing a part of a file, that file must contain multiple identified parts, such as an XML encoded document. Furthermore, the referenced file or part of a file can reference another part of the same or different files, as allowed in XML documents. 
		
	
	
	 
		 
			 Association to the operation parameter that this is a value of. 
		
	
	
	
	 
	
	 
		 
			 Basic encoding for operation method objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation method is identified. 
		
	
	
	 
		 
			 Definition of an algorithm used to perform a coordinate operation. Most operation methods use a number of operation parameters, although some coordinate conversions use none. Each coordinate operation using the method assigns values to these parameters. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation method. The first methodID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation method, including source information.
						
					
					 
					 
					 
					 
						 
							 Unordered list of associations to the set of operation parameters and parameter groups used by this operation method. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation method. 
		
	
	
	 
		 
			 Formula(s) used by this operation method. The value may be a reference to a publication. Note that the operation method may not be analytic, in which case this element references or contains the procedure, not an analytic formula.
		
	
	
	 
		 
			 Number of dimensions in the source CRS of this operation method. 
		
	
	
	 
		 
			 Number of dimensions in the target CRS of this operation method. 
		
	
	
	 
		 
			 Association to an operation parameter or parameter group used by this operation method. 
		
	
	
	 
	
	 
		 
			 Association to a concrete general-purpose operation method, either referencing or containing the definition of that method. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Abstract definition of a parameter or group of parameters used by an operation method. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
		 
			 The minimum number of times that values for this parameter group or parameter are required. If this attribute is omitted, the minimum number is one. 
		
	
	
	 
	
	 
		 
			 Association to an operation parameter or group, either referencing or containing the definition of that parameter or group. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 Basic encoding for operation parameter objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation parameter is identified. 
		
	
	
	 
		 
			 The definition of a parameter used by an operation method. Most parameter values are numeric, but other types of parameter values are possible. This complexType is expected to be used or extended for all operation methods, without defining operation-method-specialized element names.  
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation parameter. The first parameterID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation parameter, including source information. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation parameter. 
		
	
	
	 
	
	 
		 
			 Association to an operation parameter, either referencing or containing the definition of that parameter. 
		
		 
			 
		
		 
	
	
	
	
	
	
	 
	
	 
		 
			 Value of a length (or distance) quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet. 
		
		 
			 
		
	
	
	 
		 
			 Value of a scale factor (or ratio) that has no physical unit. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a scale factor, such as percent, permil, or parts-per-million. 
		
		 
			 
		
	
	
	 
		 
			 Value of a time or temporal quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a time value, such as seconds or weeks. 
		
		 
			 
		
	
	
	 
		 
			 Value of a length (or distance) quantity in a grid, where the grid spacing does not have any associated physical units, or does not have a constant physical spacing. This grid length will often be used in a digital image grid, where the base units are likely to be pixel spacings. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for length along the axes of a grid, such as pixel spacings or grid spacings. 
		
		 
			 
		
	
	
	 
		 
			 Value of a spatial area quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for an area, such as square metres or square miles. 
		
		 
			 
		
	
	
	 
		 
			 Value of a spatial volume quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a volume, such as cubic metres or cubic feet. 
		
		 
			 
		
	
	
	 
		 
			 Value of a speed, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a velocity, such as metres per second or miles per hour.
		
		 
			 
		
	
	
	 
		 
			 Value of an angle quantity provided in either degree-minute-second format or single value format. 
		
		 
			 
			 
		
	
	
	 
	
	 
		 
			 Value of an angle quantity recorded as a single number, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for an angle, such as degrees or radians. 
		
		 
			 
		
	
	
	 
	
	 
		 
			 Angle value provided in degree-minute-second or degree-minute format. 
		
		 
			 
			 
				 
				 
					 
					 
				
			
		
	
	
	 
	
	 
		 
			 Integer number of degrees, plus the angle direction. This element can be used for geographic Latitude and Longitude. For Latitude, the XML attribute direction can take the values "N" or "S", meaning North or South of the equator. For Longitude, direction can take the values "E" or "W", meaning East or West of the prime meridian. This element can also be used for other angles. In that case, the direction can take the values "+" or "-" (of SignType), in the specified rotational direction from a specified reference direction. 
		
		 
			 
				 
					 
						 
							 
								 
									 
									 
									 
									 
								
							
							 
								 
							
						
					
				
			
		
	
	
	 
		 
			 Integer number of degrees in a degree-minute-second or degree-minute angular value, without indication of direction. 
		
		 
			 
		
	
	
	 
	
	 
		 
			 Decimal number of arc-minutes in a degree-minute angular value. 
		
		 
			 
			 
		
	
	
	 
	
	 
		 
			 Integer number of arc-minutes in a degree-minute-second angular value. 
		
		 
			 
		
	
	
	 
	
	 
		 
			 Number of arc-seconds in a degree-minute-second angular value. 
		
		 
			 
			 
		
	
	
	
	




fragmentImageCRSs.xsd
 
	 
		 
			 fragmentImageCRSs.xsd
			 How to encode ImageCRS definitions for WCTS image profile. 
			 Primary editor: Arliss Whiteside. Last updated 2005-01-28
			 Copyright (c) Open Geospatial Consortium (2005) 
		
	
	
	 
	
	 
	
	 
		 
			 Basic encoding for reference system objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this reference system is identified. 
		
	
	
	 
		 
			 Description of a spatial and/or temporal reference system used by a dataset. 
		
		 
			 
				 
					 
						 
							 Set of alterative identifications of this reference system. The first srsID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this reference system, including source information. 
						
					
					 
				
			
		
	
	
	 
		 
			 An identification of a reference system. 
		
	
	
	 
	
	 
		 
			 Association to a reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	 
		 
			 Abstract coordinate reference system, usually defined by a coordinate system and a datum. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
	
	
	 
	
	 
		 
			 Association to a CRS abstract coordinate reference system, either referencing or containing the definition of that CRS. 
		
		 
			 
		
		 
	
	
	
	 
		 
			 An identification of a CRS object. The first use of the IdentifierType for an object, if any, is normally the primary identification code, and any others are aliases. 
		
		 
			 
				 
					 The code or name for this Identifier, often from a controlled list or pattern defined by a code space. The optional codeSpace attribute is normally included to identify or reference a code space within which one or more codes are defined. This code space is often defined by some authority organization, where one organization may define multiple code spaces. The range and format of each Code Space identifier is defined by that code space authority. Information about that code space authority can be included as metaDataProperty elements which are optionally allowed in all CRS objects. 
				
			
			 
			 
				 
					 Remarks about this code or alias. 
				
			
		
	
	
	 
		 
			 Identifier of the version of the associated codeSpace or code, as specified by the codeSpace or code authority. This version is included only when the "code" or "codeSpace" uses versions. When appropriate, the version is identified by the effective date, coded using ISO 8601 date format. 
		
	
	
	 
		 
			 Information about this object or code. Contains text or refers to external text.  
		
	
	
	 
		 
			 Description of domain of usage, or limitations of usage, for which this CRS object is valid. 
		
	
	
	
	 
		 
			 A coordinate reference system consists of an ordered sequence of coordinate system axes that are related to the earth through a datum. A coordinate reference system is defined by one datum and by one coordinate system. Most coordinate reference system do not move relative to the earth, except for engineering coordinate reference systems defined on moving platforms such as cars, ships, aircraft, and spacecraft. For further information, see OGC Abstract Specification Topic 2.

Coordinate reference systems are commonly divided into sub-types. The common classification criterion for sub-typing of coordinate reference systems is the way in which they deal with earth curvature. This has a direct effect on the portion of the earth's surface that can be covered by that type of CRS with an acceptable degree of error. The exception to the rule is the subtype "Temporal" which has been added by analogy. 
		
	
	
	 
	
	 
		 
			 Association to a coordinate reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 An engineering coordinate reference system applied to locations in images. Image coordinate reference systems are treated as a separate sub-type because a separate user community exists for images with its own terms of reference. 
		
		 
			 
				 
					 
						 
						 
					
					 
				
			
		
	
	
	 
		 
			 Association to the Cartesian coordinate system used by this CRS. 
		
	
	
	 
		 
			 Association to the oblique Cartesian coordinate system used by this CRS.
		
	
	
	 
		 
			 Association to the image datum used by this CRS. 
		
	
	
	 
	
	 
		 
			 Association to an image coordinate reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for coordinate system axis objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
						 
							 The name by which this coordinate system axis is identified. 
						
					
				
				 
			
		
	
	
	 
		 
			 Definition of a coordinate system axis. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate system axis. The first axisID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate system axis, including data source information. 
						
					
					 
					 
				
				 
			
		
	
	
	 
		 
			 An identification of a coordinate system axis. 
		
	
	
	 
		 
			 The abbreviation used for this coordinate system axis. This abbreviation can be used to identify the ordinates in a coordinate tuple. Examples are X and Y. The codeSpace attribute can reference a source of more information on a set of standardized abbreviations, or on this abbreviation. 
		
	
	
	 
		 
			 Direction of this coordinate system axis (or in the case of Cartesian projected coordinates, the direction of this coordinate system axis at the origin). Examples: north or south, east or west, up or down. Within any set of coordinate system axes, only one of each pair of terms can be used. For earth-fixed CRSs, this direction is often approximate and intended to provide a human interpretable meaning to the axis. When a geodetic datum is used, the precise directions of the axes may therefore vary slightly from this approximate direction. Note that an EngineeringCRS can include specific descriptions of the directions of its coordinate system axes. For example, the path of a linear CRS axis can be referenced in another document, such as referencing a GML feature that references or includes a curve geometry. The codeSpace attribute can reference a source of more information on a set of standardized directions, or on this direction. 
		
	
	
	 
		 
			 Identifier of the unit of measure used for this coordinate system axis. The value of this coordinate in a coordinate tuple shall be recorded using this unit of measure, whenever those coordinates use a coordinate reference system that uses a coordinate system that uses this axis.
		
	
	
	 
	
	 
		 
			 Association to a coordinate system axis, either referencing or containing the definition of that axis. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for coordinate system objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this coordinate system is identified. 
		
	
	
	 
		 
			 A coordinate system (CS) is the set of coordinate system axes that spans a given coordinate space. A CS is derived from a set of (mathematical) rules for specifying how coordinates in a given space are to be assigned to points. The coordinate values in a coordinate tuple shall be recorded in the order in which the coordinate system axes associations are recorded, whenever those coordinates use a coordinate reference system that uses this coordinate system. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate system. The first csID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate system, including data source information. 
						
					
					 
						 
							 Ordered sequence of associations to the coordinate system axes included in this coordinate system. 
						
					
				
			
		
	
	
	 
		 
			 An identification of a coordinate system. 
		
	
	
	 
		 
			 Association to a coordinate system axis. 
		
	
	
	 
	
	 
		 
			 Association to a coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A 1-, 2-, or 3-dimensional coordinate system. Gives the position of points relative to orthogonal straight axes in the 2- and 3-dimensional cases. In the 1-dimensional case, it contains a single straight coordinate axis. In the multi-dimensional case, all axes shall have the same length unit of measure. A CartesianCS shall have one, two, or three usesAxis associations. 
		
		 
			 
		
	
	
	 
	
	 
		 
			 Association to a Cartesian coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A two- or three-dimensional coordinate system with straight axes that are not necessarily orthogonal. An ObliqueCartesianCS shall have two or three usesAxis associations. 
		
		 
			 
		
	
	
	 
	
	 
		 
			 Association to an oblique-Cartesian coordinate system, either referencing or containing the definition of that coordinate system. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Basic encoding for datum objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this datum is identified. 
		
	
	
	 
		 
			 A datum specifies the relationship of a coordinate system to the earth, thus creating a coordinate reference system. A datum uses a parameter or set of parameters that determine the location of the origin of the coordinate reference system. Each datum subtype can be associated with only specific types of coordinate systems. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this datum. The first datumID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on this reference system, including source information. 
						
					
					 
					 
					 
				
			
		
	
	
	 
		 
			 An identification of a datum. 
		
	
	
	 
		 
			 Description, possibly including coordinates, of the point or points used to anchor the datum to the Earth. Also known as the "origin", especially for engineering and image datums. The codeSpace attribute can be used to reference a source of more detailed on this point or surface, or on a set of such descriptions. 
- For a geodetic datum, this point is also known as the fundamental point, which is traditionally the point where the relationship between geoid and ellipsoid is defined. In some cases, the "fundamental point" may consist of a number of points. In those cases, the parameters defining the geoid/ellipsoid relationship have been averaged for these points, and the averages adopted as the datum definition.
- For an engineering datum, the anchor point may be a physical point, or it may be a point with defined coordinates in another CRS. When appropriate, the coordinates of this anchor point can be referenced in another document, such as referencing a GML feature that references or includes a point position.
- For an image datum, the anchor point is usually either the centre of the image or the corner of the image.
- For a temporal datum, this attribute is not defined. Instead of the anchor point, a temporal datum carries a separate time origin of type DateTime. 
		
	
	
	 
		 
			 The time after which this datum definition is valid. This time may be precise (e.g. 1997.0 for IRTF97) or merely a year (e.g. 1983 for NAD83). In the latter case, the epoch usually refers to the year in which a major recalculation of the geodetic control network, underlying the datum, was executed or initiated. An old datum can remain valid after a new datum is defined. Alternatively, a datum may be superseded by a later datum, in which case the realization epoch for the new datum defines the upper limit for the validity of the superseded datum. 
		
	
	
	 
	
	 
		 
			 Association to a datum, either referencing or containing the definition of that datum. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 An image datum defines the origin of an image coordinate reference system, and is used in a local context only. For more information, see OGC Abstract Specification Topic 2. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
	
	 
		 
			 Specification of the way an image grid is associated with the image data attributes. 
		
		 
			 
				 
					 
						 Reference to a source of information specifying the values and meanings of all the allowed string values for this PixelInCellType. 
					
				
			
		
	
	
	 
	
	 
		 
			 Association to an image datum, either referencing or containing the definition of that datum. 
		
		 
			 
		
		 
	
	




fragmentTransformations.xsd
 
	 
		 
			 fragmentTransformations.xsd
			 How to encode Transformation and ConcatenatedOperation definitions for WCTS image profile. 
			 Primary editor: Arliss Whiteside. Last updated 2005-03-08 
			 Copyright (c) Open Geospatial consortium (2005) 
		
	
	
	 
	 
	
	 
	
	 
		 
			 Basic encoding for reference system objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this reference system is identified. 
		
	
	
	 
		 
			 Description of a spatial and/or temporal reference system used by a dataset. 
		
		 
			 
				 
					 
						 
							 Set of alterative identifications of this reference system. The first srsID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this reference system, including source information. 
						
					
					 
				
			
		
	
	
	 
		 
			 An identification of a reference system. 
		
	
	
	 
	
	 
		 
			 Association to a reference system, either referencing or containing the definition of that reference system. 
		
		 
			 
		
		 
	
	
	 
		 
			 Abstract coordinate reference system, usually defined by a coordinate system and a datum. This abstract complexType shall not be used, extended, or restricted, in an Application Schema, to define a concrete subtype with a meaning equivalent to a concrete subtype specified in this document. 
		
	
	
	 
	
	 
		 
			 Association to a CRS abstract coordinate reference system, either referencing or containing the definition of that CRS. 
		
		 
			 
		
		 
	
	
	
	 
		 
			 An identification of a CRS object. The first use of the IdentifierType for an object, if any, is normally the primary identification code, and any others are aliases. 
		
		 
			 
				 
					 The code or name for this Identifier, often from a controlled list or pattern defined by a code space. The optional codeSpace attribute is normally included to identify or reference a code space within which one or more codes are defined. This code space is often defined by some authority organization, where one organization may define multiple code spaces. The range and format of each Code Space identifier is defined by that code space authority. Information about that code space authority can be included as metaDataProperty elements which are optionally allowed in all CRS objects. 
				
			
			 
			 
				 
					 Remarks about this code or alias. 
				
			
		
	
	
	 
		 
			 Identifier of the version of the associated codeSpace or code, as specified by the codeSpace or code authority. This version is included only when the "code" or "codeSpace" uses versions. When appropriate, the version is identified by the effective date, coded using ISO 8601 date format. 
		
	
	
	 
		 
			 Information about this object or code. Contains text or refers to external text.  
		
	
	
	 
		 
			 Description of domain of usage, or limitations of usage, for which this CRS object is valid. 
		
	
	
	 
	
	 
		 
			 Basic encoding for coordinate operation objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this coordinate operation is identified. 
		
	
	
	 
		 
			 A mathematical operation on coordinates that transforms or converts coordinates to another coordinate reference system. Many but not all coordinate operations (from CRS A to CRS B) also uniquely define the inverse operation (from CRS B to CRS A). In some cases, the operation method algorithm for the inverse operation is the same as for the forward algorithm, but the signs of some operation parameter values must be reversed. In other cases, different algorithms are required for the forward and inverse operations, but the same operation parameter values are used. If (some) entirely different parameter values are needed, a different coordinate operation shall be defined.
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this coordinate operation. The first coordinateOperationID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this coordinate operation, including source information. 
						
					
					 
					 
					 
					 
				
			
		
	
	
	 
		 
			 An identification of a coordinate operation. 
		
	
	
	 
		 
			 Version of the coordinate transformation (i.e., instantiation due to the stochastic nature of the parameters). Mandatory when describing a transformation, and should not be supplied for a conversion. 
		
	
	
	 
		 
			 Association to the source CRS (coordinate reference system) of this coordinate operation. 
		
	
	
	 
		 
			 Association to the target CRS (coordinate reference system) of this coordinate operation. For constraints on multiplicity of "sourceCRS" and "targetCRS", see UML model of Coordinate Operation package in OGC Abstract Specification topic 2. 
		
	
	
	 
	
	 
		 
			 Association to a coordinate operation, either referencing or containing the definition of that coordinate operation. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 An ordered sequence of two or more single coordinate operations. The sequence of operations is constrained by the requirement that the source coordinate reference system of step (n+1) must be the same as the target coordinate reference system of step (n). The source coordinate reference system of the first step and the target coordinate reference system of the last step are the source and target coordinate reference system associated with the concatenated operation. Instead of a forward operation, an inverse operation may be used for one or more of the operation steps mentioned above, if the inverse operation is uniquely defined by the forward operation.
		
		 
			 
				 
					 
						 
							 Ordered sequence of associations to the two or more single operations used by this concatenated operation. 
						
					
				
			
		
	
	
	 
		 
			 Association to a single operation. 
		
	
	
	 
	
	 
		 
			 Association to a concatenated operation, either referencing or containing the definition of that concatenated operation. 
		
		 
			 
		
		 
	
	
	 
		 
			 A single (not concatenated) coordinate operation. 
		
	
	
	 
	
	 
		 
			 Association to a single operation, either referencing or containing the definition of that single operation. 
		
		 
			 
		
		 
	
	
	 
		 
			 A parameterized mathematical operation on coordinates that transforms or converts coordinates to another coordinate reference system. This coordinate operation uses an operation method, usually with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type.

This abstract complexType shall not be directly used, extended, or restricted in a compliant Application Schema. 
		
	
	
	 
	
	 
		 
			 Association to an abstract operation, either referencing or containing the definition of that operation. 
		
		 
			 
		
		 
	
	
	
	 
		 
			 Association to the operation method used by this coordinate operation. 
		
	
	
	 
		 
			 Composition association to a parameter value used by this coordinate operation. 
		
	
	
	 
	
	 
		 
			 An abstract operation on coordinates that usually includes a change of Datum. The parameters of a coordinate transformation are empirically derived from data containing the coordinates of a series of points in both coordinate reference systems. This computational process is usually "over-determined", allowing derivation of error (or accuracy) estimates for the transformation. Also, the stochastic nature of the parameters may result in multiple (different) versions of the same coordinate transformation.

This abstract complexType is expected to be extended for well-known operation methods with many Transformation instances, in Application Schemas that define operation-method-specialized value element names and contents. This transformation uses an operation method with associated parameter values. However, operation methods and parameter values are directly associated with concrete subtypes, not with this abstract type. All concrete types derived from this type shall extend this type to include a "usesMethod" element that references one "OperationMethod" element. Similarly, all concrete types derived from this type shall extend this type to include one or more elements each named "uses...Value" that each use the type of an element substitutable for the "_generalParameterValue" element. 
		
		 
			 
				 
					 
					 
					 
					 
					 
					 
					 
					 
				
				 
			
		
	
	
	 
	
	 
		 
			 Association to a general transformation, either referencing or containing the definition of that transformation. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 A concrete operation on coordinates that usually includes a change of datum. The parameters of a coordinate transformation are empirically derived from data containing the coordinates of a series of points in both coordinate reference systems. This computational process is usually "over-determined", allowing derivation of error (or accuracy) estimates for the transformation. Also, the stochastic nature of the parameters may result in multiple (different) versions of the same coordinate transformation.

This concrete complexType can be used for all operation methods, without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one Transformation instance. 
		
		 
			 
				 
					 
					 
						 
							 Unordered set of composition associations to the set of parameter values used by this transformation operation. 
						
					
				
			
		
	
	
	 
	
	 
		 
			 Association to a transformation, either referencing or containing the definition of that transformation. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Abstract parameter value or group of parameter values.
			
This abstract complexType is expected to be extended and restricted for well-known operation methods with many instances, in Application Schemas that define operation-method-specialized element names and contents. Specific parameter value elements are directly contained in concrete subtypes, not in this abstract type. All concrete types derived from this type shall extend this type to include one "...Value" element with an appropriate type, which should be one of the element types allowed in the ParameterValueType. In addition, all derived concrete types shall extend this type to include a "valueOfParameter" element that references one element substitutable for the "OperationParameter" element. 
		
		 
	
	
	 
	
	 
		 
			 A parameter value, ordered sequence of values, or reference to a file of parameter values. This concrete complexType can be used for operation methods without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one instance. This complexType can be used, extended, or restricted for well-known operation methods, especially for methods with many instances. 
		
		 
			 
				 
					 
						 
						 
						 
						 
						 
						 
						 
						 
					
					 
				
			
		
	
	
	 
		 
			 Numeric value of an operation parameter, with its associated unit of measure. 
		
	
	
	 
		 
			 Value of an angle operation parameter, in either degree-minute-second format or single value format. 
		
	
	
	 
		 
			 String value of an operation parameter. A string value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Positive integer value of an operation parameter, usually used for a count. An integer value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Boolean value of an operation parameter. A Boolean value does not have an associated unit of measure. 
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list, where each value has the same associated unit of measure. An element of this type contains a space-separated sequence of double values. 
		
	
	
	 
		 
			 Ordered sequence of two or more integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated sequence of integer values. 
		
	
	
	 
		 
			 Reference to a file or a part of a file containing one or more parameter values, each numeric value with its associated unit of measure. When referencing a part of a file, that file must contain multiple identified parts, such as an XML encoded document. Furthermore, the referenced file or part of a file can reference another part of the same or different files, as allowed in XML documents. 
		
	
	
	 
		 
			 Association to the operation parameter that this is a value of. 
		
	
	
	
	 
	
	 
		 
			 A group of related parameter values. The same group can be repeated more than once in a Conversion, Transformation, or higher level parameterValueGroup, if those instances contain different values of one or more parameterValues which suitably distinquish among those groups. This concrete complexType can be used for operation methods without using an Application Schema that defines operation-method-specialized element names and contents, especially for methods with only one instance. This complexType can be used, extended, or restricted for well-known operation methods, especially for methods with many instances. 
		
		 
			 
				 
					 
						 
							 Unordered set of composition associations to the parameter values and groups of values included in this group. 
						
					
					 
				
			
		
	
	
	 
		 
			 A composition association to a parameter value or group of values included in this group. 
		
	
	
	 
		 
			 Association to the operation parameter group for which this element provides parameter values. 
		
	
	
	
	 
	
	 
		 
			 Basic encoding for operation method objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation method is identified. 
		
	
	
	 
		 
			 Definition of an algorithm used to perform a coordinate operation. Most operation methods use a number of operation parameters, although some coordinate conversions use none. Each coordinate operation using the method assigns values to these parameters. 
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation method. The first methodID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation method, including source information.
						
					
					 
					 
					 
					 
						 
							 Unordered list of associations to the set of operation parameters and parameter groups used by this operation method. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation method. 
		
	
	
	 
		 
			 Formula(s) used by this operation method. The value may be a reference to a publication. Note that the operation method may not be analytic, in which case this element references or contains the procedure, not an analytic formula.
		
	
	
	 
		 
			 Number of dimensions in the source CRS of this operation method. 
		
	
	
	 
		 
			 Number of dimensions in the target CRS of this operation method. 
		
	
	
	 
		 
			 Association to an operation parameter or parameter group used by this operation method. 
		
	
	
	 
	
	 
		 
			 Association to a concrete general-purpose operation method, either referencing or containing the definition of that method. 
		
		 
			 
		
		 
	
	
	
	 
	
	 
		 
			 Abstract definition of a parameter or group of parameters used by an operation method. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
		 
			 The minimum number of times that values for this parameter group or parameter are required. If this attribute is omitted, the minimum number is one. 
		
	
	
	 
	
	 
		 
			 Association to an operation parameter or group, either referencing or containing the definition of that parameter or group. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 Basic encoding for operation parameter objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation parameter is identified. 
		
	
	
	 
		 
			 The definition of a parameter used by an operation method. Most parameter values are numeric, but other types of parameter values are possible. This complexType is expected to be used or extended for all operation methods, without defining operation-method-specialized element names.  
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation parameter. The first parameterID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation parameter, including source information. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation parameter. 
		
	
	
	 
	
	 
		 
			 Association to an operation parameter, either referencing or containing the definition of that parameter. 
		
		 
			 
		
		 
	
	
	 
	
	 
		 
			 Basic encoding for operation parameter group objects, simplifying and restricting the DefinitionType as needed. 
		
		 
			 
				 
					 
					 
					 
				
				 
			
		
	
	
	 
		 
			 The name by which this operation parameter group is identified. 
		
	
	
	 
		 
			 The definition of a group of parameters used by an operation method. This complexType is expected to be used or extended for all applicable operation methods, without defining operation-method-specialized element names.  
		
		 
			 
				 
					 
						 
							 Set of alternative identifications of this operation parameter group. The first groupID, if any, is normally the primary identification code, and any others are aliases. 
						
					
					 
						 
							 Comments on or information about this operation parameter group, including source information. 
						
					
					 
					 
						 
							 Unordered list of associations to the set of operation parameters that are members of this group. 
						
					
				
			
		
	
	
	 
		 
			 An identification of an operation parameter group. 
		
	
	
	 
		 
			 The maximum number of times that values for this parameter group can be included. If this attribute is omitted, the maximum number is one. 
		
	
	
	 
		 
			 Association to an operation parameter that is a member of a group. 
		
	
	
	 
	
	 
		 
			 Association to an operation parameter, either referencing or containing the definition of that parameter. 
		
		 
			 
		
		 
	
	




templateConcatenatedOperation.xml
 
	
	 Template for ConcatenatedOperation
	 Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. 
	 
		
	
	 
	 
		 
			 Template for grid elevation model coordinate Transformations
			 1.0
			 
				
			
			 
				
			
			 
				 
					 Grid elevation model
					 
						 GridElevationModel
					
					 This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. 
					 The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. 
					 2
					 3
					 
						 
							 Grid Elevation Data
							 
								 GridElevationData
							
							 The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. 
						
					
				
			
			 
				 http://baesystems.com/DEM/TBD
				 
			
		
	
	 
		 
			 Template for image georeferencing coordinate Transformation
			 1.0
			 
				
			
			 
			 
				 
					 Replacement Sensor Model (RSM) coordinate Transformation
					 
						 ReplacementSensorModel
					
					 This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). 
					 urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
					 3
					 2
					 
						 
							 Parameters for Replacement Sensor Model (RSM). 
							 
								 
							
							 The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. 
						
					
				
			
			 
				 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
				 
			
		
	




templateConcatenatedOperationSimplified.xml
 
	
	 Template for ConcatenatedOperation
	 Template for coordinate ConcatenatedOperation to unrectified image coordinates from ground CRS coordinates. 
	 
		
	
	 
	 
		 
			 Template for grid elevation model coordinate Transformations
			 1.0
			 
				
			
			 
				
			
			 
			 
				 http://baesystems.com/DEM/TBD
				 
			
		
	
	 
		 
			 Template for image georeferencing coordinate Transformation
			 1.0
			 
				
			
			 
			 
			 
				 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
				 
			
		
	




templateGeorectifiedGridCRS.xml
 
	
	
	
	 Georectified Image XXXX CRS
	
	 
		 GeorectifiedImageXXXXCRS
		
	
	 Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. 
	 
	
	
	 
		 
			
			 Georectified image XXXX conversion
			
			 
				 
					 Affine general parametric transformation
					 
						 9624
					
					 
XT   =  A0  +  A1. XS  +  A2.YS; 
YT   =  B0  +  B1. XS  +  B2.YS; 
where XT , YT  are the coordinates of a point P in the target coordinate system; 
		XS , YS  are the coordinates of P in the source coordinate system. 

Reversibility: The parameter values for an affine transformation cannot be used for the reverse transformation. However, the reverse transformation is another affine transformation using the same formulas but with different parameter values. The reverse parameter values, indicated by a prime ('), can be calculated from those of the forward transformation as follows:
D    = A1 . B2   -   A2 . B1; 
A0' = (A2 . B0   -   B2 . A0) / D; 
B0' = (B1 . A0   -   A1 . B0) / D; 
A1' = +B2 / D; 
A2' = - A2 / D; 
B1' = - B1 / D; 
B2' = +A1 / D. 

See Section 2.4.2.1 of EPSG Guidance Note 7. 
					 2
					 2
					
					 
						 
							 A0
							 
								 8623
							
						
					
					
					 
						 
							 A1
							 
								 8624
							
						
					
					
					 
						 
							 A2
							 
								 8625
							
						
					
					
					 
						 
							 B0
							 
								 8639
							
						
					
					
					 
						 
							 B1
							 
								 8640
							
						
					
					
					 
						 
							 B2
							 
								 8641
							
						
					
				
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
		
	
	
	 #image
	
	 
		 
			 2D square-cell grid based coordinate system
			 
				 Grid2dSquareCS
			
			 A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 

In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.

The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.

If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 

The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. 
			 
				 
					 Grid row axis
					 
						 Row
					
					 For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. 
					 R
					 urn:ogc:def:axisDirection:OGC:1.0:rowPositive
				
			
			 
				 
					 Grid column axis
					 
						 Column
					
					 For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. 
					 C
					 urn:ogc:def:axisDirection:OGC:1.0:columnPositive
				
			
		
	




templateGeorectifiedGridCRSsimplified.xml
 
	
	
	
	 Georectified Image XXXX CRS
	
	 
		 GeorectifiedImageXXXXCRS
		
	
	 Template for georectified 2D image coordinate reference system definition. In this CRS, the origin is at the center of the first pixel in the georectified image file. This CRS template can be used for any size georectified image, since no image size is specified. A CRS definition using this template is expected to be needed and thus created before the georectified image pixels are produced. The coordinate Conversion used by this CRS definition is expected to NOT closely approximate the reverse of the coordinate Transformation used to georectify this image. This CRS template is not expected to be useful for an ungeorectified image. 
	 
	
	
	 
		 
			
			 Georectified image XXXX conversion
			
			 
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
			
			 
				 9999
				
				 
			
		
	
	
	 #image
	 




templateGeoreferencingTransformation.xml
 
	
	 Example template for image georeferencing coordinate Transformations
	 1.0
	 
		
	
	 
	 
		 
			 Replacement Sensor Model (RSM) coordinate Transformation
			 
				 ReplacementSensorModel
			
			 This operation method is for a coordinate Transformation that georeferences an unrectified image using the Replacement Sensor Model (RSM). 
			 urn:ogc:def:method:OGC:0.0:ReplacementSensorModel. 
			 3
			 2
			 
				 
					 Parameters for Replacement Sensor Model (RSM). 
					 
						 
					
					 The value of this operation parameter is the URL of a file containing all the parameters for the Replacement Sensor Model (RSM) for the specific image. 
				
			
		
	
	 
		 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
		 
	




templateGeoreferencingTransformationSimplified.xml
 
	
	 Example template for image georeferencing coordinate Transformations
	 1.0
	 
		
	
	 
	 
	 
		 http://baesystems.com/rsm/rsmParameterValues/TBD.xml
		 
	




templateGridElevationTransformation.xml
 
	
	 Template for grid elevation model coordinate Transformations
	 1.0
	 
		
	
	 
		
	
	 
		 
			 Grid elevation model
			 
				 GridElevationModel
			
			 This operation method is for a coordinate Transformation that implements an elevation model using grid elevation data. 
			 The elevation value for the input horizontal position shall be bilinear interpolated between the surrounding four grid points, and added to the input horizontal coordinates. 
			 2
			 3
			 
				 
					 Grid Elevation Data
					 
						 GridElevationData
					
					 The value of this operation parameter is the URL of a source of grid elevation data, in the 3D targetCRS of the coordinate Transformation that contains the value of this operation parameter. 
				
			
		
	
	 
		 http://baesystems.com/DEM/TBD
		 
	




templateGridElevationTransformationSimplified.xml
 
	
	 Template for grid elevation model coordinate Transformations
	 1.0
	 
		
	
	 
		
	
	 
	 
		 http://baesystems.com/DEM/TBD
		 
	




templateImageCRS.xml
 
	
	 Image TBD CRS pixel centers
	
	 
		 ImageTBDCRSpixelCenter
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
		 
			 2D square-cell grid based coordinate system
			 
				 Grid2dSquareCS
			
			 A 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value shall be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 

In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.

The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.

If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 

The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. 
			 
				 
					 Grid row axis
					 
						 Row
					
					 For this grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. 
					 R
					 urn:ogc:def:axisDirection:OGC:1.0:rowPositive
				
			
			 
				 
					 Grid column axis
					 
						 Column
					
					 For this grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. 
					 C
					 urn:ogc:def:axisDirection:OGC:1.0:columnPositive
				
			
		
	
	 
		 
			 Origin at center of first pixel
			 
				 ImageDatumPixelCenter
			
			 A 2D image datum with the origin at the center of the first pixel in the image file. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. 
			 center of first pixel
			 cellCenter
		
	




row.xml
 
	
	 Grid row axis
	 
		 Row
	
	 
		 Line
	
	 For this first grid axis, row coordinate values match grid row numbers, but allow fractional coordinate values between grid points. The first row in a grid is sometimes called the "top" row, so the direction of this axis is "down", but these terms are not required. 
	 R
	 urn:ogc:def:axisDirection:OGC:1.0:rowPositive




column.xml
 
	
	 Grid column axis
	 
		 Column
	
	 
		 Sample
	
	 For this second grid axis, column coordinate values match grid column numbers, but allow fractional coordinate values between grid points. The first column is sometimes called the "left" column, so the direction of this axis is "right", but these terms are not required. 
	 C
	 urn:ogc:def:axisDirection:OGC:1.0:columnPositive




exampleImageCRSpixelCenter.xml
 
	
	 Image C543D041201T084027 CRS pixel centers
	 
		 C543D041201T084027
		
	
	 
	 




exampleImageCRSpixelCorner.xml
 
	
	 Image C543D041201T084027 CRS pixel corners
	 
		 C543D041201T084027
		
	
	 
	 




grid2dSquareCRS.xml
 
	
	 2D square-cell grid based coordinate system
	 
		 Grid2dSquareCS
	
	 2D grid-based coordinate system for use by an image or other continuous grid coverage. It can be used for a grid of any size, since no grid size is defined. This coordinate system specifies that each row coordinate value will be listed before the column coordinate value. The grid cells are assumed to be square, with the same grid spacing or pixel spacing in each direction. 

In a grid coverage file, the "row" axis shall be the first axis by which grid points are sequenced, and the "column" axis shall be the second axis, as could be specified by the "scanDirection : Sequence(CharacterString)" attribute of the CV_SequenceRule class in Clause 8 of ISO 19123. With linear sequencing, the grid points in the first row shall be listed first, followed by other rows, with the grid points in each row listed in column number order. This relationship between the "row" and "column" names and the first grid points shall apply whether this Grid2dSquareCS is associated with a grid file before or after that file is recorded.

The "row" and "column" axis names are used here although the "scanDirection : Sequence(CharacterString)" attribute may provide other axis names. Use of other axis names would require defining different CartesianCSs for other names, or adding other names as additional axisID values. The following XML includes the axis names "line" and "sample" as additional axisID values.

If not otherwise identified in an image file, the "row" axis shall be the first axis whose number of pixels is identified, and the "column" axis shall be the second axis, as could be specified by the "extent[0..1] : CV_GridEnvelope" attribute of the CV_Grid class in Clause 8 of ISO 19123. In either case, the first point in the grid coverage file is assumed to be numbered (1, 1), meaning row 1, column 1. 

The first row in a grid is sometimes called the "top" row, the first column is sometimes called the "left" column, and the first grid point is then called the "upperLeft" point. If desired, those names can be used with this Grid2dSquareCS. However other names can also be used, since this Grid2dSquareCS has been defined so that it does not depend on such left/right, top/bottom, and up/down names. 
	 
	 




gridSpacing.xml
 
	
	 Spacing between adjacent grid points, or between centers of adjacent pixels
	 GridSpacing
	 Length
	 




imageCRSpixelCenter.xml
 
	
	
	
	 Image TBD CRS pixel centers
	
	 
		 TBD
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the center of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
	 




imageCRSpixelCorner.xml
 
	
	
	
	 Image TBD CRS pixel corner
	
	 
		 TBD
		
	
	 Parameterized definition of 2D image coordinate reference systems with the origin at the outside corner of the first pixel in the image file. This CRS definition can be used for any size image, since no image size is specified. 

This CRS definition is designed to be used for ungeorectified images, and is not expected to be used for a georectified image. This definition can be used for a georeferenced or ungeoreferenced image, where a georeferenced image CRS is associated with the coordinate Transformation(s) that georeference it. 
	 
	 




imageDatumPixelCenter.xml
 
	
	 Origin at center of first pixel
	 
		 ImageDatumPixelCenter
	
	 2D image datum with the origin at the center of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. 
	 center of first pixel
	 cellCenter




imageDatumPixelCorner.xml
 
	
	 Origin at outside corner of first pixel
	 
		 ImageDatumPixelCorner
	
	 2D image datum with the origin at the outside corner of the first pixel in the image file, usually the first pixel collected by the image sensor. In an image file, the pixels in the first row are assumed to be listed first, followed by other rows, with pixels in each row listed (and collected) in column number order. 
	 outside corner of first pixel
	 cellCorner




parameterTypesDictionary.xml
 
	
	 parameterType standard values
	 Data type of an operation parameter. Usually refers to a data type defined in measures.xsd or allowed in the ParameterValueType of coordinateOperations.xsd. 
	
	 
		 
			 General numeric value of an operation parameter, with its associated unit of measure. 
			 measure
		
	
	
	 
		 
			 Value of a length (or distance) quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet. 
			 length
		
	
	
	 
		 
			 Value of a scale factor (or ratio) that has no physical unit. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a scale factor, such as one, percent, permil, or parts-per-million. 
			 scale
		
	
	
	 
		 
			 Value of a time or temporal quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a time value, such as seconds or weeks. 
			 time
		
	
	
	 
		 
			 Value of a length (or distance) quantity in a grid, where the grid spacing does not have any associated physical units, or does not have a constant physical spacing. This grid length will often be used in a digital image grid, where the base units are likely to be pixel spacings. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for length along the axes of a grid, such as pixel spacings or grid spacings.
			 grid length
		
	
	
	 
		 
			 Value of an angle quantity provided in either degree-minute-second format or single value format. 
			 angle choice
		
	
	
	 
		 
			 Value of an angle quantity recorded as a single number, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for an angle, such as degrees or radians. 
			 angle
		
	
	
	 
		 
			 Value of an angle operation parameter, in either degree-minute-second format or single value format. 
			 dms angle
		
	
	
	 
		 
			 Value of a length or angle quantity, where an angle can be recorded in either degree-minute-second format or single value format. Often used for horizontal ground coordinates. 
			 length or angle
		
	
	
	 
		 
			 String value of an operation parameter. A string value does not have an associated unit of measure. 
			 string
		
	
	
	 
		 
			 Positive integer value of an operation parameter, usually used for a count. An integer value does not have an associated unit of measure. 
			 positive integer
		
	
	
	 
		 
			 Zero or positive integer value of an operation parameter. An integer value does not have an associated unit of measure. 
			 non negative integer
		
	
	
	 
		 
			 Boolean value of an operation parameter. A Boolean value does not have an associated unit of measure. 
			 boolean
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list, where each value has the same associated unit of measure. An element of this type contains a space-separated list of double values. 
			 measure list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Length measures. Each value has the same associated unit of measure suitable for a length, such as metres or feet. An element of this type contains a space-separated list of double values. 
			 length list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Scale measures. Each value has the same associated unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. An element of this type contains a space-separated list of double values. 
			 scale list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Angle measures, each recorded as a single number. Each value has the same associated unit of measure suitable for an angle, such as degrees or radians. An element of this type contains a space-separated list of double values. 
			 angle list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Time measures, each recorded as a single number. Each value has the same associated unit of measure suitable for a time value, such as seconds or days. An element of this type contains a space-separated list of double values. 
			 time list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Grid Length measures. Each value has the same associated unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. An element of this type contains a space-separated list of double values. 
			 grid length list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Velocity measures. Each value has the same associated unit of measure suitable for a velocity, such as metres per second or miles per hour. An element of this type contains a space-separated list of double values. 
			 velocity list
		
	
	
	 
		 
			 Ordered sequence of two or more integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated list of integer values. 
			 integer list
		
	
	
	 
		 
			 Ordered sequence of two or more positive integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated list of integer values. 
			 positive integer list
		
	
	
	 
		 
			 Reference to a file or a part of a file containing one or more parameter values, each numeric value with its associated unit of measure. When referencing a part of a file, that file must contain multiple identified parts, such as an XML encoded document. Furthermore, the referenced file or part of a file can reference another part of the same or different files, as allowed in XML documents. 
			 anyURI
		
	




UIGM1method.xml
 
	
	 Universal Image Geometry Model Transformation (simplified)
	 This operation method implements the universal image geometry model that transforms ground coordinates into georeferenced image coordinates. This image geometry model uses one ratio of two polynomial functions to compute the row image coordinate, and uses a similar ratio of two different polynomials to compute the column image coordinate. All four polynomials are functions of three ground coordinates: two horizontal coordinates and one vertical coordinate. In the polynomial functions, the three ground coordinates and two image coordinates are each offset and scaled to have a range from -1.0 to +1.0 over an image or image section. For brevity, this simplified operation method specification does not include all geometry model parameters or all optional XML elements. 
	 See Section 6.5 of document OGC 04-071. 
	 3
	 2
	 
		 
			 Image ID
			 Alphanumeric text identifying one specific original image. 
			 string
		
	
	 
		 
			 Image Support Data Version
			 Increasing numbers of the Image Support Data Version Number are used to identify versions with increasing quality of the image geometry model data for the same original image. This Image Support Data Version field shall be 0 before the original image support data is adjusted. Minimum value is 0, maximum value is 9. 
			 nonNegativeInteger
		
	
	 
		 
			 Linear Sensor Model Coefficients
			 The values of the coefficients of the approximate linear sensor model, which is used to find the proper image geometry model section for a ground coordinate position. The parameter value shall contain an ordered list of eight double precision floating point numbers, four for the section number in the image row axis, followed by four for the image column axis. These coefficients shall be recorded with Scale units, but various implied units are used by the various coefficients. 
			 ScaleListType
		
	
	 
		 
			 Number of Sections
			 The numbers of rows and columns of sections into which the image geometry model is divided for this image. The parameter value shall contain an ordered list of two small integers, the first specifying the number of rows and the second specifying the number of columns. For each integer, the minimum value is 1, and the maximum value is 8. 
			 integerList
		
	
	 
		 
			 Image Section Parameters
			 Parameters for one section of the universal image geometry model. There shall be from 1 up to 64 model sections for one image. If the model for this image is not divided into sections, there shall be only one repetition of this group of parameters. 
			 64
			 
				 
					 Section Number
					 The row and column numbers of this section of the universal image geometry model for this image. The parameter value contains an ordered list of two small integers, the first specifying the row number and the second specifying the column number. For each integer, the minimum value is 1, and the maximum value is 8. 
					 integerList
				
			
			 
				 
					 Ground and Image Position Normalization Parameters
					 Ground position normalization parameters and image position un-normalization parameters, for this section of the universal image geometry model. 
					 
						 
							 East Ground Position Offset
							 East position offset for normalizing ground coordinates. The units shall be either length or angle units. 
							 LengthOrAngleType
						
					
					 
						 
							 North Ground Position Offset
							 North position offset for normalizing ground coordinates. The units shall be the same as for the East Offset, and either length or angle units. 
							 LengthOrAngleType
						
					
					 
						 
							 Vertical Ground Position Offset
							 Vertical position offset for normalizing ground coordinates. The units shall be length units. 
							 LengthType
						
					
					 
						 
							 East Ground Position Scale
							 East scale factor for normalizing ground coordinates. The units shall be the same as for the East Offset, either length or angle units. 
							 LengthOrAngleType
						
					
					 
						 
							 North Ground Position Scale
							 North scale factor for normalizing ground coordinates. The units shall be the same as for the North Offset, either length or angle units. 
							 LengthOrAngleType
						
					
					 
						 
							 Vertical Ground Position Scale
							 Vertical scale factor for normalizing ground coordinates. The units shall be the same as for the Vertical Offset, and shall be length units. 
							 LengthType
						
					
					 
						 
							 Image Row Position Offset
							 Image row position offset for un-normalizing image coordinates. The units shall be one grid spacing. 
							 GridLengthType
						
					
					 
						 
							 Image Column Position Offset
							 Image column position offset for un-normalizing image coordinates. The units shall be one grid spacing. 
							 GridLengthType
						
					
					 
						 
							 Image Row Position Scale
							 Image row scale factors for un-normalizing image coordinates. The units shall be one grid spacing. 
							 GridLengthType
						
					
					 
						 
							 Image Column Position Scale
							 Image column scale factors for un-normalizing image coordinates. The units shall be one grid spacing. 
							 GridLengthType
						
					
				
			
			 
				 
					 Numerator and Denominator Polynomials
					 Numerator and denominator polynomial parameters for this section of the universal image geometry model. 
					 
						 
							 Row Numerator Maximum Powers
							 Maximum powers of the three ground coordinates in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
							 integerList
						
					
					 
						 
							 Row Numerator Polynomial Coefficients
							 Polynomial coefficients in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
							 ScaleListType
						
					
					 
						 
							 Row Denominator Maximum Powers
							 Maximum powers of the three ground coordinates in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
							 integerList
						
					
					 
						 
							 Row Denominator Polynomial Coefficients
							 Polynomial coefficients in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
							 ScaleListType
						
					
					 
						 
							 Column Numerator Maximum Powers
							 Maximum powers of the three ground coordinates in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
							 integerList
						
					
					 
						 
							 Column Numerator Polynomial Coefficients
							 Polynomial coefficients in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
							 ScaleListType
						
					
					 
						 
							 Column Denominator Maximum Powers
							 Maximum powers of the three ground coordinates in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
							 integerList
						
					
					 
						 
							 Column Denominator Polynomial Coefficients
							 Polynomial coefficients in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
							 ScaleListType
						
					
				
			
		
	
	 
		 
			 Monoscopic Error Estimates
			 Horizontal error estimates for when a position in this one image is used to determine the corresponding ground coordinates, using this universal image geometry model for this image. 
			 
				 
					 Monoscopic Error Estimate Reference Height
					 The value of the ground elevation or height used to estimate the recorded horizontal error estimate when a position in this one image is used to determine the corresponding ground coordinates. This reference height is in the Vertical coordinate system axis of the ground CRS used by the universal image geometry model for this image. 
					 LengthType
				
			
			 
				 
					 Monoscopic Absolute Error Estimate
					 The value of the horizontal absolute error estimate when a position in this one (monoscopic) image is used to determine the corresponding ground coordinates. This error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one metre units. The minimum value is 0.0. 
					 LengthType
				
			
			 
				 
					 Bin Relative Error Estimates
					 0
					 Relative error estimate for one distance bin between two points. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. 
					 9
					 
						 
							 Monoscopic Relative Error Estimate Bin Distances
							 The minimum and maximum ground distances between two points for this distance bin recorded for horizontal relative error estimates. The parameter value shall contain an ordered list of two Length measures, always in one metre units. The first value specifies the bin minimum distance, and the second value specifies the bin maximum distance. The minimum values are 0.0. 
							 LengthListType
						
					
					 
						 
							 Bin Monoscopic Relative Error Estimate
							 The value of the horizontal relative error estimate between two points for this distance bin recorded for horizontal relative error estimates. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. The relative error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one metre units. The minimum value is 0.0. 
							 LengthType
						
					
				
			
		
	




exampleParameterTypes.xml
 
	
	 parameterType standard values
	 Data type of an operation parameter. Usually refers to a data type defined in measures.xsd or allowed in the ParameterValueType of coordinateOperations.xsd. 
	
	 
		 
			 General numeric value of an operation parameter, with its associated unit of measure. 
			 measure
		
	
	
	 
		 
			 Value of a length (or distance) quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a length, such as metres or feet. 
			 length
		
	
	
	 
		 
			 Value of a scale factor (or ratio) that has no physical unit. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a scale factor, such as one, percent, permil, or parts-per-million. 
			 scale
		
	
	
	 
		 
			 Value of a time or temporal quantity, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for a time value, such as seconds or weeks. 
			 time
		
	
	
	 
		 
			 Value of a length (or distance) quantity in a grid, where the grid spacing does not have any associated physical units, or does not have a constant physical spacing. This grid length will often be used in a digital image grid, where the base units are likely to be pixel spacings. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for length along the axes of a grid, such as pixel spacings or grid spacings.
			 grid length
		
	
	
	 
		 
			 Value of an angle quantity provided in either degree-minute-second format or single value format. 
			 angle choice
		
	
	
	 
		 
			 Value of an angle quantity recorded as a single number, with its units. Uses the MeasureType with the restriction that the unit of measure referenced by uom must be suitable for an angle, such as degrees or radians. 
			 angle
		
	
	
	 
		 
			 Value of an angle operation parameter, in either degree-minute-second format or single value format. 
			 dms angle
		
	
	
	 
		 
			 Value of a length or angle quantity, where an angle can be recorded in either degree-minute-second format or single value format. Often used for horizontal ground coordinates. 
			 length or angle
		
	
	
	 
		 
			 String value of an operation parameter. A string value does not have an associated unit of measure. 
			 string
		
	
	
	 
		 
			 Positive integer value of an operation parameter, usually used for a count. An integer value does not have an associated unit of measure. 
			 positive integer
		
	
	
	 
		 
			 Zero or positive integer value of an operation parameter. An integer value does not have an associated unit of measure. 
			 non negative integer
		
	
	
	 
		 
			 Boolean value of an operation parameter. A Boolean value does not have an associated unit of measure. 
			 boolean
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list, where each value has the same associated unit of measure. An element of this type contains a space-separated list of double values. 
			 measure list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Length measures. Each value has the same associated unit of measure suitable for a length, such as metres or feet. An element of this type contains a space-separated list of double values. 
			 length list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Scale measures. Each value has the same associated unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. An element of this type contains a space-separated list of double values. 
			 scale list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Angle measures, each recorded as a single number. Each value has the same associated unit of measure suitable for an angle, such as degrees or radians. An element of this type contains a space-separated list of double values. 
			 angle list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Time measures, each recorded as a single number. Each value has the same associated unit of measure suitable for a time value, such as seconds or days. An element of this type contains a space-separated list of double values. 
			 time list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Grid Length measures. Each value has the same associated unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. An element of this type contains a space-separated list of double values. 
			 grid length list
		
	
	
	 
		 
			 Ordered sequence of two or more numeric values of an operation parameter list of Velocity measures. Each value has the same associated unit of measure suitable for a velocity, such as metres per second or miles per hour. An element of this type contains a space-separated list of double values. 
			 velocity list
		
	
	
	 
		 
			 Ordered sequence of two or more integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated list of integer values. 
			 integer list
		
	
	
	 
		 
			 Ordered sequence of two or more positive integer values of an operation parameter list, usually used for counts. These integer values do not have an associated unit of measure. An element of this type contains a space-separated list of integer values. 
			 positive integer list
		
	
	
	 
		 
			 Reference to a file or a part of a file containing one or more parameter values, each numeric value with its associated unit of measure. When referencing a part of a file, that file must contain multiple identified parts, such as an XML encoded document. Furthermore, the referenced file or part of a file can reference another part of the same or different files, as allowed in XML documents. 
			 anyURI
		
	




extendedOperationParameter.xsd
 
	 
		 
			 extendedOperationParameter.xsd
			 How to encode extended information for operation parameters. 
			 Example Application Schema to encode extended information for operation parameters. Builds on coordinateOperations.xsd, and follows same GML 3 patterns and ISO 19118 encoding. Written in the "ex" namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-28
			 Copyright (c) 2Open Geospatial Consortium (2005) 
			 This schema encodes a draft Extended Operation Parameter package that builds on the Coordinate Operation (CC_) package of the extended UML Model for OGC Abstract Specification Topic 2: Spatial Referencing by Coordinates. That draft package defines a subtype of the CC_OperationParameter class for recording more information. 
		
	
	
	 
	
	 
	
	 
		 
			 Extended definition of an operation parameter. 
		
		 
			 
				 
					 
				
			
		
	
	
	 
	
	 
		 
			 Data type of an operation parameter. Usually refers to a data type defined in measures.xsd or allowed in the ParameterValueType of coordinateOperations.xsd. 
			 A text string with a required codeSpace attribute. Similar to gml:CodeType. 
		
		 
			 
				 
					 
						 Reference to a source of information specifying the values and meanings of all the allowed string values for this ParameterTypeType. 
					
				
			
		
	
	




transverseMercatorMethodExtended#2.xml
 
	
	 Transverse Mercator
	 
		 9807
	
	 See Section 1.4.6 "Transverse Mercator" of EPSG Guidance Note 7, December 2000. 
	 2
	 2
	 
		 
			 Latitude of natural origin
			 
				 8801
			
			 AngleChoiceType
		
	
	 
		 
			 Longitude of natural origin
			 
				 8802
			
			 AngleChoiceType
		
	
	 
		 
			 Scale factor at natural origin
			 
				 8805
			
			 ScaleType
		
	
	 
		 
			 False Easting
			 
				 8806
			
			 LengthType
		
	
	 
		 
			 False Northing
			 
				 8807
			
			 LengthType
		
	




UIGM1transformation.xsd
 
	 
		 
			 UIGM1transformation.xsd
			 How to encode definition of Universal Image Geometry Model for one image. 
			 Example Application Schema to encode ground-to-image coordinate transformation data for a specific image, using the Universal Image Geometry Model type of coordinate transformation as described in Section 6.5 of OGC Abstract Specification Topic 7 : The Earth Imagery Case (OGC document 99-107). This example does not encode data for the image correction tables, stereoscopic position error estimates, and most information not used by the image geometry model. Builds on coordinateOperations.xsd and typedValues.xsd, and follows same GML 3 patterns and ISO 19118 encoding. Written in the "ex" namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-28
			 Copyright (c) Open Geospatial consortium (2005) 
			 This schema encodes a draft UIGM package that builds on the Coordinate Operation (CC_) package of the extended UML Model for OGC Abstract Specification Topic 2: Spatial Referencing by Coordinates. That draft package defines restricted subtypes of the CC_Transformation,  CC_ParameterValue, and CC_ParameterValueGroup classes as needed for the UIGM transformation. 
		
	
	
	 
	 
	 
	
	 
	
	 
		 
			 Specific Universal Image Geometry Model type of coordinate transformation. Extends the AbstractGeneralTransformationType with restricted values for included elements, including elements in the coordinateOperationID element with the IdentifierType. If appropriate, the "codeSpace" element could have the string value "UIGM1", and the "code" element should then identify the specific image. The other elements in the IdentifierType can be omitted. The "coordinateOperationName" element shall have a string value that names a UIGM1 Transformation for a specific image and specific ground coordinate reference system. The "_PositionalAccuracy" and "metaDataProperty" elements can be omitted. 
		
		 
			 
				 
					 
					 
					 
					 
					 
					 
					 
				
			
		
	
	
	 
		 
			 Reference to UIGM1 operation method. 
		
		 
			 
			 
		
	
	
	 
		 
			 Alphanumeric text identifying one specific original image. 
		
	
	
	 
		 
			 Increasing numbers of the Image Support Data Version integer are used to identify versions with increasing quality of the image geometry model data for the same original image. This Version shall be “0” before the original image support data is adjusted. The minimum value is 0, and the maximum value is 9. 
		
	
	
	 
		 
			 The values of the coefficients of the approximate linear sensor model, which is used to find the proper image geometry model section for a ground coordinate position. The parameter value shall contain an ordered list of eight double precision floating point numbers, four for the section number in the image row axis followed by four for the image column axis. These coefficients shall be recorded with Scale units, but various implied units are used by the various coefficients. 
		
	
	
	 
		 
			 The numbers of rows and columns of sections into which the image geometry model is divided for this image. The parameter value shall contain an ordered list of two small integers, the first specifying the number of rows and the second specifying the number of columns. For each integer, the minimum value is 1, and the maximum value is 8. 
		
	
	
	
	 
		 
			 Group of parameters for one section of the universal image geometry model. There shall be from 1 up to 64 model sections for one image. If the model for this image is not divided into sections, there shall be only one repetition of this group of parameters. 
		
		 
			 
				 
				 
				 
				 
			
		
	
	
	 
		 
			 The row and column numbers of this section of the universal image geometry model for this image. The parameter value contains an ordered list of two small integers, the first specifying the row number and the second specifying the column number. For each integer, the minimum value is 1, and the maximum value is 8.
		
	
	
	
	 
		 
			 Group of ground position normalization parameters and image position un-normalization parameters, for this section of the universal image geometry model. 
		
		 
			 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
			
		
	
	
	 
		 
			 East position offset for normalizing ground coordinates. The units shall be either angle or length units. 
		
	
	
	 
		 
			 North position offset for normalizing ground coordinates. The units shall be the same as for the East Offset, either angle or length units. 
		
	
	
	 
		 
			 Vertical position offset for normalizing ground coordinates. The units shall be length units. 
		
	
	
	 
		 
			 East scale factor for normalizing ground coordinates. The units shall be the same as for the East Offset, either angle or length units. 
		
	
	
	 
		 
			 North scale factor for normalizing ground coordinates. The units shall be the same as for the North Offset, either angle or length units. 
		
	
	
	 
		 
			 Vertical scale factor for normalizing ground coordinates. The units shall be the same as for the Vertical Offset, and shall be length units. 
		
	
	
	 
		 
			 Image row position offset for un-normalizing image coordinates. The units shall be one grid spacing. 
		
	
	
	 
		 
			 Image column position offset for un-normalizing image coordinates. The units shall be one grid spacing. 
		
	
	
	 
		 
			 Image row scale factors for un-normalizing image coordinates. The units shall be one grid spacing. 
		
	
	
	 
		 
			 Image column scale factors for un-normalizing image coordinates. The units shall be one grid spacing. 
		
	
	
	
	 
		 
			 Numerator and denominator polynomial parameters for this section of the universal image geometry model. 
		
		 
			 
				 
				 
				 
				 
				 
				 
				 
				 
				 
			
		
	
	
	 
		 
			 Maximum powers of the three ground coordinates in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
		
	
	
	 
		 
			 Polynomial coefficients in the numerator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
		
	
	
	 
		 
			 Maximum powers of the three ground coordinates in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
		
	
	
	 
		 
			 Polynomial coefficients in the denominator polynomial for computing the image row coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
		
	
	
	 
		 
			 Maximum powers of the three ground coordinates in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
		
	
	
	 
		 
			 Polynomial coefficients in the numerator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
		
	
	
	 
		 
			 Maximum powers of the three ground coordinates in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of three small integers, corresponding to the East, North, and Vertical ground coordinate axes. For each integer, the minimum value is 1. For the East and North axis integers, the maximum value is 5. For the Vertical axis integer, the maximum value is 3. 
		
	
	
	 
		 
			 Polynomial coefficients in the denominator polynomial for computing the image column coordinate. The parameter value shall contain an ordered list of from 8 to 144 Scale measures. 
		
	
	
	
	 
		 
			 Group of parameters for horizontal error estimates when a position in this one image is used to determine the corresponding ground coordinates, using this universal image geometry model for this image. 
		
		 
			 
				 
				 
				 
				 
			
		
	
	
	 
		 
			 The value of the ground elevation or height used to estimate the recorded horizontal error estimate when a position in this one image is used to determine the corresponding ground coordinates. This reference height is in the Vertical coordinate system axis of the ground CRS used by the universal image geometry model for this image. 
		
	
	
	 
		 
			 The value of the horizontal absolute error estimate when a position in this one (monoscopic) image is used to determine the corresponding ground coordinates. This error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one meter units. The minimum value is 0.0. 
		
	
	
	
	 
		 
			 Relative error estimate for one distance bin between two points. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. 
		
		 
			 
				 
				 
				 
			
		
	
	
	 
		 
			 The minimum and maximum ground distances between two points for this distance bin recorded for horizontal relative error estimates. The parameter value shall contain an ordered list of two Length measures, always in one meter units. The first value specifies the bin minimum distance, and the second value specifies the bin maximum distance. The minimum values are 0.0. 
		
	
	
	 
		 
			 The value of the horizontal relative error estimate between two points for this distance bin recorded for horizontal relative error estimates. These error estimates are for use when multiple positions in one (monoscopic) image are used to determine the corresponding ground coordinates. The relative error estimate shall be recorded as the Circular Error (CE) with 90% confidence, always in one meter units. The minimum value is 0.0. 
		
	
	




typedValues.xsd
 
	 
		 
			 typedValues.xsd
			 How to encode operation parameter values with specific types, including length, angle, and scale measures.. 
			 Example Application Schema to encode operation parameter values with specific types. Builds on measures.xsd, and follows same GML 3 patterns. Written in the "ex" namespace. Primary editor: Arliss Whiteside. Last updated 2005-01-28
			 Copyright (c) Open Geospatial consortium (2005) 
		
	
	
	 
	
	 
		 
			 Alphanumeric text operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Integer operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Length measure operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Scale measure operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Angle measure operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Angle or Length measure operation parameter value, sometimes used for horizontal coordinate parameters. 
		
		 
			 
				 
					 
						 
						 
					
					 
				
			
		
	
	
	 
		 
			 Time measure operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Grid Length measure operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Velocity measure operation parameter value. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more integer operation parameter values. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more Length operation parameter values.
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more Scale Factor operation parameter values. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more Angle operation parameter values. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more Time operation parameter values. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more Grid Length operation parameter values. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	 
		 
			 Ordered sequence of two or more Velocity operation parameter values. 
		
		 
			 
				 
					 
					 
				
			
		
	
	
	
	 
		 
			 Length value of an operation parameter, with a unit of measure suitable for a length, such as metres or feet. 
		
	
	
	 
		 
			 Scale factor value of an operation parameter, with a unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. 
		
	
	
	 
		 
			 Angle value of an operation parameter, recorded as a single number, with a unit of measure suitable for an angle, such as degrees or radians. 
		
	
	
	 
		 
			 Time value of an operation parameter, recorded as a single number, with a unit of measure suitable for a time value, such as seconds or days. 
		
	
	
	 
		 
			 Grid length value of an operation parameter, with a unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. Used when the grid spacing does not have any associated physical units, or does not have a constant physical spacing. 
		
	
	
	 
		 
			 Speed value of an operation parameter, with a unit of measure suitable for a speed, such as metres per second or miles per hour. 
		
	
	
	 
		 
			 Ordered sequence of two or more length values of an operation parameter, with a unit of measure suitable for a length, such as metres or feet. 
		
	
	
	 
		 
			 Ordered sequence of two or more scale factor values of an operation parameter, with a unit of measure suitable for a scale factor, such as one, percent, permil, or parts-per-million. 
		
	
	
	 
		 
			 Ordered sequence of two or more angle values of an operation parameter, each recorded as a single number, with a unit of measure suitable for an angle, such as degrees or radians. 
		
	
	
	 
		 
			 Ordered sequence of two or more time values of an operation parameter, each recorded as a single number, with a unit of measure suitable for a time value, such as seconds or days. 
		
	
	
	 
		 
			 Ordered sequence of two or more grid length values of an operation parameter, with a unit of measure suitable for length along the axes of a grid, such as pixel spacings or grid spacings. Used when the grid spacing does not have any associated physical units, or does not have a constant physical spacing. 
		
	
	
	 
		 
			 Ordered sequence of two or more spped values of an operation parameter, with a unit of measure suitable for a speed, such as metres per second or miles per hour. 
		
	
	




UIGM1example.xml
 
	
	 Aaaa Aaaa
	 1
	 
	 
	 
	 
		 AAAAAA
		 
	
	 
		 1
		 
	
	 
		 9.999 9.999 9.999 9.999 9.999 9.999 9.999 9.999
		 
	
	 
		 1 1
		 
	
	 
		 
			 1 1
			 
		
		 
			 
				 99.999
				 
			
			 
				 9.999
				 
			
			 
				 99.999
				 
			
			 
				 9.999
				 
			
			 
				 9.999
				 
			
			 
				 9.999
				 
			
			 
				 9999.99
				 
			
			 
				 9999.99
				 
			
			 
				 999.99
				 
			
			 
				 999.99
				 
			
			 
		
		 
			 
				 1 1 1
				 
			
			 
				 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999
				 
			
			 
				 1 1 1
				 
			
			 
				 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999
				 
			
			 
				 1 1 1
				 
			
			 
				 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999
				 
			
			 
				 1 1 1
				 
			
			 
				 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999 0.999999
				 
			
			 
		
		 
	
	 
		 
			 999
			 
		
		 
			 99.99
			 
		
		 
			 
				 0 1000
				 
			
			 
				 9.99
				 
			
			 
		
		 
			 
				 1000 10000
				 
			
			 
				 9.99
				 
			
			 
		
		 
	



